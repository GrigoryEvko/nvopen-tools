// Function: sub_1B1B260
// Address: 0x1b1b260
//
__int64 __fastcall sub_1B1B260(
        __int64 a1,
        unsigned int a2,
        __int64 a3,
        char a4,
        __int64 a5,
        __int64 a6,
        __int64 a7,
        __int64 a8)
{
  __int64 v9; // rax
  unsigned int v10; // esi
  __int64 v11; // r8
  char v12; // di
  __int64 v13; // rdx
  __int64 v14; // rax
  __int64 v15; // rcx
  __int64 v16; // rax
  __int64 v17; // rdx
  __int64 v18; // rax
  __int64 v19; // rbx
  _QWORD *v20; // rbx
  void *v21; // r8
  int v22; // r9d
  unsigned int v23; // r15d
  __int64 v24; // rax
  int v25; // ecx
  __int64 *v26; // rax
  __int64 v27; // rbx
  _BYTE *v28; // rdi
  __int64 v29; // r15
  unsigned __int8 v30; // r14
  unsigned int v31; // ecx
  __int64 *v32; // rdx
  __int64 v33; // rsi
  __m128i v34; // xmm1
  bool v35; // dl
  char v36; // al
  __int64 v37; // r12
  __int64 v38; // rbx
  _QWORD *v39; // r13
  int v40; // r8d
  __int64 v41; // rdx
  _QWORD *v42; // rax
  _QWORD *v43; // rcx
  signed __int64 v44; // rdx
  _QWORD *v45; // rdx
  void *v46; // r15
  __int64 v47; // r8
  int v48; // r14d
  __int64 v49; // rax
  int v50; // r14d
  __int64 v51; // rax
  void *v52; // r15
  __int64 v53; // r8
  int v54; // r11d
  __int64 v55; // rax
  __int64 v56; // rax
  __int64 v57; // rsi
  __int64 v58; // r13
  unsigned int v60; // eax
  __int64 v61; // rdi
  __int64 *v62; // r14
  __int64 v63; // rdx
  __int64 v64; // rcx
  __int64 *v65; // rdi
  __int64 *v66; // rsi
  __int64 *v67; // rax
  char v68; // al
  char v69; // dl
  __int64 v70; // rax
  char v71; // si
  __int64 *v72; // rsi
  __int64 *v73; // rcx
  unsigned int v74; // ecx
  __m128i v75; // xmm3
  __int64 v76; // rax
  __int64 v77; // rbx
  int v78; // ebx
  unsigned __int64 v79; // rax
  int v80; // eax
  unsigned __int64 v81; // rbx
  __int64 v82; // r12
  __int64 v83; // rsi
  __int64 v84; // rax
  unsigned __int64 v85; // rdx
  _QWORD *v86; // rax
  unsigned int v87; // edx
  _QWORD *v88; // rcx
  __int64 *v89; // rax
  __int64 *v90; // rdi
  __int64 v91; // r14
  __int64 v92; // rax
  __int64 *v93; // rbx
  __int64 v94; // r13
  int v95; // r8d
  int v96; // r9d
  _QWORD *v97; // rax
  _QWORD *v98; // r15
  __int64 v99; // rax
  unsigned int v100; // r15d
  int v101; // r8d
  signed int v102; // r15d
  _QWORD *v103; // rax
  __int64 *v104; // rax
  __int64 *v105; // rax
  __int64 *v106; // rax
  int v107; // eax
  int v108; // eax
  __int64 *v109; // rsi
  __int64 *v110; // rdx
  char v111; // al
  int v112; // ecx
  int v113; // r8d
  int v114; // r9d
  unsigned __int64 v115; // rax
  __int64 v116; // rdx
  __int64 *v117; // rcx
  __int64 *v118; // rsi
  __int64 *v119; // rcx
  unsigned int v120; // eax
  __int64 v121; // rsi
  __int64 v122; // rbx
  unsigned int v123; // r12d
  __int64 *v124; // rsi
  __int64 *v125; // rcx
  __int64 v126; // rax
  unsigned __int64 v127; // rax
  __int64 v128; // rax
  __int64 v129; // r14
  __int64 v130; // rax
  __int64 v131; // rsi
  __int64 v132; // rax
  __int64 v133; // rax
  __int64 v134; // r14
  __int64 v135; // rax
  _QWORD *v136; // rdx
  __int64 v137; // rax
  __int64 v138; // r12
  __int64 v139; // rsi
  unsigned __int64 v140; // rbx
  __int64 v141; // rax
  __int64 v142; // r14
  __int64 v143; // rax
  __int64 v144; // [rsp+0h] [rbp-340h]
  __int64 v145; // [rsp+0h] [rbp-340h]
  __int64 v146; // [rsp+10h] [rbp-330h]
  __int64 v149; // [rsp+28h] [rbp-318h]
  char v150; // [rsp+30h] [rbp-310h]
  __int64 v151; // [rsp+30h] [rbp-310h]
  unsigned __int64 v152; // [rsp+38h] [rbp-308h]
  __int64 v153; // [rsp+38h] [rbp-308h]
  bool v154; // [rsp+40h] [rbp-300h]
  __int64 v156; // [rsp+48h] [rbp-2F8h]
  unsigned __int64 v157; // [rsp+48h] [rbp-2F8h]
  unsigned __int64 v158; // [rsp+48h] [rbp-2F8h]
  _QWORD *v160; // [rsp+58h] [rbp-2E8h]
  bool v161; // [rsp+58h] [rbp-2E8h]
  __int64 v162; // [rsp+58h] [rbp-2E8h]
  __int64 v163; // [rsp+58h] [rbp-2E8h]
  char v164; // [rsp+60h] [rbp-2E0h]
  __int64 v165; // [rsp+60h] [rbp-2E0h]
  unsigned __int64 v166; // [rsp+60h] [rbp-2E0h]
  __int64 v167; // [rsp+60h] [rbp-2E0h]
  __int64 *v168; // [rsp+70h] [rbp-2D0h]
  void *v169; // [rsp+70h] [rbp-2D0h]
  int v170; // [rsp+78h] [rbp-2C8h]
  __m128i v172; // [rsp+80h] [rbp-2C0h] BYREF
  __m128i v173; // [rsp+90h] [rbp-2B0h] BYREF
  __m128i v174; // [rsp+A0h] [rbp-2A0h] BYREF
  __m128i v175; // [rsp+B0h] [rbp-290h]
  const void **v176[4]; // [rsp+C0h] [rbp-280h] BYREF
  _BYTE v177[32]; // [rsp+E0h] [rbp-260h] BYREF
  __int64 v178; // [rsp+100h] [rbp-240h] BYREF
  __int64 *v179; // [rsp+108h] [rbp-238h]
  __int64 *v180; // [rsp+110h] [rbp-230h]
  __int64 v181; // [rsp+118h] [rbp-228h]
  int v182; // [rsp+120h] [rbp-220h]
  _BYTE v183[40]; // [rsp+128h] [rbp-218h] BYREF
  _BYTE *v184; // [rsp+150h] [rbp-1F0h] BYREF
  __int64 v185; // [rsp+158h] [rbp-1E8h]
  _BYTE v186[64]; // [rsp+160h] [rbp-1E0h] BYREF
  void *v187; // [rsp+1A0h] [rbp-1A0h] BYREF
  __int64 v188; // [rsp+1A8h] [rbp-198h]
  _QWORD v189[8]; // [rsp+1B0h] [rbp-190h] BYREF
  __int64 v190; // [rsp+1F0h] [rbp-150h] BYREF
  __int64 *v191; // [rsp+1F8h] [rbp-148h]
  __int64 *v192; // [rsp+200h] [rbp-140h]
  __int64 v193; // [rsp+208h] [rbp-138h]
  int v194; // [rsp+210h] [rbp-130h]
  _BYTE v195[72]; // [rsp+218h] [rbp-128h] BYREF
  void *src; // [rsp+260h] [rbp-E0h] BYREF
  __int64 v197; // [rsp+268h] [rbp-D8h]
  unsigned __int64 v198; // [rsp+270h] [rbp-D0h] BYREF
  __int64 v199; // [rsp+278h] [rbp-C8h]
  __int64 v200; // [rsp+280h] [rbp-C0h]
  _QWORD v201[2]; // [rsp+288h] [rbp-B8h] BYREF
  char v202; // [rsp+298h] [rbp-A8h]
  char v203[8]; // [rsp+2A0h] [rbp-A0h] BYREF
  __int64 v204; // [rsp+2A8h] [rbp-98h]
  unsigned __int64 v205; // [rsp+2B0h] [rbp-90h]

  v9 = sub_13FC520(a3);
  v10 = *(_DWORD *)(a1 + 20) & 0xFFFFFFF;
  if ( v10 )
  {
    v11 = v9;
    v12 = *(_BYTE *)(a1 + 23) & 0x40;
    v13 = 24LL * *(unsigned int *)(a1 + 56) + 8;
    v14 = 0;
    do
    {
      v15 = a1 - 24LL * v10;
      if ( v12 )
        v15 = *(_QWORD *)(a1 - 8);
      if ( v11 == *(_QWORD *)(v15 + v13) )
      {
        v16 = 24 * v14;
        goto LABEL_8;
      }
      ++v14;
      v13 += 8;
    }
    while ( v10 != (_DWORD)v14 );
    v16 = 0x17FFFFFFE8LL;
  }
  else
  {
    v16 = 0x17FFFFFFE8LL;
    v12 = *(_BYTE *)(a1 + 23) & 0x40;
  }
LABEL_8:
  if ( v12 )
    v17 = *(_QWORD *)(a1 - 8);
  else
    v17 = a1 - 24LL * v10;
  v18 = *(_QWORD *)(v17 + v16);
  v19 = *(_QWORD *)a1;
  v182 = 0;
  v146 = v18;
  v179 = (__int64 *)v183;
  v180 = (__int64 *)v183;
  v191 = (__int64 *)v195;
  v192 = (__int64 *)v195;
  v184 = v186;
  v175 = 0u;
  v181 = 4;
  v193 = 8;
  v194 = 0;
  v185 = 0x800000000LL;
  LOBYTE(v18) = *(_BYTE *)(v19 + 8);
  v174 = 0u;
  v149 = v19;
  v178 = 0;
  v190 = 0;
  if ( (unsigned __int8)(v18 - 1) <= 5u )
  {
    v20 = (_QWORD *)a1;
    v23 = sub_1B16050(a2);
    if ( (_BYTE)v23 )
      goto LABEL_12;
LABEL_101:
    v28 = v184;
    goto LABEL_86;
  }
  LOBYTE(v60) = sub_1B16040(a2);
  v23 = v60;
  if ( !(_BYTE)v60 )
    goto LABEL_101;
  v20 = (_QWORD *)a1;
  if ( !sub_1B16070(a2) )
    goto LABEL_12;
  v61 = *(_QWORD *)(a1 + 8);
  if ( !v61 )
    goto LABEL_12;
  v62 = *(__int64 **)(v61 + 8);
  if ( v62 )
    goto LABEL_12;
  v176[0] = 0;
  v20 = sub_1648700(v61);
  src = v177;
  v197 = (__int64)v176;
  if ( !(unsigned __int8)sub_1B1ABC0((_QWORD **)&src, (__int64)v20, v63, v64) )
    goto LABEL_98;
  LODWORD(v188) = *((_DWORD *)v176[0] + 2);
  if ( (unsigned int)v188 > 0x40 )
    sub_16A4FD0((__int64)&v187, v176[0]);
  else
    v187 = (void *)*v176[0];
  sub_16A7490((__int64)&v187, 1);
  v100 = v188;
  LODWORD(v21) = (_DWORD)v187;
  LODWORD(v188) = 0;
  LODWORD(v197) = v100;
  src = v187;
  if ( v100 > 0x40 )
  {
    v169 = v187;
    v107 = sub_16A5940((__int64)&src);
    v21 = v169;
    if ( v107 == 1 )
    {
      v108 = sub_16A57B0((__int64)&src);
      v21 = v169;
      v102 = v100 - 1 - v108;
    }
    else
    {
      v102 = -1;
    }
    if ( v21 )
    {
      j_j___libc_free_0_0(v21);
      if ( (unsigned int)v188 > 0x40 )
      {
        if ( v187 )
          j_j___libc_free_0_0(v187);
      }
    }
  }
  else
  {
    if ( !v187 || ((unsigned __int64)v187 & ((unsigned __int64)v187 - 1)) != 0 )
      goto LABEL_98;
    _BitScanReverse64((unsigned __int64 *)&v21, (unsigned __int64)v187);
    LODWORD(v21) = v101 ^ 0x3F;
    v102 = 63 - (_DWORD)v21;
  }
  if ( v102 <= 0 )
  {
LABEL_98:
    v20 = (_QWORD *)a1;
    goto LABEL_12;
  }
  v103 = (_QWORD *)sub_16498A0(a1);
  v149 = sub_1644900(v103, v102);
  v104 = v191;
  if ( v192 != v191 )
    goto LABEL_216;
  v118 = &v191[HIDWORD(v193)];
  if ( v191 != v118 )
  {
    v119 = 0;
    while ( a1 != *v104 )
    {
      if ( *v104 == -2 )
        v119 = v104;
      if ( v118 == ++v104 )
      {
        if ( !v119 )
          goto LABEL_355;
        *v119 = a1;
        --v194;
        ++v190;
        goto LABEL_217;
      }
    }
    goto LABEL_217;
  }
LABEL_355:
  if ( HIDWORD(v193) < (unsigned int)v193 )
  {
    ++HIDWORD(v193);
    *v118 = a1;
    ++v190;
  }
  else
  {
LABEL_216:
    sub_16CCBA0((__int64)&v190, a1);
  }
LABEL_217:
  v105 = v179;
  if ( v180 != v179 )
    goto LABEL_218;
  v117 = &v179[HIDWORD(v181)];
  if ( v179 != v117 )
  {
    while ( v20 != (_QWORD *)*v105 )
    {
      if ( *v105 == -2 )
        v62 = v105;
      if ( v117 == ++v105 )
      {
        if ( !v62 )
          goto LABEL_357;
        *v62 = (__int64)v20;
        --v182;
        ++v178;
        goto LABEL_12;
      }
    }
    goto LABEL_12;
  }
LABEL_357:
  if ( HIDWORD(v181) < (unsigned int)v181 )
  {
    ++HIDWORD(v181);
    *v117 = (__int64)v20;
    ++v178;
  }
  else
  {
LABEL_218:
    sub_16CCBA0((__int64)&v178, (__int64)v20);
  }
LABEL_12:
  v24 = (unsigned int)v185;
  if ( (unsigned int)v185 >= HIDWORD(v185) )
  {
    sub_16CD150((__int64)&v184, v186, 0, 8, (int)v21, v22);
    v24 = (unsigned int)v185;
  }
  *(_QWORD *)&v184[8 * v24] = v20;
  v25 = v185 + 1;
  v26 = v191;
  LODWORD(v185) = v185 + 1;
  if ( v192 != v191 )
    goto LABEL_15;
  v65 = &v191[HIDWORD(v193)];
  if ( v191 != v65 )
  {
    v66 = 0;
    while ( (_QWORD *)*v26 != v20 )
    {
      if ( *v26 == -2 )
        v66 = v26;
      if ( v65 == ++v26 )
      {
        if ( !v66 )
          goto LABEL_205;
        *v66 = (__int64)v20;
        v25 = v185;
        --v194;
        ++v190;
        goto LABEL_16;
      }
    }
    goto LABEL_16;
  }
LABEL_205:
  if ( HIDWORD(v193) < (unsigned int)v193 )
  {
    ++HIDWORD(v193);
    *v65 = (__int64)v20;
    v25 = v185;
    ++v190;
  }
  else
  {
LABEL_15:
    sub_16CCBA0((__int64)&v190, (__int64)v20);
    v25 = v185;
  }
LABEL_16:
  if ( !v25 )
  {
LABEL_84:
    v28 = v184;
LABEL_85:
    v23 = 0;
    goto LABEL_86;
  }
  v164 = 0;
  v168 = 0;
  v150 = 0;
  v170 = 0;
  v160 = v20;
  v27 = a1;
  do
  {
    v28 = v184;
    v29 = *(_QWORD *)&v184[8 * v25 - 8];
    LODWORD(v185) = v25 - 1;
    if ( !*(_QWORD *)(v29 + 8) )
      goto LABEL_85;
    v30 = *(_BYTE *)(v29 + 16);
    if ( v27 == v29 )
    {
      v74 = v30 - 24;
      if ( v74 <= 0x1C && ((1LL << v74) & 0x1C019800) != 0 )
        goto LABEL_30;
      if ( v30 == 77 )
      {
        if ( (_QWORD *)v29 == v160 )
          goto LABEL_148;
LABEL_144:
        sub_1B19130((__int64)&v172, (_BYTE *)v29, a2, (__int64)&v174, a4);
        v75 = _mm_loadu_si128(&v173);
        v174 = _mm_loadu_si128(&v172);
        v175 = v75;
        if ( !v172.m128i_i8[0] )
          goto LABEL_84;
        v35 = 0;
LABEL_146:
        if ( v27 == v29 )
        {
          v150 |= v27 != (_QWORD)v160 && v35;
          goto LABEL_148;
        }
        goto LABEL_155;
      }
LABEL_23:
      if ( (unsigned __int8)(v30 - 75) > 1u && v30 != 79 )
      {
        if ( (*(_BYTE *)(v29 + 23) & 0x40) != 0 )
          v32 = *(__int64 **)(v29 - 8);
        else
          v32 = (__int64 *)(v29 - 24LL * (*(_DWORD *)(v29 + 20) & 0xFFFFFFF));
        v33 = *v32;
        if ( *(_BYTE *)(*v32 + 16) <= 0x17u )
          v33 = 0;
        if ( !sub_13A0E30((__int64)&v190, v33) )
          goto LABEL_84;
      }
LABEL_30:
      if ( (_QWORD *)v29 != v160 )
      {
        sub_1B19130((__int64)&v172, (_BYTE *)v29, a2, (__int64)&v174, a4);
        v34 = _mm_loadu_si128(&v173);
        v174 = _mm_loadu_si128(&v172);
        v175 = v34;
        if ( !v172.m128i_i8[0] )
          goto LABEL_84;
      }
      v35 = v30 != 77;
      if ( a2 != 6 && v30 != 77 )
      {
        if ( a2 != 9 )
        {
          if ( (unsigned __int8)sub_1B16090(v29, (__int64)&v190) )
            goto LABEL_84;
          v150 |= v29 != (_QWORD)v160;
          goto LABEL_38;
        }
        v150 |= v29 != (_QWORD)v160;
LABEL_36:
        v36 = *(_BYTE *)(v29 + 16);
        if ( v36 == 76 || v36 == 79 )
          ++v170;
        goto LABEL_38;
      }
      if ( v30 != 77 )
      {
        v150 |= v29 != (_QWORD)v160 && v30 != 77;
        goto LABEL_148;
      }
      goto LABEL_146;
    }
    if ( v30 != 77 )
    {
      v31 = v30 - 24;
      if ( v31 <= 0x1C && ((1LL << v31) & 0x1C019800) != 0 )
        goto LABEL_30;
      goto LABEL_23;
    }
    if ( *(_QWORD *)(v29 + 40) == *(_QWORD *)(v27 + 40) )
      goto LABEL_85;
    v35 = 0;
    if ( (_QWORD *)v29 != v160 )
      goto LABEL_144;
LABEL_155:
    v154 = v35;
    if ( !(unsigned __int8)sub_1B15EE0(v29, (__int64)&v190) )
      goto LABEL_84;
    v150 |= v29 != (_QWORD)v160 && v154;
LABEL_148:
    if ( a2 == 6 )
    {
      v170 += (*(_BYTE *)(v29 + 16) & 0xFB) == 75;
    }
    else if ( a2 == 9 )
    {
      goto LABEL_36;
    }
LABEL_38:
    v187 = v189;
    v188 = 0x800000000LL;
    src = &v198;
    v197 = 0x800000000LL;
    if ( !*(_QWORD *)(v29 + 8) )
    {
      LODWORD(v49) = v185;
      v48 = 0;
      goto LABEL_60;
    }
    v37 = v27;
    v38 = *(_QWORD *)(v29 + 8);
    do
    {
      v39 = sub_1648700(v38);
      if ( !sub_1377F70(a3 + 56, v39[5]) )
      {
        if ( (__int64 *)v29 == v168 )
        {
LABEL_54:
          v168 = (__int64 *)v29;
          goto LABEL_55;
        }
        if ( v168 || v37 == v29 )
          goto LABEL_80;
        v41 = 24LL * (*(_DWORD *)(v37 + 20) & 0xFFFFFFF);
        if ( (*(_BYTE *)(v37 + 23) & 0x40) != 0 )
        {
          v42 = *(_QWORD **)(v37 - 8);
          v43 = &v42[(unsigned __int64)v41 / 8];
        }
        else
        {
          v43 = (_QWORD *)v37;
          v42 = (_QWORD *)(v37 - v41);
        }
        v44 = 0xAAAAAAAAAAAAAAABLL * (v41 >> 3);
        if ( v44 >> 2 )
        {
          v45 = &v42[12 * (v44 >> 2)];
          while ( 1 )
          {
            if ( v29 == *v42 )
              goto LABEL_53;
            if ( v29 == v42[3] )
            {
              v42 += 3;
              goto LABEL_53;
            }
            if ( v29 == v42[6] )
            {
              v42 += 6;
              goto LABEL_53;
            }
            if ( v29 == v42[9] )
              break;
            v42 += 12;
            if ( v42 == v45 )
            {
              v44 = 0xAAAAAAAAAAAAAAABLL * (v43 - v42);
              goto LABEL_76;
            }
          }
          v42 += 9;
LABEL_53:
          if ( v43 != v42 )
            goto LABEL_54;
          goto LABEL_80;
        }
LABEL_76:
        if ( v44 != 2 )
        {
          if ( v44 != 3 )
          {
            if ( v44 != 1 )
              goto LABEL_80;
            goto LABEL_79;
          }
          if ( v29 == *v42 )
            goto LABEL_53;
          v42 += 3;
        }
        if ( v29 == *v42 )
          goto LABEL_53;
        v42 += 3;
LABEL_79:
        if ( v29 == *v42 )
          goto LABEL_53;
LABEL_80:
        if ( src != &v198 )
          _libc_free((unsigned __int64)src);
        if ( v187 != v189 )
          _libc_free((unsigned __int64)v187);
        goto LABEL_84;
      }
      memset(v176, 0, sizeof(v176));
      v67 = v191;
      if ( v192 != v191 )
        goto LABEL_113;
      v72 = &v191[HIDWORD(v193)];
      if ( v191 == v72 )
        goto LABEL_203;
      v73 = 0;
      do
      {
        if ( v39 == (_QWORD *)*v67 )
        {
          v68 = *((_BYTE *)v39 + 16);
LABEL_129:
          if ( v68 == 77 )
            goto LABEL_118;
          if ( (unsigned __int8)(v68 - 75) <= 1u || v68 == 79 )
          {
            sub_1B18DD0((__int64)v177, (__int64)v39, (__int64)v176);
            if ( v177[0] )
              goto LABEL_118;
          }
          goto LABEL_80;
        }
        if ( *v67 == -2 )
          v73 = v67;
        ++v67;
      }
      while ( v72 != v67 );
      if ( v73 )
      {
        *v73 = (__int64)v39;
        --v194;
        v68 = *((_BYTE *)v39 + 16);
        ++v190;
        goto LABEL_114;
      }
LABEL_203:
      if ( HIDWORD(v193) < (unsigned int)v193 )
      {
        ++HIDWORD(v193);
        *v72 = (__int64)v39;
        v68 = *((_BYTE *)v39 + 16);
        ++v190;
        goto LABEL_114;
      }
LABEL_113:
      sub_16CCBA0((__int64)&v190, (__int64)v39);
      v68 = *((_BYTE *)v39 + 16);
      if ( !v69 )
        goto LABEL_129;
LABEL_114:
      if ( v68 == 77 )
      {
        v76 = (unsigned int)v197;
        if ( (unsigned int)v197 >= HIDWORD(v197) )
        {
          sub_16CD150((__int64)&src, &v198, 0, 8, v40, v22);
          v76 = (unsigned int)v197;
        }
        *((_QWORD *)src + v76) = v39;
        LODWORD(v197) = v197 + 1;
      }
      else
      {
        v70 = (unsigned int)v188;
        if ( (unsigned int)v188 >= HIDWORD(v188) )
        {
          sub_16CD150((__int64)&v187, v189, 0, 8, v40, v22);
          v70 = (unsigned int)v188;
        }
        *((_QWORD *)v187 + v70) = v39;
        LODWORD(v188) = v188 + 1;
      }
LABEL_118:
      v71 = v164;
      if ( (_QWORD *)v37 == v39 )
        v71 = 1;
      v164 = v71;
LABEL_55:
      v38 = *(_QWORD *)(v38 + 8);
    }
    while ( v38 );
    v27 = v37;
    v46 = src;
    v47 = 8LL * (unsigned int)v197;
    v48 = v197;
    v49 = (unsigned int)v185;
    if ( (unsigned int)v197 > HIDWORD(v185) - (unsigned __int64)(unsigned int)v185 )
    {
      v144 = 8LL * (unsigned int)v197;
      sub_16CD150((__int64)&v184, v186, (unsigned int)v197 + (unsigned __int64)(unsigned int)v185, 8, v47, v22);
      v49 = (unsigned int)v185;
      v47 = v144;
    }
    if ( v47 )
    {
      memcpy(&v184[8 * v49], v46, v47);
      LODWORD(v49) = v185;
    }
LABEL_60:
    LODWORD(v51) = v48 + v49;
    v50 = v188;
    LODWORD(v185) = v51;
    v51 = (unsigned int)v51;
    v52 = v187;
    v53 = 8LL * (unsigned int)v188;
    if ( (unsigned int)v188 > HIDWORD(v185) - (unsigned __int64)(unsigned int)v51 )
    {
      v145 = 8LL * (unsigned int)v188;
      sub_16CD150((__int64)&v184, v186, (unsigned int)v51 + (unsigned __int64)(unsigned int)v188, 8, v53, v22);
      v51 = (unsigned int)v185;
      v53 = v145;
    }
    if ( v53 )
    {
      memcpy(&v184[8 * v51], v52, v53);
      LODWORD(v51) = v185;
    }
    LODWORD(v185) = v50 + v51;
    if ( src != &v198 )
      _libc_free((unsigned __int64)src);
    if ( v187 != v189 )
      _libc_free((unsigned __int64)v187);
    v25 = v185;
  }
  while ( (_DWORD)v185 );
  if ( (a2 == 9 || a2 == 6) && v170 != 2 )
    goto LABEL_84;
  v54 = (unsigned __int8)(v164 & v150) ^ 1;
  LOBYTE(v54) = (v168 == 0) | v164 & v150 ^ 1;
  v23 = v54;
  if ( (_BYTE)v54 )
    goto LABEL_84;
  if ( (_QWORD *)v27 == v160 )
  {
    v111 = 0;
    goto LABEL_251;
  }
  v55 = sub_15F2050((__int64)v168);
  v56 = sub_1632FA0(v55);
  v57 = *v168;
  v165 = 1;
  v58 = v56;
  while ( 2 )
  {
    switch ( *(_BYTE *)(v57 + 8) )
    {
      case 0:
      case 8:
      case 0xA:
      case 0xC:
      case 0x10:
        v137 = v165 * *(_QWORD *)(v57 + 32);
        v57 = *(_QWORD *)(v57 + 24);
        v165 = v137;
        continue;
      case 1:
        v77 = 16;
        break;
      case 2:
        v77 = 32;
        break;
      case 3:
      case 9:
        v77 = 64;
        break;
      case 4:
        v77 = 80;
        break;
      case 5:
      case 6:
        v77 = 128;
        break;
      case 7:
        v77 = 8 * (unsigned int)sub_15A9520(v58, 0);
        break;
      case 0xB:
        v77 = *(_DWORD *)(v57 + 8) >> 8;
        break;
      case 0xD:
        v77 = 8LL * *(_QWORD *)sub_15A9930(v58, v57);
        break;
      case 0xE:
        v138 = 1;
        v163 = *(_QWORD *)(v57 + 32);
        v139 = *(_QWORD *)(v57 + 24);
        v140 = (unsigned int)sub_15A9FE0(v58, v139);
        while ( 2 )
        {
          switch ( *(_BYTE *)(v139 + 8) )
          {
            case 1:
              v141 = 16;
              break;
            case 2:
              v141 = 32;
              break;
            case 3:
            case 9:
              v141 = 64;
              break;
            case 4:
              v141 = 80;
              break;
            case 5:
            case 6:
              v141 = 128;
              break;
            case 7:
              v141 = 8 * (unsigned int)sub_15A9520(v58, 0);
              break;
            case 8:
            case 0xA:
            case 0xC:
            case 0x10:
              v143 = *(_QWORD *)(v139 + 32);
              v139 = *(_QWORD *)(v139 + 24);
              v138 *= v143;
              continue;
            case 0xB:
              v141 = *(_DWORD *)(v139 + 8) >> 8;
              break;
            case 0xD:
              v141 = 8LL * *(_QWORD *)sub_15A9930(v58, v139);
              break;
            case 0xE:
              v142 = *(_QWORD *)(v139 + 32);
              v153 = *(_QWORD *)(v139 + 24);
              v158 = (unsigned int)sub_15A9FE0(v58, v153);
              v141 = 8 * v142 * v158 * ((v158 + ((unsigned __int64)(sub_127FA20(v58, v153) + 7) >> 3) - 1) / v158);
              break;
            case 0xF:
              v141 = 8 * (unsigned int)sub_15A9520(v58, *(_DWORD *)(v139 + 8) >> 8);
              break;
          }
          break;
        }
        v77 = 8 * v163 * v140 * ((v140 + ((unsigned __int64)(v138 * v141 + 7) >> 3) - 1) / v140);
        break;
      case 0xF:
        v77 = 8 * (unsigned int)sub_15A9520(v58, *(_DWORD *)(v57 + 8) >> 8);
        break;
    }
    break;
  }
  if ( a6 )
  {
    sub_13A29C0((__int64)&src, a6, v168);
    v78 = v197;
    if ( (unsigned int)v197 > 0x40 )
    {
      v81 = v78 - (unsigned int)sub_16A57B0((__int64)&src);
      if ( src )
        j_j___libc_free_0_0(src);
    }
    else
    {
      if ( src )
      {
        _BitScanReverse64(&v79, (unsigned __int64)src);
        v80 = v79 ^ 0x3F;
      }
      else
      {
        v80 = 64;
      }
      v81 = (unsigned int)(64 - v80);
    }
  }
  else
  {
    v81 = v165 * v77;
  }
  v82 = 1;
  v83 = *v168;
  while ( 2 )
  {
    switch ( *(_BYTE *)(v83 + 8) )
    {
      case 1:
        v84 = 16;
        goto LABEL_177;
      case 2:
        v84 = 32;
        goto LABEL_177;
      case 3:
      case 9:
        v84 = 64;
        goto LABEL_177;
      case 4:
        v84 = 80;
        goto LABEL_177;
      case 5:
      case 6:
        v84 = 128;
        goto LABEL_177;
      case 7:
        v84 = 8 * (unsigned int)sub_15A9520(v58, 0);
        goto LABEL_177;
      case 0xB:
        v84 = *(_DWORD *)(v83 + 8) >> 8;
        goto LABEL_177;
      case 0xD:
        v84 = 8LL * *(_QWORD *)sub_15A9930(v58, v83);
        goto LABEL_177;
      case 0xE:
        v162 = *(_QWORD *)(v83 + 32);
        v131 = *(_QWORD *)(v83 + 24);
        v167 = 1;
        v157 = (unsigned int)sub_15A9FE0(v58, v131);
        while ( 2 )
        {
          switch ( *(_BYTE *)(v131 + 8) )
          {
            case 1:
              v133 = 16;
              goto LABEL_334;
            case 2:
              v133 = 32;
              goto LABEL_334;
            case 3:
            case 9:
              v133 = 64;
              goto LABEL_334;
            case 4:
              v133 = 80;
              goto LABEL_334;
            case 5:
            case 6:
              v133 = 128;
              goto LABEL_334;
            case 7:
              v133 = 8 * (unsigned int)sub_15A9520(v58, 0);
              goto LABEL_334;
            case 0xB:
              v133 = *(_DWORD *)(v131 + 8) >> 8;
              goto LABEL_334;
            case 0xD:
              v133 = 8LL * *(_QWORD *)sub_15A9930(v58, v131);
              goto LABEL_334;
            case 0xE:
              v134 = *(_QWORD *)(v131 + 32);
              v151 = *(_QWORD *)(v131 + 24);
              v152 = (unsigned int)sub_15A9FE0(v58, v151);
              v133 = 8 * v134 * v152 * ((v152 + ((unsigned __int64)(sub_127FA20(v58, v151) + 7) >> 3) - 1) / v152);
              goto LABEL_334;
            case 0xF:
              v133 = 8 * (unsigned int)sub_15A9520(v58, *(_DWORD *)(v131 + 8) >> 8);
LABEL_334:
              v84 = 8 * v157 * v162 * ((v157 + ((unsigned __int64)(v167 * v133 + 7) >> 3) - 1) / v157);
              goto LABEL_177;
            case 0x10:
              v132 = v167 * *(_QWORD *)(v131 + 32);
              v131 = *(_QWORD *)(v131 + 24);
              v167 = v132;
              continue;
            default:
              goto LABEL_381;
          }
        }
      case 0xF:
        v84 = 8 * (unsigned int)sub_15A9520(v58, *(_DWORD *)(v83 + 8) >> 8);
LABEL_177:
        v161 = 0;
        if ( v81 == v82 * v84 )
        {
          v161 = a8 != 0 && a7 != 0;
          if ( v161 )
          {
            v120 = sub_14C23D0((__int64)v168, v58, 0, a7, 0, a8);
            v121 = *v168;
            v122 = 1;
            v123 = v120;
            while ( 2 )
            {
              switch ( *(_BYTE *)(v121 + 8) )
              {
                case 1:
                  v126 = 16;
                  goto LABEL_304;
                case 2:
                  v126 = 32;
                  goto LABEL_304;
                case 3:
                case 9:
                  v126 = 64;
                  goto LABEL_304;
                case 4:
                  v126 = 80;
                  goto LABEL_304;
                case 5:
                case 6:
                  v126 = 128;
                  goto LABEL_304;
                case 7:
                  v126 = 8 * (unsigned int)sub_15A9520(v58, 0);
                  goto LABEL_304;
                case 0xB:
                  v126 = *(_DWORD *)(v121 + 8) >> 8;
                  goto LABEL_304;
                case 0xD:
                  v126 = 8LL * *(_QWORD *)sub_15A9930(v58, v121);
                  goto LABEL_304;
                case 0xE:
                  v129 = *(_QWORD *)(v121 + 32);
                  v156 = *(_QWORD *)(v121 + 24);
                  v166 = (unsigned int)sub_15A9FE0(v58, v156);
                  v126 = 8 * v129 * v166 * ((v166 + ((unsigned __int64)(sub_127FA20(v58, v156) + 7) >> 3) - 1) / v166);
                  goto LABEL_304;
                case 0xF:
                  v126 = 8 * (unsigned int)sub_15A9520(v58, *(_DWORD *)(v121 + 8) >> 8);
LABEL_304:
                  v81 = v126 * v122 - v123;
                  sub_14C2530((__int64)&src, v168, v58, 0, 0, 0, 0, 0);
                  if ( (unsigned int)v197 > 0x40 )
                    v127 = *((_QWORD *)src + ((unsigned int)(v197 - 1) >> 6));
                  else
                    v127 = (unsigned __int64)src;
                  if ( (v127 & (1LL << ((unsigned __int8)v197 - 1))) != 0 )
                  {
                    v161 = 0;
                  }
                  else
                  {
                    v128 = 1LL << ((unsigned __int8)v199 - 1);
                    if ( (unsigned int)v199 > 0x40 )
                    {
                      if ( (*(_QWORD *)(v198 + 8LL * ((unsigned int)(v199 - 1) >> 6)) & v128) != 0 )
                        goto LABEL_311;
                    }
                    else if ( (v128 & v198) != 0 )
                    {
                      goto LABEL_313;
                    }
                    ++v81;
                  }
                  if ( (unsigned int)v199 <= 0x40 )
                    goto LABEL_313;
LABEL_311:
                  if ( v198 )
                    j_j___libc_free_0_0(v198);
LABEL_313:
                  if ( (unsigned int)v197 > 0x40 && src )
                    j_j___libc_free_0_0(src);
                  break;
                case 0x10:
                  v135 = *(_QWORD *)(v121 + 32);
                  v121 = *(_QWORD *)(v121 + 24);
                  v122 *= v135;
                  continue;
                default:
                  goto LABEL_381;
              }
              break;
            }
          }
        }
        if ( !v81 || (v81 & (v81 - 1)) != 0 )
        {
          v85 = (((((((v81 | (v81 >> 1)) >> 2) | v81 | (v81 >> 1)) >> 4) | ((v81 | (v81 >> 1)) >> 2) | v81 | (v81 >> 1)) >> 8)
               | ((((v81 | (v81 >> 1)) >> 2) | v81 | (v81 >> 1)) >> 4)
               | ((v81 | (v81 >> 1)) >> 2)
               | v81
               | (v81 >> 1)) >> 16;
          v81 = (((v85
                 | ((((((v81 | (v81 >> 1)) >> 2) | v81 | (v81 >> 1)) >> 4) | ((v81 | (v81 >> 1)) >> 2)
                                                                           | v81
                                                                           | (v81 >> 1)) >> 8)
                 | ((((v81 | (v81 >> 1)) >> 2) | v81 | (v81 >> 1)) >> 4)
                 | ((v81 | (v81 >> 1)) >> 2)
                 | v81
                 | (v81 >> 1)) >> 32)
               | v85
               | ((((((v81 | (v81 >> 1)) >> 2) | v81 | (v81 >> 1)) >> 4) | ((v81 | (v81 >> 1)) >> 2) | v81 | (v81 >> 1)) >> 8)
               | ((((v81 | (v81 >> 1)) >> 2) | v81 | (v81 >> 1)) >> 4)
               | ((v81 | (v81 >> 1)) >> 2)
               | v81
               | (v81 >> 1))
              + 1;
        }
        v86 = (_QWORD *)sub_16498A0((__int64)v168);
        if ( v149 != sub_1644C60(v86, v81) )
          goto LABEL_101;
        v87 = 1;
        src = 0;
        v199 = 8;
        v189[0] = v168;
        v188 = 0x800000001LL;
        v88 = v189;
        v187 = v189;
        v89 = v201;
        v90 = v201;
        v197 = (__int64)v201;
        v198 = (unsigned __int64)v201;
        LODWORD(v200) = 0;
        break;
      case 0x10:
        v130 = *(_QWORD *)(v83 + 32);
        v83 = *(_QWORD *)(v83 + 24);
        v82 *= v130;
        continue;
      default:
LABEL_381:
        BUG();
    }
    break;
  }
  while ( 2 )
  {
    v91 = v88[v87 - 1];
    LODWORD(v188) = v87 - 1;
    if ( v90 == v89 )
    {
      v109 = &v89[HIDWORD(v199)];
      if ( v109 == v89 )
      {
LABEL_264:
        if ( HIDWORD(v199) >= (unsigned int)v199 )
          goto LABEL_184;
        ++HIDWORD(v199);
        *v109 = v91;
        src = (char *)src + 1;
      }
      else
      {
        v110 = 0;
        while ( v91 != *v89 )
        {
          if ( *v89 == -2 )
            v110 = v89;
          if ( v109 == ++v89 )
          {
            if ( !v110 )
              goto LABEL_264;
            *v110 = v91;
            LODWORD(v200) = v200 - 1;
            src = (char *)src + 1;
            break;
          }
        }
      }
    }
    else
    {
LABEL_184:
      sub_16CCBA0((__int64)&src, v91);
    }
    if ( (unsigned int)*(unsigned __int8 *)(v91 + 16) - 60 > 0xC || **(_QWORD **)(v91 - 24) != v149 )
    {
      v92 = 3LL * (*(_DWORD *)(v91 + 20) & 0xFFFFFFF);
      v93 = (__int64 *)(v91 - v92 * 8);
      if ( (*(_BYTE *)(v91 + 23) & 0x40) != 0 )
      {
        v93 = *(__int64 **)(v91 - 8);
        v91 = (__int64)&v93[v92];
      }
      while ( 2 )
      {
        if ( (__int64 *)v91 == v93 )
          goto LABEL_221;
        v94 = *v93;
        if ( *(_BYTE *)(*v93 + 16) <= 0x17u || !sub_1377F70(a3 + 56, *(_QWORD *)(v94 + 40)) )
          goto LABEL_189;
        v97 = (_QWORD *)v197;
        if ( v198 == v197 )
        {
          v98 = (_QWORD *)(v197 + 8LL * HIDWORD(v199));
          if ( (_QWORD *)v197 == v98 )
          {
            v136 = (_QWORD *)v197;
          }
          else
          {
            do
            {
              if ( v94 == *v97 )
                break;
              ++v97;
            }
            while ( v98 != v97 );
            v136 = (_QWORD *)(v197 + 8LL * HIDWORD(v199));
          }
        }
        else
        {
          v98 = (_QWORD *)(v198 + 8LL * (unsigned int)v199);
          v97 = sub_16CC9F0((__int64)&src, v94);
          if ( v94 == *v97 )
          {
            if ( v198 == v197 )
              v136 = (_QWORD *)(v198 + 8LL * HIDWORD(v199));
            else
              v136 = (_QWORD *)(v198 + 8LL * (unsigned int)v199);
          }
          else
          {
            if ( v198 != v197 )
            {
              v97 = (_QWORD *)(v198 + 8LL * (unsigned int)v199);
LABEL_197:
              if ( v97 == v98 )
              {
                v99 = (unsigned int)v188;
                if ( (unsigned int)v188 >= HIDWORD(v188) )
                {
                  sub_16CD150((__int64)&v187, v189, 0, 8, v95, v96);
                  v99 = (unsigned int)v188;
                }
                *((_QWORD *)v187 + v99) = v94;
                LODWORD(v188) = v188 + 1;
              }
LABEL_189:
              v93 += 3;
              continue;
            }
            v97 = (_QWORD *)(v198 + 8LL * HIDWORD(v199));
            v136 = v97;
          }
        }
        break;
      }
      while ( v136 != v97 && *v97 >= 0xFFFFFFFFFFFFFFFELL )
        ++v97;
      goto LABEL_197;
    }
    v106 = v179;
    if ( v180 == v179 )
    {
      v124 = &v179[HIDWORD(v181)];
      if ( v179 == v124 )
      {
LABEL_301:
        if ( HIDWORD(v181) >= (unsigned int)v181 )
          goto LABEL_220;
        ++HIDWORD(v181);
        *v124 = v91;
        ++v178;
      }
      else
      {
        v125 = 0;
        while ( v91 != *v106 )
        {
          if ( *v106 == -2 )
            v125 = v106;
          if ( v124 == ++v106 )
          {
            if ( !v125 )
              goto LABEL_301;
            *v125 = v91;
            --v182;
            ++v178;
            break;
          }
        }
      }
    }
    else
    {
LABEL_220:
      sub_16CCBA0((__int64)&v178, v91);
    }
LABEL_221:
    v87 = v188;
    v90 = (__int64 *)v198;
    v89 = (__int64 *)v197;
    if ( (_DWORD)v188 )
    {
      v88 = v187;
      continue;
    }
    break;
  }
  if ( v198 != v197 )
    _libc_free(v198);
  if ( v187 != v189 )
    _libc_free((unsigned __int64)v187);
  v111 = v161;
LABEL_251:
  sub_1B15D10((__int64)&src, v146, (__int64)v168, a2, v175.m128i_i32[0], v175.m128i_i64[1], v149, v111, (__int64)&v178);
  v115 = v198;
  v116 = *(_QWORD *)(a5 + 16);
  if ( v116 != v198 )
  {
    if ( v116 != 0 && v116 != -8 && v116 != -16 )
    {
      sub_1649B30((_QWORD *)a5);
      v115 = v198;
    }
    LOBYTE(v112) = v115 != 0;
    LOBYTE(v116) = v115 != -8;
    *(_QWORD *)(a5 + 16) = v115;
    if ( ((unsigned __int8)v116 & (v115 != 0)) != 0 && v115 != -16 )
      sub_1649AC0((unsigned __int64 *)a5, (unsigned __int64)src & 0xFFFFFFFFFFFFFFF8LL);
  }
  *(_QWORD *)(a5 + 24) = v199;
  *(_QWORD *)(a5 + 32) = v200;
  *(_QWORD *)(a5 + 40) = v201[0];
  *(_QWORD *)(a5 + 48) = v201[1];
  *(_BYTE *)(a5 + 56) = v202;
  sub_16CCD50(a5 + 64, (__int64)v203, v116, v112, v113, v114);
  if ( v205 != v204 )
    _libc_free(v205);
  if ( v198 != -8 && v198 != 0 && v198 != -16 )
    sub_1649B30(&src);
  v28 = v184;
  v23 = 1;
LABEL_86:
  if ( v28 != v186 )
    _libc_free((unsigned __int64)v28);
  if ( v192 != v191 )
    _libc_free((unsigned __int64)v192);
  if ( v180 != v179 )
    _libc_free((unsigned __int64)v180);
  return v23;
}
