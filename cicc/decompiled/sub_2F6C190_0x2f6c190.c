// Function: sub_2F6C190
// Address: 0x2f6c190
//
__int64 __fastcall sub_2F6C190(__int64 a1, __int64 a2, unsigned __int64 a3, _BYTE *a4, __int64 a5, __int64 a6)
{
  __int64 v7; // r13
  int v8; // r15d
  int v9; // eax
  unsigned int v10; // r15d
  int v12; // eax
  __int64 v13; // r8
  unsigned int v14; // eax
  unsigned __int64 v15; // rcx
  __int64 v16; // r12
  unsigned __int64 v17; // rbx
  __int64 *v18; // rdx
  __int64 v19; // r8
  __int64 v20; // r9
  __int64 v21; // rcx
  __int64 v22; // rax
  unsigned __int64 v23; // rax
  __int64 v24; // rcx
  unsigned int v25; // eax
  __int64 v26; // rsi
  __int64 v27; // rax
  unsigned __int64 v28; // rdx
  __int64 v29; // rdi
  __int64 (__fastcall *v30)(__int64, __int64); // rax
  int v31; // eax
  __int64 v32; // rax
  __int64 v33; // rdx
  __int64 v34; // rax
  __int64 v35; // rcx
  __int64 v36; // rdx
  __int64 v37; // rdi
  __int64 (*v38)(); // rsi
  __int64 v39; // rax
  _QWORD **v40; // rax
  __int64 v41; // rsi
  _BYTE *v42; // rdx
  _BYTE *v43; // r14
  _BYTE *v44; // r15
  _BYTE *v45; // rbx
  __int64 v46; // rdx
  __int64 v47; // rcx
  _QWORD *v48; // r8
  _BYTE *v49; // r12
  __int64 v50; // rbx
  bool v51; // zf
  _QWORD **v52; // rsi
  _QWORD **v53; // rdx
  _QWORD **v54; // rax
  __int64 v55; // rcx
  __int64 v56; // r12
  unsigned __int64 v57; // rax
  _QWORD *v58; // rdx
  _QWORD *v59; // rdi
  __int64 *v60; // rax
  __int64 v61; // r12
  __int64 v62; // r14
  __int64 v63; // rbx
  bool v64; // r15
  __int64 v65; // rax
  __int64 v66; // r9
  unsigned int v67; // ebx
  unsigned __int16 v68; // bx
  __int64 v69; // rsi
  unsigned __int64 v70; // rax
  _QWORD *v71; // r14
  _BYTE *v72; // rax
  unsigned __int64 v73; // r14
  __int64 v74; // rsi
  unsigned __int8 *v75; // rsi
  __int64 v76; // rcx
  __int64 v77; // r9
  __int64 v78; // rbx
  __int64 v79; // r8
  __int64 v80; // rax
  unsigned __int64 v81; // rdx
  unsigned int v82; // eax
  __int64 v83; // r8
  unsigned int v84; // r13d
  int v85; // r12d
  const __m128i *v86; // rbx
  __int64 v87; // rdx
  unsigned __int64 v88; // rcx
  __m128i *v89; // rdx
  __int64 v90; // r9
  __int64 v91; // r15
  __int64 v92; // rdi
  __int64 v93; // r8
  __int16 *v94; // rax
  _WORD *v95; // rdx
  __int16 v96; // cx
  unsigned __int16 v97; // ax
  __int16 *v98; // r8
  __int64 v99; // r10
  __int16 *v100; // r13
  __int64 v101; // r8
  __int64 v102; // r12
  unsigned int v103; // ebx
  int v104; // ecx
  __int16 *v105; // rax
  int v106; // esi
  __int64 v107; // rax
  char v108; // al
  int v109; // ecx
  __int64 v110; // rcx
  __int64 v111; // r8
  __int64 v112; // r9
  __int64 v113; // rcx
  __int64 v114; // r8
  unsigned __int64 v115; // r9
  unsigned int v116; // ebx
  __int64 v117; // rdx
  unsigned __int8 v118; // r13
  __int64 v119; // r15
  int v120; // r12d
  __int64 v121; // rdx
  unsigned __int64 v122; // rbx
  __int64 v123; // rcx
  unsigned __int64 v124; // r9
  __int16 *v125; // r15
  __int16 *v126; // r13
  __int64 v127; // r8
  __int64 v128; // rax
  __int64 v129; // r14
  unsigned __int64 v130; // r12
  __int32 j; // ebx
  __int64 v132; // rdx
  __int64 v133; // rdi
  int v134; // eax
  __int16 v135; // dx
  unsigned __int64 v136; // r13
  __m128i *v137; // rbx
  const __m128i *v138; // rsi
  __int64 v139; // rax
  __int64 v140; // r8
  unsigned __int64 v141; // r9
  unsigned __int64 v142; // rbx
  unsigned int *v143; // r12
  __int64 v144; // rdx
  __int64 v145; // rcx
  unsigned int v146; // r13d
  __int16 *v147; // r15
  __int64 v148; // rdx
  __int64 v149; // rcx
  __int64 v150; // rdi
  int v151; // edx
  int v152; // r15d
  __int64 v153; // r13
  int v154; // edx
  int v155; // edx
  int v156; // ecx
  unsigned int i; // eax
  int v158; // edi
  int v159; // edx
  unsigned int v160; // eax
  __int64 v161; // rdx
  int v162; // edx
  unsigned int v163; // ebx
  __int64 v164; // rdi
  __int64 v165; // rdx
  __int64 v166; // rcx
  __int64 v167; // r8
  __int64 v168; // r9
  __int64 v169; // rax
  _QWORD *v170; // r13
  __int64 v171; // rcx
  __int64 v172; // rax
  __int64 v173; // rdx
  __int64 v174; // r8
  unsigned int *v175; // r9
  unsigned __int64 v176; // rbx
  __int64 v177; // rax
  __int64 v178; // r8
  unsigned __int64 v179; // r9
  __int64 *v180; // r15
  __int64 v181; // rdx
  __int64 v182; // rcx
  __int64 v183; // r12
  __int64 v184; // rdx
  __int64 v185; // rcx
  __int64 v186; // r8
  unsigned __int64 v187; // r9
  __int64 v188; // r8
  unsigned int *v189; // r9
  __int64 v190; // rbx
  unsigned __int64 v191; // r13
  __int64 *v192; // rax
  __int64 v193; // r11
  __int64 v194; // r13
  __int64 k; // rbx
  __int128 v196; // rax
  __int64 v197; // rcx
  __int64 v198; // r8
  unsigned __int64 v199; // r9
  __int64 v200; // rsi
  __int64 v201; // rax
  __int64 v202; // r8
  __int64 v203; // r9
  __int64 v204; // rcx
  __int64 v205; // rdi
  __int64 v206; // rbx
  __int64 v207; // r15
  signed __int64 v208; // rbx
  __int16 *v209; // rbx
  unsigned int v210; // r8d
  unsigned int v211; // r13d
  bool v212; // r11
  __int64 v213; // r15
  __int16 *v214; // r14
  int v215; // edx
  __int16 *v216; // rax
  int v217; // esi
  __int64 v218; // rax
  char v219; // al
  int v220; // r8d
  __int16 v221; // ax
  unsigned int v222; // eax
  __int64 v223; // rcx
  _DWORD *v224; // rax
  _DWORD *v225; // rdx
  __int64 v226; // rdi
  __int64 v227; // rax
  unsigned __int64 v228; // rax
  __int64 v229; // r13
  __int64 v230; // rdx
  __int64 *v231; // rax
  __int64 v232; // rdx
  __int64 v233; // rax
  __int64 v234; // rax
  __int64 v235; // rdx
  __int64 *v236; // r13
  __int64 v237; // rdx
  _QWORD *v238; // rdi
  __int64 v239; // rdx
  __int64 v240; // rcx
  __int64 v241; // r8
  __int64 v242; // r9
  __int64 v243; // rax
  __int64 v244; // r8
  unsigned int *v245; // r9
  __int64 v246; // rax
  _QWORD *v247; // [rsp-10h] [rbp-300h]
  unsigned int v248; // [rsp+Ch] [rbp-2E4h]
  __int64 v249; // [rsp+18h] [rbp-2D8h]
  bool v250; // [rsp+18h] [rbp-2D8h]
  __int64 v251; // [rsp+20h] [rbp-2D0h]
  __int64 v252; // [rsp+20h] [rbp-2D0h]
  __int64 v253; // [rsp+20h] [rbp-2D0h]
  __int64 v254; // [rsp+28h] [rbp-2C8h]
  __int64 v255; // [rsp+28h] [rbp-2C8h]
  __int64 v256; // [rsp+28h] [rbp-2C8h]
  __int64 v257; // [rsp+28h] [rbp-2C8h]
  __int64 v258; // [rsp+28h] [rbp-2C8h]
  unsigned __int32 v259; // [rsp+30h] [rbp-2C0h]
  unsigned __int16 v260; // [rsp+30h] [rbp-2C0h]
  __int64 v261; // [rsp+30h] [rbp-2C0h]
  __int64 v262; // [rsp+30h] [rbp-2C0h]
  __int64 v263; // [rsp+40h] [rbp-2B0h]
  unsigned __int8 v264; // [rsp+40h] [rbp-2B0h]
  __int64 v265; // [rsp+50h] [rbp-2A0h]
  unsigned __int64 v266; // [rsp+50h] [rbp-2A0h]
  __int64 v267; // [rsp+58h] [rbp-298h]
  _QWORD *v268; // [rsp+58h] [rbp-298h]
  __int64 v269; // [rsp+58h] [rbp-298h]
  int v270; // [rsp+60h] [rbp-290h]
  __int64 v271; // [rsp+60h] [rbp-290h]
  __int64 v272; // [rsp+60h] [rbp-290h]
  __int64 v273; // [rsp+60h] [rbp-290h]
  __int64 *v274; // [rsp+60h] [rbp-290h]
  __int64 v275; // [rsp+60h] [rbp-290h]
  __int64 v276; // [rsp+68h] [rbp-288h]
  unsigned int v277; // [rsp+70h] [rbp-280h]
  __int64 v278; // [rsp+70h] [rbp-280h]
  __int64 v279; // [rsp+70h] [rbp-280h]
  __int64 v280; // [rsp+70h] [rbp-280h]
  __int64 v281; // [rsp+70h] [rbp-280h]
  unsigned int v282; // [rsp+78h] [rbp-278h]
  int v283; // [rsp+7Ch] [rbp-274h]
  bool v285; // [rsp+80h] [rbp-270h]
  unsigned __int64 v286; // [rsp+80h] [rbp-270h]
  unsigned int *v287; // [rsp+80h] [rbp-270h]
  __int64 *v288; // [rsp+80h] [rbp-270h]
  char v290; // [rsp+9Bh] [rbp-255h] BYREF
  int v291; // [rsp+9Ch] [rbp-254h] BYREF
  __m128i *v292; // [rsp+A0h] [rbp-250h] BYREF
  unsigned __int64 v293; // [rsp+A8h] [rbp-248h] BYREF
  _QWORD v294[2]; // [rsp+B0h] [rbp-240h] BYREF
  unsigned int *v295; // [rsp+C0h] [rbp-230h] BYREF
  __int64 v296; // [rsp+C8h] [rbp-228h]
  _BYTE v297[16]; // [rsp+D0h] [rbp-220h] BYREF
  _BYTE *v298; // [rsp+E0h] [rbp-210h] BYREF
  __int64 v299; // [rsp+E8h] [rbp-208h]
  _BYTE v300[32]; // [rsp+F0h] [rbp-200h] BYREF
  __m128i v301; // [rsp+110h] [rbp-1E0h] BYREF
  __int64 (__fastcall *v302)(const __m128i **, const __m128i *, int); // [rsp+120h] [rbp-1D0h]
  unsigned __int64 (__fastcall *v303)(__int64 **, __int64); // [rsp+128h] [rbp-1C8h]
  __int16 *v304; // [rsp+130h] [rbp-1C0h]
  __m128i *v305; // [rsp+140h] [rbp-1B0h] BYREF
  __int64 v306; // [rsp+148h] [rbp-1A8h]
  _DWORD v307[4]; // [rsp+150h] [rbp-1A0h] BYREF
  __int16 *v308; // [rsp+160h] [rbp-190h]
  _QWORD v309[3]; // [rsp+1F0h] [rbp-100h] BYREF
  __int64 v310; // [rsp+208h] [rbp-E8h]
  __int64 v311; // [rsp+210h] [rbp-E0h]
  __int64 v312; // [rsp+218h] [rbp-D8h]
  __int64 v313; // [rsp+220h] [rbp-D0h]
  __int64 v314; // [rsp+228h] [rbp-C8h]
  int v315; // [rsp+230h] [rbp-C0h]
  char v316; // [rsp+234h] [rbp-BCh]
  __int64 v317; // [rsp+238h] [rbp-B8h]
  __int64 v318; // [rsp+240h] [rbp-B0h]
  char *v319; // [rsp+248h] [rbp-A8h]
  __int64 v320; // [rsp+250h] [rbp-A0h]
  int v321; // [rsp+258h] [rbp-98h]
  char v322; // [rsp+25Ch] [rbp-94h]
  char v323; // [rsp+260h] [rbp-90h] BYREF
  __int64 v324; // [rsp+280h] [rbp-70h]
  char *v325; // [rsp+288h] [rbp-68h]
  __int64 v326; // [rsp+290h] [rbp-60h]
  int v327; // [rsp+298h] [rbp-58h]
  char v328; // [rsp+29Ch] [rbp-54h]
  char v329; // [rsp+2A0h] [rbp-50h] BYREF

  v7 = a2;
  *a4 = 0;
  if ( *(_BYTE *)(a2 + 26) )
  {
    v8 = *(_DWORD *)(a2 + 8);
    v270 = *(_DWORD *)(a2 + 16);
    v9 = *(_DWORD *)(a2 + 12);
    v291 = v8;
    v283 = v9;
    v277 = *(_DWORD *)(a2 + 20);
    if ( (unsigned int)(v8 - 1) <= 0x3FFFFFFE )
      return 0;
  }
  else
  {
    v8 = *(_DWORD *)(a2 + 12);
    v270 = *(_DWORD *)(a2 + 20);
    v12 = *(_DWORD *)(a2 + 8);
    v291 = v8;
    v283 = v12;
    v277 = *(_DWORD *)(a2 + 16);
    if ( (unsigned int)(v8 - 1) <= 0x3FFFFFFE )
      return 0;
  }
  v13 = *(_QWORD *)(a1 + 40);
  v14 = v8 & 0x7FFFFFFF;
  v15 = *(unsigned int *)(v13 + 160);
  if ( (v8 & 0x7FFFFFFFu) >= (unsigned int)v15 || (v16 = *(_QWORD *)(*(_QWORD *)(v13 + 152) + 8LL * v14)) == 0 )
  {
    v25 = v14 + 1;
    if ( (unsigned int)v15 < v25 )
    {
      v28 = v25;
      if ( v25 != v15 )
      {
        if ( v25 >= v15 )
        {
          v56 = *(_QWORD *)(v13 + 168);
          v57 = v25 - v15;
          if ( v28 > *(unsigned int *)(v13 + 164) )
          {
            v266 = v57;
            v269 = *(_QWORD *)(a1 + 40);
            sub_C8D5F0(v13 + 152, (const void *)(v13 + 168), v28, 8u, v13, a6);
            v13 = v269;
            v57 = v266;
            v15 = *(unsigned int *)(v269 + 160);
          }
          v26 = *(_QWORD *)(v13 + 152);
          v58 = (_QWORD *)(v26 + 8 * v15);
          v59 = &v58[v57];
          if ( v58 != v59 )
          {
            do
              *v58++ = v56;
            while ( v59 != v58 );
            LODWORD(v15) = *(_DWORD *)(v13 + 160);
            v26 = *(_QWORD *)(v13 + 152);
          }
          *(_DWORD *)(v13 + 160) = v15 + v57;
          goto LABEL_19;
        }
        *(_DWORD *)(v13 + 160) = v25;
      }
    }
    v26 = *(_QWORD *)(v13 + 152);
LABEL_19:
    v268 = (_QWORD *)v13;
    v27 = sub_2E10F30(v8);
    *(_QWORD *)(v26 + 8LL * (v8 & 0x7FFFFFFF)) = v27;
    v16 = v27;
    sub_2E11E80(v268, v27);
    v13 = *(_QWORD *)(a1 + 40);
  }
  v265 = sub_2DF8360(*(_QWORD *)(v13 + 32), a3, 0);
  v17 = v265 & 0xFFFFFFFFFFFFFFF8LL;
  v18 = (__int64 *)sub_2E09D00((__int64 *)v16, v265 & 0xFFFFFFFFFFFFFFF8LL);
  v21 = *(_QWORD *)v16 + 24LL * *(unsigned int *)(v16 + 8);
  if ( v18 == (__int64 *)v21
    || (*(_DWORD *)((*v18 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v18 >> 1) & 3) > *(_DWORD *)(v17 + 24) )
  {
    return 0;
  }
  v267 = v18[2];
  if ( v17 == (v18[1] & 0xFFFFFFFFFFFFFFF8LL) && (__int64 *)v21 == v18 + 3 )
  {
    if ( !v267 )
      return 0;
  }
  else if ( v17 == *(_QWORD *)(v267 + 8) )
  {
    return 0;
  }
  v22 = *(_QWORD *)(v267 + 8);
  if ( (v22 & 6) == 0 )
    return 0;
  v23 = v22 & 0xFFFFFFFFFFFFFFF8LL;
  if ( !v23 )
    return 0;
  v24 = *(_QWORD *)(v23 + 16);
  v263 = v24;
  if ( !v24 )
    return 0;
  if ( ((*(_WORD *)(v24 + 68) - 12) & 0xFFF7) == 0 )
  {
    *a4 = 1;
    return 0;
  }
  v29 = *(_QWORD *)(a1 + 32);
  v30 = *(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v29 + 176LL);
  if ( v30 == sub_2E4F5F0 )
  {
    v31 = *(_DWORD *)(v24 + 44);
    if ( (v31 & 4) != 0 || (v31 & 8) == 0 )
      v32 = (*(_QWORD *)(*(_QWORD *)(v24 + 16) + 24LL) >> 30) & 1LL;
    else
      LOBYTE(v32) = sub_2E88A90(v24, 0x40000000, 2);
  }
  else
  {
    LOBYTE(v32) = v30(v29, v24);
  }
  if ( !(_BYTE)v32 )
    return 0;
  v309[1] = v16;
  v298 = v300;
  v299 = 0x800000000LL;
  v309[2] = &v298;
  v33 = *(_QWORD *)(a1 + 40);
  v34 = *(_QWORD *)(a1 + 8);
  v309[0] = &unk_4A388F0;
  v35 = *(_QWORD *)(v34 + 32);
  v311 = v33;
  v36 = 0;
  v312 = 0;
  v310 = v35;
  v37 = *(_QWORD *)(v34 + 16);
  v38 = *(__int64 (**)())(*(_QWORD *)v37 + 128LL);
  v39 = 0;
  if ( v38 != sub_2DAC790 )
  {
    v39 = ((__int64 (__fastcall *)(__int64, __int64 (*)(), _QWORD))v38)(v37, v38, 0);
    v36 = (unsigned int)v299;
    v35 = v310;
  }
  v313 = v39;
  v315 = v36;
  v314 = a1;
  v319 = &v323;
  v316 = 0;
  v317 = 0;
  v318 = 0;
  v320 = 4;
  v321 = 0;
  v322 = 1;
  v324 = 0;
  v325 = &v329;
  v326 = 4;
  v327 = 0;
  v328 = 1;
  if ( !*(_BYTE *)(v35 + 36) )
  {
LABEL_76:
    sub_C8CC70(v35 + 8, (__int64)v309, v36, v35, v19, v20);
    goto LABEL_35;
  }
  v40 = *(_QWORD ***)(v35 + 16);
  v41 = *(unsigned int *)(v35 + 28);
  v36 = (__int64)&v40[v41];
  if ( v40 == (_QWORD **)v36 )
  {
LABEL_74:
    if ( (unsigned int)v41 < *(_DWORD *)(v35 + 24) )
    {
      *(_DWORD *)(v35 + 28) = v41 + 1;
      *(_QWORD *)v36 = v309;
      ++*(_QWORD *)(v35 + 8);
      goto LABEL_35;
    }
    goto LABEL_76;
  }
  while ( *v40 != v309 )
  {
    if ( (_QWORD **)v36 == ++v40 )
      goto LABEL_74;
  }
LABEL_35:
  if ( !(unsigned __int8)sub_3509C80(v309, v267, v263) )
    goto LABEL_50;
  v42 = *(_BYTE **)(v263 + 32);
  v43 = &v42[40 * (*(_DWORD *)(v263 + 40) & 0xFFFFFF)];
  if ( v42 == v43 )
    goto LABEL_50;
  v44 = *(_BYTE **)(v263 + 32);
  while ( 1 )
  {
    v45 = v44;
    if ( sub_2DADC00(v44) )
      break;
    v44 += 40;
    if ( v43 == v44 )
      goto LABEL_50;
  }
  if ( v43 == v44 )
    goto LABEL_50;
  v254 = v16;
  while ( *((_DWORD *)v45 + 2) != v291 || (*(_DWORD *)v45 & 0xFFF00) != 0 && (v45[4] & 1) == 0 )
  {
    if ( v45 + 40 != v43 )
    {
      v49 = v45 + 40;
      while ( 1 )
      {
        v45 = v49;
        if ( sub_2DADC00(v49) )
          break;
        v49 += 40;
        if ( v43 == v49 )
          goto LABEL_50;
      }
      if ( v43 != v49 )
        continue;
    }
    goto LABEL_50;
  }
  v290 = 0;
  v61 = v254;
  if ( !(unsigned __int8)sub_2E8B400(v263, (__int64)&v290, v46, v47, v48) )
    goto LABEL_50;
  v62 = *(_QWORD *)(v263 + 16);
  if ( *(_BYTE *)(v62 + 4) != 1 )
    goto LABEL_50;
  v63 = *(_QWORD *)(a3 + 32);
  v259 = *(_DWORD *)(v63 + 8);
  v282 = v283 - 1;
  if ( (unsigned int)(v283 - 1) <= 0x3FFFFFFE )
  {
    v90 = *(_QWORD *)(a1 + 24);
    v91 = 24LL * v259;
    v92 = *(_QWORD *)(v90 + 8);
    v93 = *(_QWORD *)(v90 + 56);
    v94 = (__int16 *)(v93 + 2LL * *(unsigned int *)(v92 + v91 + 8));
    v95 = v94 + 1;
    v96 = *v94;
    v97 = v259 + *v94;
    if ( v96 )
    {
      if ( v97 == v283 )
      {
LABEL_121:
        v98 = (__int16 *)(2LL * (*(_DWORD *)(v92 + 24LL * (unsigned int)v283 + 16) >> 12) + v93);
        if ( v98 )
        {
          v99 = v7;
          v100 = v98;
          v101 = v254;
          v102 = *(_QWORD *)(a3 + 32);
          v103 = *(_DWORD *)(v92 + 24LL * (unsigned int)v283 + 16) & 0xFFF;
          while ( 1 )
          {
            v104 = *(_DWORD *)(*(_QWORD *)(v90 + 8) + v91 + 16) & 0xFFF;
            v105 = (__int16 *)(*(_QWORD *)(v90 + 56) + 2LL * (*(_DWORD *)(*(_QWORD *)(v90 + 8) + v91 + 16) >> 12));
            do
            {
              if ( !v105 )
                break;
              if ( v103 == v104 )
                goto LABEL_128;
              v106 = *v105++;
              v104 += v106;
            }
            while ( (_WORD)v106 );
            v252 = v101;
            v256 = v99;
            v107 = sub_2F65DA0(*(_QWORD **)(a1 + 40), v103);
            v108 = sub_2F65890(v107, v265);
            v99 = v256;
            v101 = v252;
            if ( v108 )
              goto LABEL_50;
LABEL_128:
            v109 = *v100++;
            v103 += v109;
            if ( !(_WORD)v109 )
              break;
            v90 = *(_QWORD *)(a1 + 24);
          }
          v63 = v102;
          v7 = v99;
          v61 = v101;
        }
      }
      else
      {
        while ( 1 )
        {
          v97 += *v95;
          if ( !*v95 )
            break;
          ++v95;
          if ( v97 == v283 )
            goto LABEL_121;
        }
      }
    }
  }
  v64 = v277 != 0 && v270 != 0;
  if ( v64 || (*(_DWORD *)v63 & 0xFFF00) != 0 && (*(_BYTE *)(v63 + 4) & 1) == 0 )
    goto LABEL_50;
  if ( v259 - 1 > 0x3FFFFFFE )
    goto LABEL_178;
  v65 = a1;
  if ( *(_BYTE *)(v7 + 24) )
  {
    sub_2F65720((__int64)&v305, *(_QWORD *)(a1 + 24), v283);
    v209 = (__int16 *)v306;
    v210 = v307[0];
    if ( (__int16 *)v306 != v308 )
    {
      v253 = v7;
      v211 = (unsigned int)v305;
      v212 = v277 != 0 && v270 != 0;
      v213 = v62;
      v214 = v308;
      v258 = 24LL * v259;
      v66 = *(_QWORD *)(a1 + 24);
      while ( 1 )
      {
        v215 = *(_DWORD *)(*(_QWORD *)(v66 + 8) + v258 + 16) & 0xFFF;
        v216 = (__int16 *)(*(_QWORD *)(v66 + 56) + 2LL * (*(_DWORD *)(*(_QWORD *)(v66 + 8) + v258 + 16) >> 12));
        do
        {
          if ( !v216 )
            break;
          if ( v215 == v210 )
            goto LABEL_246;
          v217 = *v216++;
          v215 += v217;
        }
        while ( (_WORD)v217 );
        v250 = v212;
        v218 = sub_2F65DA0(*(_QWORD **)(a1 + 40), v210);
        v219 = sub_2F65890(v218, v265);
        v212 = v250;
        if ( v219 )
          break;
        v66 = *(_QWORD *)(a1 + 24);
LABEL_246:
        v220 = *v209++;
        v221 = v220;
        v210 = v211 + v220;
        if ( !v221 )
          v209 = 0;
        if ( v214 == v209 )
        {
          v62 = v213;
          v7 = v253;
          v64 = v212;
          goto LABEL_88;
        }
        v211 = v210;
      }
      v10 = v250;
      goto LABEL_51;
    }
LABEL_178:
    v65 = a1;
  }
  v66 = *(_QWORD *)(v65 + 24);
LABEL_88:
  v67 = **(_DWORD **)(v263 + 32);
  v255 = (*(__int64 (__fastcall **)(_QWORD, __int64, _QWORD, __int64, _QWORD))(**(_QWORD **)(a1 + 32) + 16LL))(
           *(_QWORD *)(a1 + 32),
           v62,
           0,
           v66,
           *(_QWORD *)(a1 + 8));
  v68 = (v67 >> 8) & 0xFFF;
  if ( *(_WORD *)(v263 + 68) != 10 && v282 <= 0x3FFFFFFE )
  {
    v159 = v68;
    if ( *(_DWORD *)(v7 + 20) )
    {
      if ( !v68 )
      {
        v159 = *(_DWORD *)(v7 + 20);
        goto LABEL_215;
      }
      v159 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 24) + 296LL))(*(_QWORD *)(a1 + 24));
    }
    v160 = v283;
    if ( !v159 )
    {
LABEL_183:
      v161 = v160 >> 3;
      if ( (unsigned int)v161 >= *(unsigned __int16 *)(*(_QWORD *)v255 + 22LL) )
        goto LABEL_50;
      v162 = *(unsigned __int8 *)(*(_QWORD *)(*(_QWORD *)v255 + 8LL) + v161);
      if ( !_bittest(&v162, v160 & 7) )
        goto LABEL_50;
      goto LABEL_90;
    }
LABEL_215:
    v160 = sub_E91CF0(*(_QWORD **)(a1 + 24), v283, v159);
    if ( v160 - 1 > 0x3FFFFFFE )
      goto LABEL_50;
    goto LABEL_183;
  }
LABEL_90:
  v294[0] = v267;
  v294[1] = v263;
  v264 = sub_350A430(v309, v294, v267, v265, 1);
  if ( v264 )
  {
    v69 = *(_QWORD *)(a3 + 56);
    v292 = (__m128i *)v69;
    if ( v69 )
      sub_B96E90((__int64)&v292, v69, 1);
    v70 = a3;
    v251 = *(_QWORD *)(a3 + 24);
    if ( (*(_BYTE *)a3 & 4) == 0 && (*(_BYTE *)(a3 + 44) & 8) != 0 )
    {
      do
        v70 = *(_QWORD *)(v70 + 8);
      while ( (*(_BYTE *)(v70 + 44) & 8) != 0 );
    }
    v71 = *(_QWORD **)(v70 + 8);
    sub_350B670((unsigned int)v309, v251, (_DWORD)v71, v283, (unsigned int)v294, *(_QWORD *)(a1 + 24), 0, v270, a3);
    v72 = (_BYTE *)(*v71 & 0xFFFFFFFFFFFFFFF8LL);
    if ( !v72 )
      BUG();
    v73 = *v71 & 0xFFFFFFFFFFFFFFF8LL;
    if ( (*v72 & 4) == 0 && (v72[44] & 4) != 0 )
    {
      do
        v73 = *(_QWORD *)v73 & 0xFFFFFFFFFFFFFFF8LL;
      while ( (*(_BYTE *)(v73 + 44) & 4) != 0 );
    }
    v305 = v292;
    if ( v292 )
      sub_B96E90((__int64)&v305, (__int64)v292, 1);
    if ( (__m128i **)(v73 + 56) != &v305 )
    {
      v74 = *(_QWORD *)(v73 + 56);
      if ( v74 )
        sub_B91220(v73 + 56, v74);
      v75 = (unsigned __int8 *)v305;
      *(_QWORD *)(v73 + 56) = v305;
      if ( v75 )
      {
        sub_B976B0((__int64)&v305, v75, v73 + 56);
        v305 = 0;
      }
    }
    sub_9C6650(&v305);
    v271 = *(_QWORD *)(v7 + 32);
    if ( v277 )
    {
      v78 = *(_QWORD *)(v73 + 32);
      if ( v277 == ((*(_DWORD *)v78 >> 8) & 0xFFF) )
      {
        v223 = sub_2FF6970(
                 *(_QWORD *)(a1 + 24),
                 v255,
                 *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 16) + 56LL) + 16LL * (v283 & 0x7FFFFFFF))
               & 0xFFFFFFFFFFFFFFF8LL,
                 v76);
        if ( v223 )
        {
          v224 = *(_DWORD **)(v73 + 32);
          v225 = &v224[10 * (*(_DWORD *)(v73 + 40) & 0xFFFFFF)];
          while ( v225 != v224 )
          {
            if ( !*(_BYTE *)v224 && v224[2] == v283 && v277 == ((*v224 >> 8) & 0xFFF) )
              *v224 &= 0xFFF000FF;
            v224 += 10;
          }
          *(_BYTE *)(v78 + 4) &= ~1u;
          v271 = v223;
          v277 = 0;
        }
      }
    }
    v305 = (__m128i *)v307;
    v306 = 0x400000000LL;
    v79 = *(unsigned int *)(a3 + 40);
    v80 = *(_QWORD *)(a3 + 16);
    v81 = (*(_DWORD *)(a3 + 40) & 0xFFFFFF) - (unsigned int)*(unsigned __int16 *)(v80 + 2);
    if ( v81 > 4 )
    {
      sub_C8D5F0((__int64)&v305, v307, v81, 0x28u, v79, v77);
      LODWORD(v79) = *(_DWORD *)(a3 + 40);
      v80 = *(_QWORD *)(a3 + 16);
    }
    v82 = *(unsigned __int16 *)(v80 + 2);
    v83 = v79 & 0xFFFFFF;
    if ( v82 != (_DWORD)v83 )
    {
      v249 = v61;
      v84 = v82;
      v85 = v83;
      do
      {
        v86 = (const __m128i *)(*(_QWORD *)(a3 + 32) + 40LL * v84);
        if ( !v86->m128i_i8[0] )
        {
          v87 = (unsigned int)v306;
          v88 = (unsigned __int64)v305;
          if ( (unsigned __int64)(unsigned int)v306 + 1 > HIDWORD(v306) )
          {
            if ( v305 > v86 || v86 >= (__m128i *)((char *)v305 + 40 * (unsigned int)v306) )
            {
              sub_C8D5F0((__int64)&v305, v307, (unsigned int)v306 + 1LL, 0x28u, v83, v77);
              v87 = (unsigned int)v306;
              v88 = (unsigned __int64)v305;
            }
            else
            {
              v208 = (char *)v86 - (char *)v305;
              sub_C8D5F0((__int64)&v305, v307, (unsigned int)v306 + 1LL, 0x28u, v83, v77);
              v88 = (unsigned __int64)v305;
              v87 = (unsigned int)v306;
              v86 = (__m128i *)((char *)v305 + v208);
            }
          }
          v89 = (__m128i *)(v88 + 40 * v87);
          *v89 = _mm_loadu_si128(v86);
          v89[1] = _mm_loadu_si128(v86 + 1);
          v89[2].m128i_i64[0] = v86[2].m128i_i64[0];
          LODWORD(v306) = v306 + 1;
        }
        ++v84;
      }
      while ( v85 != v84 );
      v61 = v249;
    }
    sub_2E88E20(a3);
    sub_2F682D0((__int64)&v301, a1 + 664, (__int64 *)a3, v110, v111, v112);
    v295 = (unsigned int *)v297;
    v296 = 0x400000000LL;
    v116 = *(unsigned __int16 *)(*(_QWORD *)(v73 + 16) + 2LL);
    if ( v116 == (*(_DWORD *)(v73 + 40) & 0xFFFFFF) )
    {
      v117 = *(_QWORD *)(v73 + 32);
      v118 = 0;
    }
    else
    {
      v117 = *(_QWORD *)(v73 + 32);
      v285 = v64;
      v118 = 0;
      v119 = v61;
      v120 = *(_DWORD *)(v73 + 40) & 0xFFFFFF;
      do
      {
        v113 = v117 + 40LL * v116;
        if ( !*(_BYTE *)v113 && (*(_BYTE *)(v113 + 3) & 0x10) != 0 )
        {
          v114 = *(unsigned int *)(v113 + 8);
          v113 = (unsigned int)(v114 - 1);
          if ( (unsigned int)v113 <= 0x3FFFFFFE )
          {
            v121 = (unsigned int)v296;
            v115 = (unsigned int)v296 + 1LL;
            if ( (_DWORD)v114 == v283 )
              v118 = v264;
            if ( v115 > HIDWORD(v296) )
            {
              v248 = v114;
              sub_C8D5F0((__int64)&v295, v297, (unsigned int)v296 + 1LL, 4u, v114, v115);
              v121 = (unsigned int)v296;
              v114 = v248;
            }
            v113 = (__int64)v295;
            v295[v121] = v114;
            v117 = *(_QWORD *)(v73 + 32);
            LODWORD(v296) = v296 + 1;
          }
        }
        ++v116;
      }
      while ( v120 != v116 );
      v61 = v119;
      v64 = v285;
    }
    if ( v283 >= 0 )
    {
      if ( v259 == *(_DWORD *)(v117 + 8) )
      {
LABEL_158:
        sub_2E8D840(v73, *(_DWORD *)(v117 + 8), 1);
        v136 = (unsigned __int64)v305;
        v137 = (__m128i *)((char *)v305 + 40 * (unsigned int)v306);
        if ( v305 != v137 )
        {
          do
          {
            v138 = (const __m128i *)v136;
            v136 += 40LL;
            sub_2E8F270(v73, v138);
          }
          while ( v137 != (__m128i *)v136 );
        }
        v139 = sub_2DF8360(*(_QWORD *)(*(_QWORD *)(a1 + 40) + 32LL), v73, 0);
        v141 = (unsigned __int64)v295;
        v287 = &v295[(unsigned int)v296];
        if ( v295 != v287 )
        {
          v278 = v61;
          v142 = v139 & 0xFFFFFFFFFFFFFFF8LL;
          v143 = v295;
          do
          {
            v144 = *(_QWORD *)(a1 + 24);
            v145 = *(_QWORD *)(v144 + 8);
            v146 = *(_DWORD *)(v145 + 24LL * *v143 + 16) & 0xFFF;
            v147 = (__int16 *)(*(_QWORD *)(v144 + 56) + 2LL * (*(_DWORD *)(v145 + 24LL * *v143 + 16) >> 12));
            do
            {
              if ( !v147 )
                break;
              v148 = *(_QWORD *)(a1 + 40);
              v149 = *(_QWORD *)(v148 + 424);
              v150 = *(_QWORD *)(v149 + 8LL * v146);
              if ( v150 )
                sub_2E0E0B0(v150, v142 | 4, (__int64 *)(v148 + 56), v149, v140, v141);
              v151 = *v147++;
              v146 += v151;
            }
            while ( (_WORD)v151 );
            ++v143;
          }
          while ( v287 != v143 );
          v61 = v278;
        }
        v152 = v291;
        v153 = *(_QWORD *)(a1 + 16);
        if ( sub_2F657C0(v153, v291) )
        {
LABEL_170:
          v154 = *(_DWORD *)(a1 + 912);
          if ( v154 )
          {
            v155 = v154 - 1;
            v156 = 1;
            for ( i = v155 & (37 * v291); ; i = v155 & v222 )
            {
              v158 = *(_DWORD *)(*(_QWORD *)(a1 + 896) + 4LL * i);
              if ( v291 == v158 )
                break;
              if ( v158 == -1 )
                goto LABEL_217;
              v222 = v156 + i;
              ++v156;
            }
          }
          else
          {
LABEL_217:
            v201 = sub_2F657C0(*(_QWORD *)(a1 + 16), v291);
            v204 = 0;
            if ( v201 )
            {
LABEL_218:
              v204 = (((*(_WORD *)(*(_QWORD *)(v201 + 16) + 68LL) - 12) & 0xFFF7) == 0) + (unsigned int)v204;
              while ( 1 )
              {
                v201 = *(_QWORD *)(v201 + 32);
                if ( !v201 )
                  break;
                if ( (*(_BYTE *)(v201 + 3) & 0x10) == 0 && (*(_BYTE *)(v201 + 4) & 8) == 0 )
                  goto LABEL_218;
              }
            }
            if ( (unsigned int)qword_50249C8 <= (unsigned int)v204 )
            {
              sub_2F6BF60((__int64)&v301, a1 + 888, &v291);
            }
            else
            {
              sub_2F60EC0(a1, v61, a1 + 760, v204, v202, v203);
              if ( *(_DWORD *)(a1 + 768) )
                sub_350D230(v309, a1 + 760, 0, 0);
            }
          }
          if ( v295 != (unsigned int *)v297 )
            _libc_free((unsigned __int64)v295);
          if ( v305 != (__m128i *)v307 )
            _libc_free((unsigned __int64)v305);
          sub_9C6650(&v292);
          v10 = v264;
          goto LABEL_51;
        }
        v205 = sub_2F65770(v153, v152);
        while ( 1 )
        {
          if ( !v205 )
            goto LABEL_170;
          v206 = *(_QWORD *)(v205 + 32);
          if ( v206 )
          {
            do
            {
              if ( (*(_BYTE *)(v206 + 3) & 0x10) == 0 )
                break;
              v206 = *(_QWORD *)(v206 + 32);
            }
            while ( v206 );
            v207 = *(_QWORD *)(v205 + 16);
            if ( (unsigned __int16)(*(_WORD *)(v207 + 68) - 14) <= 4u )
              goto LABEL_230;
            v205 = v206;
          }
          else
          {
            v207 = *(_QWORD *)(v205 + 16);
            if ( (unsigned __int16)(*(_WORD *)(v207 + 68) - 14) > 4u )
              goto LABEL_170;
LABEL_230:
            if ( v282 > 0x3FFFFFFE )
              sub_2EAB0C0(v205, v283);
            else
              sub_2EAB1E0(v205, v283, *(_QWORD **)(a1 + 24));
            sub_2F65640(v251, *(unsigned __int64 **)(v73 + 8), *(_QWORD *)(v207 + 24), (unsigned __int64 *)v207);
            v205 = v206;
          }
        }
      }
      *(_BYTE *)(v117 + 3) |= 0x40u;
      if ( !v118 )
      {
        v301.m128i_i64[0] = 805306368;
        v302 = 0;
        v301.m128i_i32[2] = v259;
        v303 = 0;
        v304 = 0;
        sub_2E8F270(v73, &v301);
      }
      v122 = sub_2DF8360(*(_QWORD *)(*(_QWORD *)(a1 + 40) + 32LL), v73, 0) & 0xFFFFFFFFFFFFFFF8LL;
      sub_2F65720((__int64)&v301, *(_QWORD *)(a1 + 24), *(_DWORD *)(*(_QWORD *)(v73 + 32) + 8LL));
      v125 = (__int16 *)v301.m128i_i64[1];
      v126 = v304;
      v127 = v301.m128i_u32[0];
      v128 = (unsigned int)v302;
      if ( (__int16 *)v301.m128i_i64[1] != v304 )
      {
        v286 = v73;
        v129 = v61;
        v130 = v122;
        for ( j = v301.m128i_i32[0]; ; j = v128 )
        {
          v132 = *(_QWORD *)(a1 + 40);
          v133 = *(_QWORD *)(*(_QWORD *)(v132 + 424) + 8 * v128);
          if ( v133 )
            sub_2E0E0B0(v133, v130 | 4, (__int64 *)(v132 + 56), v123, v127, v124);
          v134 = *v125++;
          v135 = v134;
          v128 = (unsigned int)(j + v134);
          if ( !v135 )
            v125 = 0;
          if ( v126 == v125 )
            break;
        }
        v61 = v129;
        v73 = v286;
      }
LABEL_157:
      v117 = *(_QWORD *)(v73 + 32);
      goto LABEL_158;
    }
    v163 = (*(_DWORD *)v117 >> 8) & 0xFFF;
    v260 = (*(_DWORD *)v117 >> 8) & 0xFFF;
    if ( v255 )
    {
      v164 = *(_QWORD *)(a1 + 24);
      if ( v163 )
      {
        v271 = (*(__int64 (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)v164 + 256LL))(
                 v164,
                 v271,
                 v255,
                 v163);
        v169 = sub_2DF8570(*(_QWORD *)(a1 + 40), v283, v165, v166, v167, v168);
        v170 = *(_QWORD **)(v169 + 104);
        v288 = (__int64 *)v169;
        if ( !v170 )
        {
          sub_2EBE4E0(*(_QWORD *)(a1 + 16), v283, v271);
          sub_2F688A0(a1, v283, v283, v277, v188, v189);
          **(_DWORD **)(v73 + 32) = **(_DWORD **)(v73 + 32) & 0xFFF000FF | (v163 << 8);
          goto LABEL_200;
        }
      }
      else
      {
        v271 = sub_2FF6970(v164, v271, v255, v113);
        v243 = sub_2DF8570(*(_QWORD *)(a1 + 40), v283, v239, v240, v241, v242);
        v170 = *(_QWORD **)(v243 + 104);
        v288 = (__int64 *)v243;
        if ( !v170 )
        {
          sub_2EBE4E0(*(_QWORD *)(a1 + 16), v283, v271);
          sub_2F688A0(a1, v283, v283, v277, v244, v245);
          **(_DWORD **)(v73 + 32) &= 0xFFF000FF;
          goto LABEL_193;
        }
      }
    }
    else
    {
      v246 = sub_2DF8570(*(_QWORD *)(a1 + 40), v283, 0, v113, v114, v115);
      v170 = *(_QWORD **)(v246 + 104);
      v288 = (__int64 *)v246;
      if ( !v170 )
        goto LABEL_192;
    }
    do
    {
      v171 = v170[15];
      v172 = v170[14];
      if ( v277 )
      {
        v172 = (*(__int64 (__fastcall **)(_QWORD, _QWORD, _QWORD, __int64))(**(_QWORD **)(a1 + 24) + 312LL))(
                 *(_QWORD *)(a1 + 24),
                 v277,
                 v170[14],
                 v171);
        v171 = v173;
      }
      v170[14] = v172;
      v170[15] = v171;
      v170 = (_QWORD *)v170[13];
    }
    while ( v170 );
LABEL_192:
    sub_2EBE4E0(*(_QWORD *)(a1 + 16), v283, v271);
    sub_2F688A0(a1, v283, v283, v277, v174, v175);
    **(_DWORD **)(v73 + 32) = (v163 << 8) | **(_DWORD **)(v73 + 32) & 0xFFF000FF;
    if ( !v163 )
    {
LABEL_193:
      *(_BYTE *)(*(_QWORD *)(v73 + 32) + 4LL) &= ~1u;
      if ( v288[13] )
      {
        v176 = sub_2DF8360(*(_QWORD *)(*(_QWORD *)(a1 + 40) + 32LL), v73, 0) & 0xFFFFFFFFFFFFFFF8LL
             | (2LL * (unsigned int)((*(unsigned __int8 *)(*(_QWORD *)(v73 + 32) + 4LL) << 29 >> 31) + 2));
        v177 = sub_2EBF1E0(*(_QWORD *)(a1 + 16), v283);
        v180 = *(__int64 **)(a1 + 40);
        v261 = v61;
        v272 = v177;
        v279 = v181;
        v182 = v288[13];
        v183 = v182;
        while ( v183 )
        {
          if ( !(unsigned __int8)sub_2F65890(v183, v176) )
            sub_2E0E0B0(v183, v176, v180 + 7, v185, v186, v187);
          v272 &= sub_2F65580((_QWORD *)(v183 + 112));
          v183 = *(_QWORD *)(v183 + 104);
          v279 &= v184;
        }
        v61 = v261;
        if ( v272 | v279 )
        {
          v237 = v180[7];
          v180[17] += 128;
          v238 = (_QWORD *)((v237 + 15) & 0xFFFFFFFFFFFFFFF0LL);
          if ( v180[8] >= (unsigned __int64)(v238 + 16) && v237 )
          {
            v180[7] = (__int64)(v238 + 16);
            if ( !v238 )
            {
              MEMORY[0x68] = v288[13];
              BUG();
            }
          }
          else
          {
            v238 = (_QWORD *)sub_9D1E70((__int64)(v180 + 7), 128, 128, 4);
          }
          v238[13] = 0;
          *v238 = v238 + 2;
          v238[8] = v238 + 10;
          v238[1] = 0x200000000LL;
          v238[9] = 0x200000000LL;
          v238[12] = 0;
          v238[14] = v272;
          v238[15] = v279;
          v238[13] = v288[13];
          v288[13] = (__int64)v238;
          sub_2E0E0B0((__int64)v238, v176, v180 + 7, v182, v178, v179);
          v117 = *(_QWORD *)(v73 + 32);
          goto LABEL_158;
        }
      }
      goto LABEL_157;
    }
LABEL_200:
    if ( v288[13] )
    {
      v190 = v260;
    }
    else
    {
      v226 = *(_QWORD *)(a1 + 16);
      v227 = *(_QWORD *)(*(_QWORD *)(v226 + 56) + 16LL * (v283 & 0x7FFFFFFF));
      if ( !v227 )
        goto LABEL_157;
      if ( (v227 & 4) != 0 )
        goto LABEL_157;
      v228 = v227 & 0xFFFFFFFFFFFFFFF8LL;
      if ( !v228 )
        goto LABEL_157;
      if ( !*(_BYTE *)(v226 + 48) )
        goto LABEL_157;
      if ( !*(_BYTE *)(v228 + 43) )
        goto LABEL_157;
      v190 = v260;
      v229 = sub_2EBF1E0(v226, v283);
      v281 = v230;
      v231 = (__int64 *)(16LL * v260 + *(_QWORD *)(*(_QWORD *)(a1 + 24) + 272LL));
      v232 = *v231;
      v233 = v231[1];
      v301.m128i_i64[0] = v232;
      v301.m128i_i64[1] = v233;
      v234 = sub_2F65580(&v301);
      v275 = sub_2F612A0(v229, v281, v234);
      v276 = v235;
      v236 = (__int64 *)(*(_QWORD *)(a1 + 40) + 56LL);
      sub_2F687C0((__int64)v288, v236, v301.m128i_i64[0], v301.m128i_i64[1], v288);
      sub_2F687C0((__int64)v288, v236, v275, v276, v288);
      if ( !v288[13] )
        goto LABEL_157;
    }
    v273 = *(_QWORD *)(a1 + 40);
    v257 = *(_QWORD *)(v273 + 32);
    v191 = sub_2DF8360(v257, v73, 0) & 0xFFFFFFFFFFFFFFF8LL;
    v274 = (__int64 *)(v273 + 56);
    v192 = (__int64 *)(*(_QWORD *)(*(_QWORD *)(a1 + 24) + 272LL) + 16 * v190);
    v193 = *v192;
    v280 = v192[1];
    LODWORD(v192) = *(unsigned __int8 *)(*(_QWORD *)(v73 + 32) + 4LL);
    v247 = *(_QWORD **)(a1 + 24);
    v301.m128i_i64[0] = (__int64)v274;
    v262 = v193;
    v293 = v191 | (2LL * (unsigned int)(((int)((_DWORD)v192 << 29) >> 31) + 2));
    v301.m128i_i64[1] = (__int64)&v293;
    v303 = sub_2F62EE0;
    v302 = sub_2F60E90;
    sub_2E0C490((__int64)v288, v274, v193, v280, (unsigned __int64)&v301, v257, v247, 0);
    if ( v302 )
      v302((const __m128i **)&v301, &v301, 3);
    v194 = v191 | 4;
    for ( k = v288[13]; k; k = *(_QWORD *)(k + 104) )
    {
      *(_QWORD *)&v196 = sub_2F612A0(*(_QWORD *)(k + 112), *(_QWORD *)(k + 120), v262);
      if ( v196 == 0 )
      {
        v64 = v264;
        v200 = sub_2F658F0(k, v194);
        if ( v200 )
          sub_2E0A600(k, v200);
      }
      else if ( !*(_DWORD *)(k + 8) )
      {
        sub_2E0E0B0(k, v293, v274, v197, v198, v199);
      }
    }
    if ( v64 )
    {
      sub_2E0AF60((__int64)v288);
      v117 = *(_QWORD *)(v73 + 32);
      goto LABEL_158;
    }
    goto LABEL_157;
  }
LABEL_50:
  v10 = 0;
LABEL_51:
  v50 = v310;
  v51 = *(_BYTE *)(v310 + 36) == 0;
  v309[0] = &unk_4A388F0;
  if ( v51 )
  {
    v60 = sub_C8CA60(v310 + 8, (__int64)v309);
    if ( v60 )
    {
      *v60 = -2;
      ++*(_DWORD *)(v50 + 32);
      ++*(_QWORD *)(v50 + 8);
    }
  }
  else
  {
    v52 = *(_QWORD ***)(v310 + 16);
    v53 = &v52[*(unsigned int *)(v310 + 28)];
    v54 = v52;
    if ( v52 != v53 )
    {
      while ( *v54 != v309 )
      {
        if ( v53 == ++v54 )
          goto LABEL_57;
      }
      v55 = (unsigned int)(*(_DWORD *)(v310 + 28) - 1);
      *(_DWORD *)(v310 + 28) = v55;
      *v54 = v52[v55];
      ++*(_QWORD *)(v50 + 8);
    }
  }
LABEL_57:
  if ( !v328 )
    _libc_free((unsigned __int64)v325);
  if ( !v322 )
    _libc_free((unsigned __int64)v319);
  if ( v298 != v300 )
    _libc_free((unsigned __int64)v298);
  return v10;
}
