// Function: sub_3821CB0
// Address: 0x3821cb0
//
void __fastcall sub_3821CB0(__int64 *a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int16 *v5; // rax
  __int16 v6; // dx
  __int64 v7; // rax
  __int64 v8; // r9
  __int64 v9; // rax
  __m128i v10; // xmm0
  __m128i v11; // xmm1
  __int64 v12; // rax
  _QWORD *v13; // rdi
  unsigned __int64 v14; // r14
  int v15; // eax
  char v16; // bl
  __int64 (__fastcall *v17)(__int64, __int64, unsigned int, __int64); // rax
  __int64 v18; // rsi
  __int64 v19; // r8
  __int64 v20; // r9
  unsigned int v21; // eax
  unsigned __int64 v22; // r15
  unsigned int v23; // r11d
  unsigned __int64 v24; // rax
  unsigned __int64 v25; // rt2
  __int64 v26; // rsi
  const __m128i *v27; // rdi
  __int128 v28; // rax
  __int128 v29; // rax
  unsigned int v30; // eax
  unsigned int v31; // r11d
  __int64 v32; // rdx
  _QWORD *v33; // rbx
  __int128 v34; // rax
  __int64 v35; // r9
  unsigned __int8 *v36; // rax
  __int64 v37; // rdx
  _QWORD *v38; // rbx
  unsigned __int8 *v39; // r14
  __int64 v40; // r15
  __int128 v41; // rax
  __int64 v42; // r9
  __int64 v43; // rbx
  unsigned int v44; // edx
  __int64 v45; // r14
  __int64 v46; // rax
  int v47; // edx
  int v48; // ecx
  int v49; // edx
  __int64 v50; // rax
  int v51; // edx
  unsigned int v52; // eax
  __int64 *v53; // r15
  __int64 v54; // rdx
  unsigned int *v55; // rax
  __int64 v56; // rdx
  __int64 v57; // r9
  unsigned int v58; // edx
  unsigned __int8 *v59; // rbx
  __int64 v60; // r11
  __int128 v61; // rax
  __int64 v62; // rbx
  unsigned int v63; // edx
  __int64 v64; // r11
  unsigned int v65; // eax
  __int64 *v66; // r15
  __int64 v67; // rdx
  unsigned int *v68; // rax
  __int64 v69; // rdx
  __int64 v70; // r9
  unsigned int v71; // edx
  unsigned __int8 *v72; // rbx
  __int64 v73; // r11
  __int64 v74; // r15
  __int64 v75; // rax
  __int128 v76; // rax
  __int128 v77; // rax
  __int128 v78; // rax
  __int64 v79; // r9
  __int128 v80; // rax
  _QWORD *v81; // r14
  __int128 v82; // rax
  __int64 v83; // rax
  __int64 v84; // rdx
  unsigned int v85; // edx
  unsigned int v86; // edx
  __int128 v87; // rax
  __int64 v88; // r9
  __int64 v89; // rax
  __int64 v90; // r8
  int v91; // edx
  __int64 v92; // rax
  int v93; // edx
  __int64 v94; // rax
  unsigned __int64 v95; // rax
  unsigned __int64 i; // rdx
  _WORD *v97; // rdi
  __int64 v98; // rsi
  char v99; // bl
  __int64 v100; // r10
  int v101; // r14d
  unsigned int v102; // r15d
  unsigned int v103; // esi
  unsigned int v104; // edx
  __int64 v105; // rdx
  unsigned int v106; // r11d
  __int64 v107; // r14
  unsigned __int64 v108; // rax
  unsigned __int8 *v109; // r14
  __int64 v110; // rdx
  __int64 v111; // r15
  _QWORD *v112; // rbx
  __int128 v113; // rax
  __int64 v114; // r9
  __int64 v115; // rax
  _QWORD *v116; // r15
  __int64 v117; // rbx
  unsigned int v118; // edx
  __int64 v119; // r14
  __int128 v120; // rax
  __int64 v121; // r9
  __int64 v122; // rax
  unsigned int v123; // r11d
  unsigned int v124; // edx
  unsigned __int64 v125; // rdx
  unsigned __int64 v126; // rax
  __int128 v127; // rax
  __int64 v128; // r8
  int v129; // edx
  __int128 v130; // rax
  int v131; // edx
  __int64 v132; // r14
  __int128 v133; // rax
  __int64 v134; // rax
  int v135; // edx
  int v136; // ecx
  int v137; // edx
  int v138; // edx
  unsigned int v139; // edx
  __int64 v140; // rdx
  __int64 v141; // rdx
  __int64 v142; // r15
  unsigned int v143; // edx
  int v144; // r14d
  unsigned int v145; // esi
  __int64 v146; // rdx
  __int64 v147; // r15
  __int64 v148; // rdx
  _QWORD *v149; // r14
  __int128 v150; // rax
  __int64 v151; // r9
  __int128 v152; // rax
  _QWORD *v153; // r14
  __int128 v154; // rax
  __int64 v155; // r9
  __int64 v156; // rax
  _QWORD *v157; // rbx
  __int64 v158; // r14
  __int64 v159; // rdx
  __int64 v160; // r15
  __int128 v161; // rax
  __int64 v162; // r9
  __int128 v163; // rax
  _QWORD *v164; // rbx
  __int64 v165; // r9
  __int128 v166; // rax
  __int64 v167; // r9
  unsigned __int8 *v168; // rax
  _QWORD *v169; // r15
  unsigned int v170; // edx
  __int128 v171; // rax
  __int64 v172; // r9
  __int128 v173; // rax
  _QWORD *v174; // r15
  __int128 v175; // rax
  __int64 v176; // r9
  __int128 v177; // rax
  _QWORD *v178; // r15
  __int128 v179; // rax
  __int64 v180; // r9
  __int128 v181; // rax
  _QWORD *v182; // r15
  __int64 v183; // r9
  __int128 v184; // rax
  __int64 v185; // r9
  unsigned __int8 *v186; // rax
  unsigned int v187; // edx
  _QWORD *v188; // r15
  __int128 v189; // rax
  __int64 v190; // r9
  __int128 v191; // rax
  __int64 v192; // r9
  __int64 v193; // rdx
  _QWORD *v194; // r14
  __int128 v195; // rax
  __int64 v196; // r9
  unsigned int v197; // edx
  _QWORD *v198; // r14
  __int128 v199; // rax
  __int64 v200; // r9
  __int128 v201; // rax
  _QWORD *v202; // r14
  __int128 v203; // rax
  __int64 v204; // r9
  __int64 v205; // rax
  _QWORD *v206; // rbx
  __int64 v207; // r14
  __int64 v208; // rdx
  __int64 v209; // r15
  __int128 v210; // rax
  __int64 v211; // r9
  __int128 v212; // rax
  _QWORD *v213; // rbx
  __int64 v214; // r9
  __int128 v215; // rax
  __int64 v216; // r9
  unsigned __int8 *v217; // rax
  _QWORD *v218; // r15
  unsigned int v219; // edx
  __int128 v220; // rax
  __int64 v221; // r9
  __int128 v222; // rax
  _QWORD *v223; // r15
  __int128 v224; // rax
  __int64 v225; // r9
  __int128 v226; // rax
  _QWORD *v227; // r15
  __int128 v228; // rax
  __int64 v229; // r9
  __int128 v230; // rax
  _QWORD *v231; // r15
  __int64 v232; // r9
  __int128 v233; // rax
  __int64 v234; // r9
  unsigned __int8 *v235; // rax
  unsigned int v236; // edx
  __int128 v237; // [rsp-20h] [rbp-340h]
  __int128 v238; // [rsp-20h] [rbp-340h]
  __int128 v239; // [rsp-20h] [rbp-340h]
  __int128 v240; // [rsp-20h] [rbp-340h]
  __int128 v241; // [rsp-10h] [rbp-330h]
  __int128 v242; // [rsp-10h] [rbp-330h]
  __int128 v243; // [rsp-10h] [rbp-330h]
  unsigned int v244; // [rsp+18h] [rbp-308h]
  __int128 v245; // [rsp+20h] [rbp-300h]
  __int128 v246; // [rsp+30h] [rbp-2F0h]
  __int64 v247; // [rsp+30h] [rbp-2F0h]
  __int64 v248; // [rsp+38h] [rbp-2E8h]
  __int128 v249; // [rsp+40h] [rbp-2E0h]
  unsigned int v250; // [rsp+40h] [rbp-2E0h]
  __int128 v251; // [rsp+40h] [rbp-2E0h]
  unsigned int v252; // [rsp+40h] [rbp-2E0h]
  __int64 v253; // [rsp+40h] [rbp-2E0h]
  __int64 v254; // [rsp+40h] [rbp-2E0h]
  __int128 v255; // [rsp+50h] [rbp-2D0h]
  __int64 v256; // [rsp+50h] [rbp-2D0h]
  __int128 v257; // [rsp+60h] [rbp-2C0h]
  __int128 v258; // [rsp+60h] [rbp-2C0h]
  unsigned int v259; // [rsp+60h] [rbp-2C0h]
  __int64 v260; // [rsp+60h] [rbp-2C0h]
  __int64 v261; // [rsp+68h] [rbp-2B8h]
  unsigned int v262; // [rsp+70h] [rbp-2B0h]
  __int128 v263; // [rsp+70h] [rbp-2B0h]
  unsigned int v264; // [rsp+70h] [rbp-2B0h]
  unsigned int v265; // [rsp+70h] [rbp-2B0h]
  unsigned int v266; // [rsp+70h] [rbp-2B0h]
  __int64 v267; // [rsp+70h] [rbp-2B0h]
  __int64 v268; // [rsp+70h] [rbp-2B0h]
  unsigned int v269; // [rsp+70h] [rbp-2B0h]
  unsigned int v270; // [rsp+70h] [rbp-2B0h]
  __int128 v271; // [rsp+70h] [rbp-2B0h]
  __int128 v272; // [rsp+70h] [rbp-2B0h]
  unsigned int v273; // [rsp+70h] [rbp-2B0h]
  unsigned int v274; // [rsp+70h] [rbp-2B0h]
  unsigned int v275; // [rsp+70h] [rbp-2B0h]
  char v276; // [rsp+90h] [rbp-290h]
  __int128 v277; // [rsp+90h] [rbp-290h]
  unsigned int v278; // [rsp+A0h] [rbp-280h]
  __int128 v279; // [rsp+A0h] [rbp-280h]
  __int64 v280; // [rsp+A0h] [rbp-280h]
  __int128 v281; // [rsp+A0h] [rbp-280h]
  __int128 v282; // [rsp+A0h] [rbp-280h]
  unsigned int v283; // [rsp+A0h] [rbp-280h]
  unsigned int v284; // [rsp+A0h] [rbp-280h]
  __int128 v285; // [rsp+A0h] [rbp-280h]
  __int128 v286; // [rsp+A0h] [rbp-280h]
  unsigned int v289; // [rsp+C0h] [rbp-260h]
  __int64 v290; // [rsp+C0h] [rbp-260h]
  __int64 v291; // [rsp+C0h] [rbp-260h]
  __int64 v292; // [rsp+D0h] [rbp-250h]
  __int128 v293; // [rsp+D0h] [rbp-250h]
  unsigned __int64 v294; // [rsp+D0h] [rbp-250h]
  __int128 v295; // [rsp+D0h] [rbp-250h]
  __int64 v296; // [rsp+D8h] [rbp-248h]
  unsigned __int64 v297; // [rsp+D8h] [rbp-248h]
  __int64 v298; // [rsp+D8h] [rbp-248h]
  int v299; // [rsp+F8h] [rbp-228h]
  __int64 v300; // [rsp+110h] [rbp-210h]
  int v301; // [rsp+178h] [rbp-1A8h]
  __int64 v302; // [rsp+1C0h] [rbp-160h]
  __int64 v303; // [rsp+200h] [rbp-120h] BYREF
  int v304; // [rsp+208h] [rbp-118h]
  __int64 v305; // [rsp+210h] [rbp-110h] BYREF
  __int64 v306; // [rsp+218h] [rbp-108h]
  __int64 v307; // [rsp+220h] [rbp-100h] BYREF
  __int64 v308; // [rsp+228h] [rbp-F8h]
  __int128 v309; // [rsp+230h] [rbp-F0h] BYREF
  __int128 v310; // [rsp+240h] [rbp-E0h] BYREF
  __int128 v311; // [rsp+250h] [rbp-D0h] BYREF
  __int128 v312; // [rsp+260h] [rbp-C0h] BYREF
  unsigned __int64 v313; // [rsp+270h] [rbp-B0h] BYREF
  unsigned int v314; // [rsp+278h] [rbp-A8h]
  unsigned __int64 v315; // [rsp+280h] [rbp-A0h] BYREF
  __int64 v316; // [rsp+288h] [rbp-98h]
  __int64 v317; // [rsp+290h] [rbp-90h] BYREF
  __int64 v318; // [rsp+298h] [rbp-88h]
  unsigned __int64 v319; // [rsp+2A0h] [rbp-80h] BYREF
  __int64 v320; // [rsp+2A8h] [rbp-78h]
  _QWORD v321[14]; // [rsp+2B0h] [rbp-70h] BYREF

  v303 = *(_QWORD *)(a2 + 80);
  if ( v303 )
    sub_3813810(&v303);
  v304 = *(_DWORD *)(a2 + 72);
  v5 = *(__int16 **)(a2 + 48);
  v6 = *v5;
  v7 = *((_QWORD *)v5 + 1);
  LOWORD(v305) = v6;
  v306 = v7;
  v278 = sub_32844A0((unsigned __int16 *)&v305, a2);
  v9 = *(_QWORD *)(a2 + 40);
  v10 = _mm_loadu_si128((const __m128i *)v9);
  v11 = _mm_loadu_si128((const __m128i *)(v9 + 40));
  v12 = *(_QWORD *)(*(_QWORD *)(v9 + 80) + 96LL);
  if ( *(_DWORD *)(v12 + 32) > 0x40u )
  {
    v13 = (_QWORD *)a1[1];
    v14 = **(_QWORD **)(v12 + 24);
    v15 = *(_DWORD *)(a2 + 24);
    if ( v15 != 90 )
      goto LABEL_5;
LABEL_35:
    v276 = 1;
    v16 = 1;
    if ( v14 )
      goto LABEL_9;
    v65 = sub_38137B0(*a1, (__int64)v13, v305, v306);
    v66 = (__int64 *)a1[1];
    v256 = v67;
    v250 = v65;
    v68 = (unsigned int *)sub_33E5110(v66, (unsigned int)v305, v306, v65, v67);
    v72 = sub_3411F20(v66, 80, (__int64)&v303, v68, v69, v70, *(_OWORD *)&v10, *(_OWORD *)&v11);
    v73 = v71;
    LODWORD(v318) = v278;
    v74 = 1LL << ((unsigned __int8)v278 - 1);
    if ( v278 > 0x40 )
    {
      v261 = v71;
      sub_C43690((__int64)&v317, 0, 0);
      if ( (unsigned int)v318 <= 0x40 )
        v317 |= v74;
      else
        *(_QWORD *)(v317 + 8LL * ((v278 - 1) >> 6)) |= v74;
      LODWORD(v320) = v278;
      v283 = v278 - 1;
      sub_C43690((__int64)&v319, -1, 1);
      v75 = ~v74;
      v73 = v261;
      if ( (unsigned int)v320 > 0x40 )
      {
        *(_QWORD *)(v319 + 8LL * (v283 >> 6)) &= ~v74;
        goto LABEL_41;
      }
    }
    else
    {
      v317 = 1LL << ((unsigned __int8)v278 - 1);
      v75 = ~v74;
      LODWORD(v320) = v278;
      if ( v278 )
        v14 = 0xFFFFFFFFFFFFFFFFLL >> (63 - ((v278 - 1) & 0x3F));
      v319 = v14;
    }
    v319 &= v75;
LABEL_41:
    v248 = v73;
    *(_QWORD *)&v76 = sub_34007B0(a1[1], (__int64)&v317, (__int64)&v303, v305, v306, 0, v10, 0);
    v279 = v76;
    *(_QWORD *)&v77 = sub_34007B0(a1[1], (__int64)&v319, (__int64)&v303, v305, v306, 0, v10, 0);
    v263 = v77;
    *(_QWORD *)&v78 = sub_3400BD0(a1[1], 0, (__int64)&v303, (unsigned int)v305, v306, 0, v10, 0);
    v258 = v78;
    *(_QWORD *)&v80 = sub_3406EB0(
                        (_QWORD *)a1[1],
                        0xBCu,
                        (__int64)&v303,
                        (unsigned int)v305,
                        v306,
                        v79,
                        *(_OWORD *)&v10,
                        *(_OWORD *)&v11);
    v81 = (_QWORD *)a1[1];
    v293 = v80;
    *(_QWORD *)&v82 = sub_33ED040(v81, 0x14u);
    v83 = sub_340F900(v81, 0xD0u, (__int64)&v303, v250, v256, *((__int64 *)&v293 + 1), v293, v258, v82);
    v302 = sub_3288B20(a1[1], (int)&v303, v305, v306, v83, v84, v279, v263, 0);
    *((_QWORD *)&v238 + 1) = v85 | v248 & 0xFFFFFFFF00000000LL;
    *(_QWORD *)&v238 = v302;
    *((_QWORD *)&v293 + 1) = *((_QWORD *)&v238 + 1);
    v62 = sub_3288B20(a1[1], (int)&v303, v305, v306, (__int64)v72, 1, v238, (unsigned __int64)v72, 0);
    *((_QWORD *)&v293 + 1) = v86 | *((_QWORD *)&v293 + 1) & 0xFFFFFFFF00000000LL;
    sub_969240((__int64 *)&v319);
    sub_969240(&v317);
    v64 = *((_QWORD *)&v293 + 1);
LABEL_79:
    sub_375BC20(a1, v62, v64, a3, a4, v10);
LABEL_25:
    if ( v303 )
      sub_B91220((__int64)&v303, v303);
    return;
  }
  v14 = *(_QWORD *)(v12 + 24);
  v15 = *(_DWORD *)(a2 + 24);
  v13 = (_QWORD *)a1[1];
  if ( v15 == 90 )
    goto LABEL_35;
LABEL_5:
  if ( v15 == 91 )
  {
    v276 = 0;
    v16 = 1;
    if ( !v14 )
    {
      v52 = sub_38137B0(*a1, (__int64)v13, v305, v306);
      v53 = (__int64 *)a1[1];
      v55 = (unsigned int *)sub_33E5110(v53, (unsigned int)v305, v306, v52, v54);
      v59 = sub_3411F20(v53, 81, (__int64)&v303, v55, v56, v57, *(_OWORD *)&v10, *(_OWORD *)&v11);
      v60 = v58;
      LODWORD(v320) = v278;
      if ( v278 > 0x40 )
      {
        v298 = v58;
        sub_C43690((__int64)&v319, -1, 1);
        v60 = v298;
      }
      else
      {
        if ( v278 )
          v14 = 0xFFFFFFFFFFFFFFFFLL >> -(char)v278;
        v319 = v14;
      }
      v296 = v60;
      *(_QWORD *)&v61 = sub_34007B0(a1[1], (__int64)&v319, (__int64)&v303, v305, v306, 0, v10, 0);
      v62 = sub_3288B20(a1[1], (int)&v303, v305, v306, (__int64)v59, 1, v61, (unsigned __int64)v59, 0);
      v297 = v63 | v296 & 0xFFFFFFFF00000000LL;
      sub_969240((__int64 *)&v319);
      v64 = v297;
      goto LABEL_79;
    }
  }
  else
  {
    if ( v15 != 88 )
    {
      if ( v14 )
      {
        v276 = 0;
        v16 = 0;
        goto LABEL_9;
      }
      goto LABEL_78;
    }
    if ( !v14 )
    {
LABEL_78:
      v62 = (__int64)sub_3406EB0(
                       v13,
                       0x3Au,
                       (__int64)&v303,
                       (unsigned int)v305,
                       v306,
                       v8,
                       *(_OWORD *)&v10,
                       *(_OWORD *)&v11);
      v64 = v139;
      goto LABEL_79;
    }
    v276 = 1;
    v16 = 0;
  }
LABEL_9:
  v17 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int, __int64))(*(_QWORD *)*a1 + 592LL);
  if ( v17 == sub_2D56A50 )
  {
    sub_2FE6CC0((__int64)&v319, *a1, v13[8], v305, v306);
    LOWORD(v307) = v320;
    v308 = v321[0];
  }
  else
  {
    LODWORD(v307) = v17(*a1, v13[8], v305, v306);
    v308 = v140;
  }
  *(_QWORD *)&v309 = 0;
  DWORD2(v309) = 0;
  *(_QWORD *)&v310 = 0;
  DWORD2(v310) = 0;
  *(_QWORD *)&v311 = 0;
  DWORD2(v311) = 0;
  *(_QWORD *)&v312 = 0;
  DWORD2(v312) = 0;
  sub_375E510((__int64)a1, v10.m128i_u64[0], v10.m128i_i64[1], (__int64)&v309, (__int64)&v310);
  sub_375E510((__int64)a1, v11.m128i_u64[0], v11.m128i_i64[1], (__int64)&v311, (__int64)&v312);
  v319 = (unsigned __int64)v321;
  v18 = (unsigned int)(v276 == 0) + 63;
  v320 = 0x400000000LL;
  if ( !(unsigned __int8)sub_3472970(
                           *a1,
                           v18,
                           (unsigned int)v305,
                           v306,
                           (__int64)&v303,
                           (__int64)&v319,
                           v10,
                           *(_OWORD *)&v10,
                           *(_OWORD *)&v11,
                           v307,
                           v308,
                           a1[1],
                           1,
                           v309,
                           v310,
                           v311,
                           v312) )
  {
    v94 = 0;
    LODWORD(v320) = 0;
    if ( HIDWORD(v320) <= 3 )
    {
      sub_C8D5F0((__int64)&v319, v321, 4u, 0x10u, v19, v20);
      v94 = 16LL * (unsigned int)v320;
    }
    v95 = v319 + v94;
    for ( i = v319 + 64; i != v95; v95 += 16LL )
    {
      if ( v95 )
      {
        *(_QWORD *)v95 = 0;
        *(_DWORD *)(v95 + 8) = 0;
      }
    }
    v97 = (_WORD *)*a1;
    v98 = a1[1];
    LODWORD(v320) = 4;
    v315 = 0;
    LODWORD(v316) = 0;
    v317 = 0;
    LODWORD(v318) = 0;
    sub_3495B70(v97, v98, (__int64)&v303, v276, v10.m128i_i64[0], v10.m128i_i64[1], v10, *(_OWORD *)&v11, &v315, &v317);
    sub_375BC20(a1, v315, v316, v319, v319 + 16, v10);
    v18 = v317;
    sub_375BC20(a1, v317, v318, v319 + 32, v319 + 48, v10);
  }
  v21 = sub_32844A0((unsigned __int16 *)&v307, v18);
  v22 = v21;
  v23 = v21;
  v25 = v14 % v21;
  v24 = v14 / v21;
  v26 = v25;
  if ( v25 )
  {
    v264 = v23;
    v294 = v24;
    *(_QWORD *)&v87 = sub_3400E40(a1[1], v26, v307, v308, (__int64)&v303, v10);
    v88 = 16 * v294;
    v241 = *(_OWORD *)(v319 + 16 * v294);
    v239 = *(_OWORD *)(v319 + 16 * v294 + 16);
    v295 = v87;
    v290 = v88;
    v89 = sub_340F900((_QWORD *)a1[1], 0xC4u, (__int64)&v303, v307, v308, v88, v239, v241, v87);
    v90 = v308;
    *(_QWORD *)a3 = v89;
    *(_DWORD *)(a3 + 8) = v91;
    v92 = sub_340F900(
            (_QWORD *)a1[1],
            0xC4u,
            (__int64)&v303,
            v307,
            v90,
            v290,
            *(_OWORD *)(v319 + v290 + 32),
            *(_OWORD *)(v319 + v290 + 16),
            v295);
    v27 = (const __m128i *)v319;
    v23 = v264;
    *(_QWORD *)a4 = v92;
    *(_DWORD *)(a4 + 8) = v93;
  }
  else
  {
    v27 = (const __m128i *)v319;
    *(_QWORD *)a3 = *(_QWORD *)(v319 + 16 * v24);
    *(_DWORD *)(a3 + 8) = v27[v24].m128i_i32[2];
    *(_QWORD *)a4 = v27[v24 + 1].m128i_i64[0];
    *(_DWORD *)(a4 + 8) = v27[v24 + 1].m128i_i32[2];
  }
  v262 = v23;
  if ( !v16 || v14 == v278 )
    goto LABEL_23;
  v246 = (__int128)_mm_loadu_si128(v27 + 2);
  v257 = (__int128)_mm_loadu_si128(v27 + 3);
  *(_QWORD *)&v28 = sub_3400BD0(a1[1], 0, (__int64)&v303, (unsigned int)v307, v308, 0, v10, 0);
  v255 = v28;
  *(_QWORD *)&v29 = sub_34015B0(a1[1], (__int64)&v303, (unsigned int)v307, v308, 0, 0, v10);
  v249 = v29;
  v30 = sub_38137B0(*a1, a1[1], v307, v308);
  v31 = v262;
  v292 = v32;
  v289 = v30;
  if ( !v276 )
  {
    if ( v14 < v22 )
    {
      v188 = (_QWORD *)a1[1];
      *(_QWORD *)&v189 = sub_3400E40((__int64)v188, v14, v307, v308, (__int64)&v303, v10);
      *(_QWORD *)&v191 = sub_3406EB0(v188, 0xC0u, (__int64)&v303, (unsigned int)v307, v308, v190, v246, v189);
      v36 = sub_3406EB0((_QWORD *)a1[1], 0xBBu, (__int64)&v303, (unsigned int)v307, v308, v192, v191, v257);
      goto LABEL_21;
    }
    if ( v14 == v22 )
    {
      v194 = (_QWORD *)a1[1];
      *(_QWORD *)&v195 = sub_33ED040(v194, 0x16u);
      v43 = sub_340F900(v194, 0xD0u, (__int64)&v303, v289, v292, v196, v257, v255, v195);
      v45 = v197;
      goto LABEL_22;
    }
    if ( v14 < v278 )
    {
      v33 = (_QWORD *)a1[1];
      *(_QWORD *)&v34 = sub_3400E40((__int64)v33, v14 - v22, v307, v308, (__int64)&v303, v10);
      v36 = sub_3406EB0(v33, 0xC0u, (__int64)&v303, (unsigned int)v307, v308, v35, v246, v34);
LABEL_21:
      v38 = (_QWORD *)a1[1];
      v39 = v36;
      v40 = v37;
      *(_QWORD *)&v41 = sub_33ED040(v38, 0x16u);
      *((_QWORD *)&v237 + 1) = v40;
      *(_QWORD *)&v237 = v39;
      v43 = sub_340F900(v38, 0xD0u, (__int64)&v303, v289, v292, v42, v237, v255, v41);
      v45 = v44;
LABEL_22:
      v46 = sub_3288B20(a1[1], (int)&v303, v307, v308, v43, v45, v249, *(_OWORD *)a4, 0);
      v301 = v47;
      v48 = v308;
      v49 = v307;
      *(_QWORD *)a4 = v46;
      *(_DWORD *)(a4 + 8) = v301;
      v50 = sub_3288B20(a1[1], (int)&v303, v49, v48, v43, v45, v249, *(_OWORD *)a3, 0);
      v27 = (const __m128i *)v319;
      *(_QWORD *)a3 = v50;
      *(_DWORD *)(a3 + 8) = v51;
LABEL_23:
      if ( v27 != (const __m128i *)v321 )
        _libc_free((unsigned __int64)v27);
      goto LABEL_25;
    }
LABEL_114:
    BUG();
  }
  if ( v14 >= v22 )
  {
    if ( v14 == v22 )
    {
      v198 = (_QWORD *)a1[1];
      *(_QWORD *)&v199 = sub_33ED040(v198, 0x12u);
      *(_QWORD *)&v201 = sub_340F900(v198, 0xD0u, (__int64)&v303, v289, v292, v200, v257, v255, v199);
      v202 = (_QWORD *)a1[1];
      v285 = v201;
      *(_QWORD *)&v203 = sub_33ED040(v202, 0x11u);
      v205 = sub_340F900(v202, 0xD0u, (__int64)&v303, v289, v292, v204, v257, v255, v203);
      v206 = (_QWORD *)a1[1];
      v207 = v205;
      v209 = v208;
      *(_QWORD *)&v210 = sub_33ED040(v206, 0x14u);
      *(_QWORD *)&v212 = sub_340F900(v206, 0xD0u, (__int64)&v303, v289, v292, v211, v246, v255, v210);
      v213 = (_QWORD *)a1[1];
      *((_QWORD *)&v243 + 1) = v209;
      *(_QWORD *)&v243 = v207;
      *(_QWORD *)&v215 = sub_3406EB0(v213, 0xBAu, (__int64)&v303, v289, v292, v214, v243, v212);
      v217 = sub_3406EB0(v213, 0xBBu, (__int64)&v303, v289, v292, v216, v285, v215);
      v218 = (_QWORD *)a1[1];
      v117 = (__int64)v217;
      v119 = v219;
      *(_QWORD *)&v220 = sub_33ED040(v218, 0x14u);
      *(_QWORD *)&v222 = sub_340F900(v218, 0xD0u, (__int64)&v303, v289, v292, v221, v257, v249, v220);
      v223 = (_QWORD *)a1[1];
      v286 = v222;
      *(_QWORD *)&v224 = sub_33ED040(v223, 0x11u);
      *(_QWORD *)&v226 = sub_340F900(v223, 0xD0u, (__int64)&v303, v289, v292, v225, v257, v249, v224);
      v227 = (_QWORD *)a1[1];
      v277 = v226;
      *(_QWORD *)&v228 = sub_33ED040(v227, 0x13u);
      *(_QWORD *)&v230 = sub_340F900(v227, 0xD0u, (__int64)&v303, v289, v292, v229, v246, v255, v228);
      v231 = (_QWORD *)a1[1];
      *(_QWORD *)&v233 = sub_3406EB0(v231, 0xBAu, (__int64)&v303, v289, v292, v232, v277, v230);
      v235 = sub_3406EB0(v231, 0xBBu, (__int64)&v303, v289, v292, v234, v286, v233);
      v123 = v262;
      v291 = (__int64)v235;
      v280 = v236;
      goto LABEL_66;
    }
    if ( v14 >= v278 )
      goto LABEL_114;
    v99 = v14;
    v100 = a1[1];
    LODWORD(v318) = v262;
    v101 = v14 - (v278 + 1);
    v102 = v101 + v262;
    if ( v262 > 0x40 )
    {
      v253 = v100;
      sub_C43690((__int64)&v317, 0, 0);
      v104 = v318;
      v31 = v262;
      v100 = v253;
      v103 = v101 + v318;
      if ( (_DWORD)v318 == v101 + (_DWORD)v318 )
      {
        *(_QWORD *)&v251 = sub_34007B0(v253, (__int64)&v317, (__int64)&v303, v307, v308, 0, v10, 0);
        *((_QWORD *)&v251 + 1) = v193;
        sub_969240(&v317);
        v106 = v262;
        v107 = a1[1];
        LODWORD(v318) = v262;
        goto LABEL_104;
      }
    }
    else
    {
      v317 = 0;
      if ( v262 == v102 )
      {
        *(_QWORD *)&v251 = sub_34007B0(v100, (__int64)&v317, (__int64)&v303, v307, v308, 0, v10, 0);
        *((_QWORD *)&v251 + 1) = v141;
        sub_969240(&v317);
        v106 = v262;
        v107 = a1[1];
        LODWORD(v318) = v262;
LABEL_60:
        v317 = 0;
LABEL_61:
        if ( v102 )
        {
          if ( v102 > 0x40 )
          {
            v284 = v106;
            sub_C43C90(&v317, 0, v102);
            v106 = v284;
          }
          else
          {
            v108 = 0xFFFFFFFFFFFFFFFFLL >> ((unsigned __int8)v278 + 65 - v99 - (unsigned __int8)v106);
            if ( (unsigned int)v318 > 0x40 )
              *(_QWORD *)v317 |= v108;
            else
              v317 |= v108;
          }
        }
        v266 = v106;
        v109 = sub_34007B0(v107, (__int64)&v317, (__int64)&v303, v307, v308, 0, v10, 0);
        v111 = v110;
        sub_969240(&v317);
        v112 = (_QWORD *)a1[1];
        *(_QWORD *)&v113 = sub_33ED040(v112, 0x12u);
        *((_QWORD *)&v240 + 1) = v111;
        *(_QWORD *)&v240 = v109;
        v115 = sub_340F900(v112, 0xD0u, (__int64)&v303, v289, v292, v114, v257, v240, v113);
        v116 = (_QWORD *)a1[1];
        v117 = v115;
        v119 = v118;
        *(_QWORD *)&v120 = sub_33ED040(v116, 0x14u);
        v122 = sub_340F900(v116, 0xD0u, (__int64)&v303, v289, v292, v121, v257, v251, v120);
        v123 = v266;
        v291 = v122;
        v280 = v124;
        goto LABEL_66;
      }
      v103 = v101 + v262;
      v104 = v262;
    }
    if ( v103 > 0x3F || v104 > 0x40 )
    {
      v254 = v100;
      v274 = v31;
      sub_C43C90(&v317, v103, v104);
      v100 = v254;
      v31 = v274;
    }
    else
    {
      v317 |= 0xFFFFFFFFFFFFFFFFLL >> (v99 - (unsigned __int8)v278 + 63) << v103;
    }
    v265 = v31;
    *(_QWORD *)&v251 = sub_34007B0(v100, (__int64)&v317, (__int64)&v303, v307, v308, 0, v10, 0);
    *((_QWORD *)&v251 + 1) = v105;
    sub_969240(&v317);
    v106 = v265;
    v107 = a1[1];
    LODWORD(v318) = v265;
    if ( v265 <= 0x40 )
      goto LABEL_60;
LABEL_104:
    v273 = v106;
    sub_C43690((__int64)&v317, 0, 0);
    v106 = v273;
    goto LABEL_61;
  }
  LODWORD(v318) = v262;
  v142 = a1[1];
  if ( v262 > 0x40 )
  {
    sub_C43690((__int64)&v317, 0, 0);
    v143 = v318;
    v31 = v262;
  }
  else
  {
    v143 = v262;
    v317 = 0;
  }
  v144 = ~v278 + v14;
  v145 = v143 + v144 + v31;
  if ( v143 != v145 )
  {
    if ( v145 > 0x3F || v143 > 0x40 )
    {
      v275 = v31;
      sub_C43C90(&v317, v145, v143);
      v31 = v275;
    }
    else
    {
      v317 |= 0xFFFFFFFFFFFFFFFFLL >> ((unsigned __int8)v144 + (unsigned __int8)v31 + 64) << v145;
    }
  }
  v270 = v31;
  *(_QWORD *)&v245 = sub_34007B0(v142, (__int64)&v317, (__int64)&v303, v307, v308, 0, v10, 0);
  *((_QWORD *)&v245 + 1) = v146;
  sub_969240(&v317);
  v147 = a1[1];
  v244 = v270;
  sub_F0A5D0((__int64)&v317, v270, v144 + v278);
  *(_QWORD *)&v271 = sub_34007B0(v147, (__int64)&v317, (__int64)&v303, v307, v308, 0, v10, 0);
  *((_QWORD *)&v271 + 1) = v148;
  sub_969240(&v317);
  v149 = (_QWORD *)a1[1];
  *(_QWORD *)&v150 = sub_33ED040(v149, 0x12u);
  *(_QWORD *)&v152 = sub_340F900(v149, 0xD0u, (__int64)&v303, v289, v292, v151, v257, v255, v150);
  v153 = (_QWORD *)a1[1];
  v281 = v152;
  *(_QWORD *)&v154 = sub_33ED040(v153, 0x11u);
  v156 = sub_340F900(v153, 0xD0u, (__int64)&v303, v289, v292, v155, v257, v255, v154);
  v157 = (_QWORD *)a1[1];
  v158 = v156;
  v160 = v159;
  *(_QWORD *)&v161 = sub_33ED040(v157, 0xAu);
  *(_QWORD *)&v163 = sub_340F900(v157, 0xD0u, (__int64)&v303, v289, v292, v162, v246, v271, v161);
  v164 = (_QWORD *)a1[1];
  *((_QWORD *)&v242 + 1) = v160;
  *(_QWORD *)&v242 = v158;
  *(_QWORD *)&v166 = sub_3406EB0(v164, 0xBAu, (__int64)&v303, v289, v292, v165, v242, v163);
  v168 = sub_3406EB0(v164, 0xBBu, (__int64)&v303, v289, v292, v167, v281, v166);
  v169 = (_QWORD *)a1[1];
  v117 = (__int64)v168;
  v119 = v170;
  *(_QWORD *)&v171 = sub_33ED040(v169, 0x14u);
  *(_QWORD *)&v173 = sub_340F900(v169, 0xD0u, (__int64)&v303, v289, v292, v172, v257, v249, v171);
  v174 = (_QWORD *)a1[1];
  v282 = v173;
  *(_QWORD *)&v175 = sub_33ED040(v174, 0x11u);
  *(_QWORD *)&v177 = sub_340F900(v174, 0xD0u, (__int64)&v303, v289, v292, v176, v257, v249, v175);
  v178 = (_QWORD *)a1[1];
  v272 = v177;
  *(_QWORD *)&v179 = sub_33ED040(v178, 0xCu);
  *(_QWORD *)&v181 = sub_340F900(v178, 0xD0u, (__int64)&v303, v289, v292, v180, v246, v245, v179);
  v182 = (_QWORD *)a1[1];
  *(_QWORD *)&v184 = sub_3406EB0(v182, 0xBAu, (__int64)&v303, v289, v292, v183, v272, v181);
  v186 = sub_3406EB0(v182, 0xBBu, (__int64)&v303, v289, v292, v185, v282, v184);
  v123 = v244;
  v291 = (__int64)v186;
  v280 = v187;
LABEL_66:
  v314 = v123;
  v252 = v123 - 1;
  v247 = 1LL << ((unsigned __int8)v123 - 1);
  if ( v123 > 0x40 )
  {
    v260 = ~(1LL << ((unsigned __int8)v123 - 1));
    v269 = v123;
    sub_C43690((__int64)&v313, -1, 1);
    if ( v314 <= 0x40 )
      v313 &= v260;
    else
      *(_QWORD *)(v313 + 8LL * (v252 >> 6)) &= v260;
    LODWORD(v316) = v269;
    sub_C43690((__int64)&v315, -1, 1);
    v123 = v269;
  }
  else
  {
    LODWORD(v316) = v123;
    v125 = 0xFFFFFFFFFFFFFFFFLL >> -(char)v123;
    if ( !v123 )
      v125 = 0;
    v126 = 0xFFFFFFFFFFFFFFFFLL >> (63 - ((v123 - 1) & 0x3F));
    v313 = ~(1LL << ((unsigned __int8)v123 - 1)) & v125;
    if ( !v123 )
      v126 = 0;
    v315 = v126;
  }
  v259 = v123;
  v267 = a1[1];
  *(_QWORD *)&v127 = sub_34007B0(v267, (__int64)&v313, (__int64)&v303, v307, v308, 0, v10, 0);
  v300 = sub_3288B20(v267, (int)&v303, v307, v308, v117, v119, v127, *(_OWORD *)a4, 0);
  v128 = v308;
  *(_QWORD *)a4 = v300;
  *(_DWORD *)(a4 + 8) = v129;
  v268 = a1[1];
  *(_QWORD *)&v130 = sub_34007B0(v268, (__int64)&v315, (__int64)&v303, v307, v128, 0, v10, 0);
  *(_QWORD *)a3 = sub_3288B20(v268, (int)&v303, v307, v308, v117, v119, v130, *(_OWORD *)a3, 0);
  LODWORD(v318) = v259;
  *(_DWORD *)(a3 + 8) = v131;
  if ( v259 > 0x40 )
  {
    sub_C43690((__int64)&v317, 0, 0);
    if ( (unsigned int)v318 > 0x40 )
    {
      *(_QWORD *)(v317 + 8LL * (v252 >> 6)) |= v247;
      goto LABEL_75;
    }
  }
  else
  {
    v317 = 0;
  }
  v317 |= v247;
LABEL_75:
  v132 = a1[1];
  *(_QWORD *)&v133 = sub_34007B0(v132, (__int64)&v317, (__int64)&v303, v307, v308, 0, v10, 0);
  v134 = sub_3288B20(v132, (int)&v303, v307, v308, v291, v280, v133, *(_OWORD *)a4, 0);
  v299 = v135;
  v136 = v308;
  *(_QWORD *)a4 = v134;
  v137 = v307;
  *(_DWORD *)(a4 + 8) = v299;
  *(_QWORD *)a3 = sub_3288B20(a1[1], (int)&v303, v137, v136, v291, v280, v255, *(_OWORD *)a3, 0);
  *(_DWORD *)(a3 + 8) = v138;
  sub_969240(&v317);
  sub_969240((__int64 *)&v315);
  sub_969240((__int64 *)&v313);
  if ( (_QWORD *)v319 != v321 )
    _libc_free(v319);
  sub_9C6650(&v303);
}
