// Function: sub_34FB540
// Address: 0x34fb540
//
void __fastcall sub_34FB540(__int64 a1, int a2, __int64 a3, __int64 a4, __int64 a5, __int64 a6)
{
  __int64 v6; // r13
  unsigned int v7; // esi
  __int64 v8; // r12
  unsigned __int64 v9; // rax
  __int64 v10; // rbx
  __int64 v11; // rdx
  __int64 v12; // r15
  __int64 v13; // r14
  unsigned __int64 v14; // rbx
  unsigned __int64 i; // rcx
  unsigned __int64 j; // rdx
  __int64 v17; // r12
  unsigned __int64 v18; // rax
  __int64 v19; // r13
  __int64 v20; // r12
  _QWORD *v21; // r15
  unsigned __int64 *v22; // rcx
  unsigned __int64 v23; // rdx
  unsigned int v24; // edx
  __int64 v25; // rdx
  __int64 *v26; // rbx
  __int64 v27; // rax
  _QWORD *v28; // rax
  _QWORD *v29; // rdx
  __int64 *v30; // rdi
  __int64 v31; // rax
  __int64 (*v32)(); // rcx
  __int64 (*v33)(); // rcx
  int v34; // eax
  unsigned __int64 k; // rax
  unsigned __int64 m; // rdx
  __int64 n; // rdi
  __int16 v38; // dx
  __int64 v39; // rdx
  unsigned int v40; // edi
  __int64 v41; // r9
  unsigned int v42; // esi
  __int64 *v43; // rdx
  __int64 v44; // r8
  unsigned __int64 v45; // r13
  __int64 v46; // r12
  __int64 *v47; // rdx
  int v48; // r8d
  int v49; // eax
  __int64 *v50; // rdi
  __int64 v51; // rax
  __int64 v52; // rax
  int v53; // eax
  __int32 v54; // edx
  _DWORD *v55; // rdi
  __int64 v56; // rsi
  _DWORD *v57; // rax
  __int64 v58; // rdx
  __int64 v59; // r8
  __int64 v60; // r9
  __int64 ii; // rcx
  __int64 v62; // r15
  __int64 v63; // rsi
  unsigned __int64 jj; // rax
  __int64 kk; // rdi
  __int16 v66; // dx
  __int64 v67; // r8
  unsigned int v68; // esi
  unsigned int v69; // ecx
  __int64 *v70; // rdx
  __int64 v71; // rdi
  unsigned __int64 v72; // rcx
  unsigned int v73; // eax
  __int64 v74; // r12
  __int64 *v75; // rdx
  unsigned __int64 v76; // r15
  __int64 *v77; // rax
  bool v78; // r10
  __int64 v79; // r15
  __int64 v80; // rax
  __int64 v81; // rax
  unsigned __int64 v82; // rcx
  __int64 v83; // r8
  unsigned int v84; // esi
  __int64 *v85; // r9
  __int64 v86; // r15
  __int64 *v87; // rax
  __int64 v88; // r8
  __int64 v89; // rdx
  __int64 v90; // rax
  __int64 v91; // r15
  __int64 v92; // rax
  _QWORD *v93; // r13
  unsigned __int64 v94; // rax
  __int64 v95; // rdx
  unsigned __int64 v96; // r12
  __int64 v97; // r10
  unsigned __int64 v98; // rdx
  __int64 v99; // r9
  __int64 *v100; // r10
  __int64 v101; // r8
  __int64 v102; // rdx
  unsigned __int64 v103; // rax
  _QWORD *v104; // rcx
  __int64 v105; // rdi
  unsigned __int64 v106; // rax
  __int64 v107; // r15
  __int64 v108; // r12
  unsigned __int64 v109; // r14
  unsigned __int64 v110; // rbx
  __int64 v111; // rcx
  int v112; // edx
  unsigned int v113; // r12d
  __int64 v114; // rdi
  __int64 (*v115)(); // rax
  __int64 v116; // rax
  unsigned __int64 v117; // rdx
  __int64 v118; // rcx
  unsigned __int64 v119; // r13
  __int64 v120; // r15
  unsigned __int64 v121; // r13
  __int64 v122; // r15
  __int64 v123; // r15
  unsigned int *v124; // r15
  char v125; // r13
  int v126; // ebx
  __int64 v127; // r12
  unsigned __int8 v128; // al
  __int64 v129; // rax
  unsigned __int32 v130; // r12d
  _QWORD *v131; // rbx
  char v132; // r13
  __int64 v133; // rax
  __int64 *v134; // r15
  _QWORD *v135; // rax
  _QWORD *v136; // rax
  _QWORD *v137; // rdi
  unsigned __int8 *v138; // rsi
  __int64 v139; // rax
  _QWORD *v140; // rax
  _QWORD *v141; // rax
  __int64 v142; // r8
  __int64 v143; // rdi
  __int64 v144; // r8
  __int64 v145; // rax
  unsigned __int64 v146; // rdx
  __int64 v147; // r15
  __int64 v148; // rbx
  unsigned __int64 v149; // r12
  __int64 v150; // r13
  __int64 *v151; // rdx
  __int64 v152; // rdx
  __int64 v153; // r15
  unsigned __int64 v154; // r14
  _QWORD *v155; // rcx
  _QWORD *v156; // rsi
  unsigned int v157; // eax
  __int64 v158; // rdx
  _QWORD *v159; // rax
  _QWORD *v160; // rax
  __int64 v161; // r12
  __int64 v162; // rax
  __int64 v163; // rdx
  unsigned __int64 v164; // rcx
  int v165; // r10d
  __int64 v166; // rax
  __int64 v167; // r8
  unsigned __int64 v168; // r12
  __int64 *v169; // rsi
  __int64 *v170; // rdi
  int v171; // edx
  unsigned int v172; // esi
  __int64 v173; // rdx
  __int64 v174; // rax
  __int64 *v175; // rdx
  unsigned __int64 v176; // rax
  _QWORD *v177; // rax
  __int64 v178; // rax
  __int64 v179; // rax
  unsigned __int64 v180; // rax
  __int64 v181; // rdx
  __int64 *v182; // rsi
  __int64 *v183; // rax
  __int64 v184; // rax
  __int64 v185; // r9
  unsigned __int64 v186; // rax
  __int64 *v187; // rcx
  __int64 *v188; // rsi
  unsigned __int64 v189; // r12
  __int64 v190; // rbx
  unsigned __int64 v191; // [rsp+0h] [rbp-180h]
  __int64 v192; // [rsp+8h] [rbp-178h]
  __int64 v193; // [rsp+10h] [rbp-170h]
  int v194; // [rsp+10h] [rbp-170h]
  __int64 v195; // [rsp+20h] [rbp-160h]
  __int64 v196; // [rsp+20h] [rbp-160h]
  _QWORD *v197; // [rsp+20h] [rbp-160h]
  __int64 *v198; // [rsp+20h] [rbp-160h]
  __int64 *v199; // [rsp+20h] [rbp-160h]
  __int64 v200; // [rsp+30h] [rbp-150h]
  __int64 v201; // [rsp+38h] [rbp-148h]
  __int64 v202; // [rsp+38h] [rbp-148h]
  __int64 *v203; // [rsp+38h] [rbp-148h]
  __int64 v204; // [rsp+38h] [rbp-148h]
  __int64 v205; // [rsp+38h] [rbp-148h]
  __int64 v206; // [rsp+38h] [rbp-148h]
  unsigned int v207; // [rsp+40h] [rbp-140h]
  __int64 *v208; // [rsp+40h] [rbp-140h]
  _QWORD *v209; // [rsp+40h] [rbp-140h]
  __int64 *v210; // [rsp+40h] [rbp-140h]
  __int64 *v211; // [rsp+40h] [rbp-140h]
  __int64 v212; // [rsp+48h] [rbp-138h]
  __int64 v213; // [rsp+48h] [rbp-138h]
  __int64 v214; // [rsp+48h] [rbp-138h]
  __int64 v215; // [rsp+48h] [rbp-138h]
  __int64 *v216; // [rsp+48h] [rbp-138h]
  _QWORD *v217; // [rsp+48h] [rbp-138h]
  __int64 *v218; // [rsp+48h] [rbp-138h]
  unsigned __int64 v219; // [rsp+48h] [rbp-138h]
  __int16 v222; // [rsp+65h] [rbp-11Bh]
  unsigned __int8 *v223; // [rsp+68h] [rbp-118h] BYREF
  unsigned __int8 *v224; // [rsp+70h] [rbp-110h] BYREF
  __int64 v225; // [rsp+78h] [rbp-108h]
  __int64 v226; // [rsp+80h] [rbp-100h]
  __m128i v227; // [rsp+90h] [rbp-F0h] BYREF
  __int64 v228; // [rsp+A0h] [rbp-E0h]
  __int64 v229; // [rsp+A8h] [rbp-D8h]
  __int64 v230; // [rsp+B0h] [rbp-D0h]
  __int64 *v231; // [rsp+C0h] [rbp-C0h] BYREF
  __int64 v232; // [rsp+C8h] [rbp-B8h]
  _BYTE v233[176]; // [rsp+D0h] [rbp-B0h] BYREF

  v6 = *(_QWORD *)(a1 + 16);
  v7 = a2 & 0x7FFFFFFF;
  v8 = v7;
  v9 = *(unsigned int *)(v6 + 160);
  v10 = 8LL * v7;
  if ( v7 < (unsigned int)v9 )
  {
    v200 = *(_QWORD *)(*(_QWORD *)(v6 + 152) + 8LL * v7);
    if ( v200 )
      goto LABEL_3;
  }
  v24 = v7 + 1;
  if ( (unsigned int)v9 < v7 + 1 && v24 != v9 )
  {
    if ( v24 >= v9 )
    {
      v153 = *(_QWORD *)(v6 + 168);
      v154 = v24 - v9;
      if ( v24 > (unsigned __int64)*(unsigned int *)(v6 + 164) )
      {
        sub_C8D5F0(v6 + 152, (const void *)(v6 + 168), v24, 8u, v24, a6);
        v9 = *(unsigned int *)(v6 + 160);
      }
      v25 = *(_QWORD *)(v6 + 152);
      v155 = (_QWORD *)(v25 + 8 * v9);
      v156 = &v155[v154];
      if ( v155 != v156 )
      {
        do
          *v155++ = v153;
        while ( v156 != v155 );
        LODWORD(v9) = *(_DWORD *)(v6 + 160);
        v25 = *(_QWORD *)(v6 + 152);
      }
      *(_DWORD *)(v6 + 160) = v154 + v9;
      goto LABEL_24;
    }
    *(_DWORD *)(v6 + 160) = v24;
  }
  v25 = *(_QWORD *)(v6 + 152);
LABEL_24:
  v26 = (__int64 *)(v25 + v10);
  v27 = sub_2E10F30(a2);
  *v26 = v27;
  v200 = v27;
  sub_2E11E80((_QWORD *)v6, v27);
LABEL_3:
  v11 = *(_QWORD *)(a1 + 40);
  if ( a2 < 0 )
    v12 = *(_QWORD *)(*(_QWORD *)(v11 + 56) + 16 * v8 + 8);
  else
    v12 = *(_QWORD *)(*(_QWORD *)(v11 + 304) + 8LL * (unsigned int)a2);
  v13 = v12;
  if ( v12 )
  {
    while ( 1 )
    {
      v14 = *(_QWORD *)(v13 + 16);
      for ( i = v14; (*(_BYTE *)(i + 44) & 4) != 0; i = *(_QWORD *)i & 0xFFFFFFFFFFFFFFF8LL )
        ;
      do
      {
        v13 = *(_QWORD *)(v13 + 32);
        if ( !v13 )
          break;
        for ( j = *(_QWORD *)(v13 + 16); (*(_BYTE *)(j + 44) & 4) != 0; j = *(_QWORD *)j & 0xFFFFFFFFFFFFFFF8LL )
          ;
      }
      while ( j == i );
      for ( ; (*(_BYTE *)(v14 + 44) & 4) != 0; v14 = *(_QWORD *)v14 & 0xFFFFFFFFFFFFFFF8LL )
        ;
      if ( (unsigned __int16)(*(_WORD *)(v14 + 68) - 14) <= 1u )
      {
        v17 = *(_QWORD *)(v14 + 24);
        sub_2E901B0(v17, (__int64 *)v14, v14, *(_DWORD *)(a1 + 80), a2);
        v18 = v14;
        if ( (*(_BYTE *)v14 & 4) == 0 && (*(_BYTE *)(v14 + 44) & 8) != 0 )
        {
          do
            v18 = *(_QWORD *)(v18 + 8);
          while ( (*(_BYTE *)(v18 + 44) & 8) != 0 );
        }
        v19 = *(_QWORD *)(v18 + 8);
        v20 = v17 + 40;
        while ( v14 != v19 )
        {
          v21 = (_QWORD *)v14;
          v14 = *(_QWORD *)(v14 + 8);
          sub_2E31080(v20, (__int64)v21);
          v22 = (unsigned __int64 *)v21[1];
          v23 = *v21 & 0xFFFFFFFFFFFFFFF8LL;
          *v22 = v23 | *v22 & 7;
          *(_QWORD *)(v23 + 8) = v22;
          *v21 &= 7uLL;
          v21[1] = 0;
          sub_2E310F0(v20);
        }
        goto LABEL_20;
      }
      if ( *(_BYTE *)(a1 + 212) )
      {
        v28 = *(_QWORD **)(a1 + 192);
        v29 = &v28[*(unsigned int *)(a1 + 204)];
        if ( v28 != v29 )
        {
          while ( *v28 != v14 )
          {
            if ( v29 == ++v28 )
              goto LABEL_32;
          }
          goto LABEL_20;
        }
LABEL_32:
        LODWORD(v231) = 0;
        v30 = *(__int64 **)(a1 + 48);
        v31 = *v30;
        v32 = *(__int64 (**)())(*v30 + 88);
        if ( v32 == sub_2E97330 )
          goto LABEL_33;
        v53 = ((__int64 (__fastcall *)(__int64 *, unsigned __int64, __int64 **))v32)(v30, v14, &v231);
        if ( v53 )
        {
          if ( a2 == v53 && *(_DWORD *)(a1 + 80) == (_DWORD)v231 )
            goto LABEL_64;
LABEL_36:
          v231 = (__int64 *)v233;
          v232 = 0x800000000LL;
          v222 = sub_2E923D0(v14, a2, (__int64)&v231);
          for ( k = v14; (*(_BYTE *)(k + 44) & 4) != 0; k = *(_QWORD *)k & 0xFFFFFFFFFFFFFFF8LL )
            ;
          for ( m = v14; (*(_BYTE *)(m + 44) & 8) != 0; m = *(_QWORD *)(m + 8) )
            ;
          for ( n = *(_QWORD *)(m + 8); n != k; k = *(_QWORD *)(k + 8) )
          {
            v38 = *(_WORD *)(k + 68);
            if ( (unsigned __int16)(v38 - 14) > 4u && v38 != 24 )
              break;
          }
          v39 = *(_QWORD *)(*(_QWORD *)(a1 + 16) + 32LL);
          v40 = *(_DWORD *)(v39 + 144);
          v41 = *(_QWORD *)(v39 + 128);
          if ( !v40 )
            goto LABEL_125;
          v42 = (v40 - 1) & (((unsigned int)k >> 9) ^ ((unsigned int)k >> 4));
          v43 = (__int64 *)(v41 + 16LL * v42);
          v44 = *v43;
          if ( *v43 != k )
          {
            v112 = 1;
            while ( v44 != -4096 )
            {
              v165 = v112 + 1;
              v42 = (v40 - 1) & (v42 + v112);
              v43 = (__int64 *)(v41 + 16LL * v42);
              v44 = *v43;
              if ( *v43 == k )
                goto LABEL_46;
              v112 = v165;
            }
LABEL_125:
            v43 = (__int64 *)(v41 + 16LL * v40);
          }
LABEL_46:
          v45 = v43[1] & 0xFFFFFFFFFFFFFFF8LL;
          v46 = v45 | 4;
          v47 = (__int64 *)sub_2E09D00((__int64 *)v200, v45 | 2);
          if ( v47 != (__int64 *)(*(_QWORD *)v200 + 24LL * *(unsigned int *)(v200 + 8))
            && (*(_DWORD *)((*v47 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v47 >> 1) & 3) <= (*(_DWORD *)(v45 + 24) | 1u) )
          {
            v51 = v47[2];
            if ( v51 )
            {
              v52 = *(_QWORD *)(v51 + 8);
              if ( v45 == (v52 & 0xFFFFFFFFFFFFFFF8LL) )
                v46 = v52;
            }
          }
          v48 = sub_34F55E0(v14, a2, *(_QWORD *)(a1 + 48));
          if ( v48 < 0 )
          {
            v49 = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 80LL) + 4LL * (v48 & 0x7FFFFFFF));
            if ( !v49 )
              v49 = v48;
            if ( *(_DWORD *)(a1 + 84) == v49 )
            {
              v227.m128i_i32[0] = v48;
              v55 = *(_DWORD **)(a1 + 88);
              v56 = (__int64)&v55[*(unsigned int *)(a1 + 96)];
              v57 = sub_34F4EB0(v55, v56, v227.m128i_i32);
              ii = v14;
              if ( (_DWORD *)v56 != v57 )
              {
                if ( !*(_BYTE *)(a1 + 212) )
                  goto LABEL_262;
                v159 = *(_QWORD **)(a1 + 192);
                v58 = *(unsigned int *)(a1 + 204);
                for ( ii = (__int64)&v159[v58]; (_QWORD *)ii != v159; ++v159 )
                {
                  if ( v14 == *v159 )
                    goto LABEL_53;
                }
                if ( (unsigned int)v58 < *(_DWORD *)(a1 + 200) )
                {
                  *(_DWORD *)(a1 + 204) = v58 + 1;
                  *(_QWORD *)ii = v14;
                  ++*(_QWORD *)(a1 + 184);
                }
                else
                {
LABEL_262:
                  sub_C8CC70(a1 + 184, v14, v58, ii, v59, v60);
                }
LABEL_53:
                v50 = v231;
                goto LABEL_54;
              }
              v62 = *(_QWORD *)(a1 + 16);
              if ( HIBYTE(v222) )
              {
                v63 = *(_QWORD *)(v62 + 32);
                for ( jj = v14; (*(_BYTE *)(jj + 44) & 4) != 0; jj = *(_QWORD *)jj & 0xFFFFFFFFFFFFFFF8LL )
                  ;
                if ( (*(_DWORD *)(v14 + 44) & 8) != 0 )
                {
                  do
                    ii = *(_QWORD *)(ii + 8);
                  while ( (*(_BYTE *)(ii + 44) & 8) != 0 );
                }
                for ( kk = *(_QWORD *)(ii + 8); kk != jj; jj = *(_QWORD *)(jj + 8) )
                {
                  v66 = *(_WORD *)(jj + 68);
                  if ( (unsigned __int16)(v66 - 14) > 4u && v66 != 24 )
                    break;
                }
                v67 = *(_QWORD *)(v63 + 128);
                v68 = *(_DWORD *)(v63 + 144);
                if ( v68 )
                {
                  v69 = (v68 - 1) & (((unsigned int)jj >> 9) ^ ((unsigned int)jj >> 4));
                  v70 = (__int64 *)(v67 + 16LL * v69);
                  v71 = *v70;
                  if ( *v70 == jj )
                  {
LABEL_80:
                    v72 = *(unsigned int *)(v62 + 160);
                    v201 = v70[1];
                    v207 = *(_DWORD *)(*(_QWORD *)(v14 + 32) + 48LL);
                    v73 = v207 & 0x7FFFFFFF;
                    if ( (v207 & 0x7FFFFFFF) < (unsigned int)v72 )
                    {
                      v74 = *(_QWORD *)(*(_QWORD *)(v62 + 152) + 8LL * v73);
                      if ( v74 )
                      {
LABEL_82:
                        v75 = (__int64 *)sub_2E09D00((__int64 *)v74, v201);
                        if ( v75 == (__int64 *)(*(_QWORD *)v74 + 24LL * *(unsigned int *)(v74 + 8))
                          || (*(_DWORD *)((*v75 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v75 >> 1) & 3) > (*(_DWORD *)((v201 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(v201 >> 1) & 3) )
                        {
                          v212 = 0;
                        }
                        else
                        {
                          v212 = v75[2];
                        }
                        v76 = v201 & 0xFFFFFFFFFFFFFFF8LL;
                        v77 = (__int64 *)sub_2E09D00((__int64 *)v74, v201 & 0xFFFFFFFFFFFFFFF8LL);
                        v78 = 0;
                        if ( v77 != (__int64 *)(*(_QWORD *)v74 + 24LL * *(unsigned int *)(v74 + 8)) )
                        {
                          v78 = 0;
                          if ( (*(_DWORD *)((*v77 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v77 >> 1) & 3) <= *(_DWORD *)(v76 + 24) )
                            v78 = v76 == (v77[1] & 0xFFFFFFFFFFFFFFF8LL);
                        }
                        v79 = *(_QWORD *)(a1 + 16);
                        v80 = *(_QWORD *)((*(_QWORD *)(v212 + 8) & 0xFFFFFFFFFFFFFFF8LL) + 16);
                        if ( v80 )
                        {
                          v81 = *(_QWORD *)(v80 + 24);
                        }
                        else
                        {
                          v166 = *(_QWORD *)(v79 + 32);
                          v227.m128i_i64[0] = *(_QWORD *)(v212 + 8);
                          v81 = *(sub_34F5130(
                                    *(_QWORD **)(v166 + 296),
                                    *(_QWORD *)(v166 + 296) + 16LL * *(unsigned int *)(v166 + 304),
                                    v227.m128i_i64)
                                - 1);
                        }
                        if ( *(_QWORD *)(v14 + 24) == v81 && v78 )
                        {
                          v82 = *(unsigned int *)(v79 + 160);
                          v83 = *(unsigned int *)(a1 + 84);
                          v84 = *(_DWORD *)(a1 + 84) & 0x7FFFFFFF;
                          v195 = 8LL * v84;
                          if ( v84 < (unsigned int)v82 )
                          {
                            v85 = *(__int64 **)(*(_QWORD *)(v79 + 152) + 8LL * v84);
                            if ( v85 )
                            {
LABEL_94:
                              v86 = v201;
                              v202 = (__int64)v85;
                              v87 = (__int64 *)sub_2E09D00(v85, v86);
                              if ( v87 == (__int64 *)(*(_QWORD *)v202 + 24LL * *(unsigned int *)(v202 + 8))
                                || (*(_DWORD *)((*v87 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v87 >> 1) & 3) > (*(_DWORD *)((v86 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(v86 >> 1) & 3) )
                              {
                                v89 = 0;
                              }
                              else
                              {
                                v89 = v87[2];
                              }
                              sub_2E0FCD0(
                                *(_QWORD *)(a1 + 72),
                                v202,
                                v89,
                                **(_QWORD **)(*(_QWORD *)(a1 + 72) + 64LL),
                                v88,
                                (_QWORD *)v202);
                              sub_34FAE40(a1, v74, v212);
                              v90 = *(_QWORD *)((*(_QWORD *)(v212 + 8) & 0xFFFFFFFFFFFFFFF8LL) + 16);
                              if ( v90 )
                              {
                                v91 = *(_QWORD *)(v90 + 24);
                              }
                              else
                              {
                                v179 = *(_QWORD *)(*(_QWORD *)(a1 + 16) + 32LL);
                                v227.m128i_i64[0] = *(_QWORD *)(v212 + 8);
                                v91 = *(sub_34F5130(
                                          *(_QWORD **)(v179 + 296),
                                          *(_QWORD *)(v179 + 296) + 16LL * *(unsigned int *)(v179 + 304),
                                          v227.m128i_i64)
                                      - 1);
                              }
                              v92 = *(_QWORD *)(v212 + 8);
                              if ( (v92 & 6) != 0 )
                              {
                                v178 = *(_QWORD *)((v92 & 0xFFFFFFFFFFFFFFF8LL) + 16);
                                if ( !v178 )
                                  BUG();
                                if ( (*(_BYTE *)v178 & 4) == 0 )
                                {
                                  while ( (*(_BYTE *)(v178 + 44) & 8) != 0 )
                                    v178 = *(_QWORD *)(v178 + 8);
                                }
                                v93 = *(_QWORD **)(v178 + 8);
                              }
                              else
                              {
                                v93 = (_QWORD *)sub_2E312E0(v91, *(_QWORD *)(v91 + 56), v207, 1);
                              }
                              if ( *(_QWORD **)(v91 + 56) == v93 )
                              {
                                v97 = v91 + 48;
                                v96 = v91 + 48;
                                if ( !v93 )
                                  BUG();
                              }
                              else
                              {
                                v94 = *v93 & 0xFFFFFFFFFFFFFFF8LL;
                                if ( !v94 )
                                  BUG();
                                v95 = *(_QWORD *)v94;
                                v96 = *v93 & 0xFFFFFFFFFFFFFFF8LL;
                                v97 = v91 + 48;
                                if ( (*(_QWORD *)v94 & 4) == 0 && (*(_BYTE *)(v94 + 44) & 4) != 0 )
                                {
                                  while ( 1 )
                                  {
                                    v98 = v95 & 0xFFFFFFFFFFFFFFF8LL;
                                    v96 = v98;
                                    if ( (*(_BYTE *)(v98 + 44) & 4) == 0 )
                                      break;
                                    v95 = *(_QWORD *)v98;
                                  }
                                  v97 = v91 + 48;
                                }
                              }
                              v213 = v97;
                              (*(void (__fastcall **)(_QWORD, __int64, _QWORD *, _QWORD, _QWORD, _QWORD, unsigned __int64, _QWORD, _QWORD, _QWORD))(**(_QWORD **)(a1 + 48) + 560LL))(
                                *(_QWORD *)(a1 + 48),
                                v91,
                                v93,
                                v207,
                                0,
                                *(unsigned int *)(a1 + 80),
                                *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 40) + 56LL) + 16LL * (v207 & 0x7FFFFFFF))
                              & 0xFFFFFFFFFFFFFFF8LL,
                                *(_QWORD *)(a1 + 56),
                                0,
                                0);
                              v100 = (__int64 *)v213;
                              v101 = *(_QWORD *)(a1 + 16);
                              if ( v96 == v213 )
                              {
                                v104 = *(_QWORD **)(v91 + 56);
                                if ( v104 != v93 )
                                  goto LABEL_114;
                              }
                              else
                              {
                                v102 = *(_QWORD *)v96;
                                v103 = v96;
                                if ( (*(_QWORD *)v96 & 4) == 0 && (*(_BYTE *)(v96 + 44) & 8) != 0 )
                                {
                                  do
                                    v103 = *(_QWORD *)(v103 + 8);
                                  while ( (*(_BYTE *)(v103 + 44) & 8) != 0 );
                                }
                                v104 = *(_QWORD **)(v103 + 8);
                                if ( v93 == v104 )
                                {
LABEL_279:
                                  v176 = v96;
                                  if ( (v102 & 4) == 0 && (*(_BYTE *)(v96 + 44) & 8) != 0 )
                                  {
                                    do
                                      v176 = *(_QWORD *)(v176 + 8);
                                    while ( (*(_BYTE *)(v176 + 44) & 8) != 0 );
                                  }
                                  v177 = *(_QWORD **)(v176 + 8);
                                }
                                else
                                {
LABEL_114:
                                  v105 = v91;
                                  v106 = v96;
                                  v107 = v13;
                                  v108 = *(_QWORD *)(a1 + 16);
                                  v109 = v14;
                                  v101 = v106;
                                  v110 = (unsigned __int64)v104;
                                  v111 = v105;
                                  do
                                  {
                                    v203 = v100;
                                    v208 = (__int64 *)v101;
                                    v214 = v111;
                                    sub_2E192D0(*(_QWORD *)(v108 + 32), v110, 0);
                                    v111 = v214;
                                    v101 = (__int64)v208;
                                    v100 = v203;
                                    if ( !v110 )
                                      BUG();
                                    if ( (*(_BYTE *)v110 & 4) == 0 )
                                    {
                                      while ( (*(_BYTE *)(v110 + 44) & 8) != 0 )
                                        v110 = *(_QWORD *)(v110 + 8);
                                    }
                                    v110 = *(_QWORD *)(v110 + 8);
                                  }
                                  while ( (_QWORD *)v110 != v93 );
                                  v14 = v109;
                                  v96 = (unsigned __int64)v208;
                                  v13 = v107;
                                  v91 = v214;
                                  if ( v208 != v203 )
                                  {
                                    v102 = *v208;
                                    goto LABEL_279;
                                  }
                                  v177 = *(_QWORD **)(v214 + 56);
                                }
                                if ( v177 != v93 )
                                {
                                  v219 = v96;
                                  v189 = v14;
                                  v190 = (__int64)v177;
                                  do
                                  {
                                    v211 = v100;
                                    sub_34F5750(v190, *(_QWORD *)(a1 + 16));
                                    v100 = v211;
                                    if ( !v190 )
                                      BUG();
                                    if ( (*(_BYTE *)v190 & 4) == 0 )
                                    {
                                      while ( (*(_BYTE *)(v190 + 44) & 8) != 0 )
                                        v190 = *(_QWORD *)(v190 + 8);
                                    }
                                    v190 = *(_QWORD *)(v190 + 8);
                                  }
                                  while ( (_QWORD *)v190 != v93 );
                                  v14 = v189;
                                  v96 = v219;
                                }
                              }
                              v180 = *v93 & 0xFFFFFFFFFFFFFFF8LL;
                              if ( !v180 )
                                BUG();
                              v181 = *(_QWORD *)v180;
                              v182 = (__int64 *)(*v93 & 0xFFFFFFFFFFFFFFF8LL);
                              if ( (*(_QWORD *)v180 & 4) == 0 && (*(_BYTE *)(v180 + 44) & 4) != 0 )
                              {
                                while ( 1 )
                                {
                                  v182 = (__int64 *)(v181 & 0xFFFFFFFFFFFFFFF8LL);
                                  if ( (*(_BYTE *)((v181 & 0xFFFFFFFFFFFFFFF8LL) + 44) & 4) == 0 )
                                    break;
                                  v181 = *v182;
                                }
                              }
                              if ( (__int64 *)v96 == v100 )
                              {
                                v183 = *(__int64 **)(v91 + 56);
                              }
                              else
                              {
                                if ( (*(_BYTE *)v96 & 4) == 0 && (*(_BYTE *)(v96 + 44) & 8) != 0 )
                                {
                                  do
                                    v96 = *(_QWORD *)(v96 + 8);
                                  while ( (*(_BYTE *)(v96 + 44) & 8) != 0 );
                                }
                                v183 = *(__int64 **)(v96 + 8);
                              }
                              if ( v182 == v183 )
                                sub_34F9990(a1 + 456, (__int64)v182, *(_DWORD *)(a1 + 80), *(_DWORD *)(a1 + 84));
                              *(_BYTE *)(*(_QWORD *)(v14 + 32) + 3LL) |= 0x40u;
                              v184 = *(unsigned int *)(a1 + 384);
                              if ( v184 + 1 > (unsigned __int64)*(unsigned int *)(a1 + 388) )
                              {
                                sub_C8D5F0(a1 + 376, (const void *)(a1 + 392), v184 + 1, 8u, v101, v99);
                                v184 = *(unsigned int *)(a1 + 384);
                              }
                              *(_QWORD *)(*(_QWORD *)(a1 + 376) + 8 * v184) = v14;
                              ++*(_DWORD *)(a1 + 384);
                              goto LABEL_53;
                            }
                          }
                          v172 = v84 + 1;
                          if ( (unsigned int)v82 >= v172 || v172 == v82 )
                          {
LABEL_269:
                            v173 = *(_QWORD *)(v79 + 152);
                          }
                          else
                          {
                            if ( v172 < v82 )
                            {
                              *(_DWORD *)(v79 + 160) = v172;
                              goto LABEL_269;
                            }
                            v185 = *(_QWORD *)(v79 + 168);
                            v186 = v172 - v82;
                            if ( v172 > (unsigned __int64)*(unsigned int *)(v79 + 164) )
                            {
                              v191 = v172 - v82;
                              v192 = *(_QWORD *)(v79 + 168);
                              v194 = *(_DWORD *)(a1 + 84);
                              sub_C8D5F0(v79 + 152, (const void *)(v79 + 168), v172, 8u, v83, v185);
                              v82 = *(unsigned int *)(v79 + 160);
                              v186 = v191;
                              v185 = v192;
                              LODWORD(v83) = v194;
                            }
                            v173 = *(_QWORD *)(v79 + 152);
                            v187 = (__int64 *)(v173 + 8 * v82);
                            v188 = &v187[v186];
                            if ( v187 != v188 )
                            {
                              do
                                *v187++ = v185;
                              while ( v188 != v187 );
                              v173 = *(_QWORD *)(v79 + 152);
                            }
                            *(_DWORD *)(v79 + 160) += v186;
                          }
                          v198 = (__int64 *)(v195 + v173);
                          v174 = sub_2E10F30(v83);
                          v175 = v198;
                          v199 = (__int64 *)v174;
                          *v175 = v174;
                          sub_2E11E80((_QWORD *)v79, v174);
                          v85 = v199;
                          goto LABEL_94;
                        }
                        goto LABEL_52;
                      }
                    }
                    v157 = v73 + 1;
                    if ( (unsigned int)v72 >= v157 || v157 == v72 )
                    {
LABEL_205:
                      v158 = *(_QWORD *)(v62 + 152);
                    }
                    else
                    {
                      if ( v157 < v72 )
                      {
                        *(_DWORD *)(v62 + 160) = v157;
                        goto LABEL_205;
                      }
                      v167 = *(_QWORD *)(v62 + 168);
                      v168 = v157 - v72;
                      if ( v157 > (unsigned __int64)*(unsigned int *)(v62 + 164) )
                      {
                        v193 = *(_QWORD *)(v62 + 168);
                        sub_C8D5F0(v62 + 152, (const void *)(v62 + 168), v157, 8u, v167, v60);
                        v72 = *(unsigned int *)(v62 + 160);
                        v167 = v193;
                      }
                      v158 = *(_QWORD *)(v62 + 152);
                      v169 = (__int64 *)(v158 + 8 * v72);
                      v170 = &v169[v168];
                      if ( v169 != v170 )
                      {
                        do
                          *v169++ = v167;
                        while ( v170 != v169 );
                        LODWORD(v72) = *(_DWORD *)(v62 + 160);
                        v158 = *(_QWORD *)(v62 + 152);
                      }
                      *(_DWORD *)(v62 + 160) = v168 + v72;
                    }
                    v218 = (__int64 *)(8LL * (v207 & 0x7FFFFFFF) + v158);
                    v74 = sub_2E10F30(v207);
                    *v218 = v74;
                    sub_2E11E80((_QWORD *)v62, v74);
                    goto LABEL_82;
                  }
                  v171 = 1;
                  while ( v71 != -4096 )
                  {
                    v60 = (unsigned int)(v171 + 1);
                    v69 = (v68 - 1) & (v69 + v171);
                    v70 = (__int64 *)(v67 + 16LL * v69);
                    v71 = *v70;
                    if ( *v70 == jj )
                      goto LABEL_80;
                    v171 = v60;
                  }
                }
                v70 = (__int64 *)(v67 + 16LL * v68);
                goto LABEL_80;
              }
              v150 = sub_2DF8570(v62, v59, v58, v14, v59, v60);
              v151 = (__int64 *)sub_2E09D00((__int64 *)v150, v46);
              if ( v151 == (__int64 *)(*(_QWORD *)v150 + 24LL * *(unsigned int *)(v150 + 8))
                || (*(_DWORD *)((*v151 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v151 >> 1) & 3) > (*(_DWORD *)((v46 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(v46 >> 1) & 3) )
              {
                v152 = 0;
              }
              else
              {
                v152 = v151[2];
              }
              sub_34FAE40(a1, v150, v152);
            }
          }
LABEL_52:
          if ( (unsigned __int8)sub_34FA2E0(a1, v231, (unsigned int)v232, 0) )
            goto LABEL_53;
          v113 = sub_350B130(*(_QWORD *)(a1 + 64), (unsigned int)a2);
          if ( (_BYTE)v222 )
          {
            v114 = *(_QWORD *)(a1 + 56);
            v115 = *(__int64 (**)())(*(_QWORD *)v114 + 40LL);
            if ( v115 != sub_2FF51A0 )
              ((void (__fastcall *)(__int64, _QWORD, unsigned __int64))v115)(v114, v113, v14);
            v116 = *(_QWORD *)(v14 + 24);
            if ( v14 == *(_QWORD *)(v116 + 56) )
            {
              v119 = v116 + 48;
              v120 = v116 + 48;
            }
            else
            {
              v117 = *(_QWORD *)v14 & 0xFFFFFFFFFFFFFFF8LL;
              if ( !v117 )
                BUG();
              v118 = *(_QWORD *)v117;
              v119 = *(_QWORD *)v14 & 0xFFFFFFFFFFFFFFF8LL;
              if ( (*(_QWORD *)v117 & 4) == 0 && (*(_BYTE *)(v117 + 44) & 4) != 0 )
              {
                while ( 1 )
                {
                  v164 = v118 & 0xFFFFFFFFFFFFFFF8LL;
                  v119 = v164;
                  if ( (*(_BYTE *)(v164 + 44) & 4) == 0 )
                    break;
                  v118 = *(_QWORD *)v164;
                }
              }
              v120 = v116 + 48;
            }
            v215 = *(_QWORD *)(v14 + 24);
            (*(void (__fastcall **)(_QWORD, __int64, unsigned __int64, _QWORD, _QWORD, unsigned __int64, _QWORD, _QWORD, _QWORD))(**(_QWORD **)(a1 + 48) + 568LL))(
              *(_QWORD *)(a1 + 48),
              v116,
              v14,
              v113,
              *(unsigned int *)(a1 + 80),
              *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 40) + 56LL) + 16LL * (v113 & 0x7FFFFFFF)) & 0xFFFFFFFFFFFFFFF8LL,
              *(_QWORD *)(a1 + 56),
              0,
              0);
            if ( v119 == v120 )
            {
              v121 = *(_QWORD *)(v215 + 56);
            }
            else
            {
              if ( (*(_BYTE *)v119 & 4) == 0 && (*(_BYTE *)(v119 + 44) & 8) != 0 )
              {
                do
                  v119 = *(_QWORD *)(v119 + 8);
                while ( (*(_BYTE *)(v119 + 44) & 8) != 0 );
              }
              v121 = *(_QWORD *)(v119 + 8);
            }
            if ( v121 != v14 )
            {
              v122 = *(_QWORD *)(a1 + 16);
              do
              {
                sub_2E192D0(*(_QWORD *)(v122 + 32), v121, 0);
                if ( !v121 )
                  BUG();
                if ( (*(_BYTE *)v121 & 4) == 0 && (*(_BYTE *)(v121 + 44) & 8) != 0 )
                {
                  do
                    v121 = *(_QWORD *)(v121 + 8);
                  while ( (*(_BYTE *)(v121 + 44) & 8) != 0 );
                }
                v121 = *(_QWORD *)(v121 + 8);
              }
              while ( v14 != v121 );
            }
          }
          v50 = v231;
          v123 = 2LL * (unsigned int)v232;
          v216 = &v231[v123];
          if ( &v231[v123] != v231 )
          {
            v209 = (_QWORD *)v14;
            v124 = (unsigned int *)v231;
            v125 = 0;
            v126 = v113;
            while ( 1 )
            {
              v127 = *(_QWORD *)(*(_QWORD *)v124 + 32LL) + 40LL * v124[2];
              sub_2EAB0C0(v127, v126);
              v128 = *(_BYTE *)(v127 + 3);
              if ( (v128 & 0x10) != 0 )
                break;
              v129 = *(_QWORD *)(*(_QWORD *)v124 + 32LL) + 40LL * v124[2];
              if ( *(_BYTE *)v129 || (*(_BYTE *)(v129 + 3) & 0x10) != 0 || (*(_WORD *)(v129 + 2) & 0xFF0) == 0 )
              {
                *(_BYTE *)(v127 + 3) |= 0x40u;
                v124 += 4;
                if ( v216 == (__int64 *)v124 )
                {
LABEL_154:
                  v130 = v126;
                  v131 = v209;
                  v132 = HIBYTE(v222) & v125;
                  if ( !v132 )
                    goto LABEL_53;
                  v204 = v209[3];
                  v133 = *v209;
                  if ( v209 != *(_QWORD **)(v204 + 56) && (v133 & 0xFFFFFFFFFFFFFFF8LL) == 0 )
                    BUG();
                  v134 = (__int64 *)v209[1];
                  v210 = v134;
                  if ( (v133 & 4) == 0 && (*((_BYTE *)v131 + 44) & 8) != 0 )
                  {
                    v135 = v131;
                    do
                      v135 = (_QWORD *)v135[1];
                    while ( (*((_BYTE *)v135 + 44) & 8) != 0 );
                    v210 = (__int64 *)v135[1];
                    v136 = v131;
                    do
                      v136 = (_QWORD *)v136[1];
                    while ( (*((_BYTE *)v136 + 44) & 8) != 0 );
                    v134 = (__int64 *)v136[1];
                  }
                  v137 = *(_QWORD **)(a1 + 48);
                  if ( *((_WORD *)v131 + 34) != 10 || (*(_DWORD *)v131[4] & 0xFFF00) != 0 )
                  {
                    (*(void (__fastcall **)(_QWORD *, __int64, __int64 *, _QWORD, __int64, _QWORD, unsigned __int64, _QWORD, _QWORD, _QWORD))(*v137 + 560LL))(
                      v137,
                      v204,
                      v134,
                      v130,
                      1,
                      *(unsigned int *)(a1 + 80),
                      *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 40) + 56LL) + 16LL * (v130 & 0x7FFFFFFF))
                    & 0xFFFFFFFFFFFFFFF8LL,
                      *(_QWORD *)(a1 + 56),
                      0,
                      0);
                    goto LABEL_182;
                  }
                  v138 = (unsigned __int8 *)v131[7];
                  v139 = v137[1] - 280LL;
                  v223 = v138;
                  v196 = v139;
                  if ( v138 )
                  {
                    sub_B96E90((__int64)&v223, (__int64)v138, 1);
                    v224 = v223;
                    if ( v223 )
                    {
                      sub_B976B0((__int64)&v223, v223, (__int64)&v224);
                      v223 = 0;
                      v225 = 0;
                      v226 = 0;
                      v140 = *(_QWORD **)(v204 + 32);
                      v227.m128i_i64[0] = (__int64)v224;
                      v217 = v140;
                      if ( v224 )
                        sub_B96E90((__int64)&v227, (__int64)v224, 1);
                      v141 = sub_2E7B380(v217, v196, (unsigned __int8 **)&v227, 0);
LABEL_171:
                      v142 = (__int64)v141;
                      if ( v227.m128i_i64[0] )
                      {
                        v197 = v141;
                        sub_B91220((__int64)&v227, v227.m128i_i64[0]);
                        v142 = (__int64)v197;
                      }
                      v143 = v204;
                      v205 = v142;
                      sub_2E31040((__int64 *)(v143 + 40), v142);
                      v144 = v205;
                      v145 = *(_QWORD *)v205;
                      v146 = *v134 & 0xFFFFFFFFFFFFFFF8LL;
                      *(_QWORD *)(v205 + 8) = v134;
                      *(_QWORD *)v205 = v146 | v145 & 7;
                      *(_QWORD *)(v146 + 8) = v205;
                      *v134 = v205 | *v134 & 7;
                      if ( v225 )
                      {
                        sub_2E882B0(v205, (__int64)v217, v225);
                        v144 = v205;
                      }
                      if ( v226 )
                      {
                        v206 = v144;
                        sub_2E88680(v144, (__int64)v217, v226);
                        v144 = v206;
                      }
                      v227.m128i_i64[0] = 0x40000000;
                      v228 = 0;
                      v227.m128i_i32[2] = v130;
                      v229 = 0;
                      v230 = 0;
                      sub_2E8EAD0(v144, (__int64)v217, &v227);
                      if ( v224 )
                        sub_B91220((__int64)&v224, (__int64)v224);
                      if ( v223 )
                        sub_B91220((__int64)&v223, (__int64)v223);
                      v132 = 0;
LABEL_182:
                      if ( (*(_BYTE *)v131 & 4) == 0 )
                      {
                        while ( (*((_BYTE *)v131 + 44) & 8) != 0 )
                          v131 = (_QWORD *)v131[1];
                      }
                      v147 = v131[1];
                      v148 = *(_QWORD *)(a1 + 16);
                      if ( (__int64 *)v147 == v210 )
                      {
                        if ( v132 )
                          goto LABEL_219;
                      }
                      else
                      {
                        v149 = v147;
                        do
                        {
                          sub_2E192D0(*(_QWORD *)(v148 + 32), v149, 0);
                          if ( !v149 )
                            BUG();
                          if ( (*(_BYTE *)v149 & 4) == 0 && (*(_BYTE *)(v149 + 44) & 8) != 0 )
                          {
                            do
                              v149 = *(_QWORD *)(v149 + 8);
                            while ( (*(_BYTE *)(v149 + 44) & 8) != 0 );
                          }
                          v149 = *(_QWORD *)(v149 + 8);
                        }
                        while ( (__int64 *)v149 != v210 );
                        v161 = v147;
                        do
                        {
                          sub_34F5750(v161, *(_QWORD *)(a1 + 16));
                          if ( !v161 )
                            BUG();
                          if ( (*(_BYTE *)v161 & 4) == 0 && (*(_BYTE *)(v161 + 44) & 8) != 0 )
                          {
                            do
                              v161 = *(_QWORD *)(v161 + 8);
                            while ( (*(_BYTE *)(v161 + 44) & 8) != 0 );
                          }
                          v161 = *(_QWORD *)(v161 + 8);
                        }
                        while ( (__int64 *)v161 != v210 );
                        if ( v132 )
                        {
                          v162 = v147;
                          v163 = 0;
                          do
                          {
                            if ( !v162 )
                              BUG();
                            if ( (*(_BYTE *)v162 & 4) == 0 )
                            {
                              while ( (*(_BYTE *)(v162 + 44) & 8) != 0 )
                                v162 = *(_QWORD *)(v162 + 8);
                            }
                            v162 = *(_QWORD *)(v162 + 8);
                            ++v163;
                          }
                          while ( (__int64 *)v162 != v210 );
                          if ( v163 == 1 )
LABEL_219:
                            sub_34F9990(a1 + 456, v147, *(_DWORD *)(a1 + 80), *(_DWORD *)(a1 + 84));
                        }
                      }
                      goto LABEL_53;
                    }
                  }
                  else
                  {
                    v224 = 0;
                  }
                  v225 = 0;
                  v226 = 0;
                  v160 = *(_QWORD **)(v204 + 32);
                  v227.m128i_i64[0] = 0;
                  v217 = v160;
                  v141 = sub_2E7B380(v160, v196, (unsigned __int8 **)&v227, 0);
                  goto LABEL_171;
                }
              }
              else
              {
LABEL_148:
                v124 += 4;
                if ( v216 == (__int64 *)v124 )
                  goto LABEL_154;
              }
            }
            if ( (((v128 & 0x10) != 0) & (v128 >> 6)) == 0 )
              v125 = 1;
            goto LABEL_148;
          }
LABEL_54:
          if ( v50 == (__int64 *)v233 )
            goto LABEL_20;
          _libc_free((unsigned __int64)v50);
          if ( !v13 )
            return;
        }
        else
        {
          v30 = *(__int64 **)(a1 + 48);
          v31 = *v30;
LABEL_33:
          v33 = *(__int64 (**)())(v31 + 120);
          v34 = 0;
          if ( v33 != sub_2F4C0B0 )
            v34 = ((__int64 (__fastcall *)(__int64 *, unsigned __int64, __int64 **))v33)(v30, v14, &v231);
          if ( a2 != v34 )
            goto LABEL_36;
          v54 = *(_DWORD *)(a1 + 80);
          if ( v54 != (_DWORD)v231 )
            goto LABEL_36;
          sub_34FA050(a1 + 456, v14, v54);
LABEL_64:
          sub_2FAD510(*(_QWORD *)(*(_QWORD *)(a1 + 16) + 32LL), v14);
          sub_2E88E20(v14);
          if ( !v13 )
            return;
        }
      }
      else
      {
        if ( !sub_C8CA60(a1 + 184, v14) )
          goto LABEL_32;
LABEL_20:
        if ( !v13 )
          return;
      }
    }
  }
}
