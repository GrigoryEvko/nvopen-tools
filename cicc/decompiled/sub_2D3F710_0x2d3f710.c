// Function: sub_2D3F710
// Address: 0x2d3f710
//
__int64 __fastcall sub_2D3F710(__int64 a1, __int64 a2, _QWORD *a3, __m128i a4, __m128i a5)
{
  __int64 v5; // rcx
  __int64 v6; // rdi
  __int64 v7; // rax
  __int64 v8; // rdx
  __int64 v9; // r11
  __int64 v10; // rdi
  int v11; // edx
  __int64 v12; // r12
  __int64 v13; // rax
  unsigned int v14; // r15d
  __int64 v15; // r13
  __int64 v16; // r11
  __int64 v17; // rbx
  int v18; // r8d
  __int64 *v19; // rcx
  unsigned __int64 v20; // rdx
  int v21; // eax
  unsigned int i; // esi
  __int64 *v23; // rdx
  __int64 v24; // r9
  unsigned int v25; // esi
  __int64 v26; // rax
  __int64 v27; // rax
  __m128i *v28; // rsi
  __int64 *v29; // r12
  __int64 v30; // rbx
  __int64 v31; // rax
  __int64 v32; // rsi
  __int64 v33; // r15
  __int64 v34; // rax
  __int64 v35; // rdx
  int v36; // r11d
  __int64 *v37; // rcx
  int v38; // ebx
  unsigned int ii; // r8d
  __int64 *v40; // rax
  __int64 v41; // rdi
  unsigned int v42; // r8d
  char v43; // bl
  __int64 v44; // rax
  _QWORD *v45; // r13
  _QWORD *v46; // r12
  unsigned __int64 v47; // rdi
  unsigned __int64 v48; // rdi
  unsigned __int64 v49; // rdi
  unsigned __int64 v50; // rdi
  __int64 v51; // rax
  _QWORD *v52; // r13
  _QWORD *v53; // r12
  unsigned __int64 v54; // rdi
  unsigned __int64 v55; // rdi
  unsigned __int64 v56; // rdi
  unsigned __int64 v57; // rdi
  _QWORD *v58; // r13
  _QWORD *v59; // r12
  __int64 v60; // r14
  unsigned __int64 v61; // r15
  unsigned __int64 v62; // r14
  __int64 v63; // rsi
  __int64 v64; // rax
  _QWORD *v65; // r13
  _QWORD *v66; // r12
  unsigned __int64 v67; // rdi
  __int64 v68; // rax
  __int64 v69; // r12
  __int64 *v70; // r13
  unsigned __int64 v71; // rdi
  unsigned __int64 v73; // rax
  __int64 v74; // rax
  _QWORD *v75; // rax
  __int64 *v76; // r10
  _QWORD *k; // rdx
  __int64 *v78; // rdx
  __int64 v79; // r15
  __int64 v80; // rdi
  __int64 *v81; // rbx
  int v82; // r12d
  unsigned int m; // eax
  __int64 *v84; // rcx
  __int64 v85; // r8
  unsigned int v86; // ecx
  int v87; // esi
  int v88; // r9d
  unsigned int v89; // edi
  __int64 *v90; // r8
  unsigned int n; // edx
  __int64 v92; // r10
  __int64 v93; // rax
  int v94; // r9d
  __int64 *v95; // r8
  unsigned int v96; // eax
  __int64 v97; // r10
  int v98; // edi
  int v99; // edi
  unsigned int v100; // ebx
  __int64 v101; // r9
  __int64 *v102; // rdi
  int v103; // r8d
  unsigned int j; // eax
  __int64 v105; // r9
  unsigned int v106; // edx
  _QWORD *v107; // rsi
  _QWORD *v108; // rdx
  unsigned int v109; // ebx
  unsigned int v110; // eax
  __int64 v111; // rax
  __int64 *v112; // rax
  __m128i *v113; // r15
  _QWORD *v114; // r12
  unsigned __int32 v115; // edi
  __int64 *v116; // r14
  __int64 *v117; // rbx
  unsigned __int64 v118; // rdi
  __int64 v119; // rdi
  _QWORD *v120; // rdx
  _QWORD *v121; // r14
  _QWORD *jj; // r13
  unsigned __int64 kk; // rsi
  __int64 *v124; // r12
  __int64 v125; // rsi
  __int64 *v126; // rbx
  unsigned __int64 v127; // rdi
  _QWORD *v128; // rbx
  __int64 v129; // rdi
  __int64 v130; // rax
  __int64 v131; // rdx
  __int64 v132; // r15
  __int64 v133; // r14
  __int64 v134; // rdi
  __int64 v135; // rsi
  __int64 v136; // rax
  __int64 v137; // rbx
  __int64 v138; // r12
  __int64 v139; // r14
  unsigned __int64 v140; // r13
  __int64 v141; // rax
  unsigned __int64 v142; // r15
  unsigned __int64 v143; // r12
  __int64 v144; // rsi
  __int64 v145; // rcx
  unsigned __int64 v146; // r8
  unsigned __int64 v147; // r9
  __int64 v148; // rax
  __int64 v149; // r13
  __int64 v150; // r12
  __int64 v151; // rax
  _DWORD *v152; // rbx
  _DWORD *v153; // r14
  __int64 v154; // rdi
  __int64 v155; // rcx
  unsigned __int64 v156; // r8
  unsigned __int64 v157; // r9
  __int64 v158; // rax
  __int64 v159; // r13
  __int64 v160; // r12
  __int64 v161; // rax
  _DWORD *v162; // rbx
  _DWORD *v163; // r14
  __int64 v164; // rdi
  __int64 *v165; // rbx
  __int64 *v166; // r13
  unsigned __int64 i1; // rax
  __int64 v168; // rdi
  unsigned int v169; // ecx
  __int64 v170; // rax
  __int64 *v171; // rbx
  __int64 *v172; // r12
  __int64 v173; // rsi
  __int64 v174; // rdi
  __int64 v175; // rax
  unsigned int v176; // eax
  __int64 *v177; // rax
  __int64 v178; // rdi
  __int64 v179; // rax
  __int64 v180; // rdx
  __int64 v181; // rax
  unsigned __int8 **v182; // rdx
  unsigned __int8 **v183; // r12
  __int64 v184; // r14
  __int64 v185; // r8
  __int64 v186; // r9
  __int64 v187; // r13
  const __m128i *v188; // rax
  __int64 v189; // rcx
  unsigned __int8 v190; // al
  __int64 *v191; // rdi
  int v192; // esi
  int v193; // r11d
  __int64 v194; // r10
  unsigned int mm; // eax
  __int64 *v196; // rdx
  __int64 v197; // r8
  unsigned int v198; // eax
  unsigned int v199; // esi
  __int64 v200; // r14
  unsigned int v201; // eax
  int v202; // eax
  unsigned int v203; // esi
  __m128i *v204; // rax
  unsigned __int32 v205; // eax
  unsigned __int32 v206; // edi
  unsigned int v207; // r8d
  __int64 v208; // rax
  __int64 v209; // rdx
  _QWORD *v210; // rdx
  _QWORD *v211; // rax
  unsigned __int64 *v212; // rax
  __int64 v213; // rdx
  __int64 v214; // rcx
  __int64 v215; // r8
  __int64 v216; // r9
  __int64 v217; // rax
  __int64 v218; // rax
  unsigned __int64 v219; // r13
  __int64 v220; // r15
  __int64 v221; // r8
  __int64 v222; // r9
  __int64 v223; // r14
  const __m128i *v224; // rax
  __int64 v225; // rcx
  __int64 v226; // rdx
  __int64 *v227; // rdi
  int v228; // ecx
  int v229; // r11d
  __int64 *v230; // r10
  unsigned int nn; // eax
  __int64 *v232; // rdx
  __int64 v233; // r8
  unsigned int v234; // ecx
  __int64 v235; // r14
  unsigned __int64 *v236; // rax
  __int64 v237; // rdx
  __int64 v238; // rcx
  __int64 v239; // r8
  __int64 v240; // r9
  __int64 *v241; // rbx
  __int64 *v242; // r12
  __int64 v243; // rsi
  unsigned int v244; // eax
  int v245; // eax
  unsigned int v246; // esi
  __m128i *v247; // rax
  unsigned __int32 v248; // eax
  unsigned __int32 v249; // edi
  unsigned int v250; // r9d
  unsigned int v251; // esi
  __int64 v252; // rdx
  __int64 v253; // rax
  _QWORD *v254; // rax
  _QWORD *v255; // rdx
  unsigned int v256; // eax
  unsigned __int32 v257; // r15d
  unsigned __int64 v258; // rdi
  int v259; // edx
  __int8 v260; // al
  unsigned int v261; // edx
  unsigned int v262; // ebx
  __int64 v263; // rdi
  __int64 v264; // rax
  __int64 *v265; // rdx
  __int64 *v266; // rax
  unsigned int v267; // eax
  unsigned int v268; // eax
  __int64 *v269; // rdx
  __int64 *v270; // rax
  __int64 v271; // [rsp+10h] [rbp-4B0h]
  __int64 v272; // [rsp+18h] [rbp-4A8h]
  __int64 v273; // [rsp+28h] [rbp-498h]
  _QWORD *v274; // [rsp+30h] [rbp-490h]
  __int64 v275; // [rsp+38h] [rbp-488h]
  bool v276; // [rsp+5Fh] [rbp-461h]
  unsigned __int8 **v277; // [rsp+60h] [rbp-460h]
  unsigned __int64 *v280; // [rsp+70h] [rbp-450h]
  _QWORD *v282; // [rsp+78h] [rbp-448h]
  __int64 v283; // [rsp+80h] [rbp-440h]
  bool v284; // [rsp+80h] [rbp-440h]
  bool v285; // [rsp+80h] [rbp-440h]
  __int64 v286; // [rsp+88h] [rbp-438h]
  __int64 v287; // [rsp+88h] [rbp-438h]
  __int64 v288; // [rsp+88h] [rbp-438h]
  __int64 v289; // [rsp+88h] [rbp-438h]
  __int64 v290; // [rsp+90h] [rbp-430h]
  __int64 v291; // [rsp+90h] [rbp-430h]
  unsigned __int64 v292; // [rsp+A0h] [rbp-420h]
  __int64 v293; // [rsp+A8h] [rbp-418h]
  __int64 v294; // [rsp+A8h] [rbp-418h]
  __int64 v295; // [rsp+A8h] [rbp-418h]
  __int8 v296; // [rsp+A8h] [rbp-418h]
  __int8 v297; // [rsp+A8h] [rbp-418h]
  __int64 v298; // [rsp+B0h] [rbp-410h]
  __int64 v299; // [rsp+B0h] [rbp-410h]
  __m128i v300; // [rsp+B0h] [rbp-410h]
  __int64 v301; // [rsp+B8h] [rbp-408h]
  __int64 *v302; // [rsp+B8h] [rbp-408h]
  __int64 v303; // [rsp+B8h] [rbp-408h]
  int v304; // [rsp+B8h] [rbp-408h]
  __int64 v305; // [rsp+B8h] [rbp-408h]
  __int64 v306; // [rsp+B8h] [rbp-408h]
  __m128i *v307; // [rsp+B8h] [rbp-408h]
  __m128i *v308; // [rsp+C8h] [rbp-3F8h] BYREF
  __m128i *v309; // [rsp+D0h] [rbp-3F0h] BYREF
  __m128i *v310; // [rsp+D8h] [rbp-3E8h] BYREF
  __int64 v311; // [rsp+E0h] [rbp-3E0h] BYREF
  __int64 v312; // [rsp+E8h] [rbp-3D8h]
  __m128i v313; // [rsp+F0h] [rbp-3D0h] BYREF
  __int64 v314; // [rsp+100h] [rbp-3C0h] BYREF
  _QWORD *v315; // [rsp+108h] [rbp-3B8h]
  __int64 v316; // [rsp+110h] [rbp-3B0h]
  unsigned int v317; // [rsp+118h] [rbp-3A8h]
  __m128i v318; // [rsp+120h] [rbp-3A0h] BYREF
  __m128i v319; // [rsp+130h] [rbp-390h]
  __int64 v320; // [rsp+140h] [rbp-380h]
  _QWORD *v321; // [rsp+150h] [rbp-370h] BYREF
  __int64 v322; // [rsp+158h] [rbp-368h]
  _QWORD v323[4]; // [rsp+160h] [rbp-360h] BYREF
  __int64 v324[3]; // [rsp+180h] [rbp-340h] BYREF
  char v325; // [rsp+198h] [rbp-328h]
  __int64 v326; // [rsp+1A0h] [rbp-320h]
  __int64 v327; // [rsp+1A8h] [rbp-318h]
  __int64 v328; // [rsp+1B0h] [rbp-310h]
  __int64 *v329; // [rsp+1B8h] [rbp-308h]
  __int64 v330; // [rsp+1C0h] [rbp-300h]
  _BYTE v331[32]; // [rsp+1C8h] [rbp-2F8h] BYREF
  __int64 *v332; // [rsp+1E8h] [rbp-2D8h]
  __int64 v333; // [rsp+1F0h] [rbp-2D0h]
  _QWORD v334[3]; // [rsp+1F8h] [rbp-2C8h] BYREF
  __int64 v335; // [rsp+210h] [rbp-2B0h] BYREF
  unsigned __int64 v336; // [rsp+218h] [rbp-2A8h]
  __int64 *v337; // [rsp+220h] [rbp-2A0h]
  __int64 *v338; // [rsp+228h] [rbp-298h]
  __int64 v339; // [rsp+230h] [rbp-290h]
  unsigned __int64 v340; // [rsp+238h] [rbp-288h]
  __int64 v341; // [rsp+240h] [rbp-280h]
  __int64 v342; // [rsp+248h] [rbp-278h]
  int v343; // [rsp+258h] [rbp-268h] BYREF
  unsigned __int64 v344; // [rsp+260h] [rbp-260h]
  int *v345; // [rsp+268h] [rbp-258h]
  int *v346; // [rsp+270h] [rbp-250h]
  __int64 v347; // [rsp+278h] [rbp-248h]
  unsigned __int64 v348; // [rsp+280h] [rbp-240h]
  __int64 v349; // [rsp+288h] [rbp-238h]
  __int64 v350; // [rsp+290h] [rbp-230h]
  __int64 v351; // [rsp+298h] [rbp-228h]
  __int64 v352; // [rsp+2A0h] [rbp-220h]
  __int64 v353; // [rsp+2A8h] [rbp-218h]
  unsigned int v354; // [rsp+2B0h] [rbp-210h]
  __int64 v355; // [rsp+2B8h] [rbp-208h]
  __int64 v356; // [rsp+2C0h] [rbp-200h]
  __int64 v357; // [rsp+2C8h] [rbp-1F8h]
  unsigned int v358; // [rsp+2D0h] [rbp-1F0h]
  __int64 v359; // [rsp+2D8h] [rbp-1E8h]
  __int64 v360; // [rsp+2E0h] [rbp-1E0h]
  __int64 v361; // [rsp+2E8h] [rbp-1D8h]
  unsigned int v362; // [rsp+2F0h] [rbp-1D0h]
  __m128i v363; // [rsp+300h] [rbp-1C0h] BYREF
  __int64 *v364; // [rsp+310h] [rbp-1B0h] BYREF
  __int64 v365; // [rsp+318h] [rbp-1A8h]
  __int64 v366; // [rsp+320h] [rbp-1A0h]
  __int64 v367; // [rsp+328h] [rbp-198h]
  _QWORD *v368; // [rsp+330h] [rbp-190h]
  __int64 v369; // [rsp+338h] [rbp-188h]
  __int64 v370; // [rsp+340h] [rbp-180h]
  __int64 v371; // [rsp+348h] [rbp-178h]
  __int64 v372; // [rsp+350h] [rbp-170h]
  __int64 v373; // [rsp+358h] [rbp-168h]
  __int64 v374; // [rsp+360h] [rbp-160h]
  _QWORD *v375; // [rsp+368h] [rbp-158h]
  __int64 v376; // [rsp+370h] [rbp-150h]
  _QWORD v377[5]; // [rsp+378h] [rbp-148h] BYREF
  _QWORD *v378; // [rsp+3A0h] [rbp-120h]
  __int64 v379; // [rsp+3A8h] [rbp-118h]
  unsigned int v380; // [rsp+3B0h] [rbp-110h]
  __int64 v381; // [rsp+3B8h] [rbp-108h]
  _QWORD *v382; // [rsp+3C0h] [rbp-100h]
  __int64 v383; // [rsp+3C8h] [rbp-F8h]
  unsigned int v384; // [rsp+3D0h] [rbp-F0h]
  __int64 v385; // [rsp+3D8h] [rbp-E8h]
  __int64 v386; // [rsp+3E0h] [rbp-E0h]
  __int64 v387; // [rsp+3E8h] [rbp-D8h]
  __int64 v388; // [rsp+3F0h] [rbp-D0h]
  __int64 v389; // [rsp+3F8h] [rbp-C8h]
  __int64 v390; // [rsp+400h] [rbp-C0h]
  __int64 v391; // [rsp+408h] [rbp-B8h]
  __int64 v392; // [rsp+410h] [rbp-B0h]
  _BYTE v393[32]; // [rsp+470h] [rbp-50h] BYREF
  _BYTE v394[48]; // [rsp+490h] [rbp-30h] BYREF

  v5 = *(_QWORD *)(a1 + 80);
  v314 = 0;
  v315 = 0;
  v316 = 0;
  v317 = 0;
  v290 = v5;
  v273 = a1 + 72;
  if ( v5 != a1 + 72 )
  {
    while ( 1 )
    {
      if ( !v290 )
        BUG();
      v298 = *(_QWORD *)(v290 + 32);
      if ( v298 != v290 + 24 )
        break;
LABEL_43:
      v290 = *(_QWORD *)(v290 + 8);
      if ( v273 == v290 )
        goto LABEL_44;
    }
    while ( 1 )
    {
      if ( !v298 )
        BUG();
      if ( (*(_BYTE *)(v298 - 17) & 0x20) != 0 )
      {
        v6 = sub_B91C10(v298 - 24, 38);
        if ( !v6 )
          goto LABEL_19;
        v7 = sub_AE94B0(v6);
        v293 = v8;
        v9 = v7;
        if ( v8 == v7 )
          goto LABEL_19;
        do
        {
LABEL_8:
          v10 = *(_QWORD *)(v9 + 24);
          v301 = v9;
          v11 = *(_DWORD *)(v10 + 4);
          v10 += 48;
          v12 = *(_QWORD *)(*(_QWORD *)(v10 + 32 * (1LL - (v11 & 0x7FFFFFF)) - 48) + 24LL);
          v13 = sub_B10D40(v10);
          v14 = v317;
          v15 = (__int64)v315;
          v16 = v301;
          v17 = v13;
          if ( !v317 )
          {
            ++v314;
            goto LABEL_102;
          }
          v18 = 1;
          v19 = 0;
          v20 = (0xBF58476D1CE4E5B9LL
               * (((unsigned int)v13 >> 9) ^ ((unsigned int)v13 >> 4)
                | ((unsigned __int64)(((unsigned int)v12 >> 9) ^ ((unsigned int)v12 >> 4)) << 32))) >> 31;
          v21 = v20 ^ (484763065 * (((unsigned int)v13 >> 9) ^ ((unsigned int)v13 >> 4)));
          for ( i = (v20 ^ (484763065 * (((unsigned int)v17 >> 9) ^ ((unsigned int)v17 >> 4)))) & (v317 - 1);
                ;
                i = (v317 - 1) & v25 )
          {
            v23 = &v315[2 * i];
            v24 = *v23;
            if ( v12 == *v23 && v17 == v23[1] )
            {
              v9 = *(_QWORD *)(v301 + 8);
              if ( v9 == v293 )
                goto LABEL_19;
              goto LABEL_8;
            }
            if ( v24 == -4096 )
              break;
            if ( v24 == -8192 && v23[1] == -8192 && !v19 )
              v19 = &v315[2 * i];
LABEL_16:
            v25 = v18 + i;
            ++v18;
          }
          if ( v23[1] != -4096 )
            goto LABEL_16;
          if ( !v19 )
            v19 = &v315[2 * i];
          ++v314;
          v87 = v316 + 1;
          if ( 4 * ((int)v316 + 1) < 3 * v317 )
          {
            if ( v317 - HIDWORD(v316) - v87 > v317 >> 3 )
              goto LABEL_175;
            v288 = v301;
            v304 = v21;
            sub_2D30530((__int64)&v314, v317);
            if ( v317 )
            {
              v102 = 0;
              v16 = v288;
              v103 = 1;
              for ( j = (v317 - 1) & v304; ; j = (v317 - 1) & v267 )
              {
                v19 = &v315[2 * j];
                v105 = *v19;
                if ( v12 == *v19 && v17 == v19[1] )
                {
                  v87 = v316 + 1;
                  goto LABEL_175;
                }
                if ( v105 == -4096 )
                {
                  if ( v19[1] == -4096 )
                  {
                    if ( v102 )
                      v19 = v102;
                    v87 = v316 + 1;
                    goto LABEL_175;
                  }
                }
                else if ( v105 == -8192 && v19[1] == -8192 && !v102 )
                {
                  v102 = &v315[2 * j];
                }
                v267 = v103 + j;
                ++v103;
              }
            }
LABEL_588:
            LODWORD(v316) = v316 + 1;
            BUG();
          }
LABEL_102:
          v73 = (((((((2 * v317 - 1) | ((unsigned __int64)(2 * v317 - 1) >> 1)) >> 2)
                  | (2 * v317 - 1)
                  | ((unsigned __int64)(2 * v317 - 1) >> 1)) >> 4)
                | (((2 * v317 - 1) | ((unsigned __int64)(2 * v317 - 1) >> 1)) >> 2)
                | (2 * v317 - 1)
                | ((unsigned __int64)(2 * v317 - 1) >> 1)) >> 8)
              | (((((2 * v317 - 1) | ((unsigned __int64)(2 * v317 - 1) >> 1)) >> 2)
                | (2 * v317 - 1)
                | ((unsigned __int64)(2 * v317 - 1) >> 1)) >> 4)
              | (((2 * v317 - 1) | ((unsigned __int64)(2 * v317 - 1) >> 1)) >> 2)
              | (2 * v317 - 1)
              | ((unsigned __int64)(2 * v317 - 1) >> 1);
          v74 = ((v73 >> 16) | v73) + 1;
          if ( (unsigned int)v74 < 0x40 )
            LODWORD(v74) = 64;
          v317 = v74;
          v75 = (_QWORD *)sub_C7D670(16LL * (unsigned int)v74, 8);
          v16 = v301;
          v315 = v75;
          if ( v15 )
          {
            v316 = 0;
            v303 = 16LL * v14;
            v76 = (__int64 *)(v15 + v303);
            for ( k = &v75[2 * v317]; k != v75; v75 += 2 )
            {
              if ( v75 )
              {
                *v75 = -4096;
                v75[1] = -4096;
              }
            }
            v78 = (__int64 *)v15;
            if ( (__int64 *)v15 != v76 )
            {
              v286 = v12;
              v283 = v17;
              while ( 1 )
              {
                v79 = *v78;
                if ( *v78 == -4096 )
                {
                  if ( v78[1] != -4096 )
                    goto LABEL_113;
                  v78 += 2;
                  if ( v76 == v78 )
                    goto LABEL_124;
                }
                else if ( v79 == -8192 && v78[1] == -8192 )
                {
                  v78 += 2;
                  if ( v76 == v78 )
                    goto LABEL_124;
                }
                else
                {
LABEL_113:
                  if ( !v317 )
                  {
                    MEMORY[0] = *v78;
                    BUG();
                  }
                  v80 = v78[1];
                  v81 = 0;
                  v82 = 1;
                  for ( m = (v317 - 1)
                          & (((0xBF58476D1CE4E5B9LL
                             * (((unsigned int)v80 >> 9) ^ ((unsigned int)v80 >> 4)
                              | ((unsigned __int64)(((unsigned int)v79 >> 9) ^ ((unsigned int)v79 >> 4)) << 32))) >> 31)
                           ^ (484763065 * (((unsigned int)v80 >> 9) ^ ((unsigned int)v80 >> 4)))); ; m = (v317 - 1) & v110 )
                  {
                    v84 = &v315[2 * m];
                    v85 = *v84;
                    if ( v79 == *v84 && v84[1] == v80 )
                      break;
                    if ( v85 == -4096 )
                    {
                      if ( v84[1] == -4096 )
                      {
                        if ( v81 )
                          v84 = v81;
                        break;
                      }
                    }
                    else if ( v85 == -8192 && v84[1] == -8192 && !v81 )
                    {
                      v81 = &v315[2 * m];
                    }
                    v110 = v82 + m;
                    ++v82;
                  }
                  *v84 = v79;
                  v93 = v78[1];
                  v78 += 2;
                  v84[1] = v93;
                  LODWORD(v316) = v316 + 1;
                  if ( v76 == v78 )
                  {
LABEL_124:
                    v12 = v286;
                    v17 = v283;
                    break;
                  }
                }
              }
            }
            v287 = v16;
            sub_C7D6A0(v15, v303, 8);
            v75 = v315;
            v86 = v317;
            v16 = v287;
            v87 = v316 + 1;
          }
          else
          {
            v316 = 0;
            v86 = v317;
            v107 = &v75[2 * v317];
            if ( v75 != v107 )
            {
              v108 = v75;
              do
              {
                if ( v108 )
                {
                  *v108 = -4096;
                  v108[1] = -4096;
                }
                v108 += 2;
              }
              while ( v107 != v108 );
            }
            v87 = 1;
          }
          if ( !v86 )
            goto LABEL_588;
          v88 = 1;
          v89 = v86 - 1;
          v90 = 0;
          for ( n = (v86 - 1)
                  & (((0xBF58476D1CE4E5B9LL
                     * (((unsigned int)v17 >> 9) ^ ((unsigned int)v17 >> 4)
                      | ((unsigned __int64)(((unsigned int)v12 >> 9) ^ ((unsigned int)v12 >> 4)) << 32))) >> 31)
                   ^ (484763065 * (((unsigned int)v17 >> 9) ^ ((unsigned int)v17 >> 4)))); ; n = v89 & v106 )
          {
            v19 = &v75[2 * n];
            v92 = *v19;
            if ( v12 == *v19 )
              break;
            if ( v92 == -4096 )
              goto LABEL_192;
LABEL_130:
            if ( v92 == -8192 && v19[1] == -8192 && !v90 )
              v90 = &v75[2 * n];
LABEL_193:
            v106 = v88 + n;
            ++v88;
          }
          if ( v17 == v19[1] )
            goto LABEL_175;
          if ( v92 != -4096 )
            goto LABEL_130;
LABEL_192:
          if ( v19[1] != -4096 )
            goto LABEL_193;
          if ( v90 )
            v19 = v90;
LABEL_175:
          LODWORD(v316) = v87;
          if ( *v19 != -4096 || v19[1] != -4096 )
            --HIDWORD(v316);
          *v19 = v12;
          v19[1] = v17;
          v9 = *(_QWORD *)(v16 + 8);
        }
        while ( v9 != v293 );
LABEL_19:
        if ( (*(_BYTE *)(v298 - 17) & 0x20) != 0 )
        {
          v26 = sub_B91C10(v298 - 24, 38);
          if ( v26 )
          {
            v27 = *(_QWORD *)(v26 + 8);
            v28 = (__m128i *)(v27 & 0xFFFFFFFFFFFFFFF8LL);
            if ( (v27 & 4) == 0 )
              v28 = 0;
            sub_B967C0(&v363, v28);
            v29 = (__int64 *)v363.m128i_i64[0];
            v302 = (__int64 *)(v363.m128i_i64[0] + 8LL * v363.m128i_u32[2]);
            if ( (__int64 *)v363.m128i_i64[0] != v302 )
            {
              while ( 1 )
              {
                v30 = *v29;
                v31 = sub_B12000(*v29 + 72);
                v32 = *(_QWORD *)(v30 + 24);
                v33 = v31;
                v324[0] = v32;
                if ( v32 )
                  sub_B96E90((__int64)v324, v32, 1);
                v34 = sub_B10D40((__int64)v324);
                v35 = v34;
                if ( !v317 )
                {
                  ++v314;
                  goto LABEL_142;
                }
                v36 = 1;
                v37 = 0;
                v38 = ((0xBF58476D1CE4E5B9LL
                      * (((unsigned int)v34 >> 9) ^ ((unsigned int)v34 >> 4)
                       | ((unsigned __int64)(((unsigned int)v33 >> 9) ^ ((unsigned int)v33 >> 4)) << 32))) >> 31)
                    ^ (484763065 * (((unsigned int)v34 >> 9) ^ ((unsigned int)v34 >> 4)));
                for ( ii = v38 & (v317 - 1); ; ii = (v317 - 1) & v42 )
                {
                  v40 = &v315[2 * ii];
                  v41 = *v40;
                  if ( v33 == *v40 && v35 == v40[1] )
                    goto LABEL_36;
                  if ( v41 == -4096 )
                    break;
                  if ( v41 == -8192 && v40[1] == -8192 && !v37 )
                    v37 = &v315[2 * ii];
LABEL_34:
                  v42 = v36 + ii;
                  ++v36;
                }
                if ( v40[1] != -4096 )
                  goto LABEL_34;
                if ( !v37 )
                  v37 = &v315[2 * ii];
                ++v314;
                v98 = v316 + 1;
                if ( 4 * ((int)v316 + 1) < 3 * v317 )
                {
                  if ( v317 - HIDWORD(v316) - v98 > v317 >> 3 )
                    goto LABEL_156;
                  v295 = v35;
                  sub_2D30530((__int64)&v314, v317);
                  if ( !v317 )
                  {
LABEL_583:
                    LODWORD(v316) = v316 + 1;
                    BUG();
                  }
                  v99 = 1;
                  v95 = 0;
                  v35 = v295;
                  v100 = (v317 - 1) & v38;
                  while ( 2 )
                  {
                    v37 = &v315[2 * v100];
                    v101 = *v37;
                    if ( v33 == *v37 )
                    {
                      if ( v295 == v37[1] )
                        goto LABEL_195;
                      if ( v101 == -4096 )
                        goto LABEL_206;
LABEL_165:
                      if ( v101 == -8192 && v37[1] == -8192 && !v95 )
                        v95 = &v315[2 * v100];
                    }
                    else
                    {
                      if ( v101 != -4096 )
                        goto LABEL_165;
LABEL_206:
                      if ( v37[1] == -4096 )
                        goto LABEL_565;
                    }
                    v109 = v99 + v100;
                    ++v99;
                    v100 = (v317 - 1) & v109;
                    continue;
                  }
                }
LABEL_142:
                v294 = v35;
                sub_2D30530((__int64)&v314, 2 * v317);
                if ( !v317 )
                  goto LABEL_583;
                v35 = v294;
                v94 = 1;
                v95 = 0;
                v96 = (v317 - 1)
                    & (((0xBF58476D1CE4E5B9LL
                       * (((unsigned int)v294 >> 9) ^ ((unsigned int)v294 >> 4)
                        | ((unsigned __int64)(((unsigned int)v33 >> 9) ^ ((unsigned int)v33 >> 4)) << 32))) >> 31)
                     ^ (484763065 * (((unsigned int)v294 >> 9) ^ ((unsigned int)v294 >> 4))));
                while ( 2 )
                {
                  v37 = &v315[2 * v96];
                  v97 = *v37;
                  if ( v33 == *v37 && v294 == v37[1] )
                  {
LABEL_195:
                    v98 = v316 + 1;
                    goto LABEL_156;
                  }
                  if ( v97 != -4096 )
                  {
                    if ( v97 == -8192 && v37[1] == -8192 && !v95 )
                      v95 = &v315[2 * v96];
                    goto LABEL_549;
                  }
                  if ( v37[1] != -4096 )
                  {
LABEL_549:
                    v268 = v94 + v96;
                    ++v94;
                    v96 = (v317 - 1) & v268;
                    continue;
                  }
                  break;
                }
LABEL_565:
                if ( v95 )
                  v37 = v95;
                v98 = v316 + 1;
LABEL_156:
                LODWORD(v316) = v98;
                if ( *v37 != -4096 || v37[1] != -4096 )
                  --HIDWORD(v316);
                *v37 = v33;
                v37[1] = v35;
LABEL_36:
                if ( v324[0] )
                  sub_B91220((__int64)v324, v324[0]);
                if ( v302 == ++v29 )
                {
                  v302 = (__int64 *)v363.m128i_i64[0];
                  break;
                }
              }
            }
            if ( v302 != (__int64 *)&v364 )
              _libc_free((unsigned __int64)v302);
          }
        }
      }
      v298 = *(_QWORD *)(v298 + 8);
      if ( v290 + 24 == v298 )
        goto LABEL_43;
    }
  }
LABEL_44:
  v363 = 0u;
  v375 = v377;
  v377[0] = a1;
  v377[1] = a2;
  v377[2] = &v314;
  v364 = 0;
  v365 = 0;
  v366 = 0;
  v367 = 0;
  v368 = 0;
  v369 = 0;
  v370 = 0;
  v371 = 0;
  v372 = 0;
  v373 = 0;
  v374 = 0;
  v376 = 0;
  v377[4] = 0;
  v378 = 0;
  v379 = 0;
  v380 = 0;
  v381 = 0;
  v382 = 0;
  v383 = 0;
  v384 = 0;
  v385 = 0;
  v386 = 0;
  v387 = 0;
  v388 = 0;
  v389 = 0;
  v390 = 0;
  v391 = 0;
  v392 = 0;
  v43 = sub_2D387C0((__int64)&v363, a3, a4, a5);
  sub_C7D6A0(v390, 16LL * (unsigned int)v392, 8);
  sub_C7D6A0(v386, 4LL * (unsigned int)v388, 4);
  v44 = v384;
  if ( v384 )
  {
    v45 = v382;
    v46 = &v382[34 * v384];
    do
    {
      if ( *v45 != -8192 && *v45 != -4096 )
      {
        v47 = v45[26];
        if ( (_QWORD *)v47 != v45 + 28 )
          _libc_free(v47);
        v48 = v45[18];
        if ( (_QWORD *)v48 != v45 + 20 )
          _libc_free(v48);
        v49 = v45[10];
        if ( (_QWORD *)v49 != v45 + 12 )
          _libc_free(v49);
        v50 = v45[1];
        if ( (_QWORD *)v50 != v45 + 3 )
          _libc_free(v50);
      }
      v45 += 34;
    }
    while ( v46 != v45 );
    v44 = v384;
  }
  sub_C7D6A0((__int64)v382, 272 * v44, 8);
  v51 = v380;
  if ( v380 )
  {
    v52 = v378;
    v53 = &v378[34 * v380];
    do
    {
      if ( *v52 != -8192 && *v52 != -4096 )
      {
        v54 = v52[26];
        if ( (_QWORD *)v54 != v52 + 28 )
          _libc_free(v54);
        v55 = v52[18];
        if ( (_QWORD *)v55 != v52 + 20 )
          _libc_free(v55);
        v56 = v52[10];
        if ( (_QWORD *)v56 != v52 + 12 )
          _libc_free(v56);
        v57 = v52[1];
        if ( (_QWORD *)v57 != v52 + 3 )
          _libc_free(v57);
      }
      v52 += 34;
    }
    while ( v53 != v52 );
    v51 = v380;
  }
  sub_C7D6A0((__int64)v378, 272 * v51, 8);
  v58 = v375;
  v59 = &v375[7 * (unsigned int)v376];
  if ( v375 != v59 )
  {
    do
    {
      v60 = *((unsigned int *)v59 - 10);
      v61 = *(v59 - 6);
      v59 -= 7;
      v62 = v61 + 32 * v60;
      if ( v61 != v62 )
      {
        do
        {
          v63 = *(_QWORD *)(v62 - 16);
          v62 -= 32LL;
          if ( v63 )
            sub_B91220(v62 + 16, v63);
        }
        while ( v61 != v62 );
        v61 = v59[1];
      }
      if ( (_QWORD *)v61 != v59 + 3 )
        _libc_free(v61);
    }
    while ( v58 != v59 );
    v59 = v375;
  }
  if ( v59 != v377 )
    _libc_free((unsigned __int64)v59);
  sub_C7D6A0(v372, 16LL * (unsigned int)v374, 8);
  v64 = (unsigned int)v370;
  if ( (_DWORD)v370 )
  {
    v65 = v368;
    v66 = &v368[8 * (unsigned __int64)(unsigned int)v370];
    do
    {
      if ( *v65 != -8192 && *v65 != -4096 )
      {
        v67 = v65[1];
        if ( (_QWORD *)v67 != v65 + 3 )
          _libc_free(v67);
      }
      v65 += 8;
    }
    while ( v66 != v65 );
    v64 = (unsigned int)v370;
  }
  sub_C7D6A0((__int64)v368, v64 << 6, 8);
  v68 = (unsigned int)v366;
  if ( (_DWORD)v366 )
  {
    v69 = (__int64)v364;
    v70 = &v364[9 * (unsigned int)v366];
    do
    {
      while ( 1 )
      {
        if ( *(_DWORD *)v69 <= 0xFFFFFFFD )
        {
          v71 = *(_QWORD *)(v69 + 8);
          if ( v71 != v69 + 24 )
            break;
        }
        v69 += 72;
        if ( v70 == (__int64 *)v69 )
          goto LABEL_98;
      }
      _libc_free(v71);
      v69 += 72;
    }
    while ( v70 != (__int64 *)v69 );
LABEL_98:
    v68 = (unsigned int)v366;
  }
  sub_C7D6A0((__int64)v364, 72 * v68, 8);
  if ( !v43 )
    return sub_C7D6A0((__int64)v315, 16LL * v317, 8);
  if ( (_DWORD)qword_5016668 != 1 )
  {
    v43 = 0;
    if ( (_DWORD)qword_5016668 != 2 )
    {
      if ( (_DWORD)qword_5016668 )
        BUG();
      v43 = sub_349D520(*(_QWORD *)(a1 + 40) + 232LL);
    }
  }
  v325 = v43;
  v326 = 0;
  v324[2] = (__int64)&v314;
  v329 = (__int64 *)v331;
  v330 = 0x400000000LL;
  v332 = v334;
  v337 = &v335;
  v338 = &v335;
  v345 = &v343;
  v346 = &v343;
  v324[0] = a1;
  v327 = 0;
  v328 = 0;
  v333 = 0;
  v334[0] = 0;
  v334[1] = 1;
  v335 = 0;
  v336 = 0;
  v339 = 0;
  v340 = 0;
  v341 = 0;
  v342 = 0;
  v343 = 0;
  v344 = 0;
  v347 = 0;
  v348 = 0;
  v349 = 0;
  v350 = 0;
  v351 = 0;
  v352 = 0;
  v353 = 0;
  v354 = 0;
  v355 = 0;
  v356 = 0;
  v357 = 0;
  v358 = 0;
  v359 = 0;
  v360 = 0;
  v361 = 0;
  v362 = 0;
  sub_2D3C2B0((__int64)v324, a3);
  v271 = *(_QWORD *)(a1 + 80);
  if ( v271 == v273 )
    goto LABEL_277;
  do
  {
    v318.m128i_i8[0] = 0;
    v363.m128i_i64[0] = 0;
    v111 = 0;
    v363.m128i_i64[1] = 1;
    if ( v271 )
      v111 = v271 - 24;
    v272 = v111;
    v112 = (__int64 *)&v364;
    do
    {
      *v112 = -4096;
      v112 += 11;
      *(v112 - 10) = -4096;
    }
    while ( v112 != (__int64 *)v393 );
    v113 = &v363;
    v282 = (_QWORD *)(v272 + 48);
    v114 = (_QWORD *)(*(_QWORD *)(v272 + 48) & 0xFFFFFFFFFFFFFFF8LL);
    if ( (_QWORD *)(v272 + 48) == v114 )
      goto LABEL_250;
    do
    {
      if ( !v114 )
        BUG();
      if ( *((_BYTE *)v114 - 24) == 85 )
      {
        v175 = *(v114 - 7);
        if ( v175 )
        {
          if ( !*(_BYTE *)v175 && *(_QWORD *)(v175 + 24) == v114[7] && (*(_BYTE *)(v175 + 33) & 0x20) != 0 )
          {
            v176 = *(_DWORD *)(v175 + 36);
            if ( v176 > 0x45 )
            {
              if ( v176 == 71 )
                goto LABEL_238;
            }
            else if ( v176 > 0x43 )
            {
              goto LABEL_238;
            }
          }
        }
      }
      ++v363.m128i_i64[0];
      if ( (unsigned __int32)v363.m128i_i32[2] >> 1 )
      {
        v115 = 4 * ((unsigned __int32)v363.m128i_i32[2] >> 1);
        if ( (v363.m128i_i8[8] & 1) != 0 )
          goto LABEL_358;
        goto LABEL_226;
      }
      if ( !v363.m128i_i32[3] )
        goto LABEL_238;
      v115 = 0;
      if ( (v363.m128i_i8[8] & 1) != 0 )
      {
LABEL_358:
        v117 = (__int64 *)v393;
        v116 = (__int64 *)&v364;
        while ( 1 )
        {
LABEL_234:
          while ( *v116 == -4096 )
          {
            if ( v116[1] != -4096 )
              goto LABEL_231;
            v116 += 11;
            if ( v117 == v116 )
              goto LABEL_237;
          }
          if ( *v116 != -8192 || v116[1] != -8192 )
          {
LABEL_231:
            v118 = v116[2];
            if ( (__int64 *)v118 != v116 + 4 )
              _libc_free(v118);
          }
          *v116 = -4096;
          v116 += 11;
          *(v116 - 10) = -4096;
          if ( v117 == v116 )
            goto LABEL_237;
        }
      }
LABEL_226:
      v116 = v364;
      v117 = &v364[11 * (unsigned int)v365];
      if ( v115 >= (unsigned int)v365 || (unsigned int)v365 <= 0x40 )
      {
        if ( v117 != v364 )
          goto LABEL_234;
LABEL_237:
        v363.m128i_i64[1] = v363.m128i_i8[8] & 1;
        goto LABEL_238;
      }
      v307 = v113;
      v257 = (unsigned __int32)v363.m128i_i32[2] >> 1;
      do
      {
        while ( *v116 != -4096 )
        {
          if ( *v116 != -8192 || v116[1] != -8192 )
          {
LABEL_526:
            v258 = v116[2];
            if ( (__int64 *)v258 != v116 + 4 )
              _libc_free(v258);
          }
          v116 += 11;
          if ( v117 == v116 )
            goto LABEL_532;
        }
        if ( v116[1] != -4096 )
          goto LABEL_526;
        v116 += 11;
      }
      while ( v117 != v116 );
LABEL_532:
      v259 = v257;
      v260 = v363.m128i_i8[8];
      v113 = v307;
      if ( !v259 )
      {
        if ( (v363.m128i_i8[8] & 1) != 0 )
          goto LABEL_551;
LABEL_560:
        if ( (_DWORD)v365 == v259 )
          goto LABEL_551;
        sub_C7D6A0((__int64)v364, 88LL * (unsigned int)v365, 8);
        v363.m128i_i8[8] |= 1u;
        goto LABEL_538;
      }
      v261 = v259 - 1;
      if ( !v261 )
      {
        v259 = 2;
        if ( (v363.m128i_i8[8] & 1) != 0 )
          goto LABEL_551;
        goto LABEL_560;
      }
      _BitScanReverse(&v261, v261);
      v262 = 1 << (33 - (v261 ^ 0x1F));
      if ( v262 - 5 > 0x3A )
      {
        if ( (v363.m128i_i8[8] & 1) != 0 )
        {
          if ( v262 <= 4 )
            goto LABEL_551;
          v263 = 88LL * v262;
          goto LABEL_537;
        }
        if ( v262 == (_DWORD)v365 )
          goto LABEL_551;
        sub_C7D6A0((__int64)v364, 88LL * (unsigned int)v365, 8);
        v260 = v363.m128i_i8[8] | 1;
        v363.m128i_i8[8] |= 1u;
        if ( v262 > 4 )
        {
LABEL_578:
          v263 = 88LL * v262;
LABEL_537:
          v363.m128i_i8[8] = v260 & 0xFE;
          v264 = sub_C7D670(v263, 8);
          LODWORD(v365) = v262;
          v364 = (__int64 *)v264;
        }
LABEL_538:
        v363.m128i_i64[1] = v363.m128i_i8[8] & 1;
        if ( v363.m128i_i64[1] )
        {
          v265 = (__int64 *)v393;
          v266 = (__int64 *)&v364;
        }
        else
        {
          v266 = v364;
          v265 = &v364[11 * (unsigned int)v365];
          if ( v364 == v265 )
            goto LABEL_238;
        }
        do
        {
          if ( v266 )
          {
            *v266 = -4096;
            v266[1] = -4096;
          }
          v266 += 11;
        }
        while ( v265 != v266 );
        goto LABEL_238;
      }
      if ( (v363.m128i_i8[8] & 1) != 0 )
      {
        v263 = 5632;
        v262 = 64;
        goto LABEL_537;
      }
      if ( (_DWORD)v365 != 64 )
      {
        v262 = 64;
        sub_C7D6A0((__int64)v364, 88LL * (unsigned int)v365, 8);
        v260 = v363.m128i_i8[8];
        goto LABEL_578;
      }
LABEL_551:
      v363.m128i_i64[1] = v363.m128i_i8[8] & 1;
      if ( v363.m128i_i64[1] )
      {
        v269 = (__int64 *)v393;
        v270 = (__int64 *)&v364;
        do
        {
LABEL_553:
          if ( v270 )
          {
            *v270 = -4096;
            v270[1] = -4096;
          }
          v270 += 11;
        }
        while ( v269 != v270 );
      }
      else
      {
        v270 = v364;
        v269 = &v364[11 * (unsigned int)v365];
        if ( v364 != v269 )
          goto LABEL_553;
      }
LABEL_238:
      v322 = (__int64)v113;
      v321 = a3;
      v323[0] = &v318;
      sub_2D33160((__int64 *)&v321, (__int64)(v114 - 3));
      v119 = v114[5];
      if ( v119 )
      {
        v121 = (_QWORD *)sub_B14240(v119);
        for ( jj = v120; v121 != v120; v121 = (_QWORD *)v121[1] )
        {
          if ( !*((_BYTE *)v121 + 32) )
            break;
        }
      }
      else
      {
        jj = &qword_4F81430[1];
        v121 = &qword_4F81430[1];
      }
      while ( v121 != jj )
      {
        while ( 1 )
        {
          for ( kk = *jj & 0xFFFFFFFFFFFFFFF8LL; *(_BYTE *)(kk + 32); kk = *(_QWORD *)kk & 0xFFFFFFFFFFFFFFF8LL )
            ;
          sub_2D336B0((__int64 *)&v321, kk);
          jj = (_QWORD *)(*jj & 0xFFFFFFFFFFFFFFF8LL);
          if ( !*((_BYTE *)jj + 32) )
            break;
          do
            jj = (_QWORD *)(*jj & 0xFFFFFFFFFFFFFFF8LL);
          while ( *((_BYTE *)jj + 32) );
          if ( v121 == jj )
            goto LABEL_249;
        }
      }
LABEL_249:
      v114 = (_QWORD *)(*v114 & 0xFFFFFFFFFFFFFFF8LL);
    }
    while ( v282 != v114 );
LABEL_250:
    if ( (v363.m128i_i8[8] & 1) != 0 )
    {
      v126 = (__int64 *)v393;
      v124 = (__int64 *)&v364;
      goto LABEL_258;
    }
    v124 = v364;
    v125 = 11LL * (unsigned int)v365;
    if ( !(_DWORD)v365 )
      goto LABEL_360;
    v126 = &v364[v125];
    if ( v364 == &v364[v125] )
      goto LABEL_360;
LABEL_258:
    while ( 2 )
    {
      while ( 2 )
      {
        if ( *v124 != -4096 )
        {
          if ( *v124 != -8192 || v124[1] != -8192 )
          {
LABEL_255:
            v127 = v124[2];
            if ( (__int64 *)v127 != v124 + 4 )
              _libc_free(v127);
          }
          v124 += 11;
          if ( v124 == v126 )
            goto LABEL_261;
          continue;
        }
        break;
      }
      if ( v124[1] != -4096 )
        goto LABEL_255;
      v124 += 11;
      if ( v124 != v126 )
        continue;
      break;
    }
LABEL_261:
    if ( (v363.m128i_i8[8] & 1) == 0 )
    {
      v124 = v364;
      v125 = 11LL * (unsigned int)v365;
LABEL_360:
      sub_C7D6A0((__int64)v124, v125 * 8, 8);
    }
    v276 = sub_AA5B70(v272);
    if ( !v276 )
      goto LABEL_263;
    v363.m128i_i64[0] = 0;
    v177 = (__int64 *)&v364;
    v363.m128i_i64[1] = 1;
    do
    {
      *v177 = -4096;
      v177 += 12;
      *(v177 - 11) = -4096;
    }
    while ( v177 != (__int64 *)v394 );
    v308 = &v363;
    v274 = *(_QWORD **)(v272 + 56);
    if ( v282 == v274 )
      goto LABEL_468;
    while ( 2 )
    {
      if ( !v274 )
        BUG();
      v178 = v274[5];
      v275 = (__int64)(v274 - 3);
      if ( !v178 || (v179 = sub_B14240(v178), v291 = v180, v179 == v180) )
      {
LABEL_518:
        v280 = a3 + 9;
        goto LABEL_425;
      }
      while ( *(_BYTE *)(v179 + 32) )
      {
        v179 = *(_QWORD *)(v179 + 8);
        if ( v180 == v179 )
          goto LABEL_518;
      }
      v289 = v179;
      v280 = a3 + 9;
      if ( v180 == v179 )
        goto LABEL_425;
LABEL_372:
      v321 = (_QWORD *)(v289 | 4);
      v181 = sub_2D2B870(v280, (__int64 *)&v321);
      if ( !v181 )
        goto LABEL_422;
      v284 = 0;
      v322 = 0x100000000LL;
      v321 = v323;
      v182 = *(unsigned __int8 ***)(v181 + 16);
      v183 = v182 + 3;
      v277 = &v182[4 * *(unsigned int *)(v181 + 24)];
      if ( v182 == v277 )
        goto LABEL_421;
      while ( 2 )
      {
        v184 = *(_QWORD *)(a3[6] + 40LL * (unsigned int)(*((_DWORD *)v183 - 6) - 1));
        v187 = sub_B10D40((__int64)(v183 - 1));
        v188 = (const __m128i *)(a3[6] + 40LL * (unsigned int)(*((_DWORD *)v183 - 6) - 1));
        v318 = _mm_loadu_si128(v188);
        v319 = _mm_loadu_si128(v188 + 1);
        v320 = v188[2].m128i_i64[0];
        v189 = v188->m128i_i64[1];
        v306 = v189;
        v299 = v188[1].m128i_i64[0];
        v296 = v188[1].m128i_i8[8];
        v190 = **v183;
        if ( v190 == 4 )
        {
          if ( *((_DWORD *)*v183 + 36) || (unsigned __int8)sub_AF4500((__int64)*(v183 - 2)) )
            goto LABEL_389;
        }
        else
        {
          if ( (unsigned __int8)(v190 - 5) <= 0x1Fu )
            goto LABEL_376;
LABEL_389:
          sub_B58DC0(&v313, v183);
          if ( !sub_2D23BB0(v313.m128i_i64) )
          {
LABEL_377:
            v311 = v184;
            v312 = v187;
            if ( (v363.m128i_i8[8] & 1) != 0 )
            {
              v191 = (__int64 *)&v364;
              v192 = 3;
            }
            else
            {
              v199 = v365;
              v191 = v364;
              if ( !(_DWORD)v365 )
              {
                v205 = v363.m128i_u32[2];
                ++v363.m128i_i64[0];
                v313.m128i_i64[0] = 0;
                v206 = ((unsigned __int32)v363.m128i_i32[2] >> 1) + 1;
                goto LABEL_408;
              }
              v192 = v365 - 1;
            }
            v193 = 1;
            v194 = 0;
            for ( mm = v192
                     & (((0xBF58476D1CE4E5B9LL
                        * (((unsigned int)v187 >> 9) ^ ((unsigned int)v187 >> 4)
                         | ((unsigned __int64)(((unsigned int)v184 >> 9) ^ ((unsigned int)v184 >> 4)) << 32))) >> 31)
                      ^ (484763065 * (((unsigned int)v187 >> 9) ^ ((unsigned int)v187 >> 4)))); ; mm = v192 & v198 )
            {
              v196 = &v191[12 * mm];
              v197 = *v196;
              if ( v184 == *v196 && v187 == v196[1] )
              {
                v200 = (__int64)(v196 + 2);
                goto LABEL_395;
              }
              if ( v197 == -4096 )
              {
                if ( v196[1] == -4096 )
                {
                  v205 = v363.m128i_u32[2];
                  v207 = 12;
                  v199 = 4;
                  if ( !v194 )
                    v194 = (__int64)v196;
                  ++v363.m128i_i64[0];
                  v313.m128i_i64[0] = v194;
                  v206 = ((unsigned __int32)v363.m128i_i32[2] >> 1) + 1;
                  if ( (v363.m128i_i8[8] & 1) == 0 )
                  {
                    v199 = v365;
LABEL_408:
                    v207 = 3 * v199;
                  }
                  if ( 4 * v206 >= v207 )
                  {
                    v199 *= 2;
                  }
                  else if ( v199 - v363.m128i_i32[3] - v206 > v199 >> 3 )
                  {
                    goto LABEL_411;
                  }
                  sub_2D3F4B0((__int64)&v363, v199);
                  sub_2D293E0((__int64)&v363, &v311, (__int64 **)&v313);
                  v184 = v311;
                  v205 = v363.m128i_u32[2];
LABEL_411:
                  v363.m128i_i32[2] = (2 * (v205 >> 1) + 2) | v205 & 1;
                  v208 = v313.m128i_i64[0];
                  if ( *(_QWORD *)v313.m128i_i64[0] != -4096 || *(_QWORD *)(v313.m128i_i64[0] + 8) != -4096 )
                    --v363.m128i_i32[3];
                  *(_QWORD *)v313.m128i_i64[0] = v184;
                  v209 = v312;
                  v200 = v208 + 16;
                  *(_QWORD *)(v208 + 16) = 0;
                  *(_QWORD *)(v208 + 8) = v209;
                  v210 = (_QWORD *)(v208 + 32);
                  v211 = (_QWORD *)(v208 + 96);
                  *(v211 - 9) = 1;
                  do
                  {
                    if ( v210 )
                    {
                      *v210 = -1;
                      v210[1] = -1;
                    }
                    v210 += 2;
                  }
                  while ( v210 != v211 );
LABEL_395:
                  if ( !v296 )
                  {
                    v306 = qword_4F81350[0];
                    v299 = qword_4F81350[1];
                  }
                  v313.m128i_i64[0] = v306;
                  v313.m128i_i64[1] = v299;
                  if ( (unsigned __int8)sub_2D2B6B0(v200, v313.m128i_i64, &v309) )
                  {
LABEL_398:
                    sub_2D29B40((unsigned int *)&v321, (unsigned __int64)(v183 - 3));
                    goto LABEL_399;
                  }
                  v310 = v309;
                  v201 = *(_DWORD *)(v200 + 8);
                  ++*(_QWORD *)v200;
                  v202 = (v201 >> 1) + 1;
                  if ( (*(_BYTE *)(v200 + 8) & 1) == 0 )
                  {
                    v203 = *(_DWORD *)(v200 + 24);
                    if ( 4 * v202 < 3 * v203 )
                      goto LABEL_403;
LABEL_445:
                    v203 *= 2;
                    goto LABEL_446;
                  }
                  v203 = 4;
                  if ( (unsigned int)(4 * v202) >= 0xC )
                    goto LABEL_445;
LABEL_403:
                  if ( v203 - (v202 + *(_DWORD *)(v200 + 12)) <= v203 >> 3 )
                  {
LABEL_446:
                    sub_2D33C00(v200, v203);
                    sub_2D2B6B0(v200, v313.m128i_i64, &v310);
                    v202 = (*(_DWORD *)(v200 + 8) >> 1) + 1;
                  }
                  *(_DWORD *)(v200 + 8) = *(_DWORD *)(v200 + 8) & 1 | (2 * v202);
                  v204 = v310;
                  if ( v310->m128i_i64[0] != -1 || v310->m128i_i64[1] != -1 )
                    --*(_DWORD *)(v200 + 12);
                  *v204 = _mm_loadu_si128(&v313);
                  goto LABEL_398;
                }
              }
              else if ( v197 == -8192 && v196[1] == -8192 && !v194 )
              {
                v194 = (__int64)&v191[12 * mm];
              }
              v198 = v193 + mm;
              ++v193;
            }
          }
        }
LABEL_376:
        if ( (unsigned __int8)sub_2D24370(
                                (__int64 *)&v308,
                                v184,
                                v187,
                                v189,
                                v185,
                                v186,
                                v318.m128i_i32[0],
                                v318.m128i_i64[1],
                                v319.m128i_u64[0],
                                v319.m128i_i8[8]) )
          goto LABEL_377;
        v284 = v276;
LABEL_399:
        if ( v277 != v183 + 1 )
        {
          v183 += 4;
          continue;
        }
        break;
      }
      if ( v284 )
      {
        v318.m128i_i64[0] = v289 | 4;
        v212 = sub_2D2B8B0(v280, v318.m128i_i64);
        sub_2D29780((unsigned int *)v212, (__int64)&v321, v213, v214, v215, v216);
      }
LABEL_421:
      sub_2D288B0((__int64)&v321);
LABEL_422:
      v217 = v289;
      while ( 1 )
      {
        v217 = *(_QWORD *)(v217 + 8);
        if ( v291 == v217 )
          break;
        if ( !*(_BYTE *)(v217 + 32) )
        {
          v289 = v217;
          if ( v291 != v217 )
            goto LABEL_372;
          break;
        }
      }
LABEL_425:
      v321 = (_QWORD *)(v275 & 0xFFFFFFFFFFFFFFFBLL);
      v218 = sub_2D2B870(v280, (__int64 *)&v321);
      if ( !v218 )
        goto LABEL_467;
      v285 = 0;
      v321 = v323;
      v322 = 0x100000000LL;
      v219 = *(_QWORD *)(v218 + 16);
      v292 = v219 + 32LL * *(unsigned int *)(v218 + 24);
      if ( v219 == v292 )
        goto LABEL_466;
      while ( 2 )
      {
        v220 = *(_QWORD *)(a3[6] + 40LL * (unsigned int)(*(_DWORD *)v219 - 1));
        v223 = sub_B10D40(v219 + 16);
        v224 = (const __m128i *)(a3[6] + 40LL * (unsigned int)(*(_DWORD *)v219 - 1));
        v318 = _mm_loadu_si128(v224);
        v319 = _mm_loadu_si128(v224 + 1);
        v320 = v224[2].m128i_i64[0];
        v225 = v224[1].m128i_i64[0];
        v226 = *(_QWORD *)(v219 + 24);
        v300.m128i_i64[0] = v224->m128i_i64[1];
        v300.m128i_i64[1] = v225;
        v297 = v224[1].m128i_i8[8];
        if ( *(_BYTE *)v226 == 4 )
        {
          if ( *(_DWORD *)(v226 + 144) || (unsigned __int8)sub_AF4500(*(_QWORD *)(v219 + 8)) )
            goto LABEL_451;
        }
        else
        {
          if ( (unsigned __int8)(*(_BYTE *)v226 - 5) <= 0x1Fu )
            goto LABEL_429;
LABEL_451:
          sub_B58DC0(&v313, (unsigned __int8 **)(v219 + 24));
          if ( !sub_2D23BB0(v313.m128i_i64) )
          {
LABEL_430:
            v311 = v220;
            v312 = v223;
            if ( (v363.m128i_i8[8] & 1) != 0 )
            {
              v227 = (__int64 *)&v364;
              v228 = 3;
            }
            else
            {
              v234 = v365;
              v227 = v364;
              if ( !(_DWORD)v365 )
              {
                v248 = v363.m128i_u32[2];
                ++v363.m128i_i64[0];
                v313.m128i_i64[0] = 0;
                v249 = ((unsigned __int32)v363.m128i_i32[2] >> 1) + 1;
                goto LABEL_489;
              }
              v228 = v365 - 1;
            }
            v229 = 1;
            v230 = 0;
            for ( nn = v228
                     & (((0xBF58476D1CE4E5B9LL
                        * (((unsigned int)v223 >> 9) ^ ((unsigned int)v223 >> 4)
                         | ((unsigned __int64)(((unsigned int)v220 >> 9) ^ ((unsigned int)v220 >> 4)) << 32))) >> 31)
                      ^ (484763065 * (((unsigned int)v223 >> 9) ^ ((unsigned int)v223 >> 4)))); ; nn = v228 & v256 )
            {
              v232 = &v227[12 * nn];
              v233 = *v232;
              if ( v220 == *v232 && v223 == v232[1] )
              {
                v235 = (__int64)(v232 + 2);
                goto LABEL_459;
              }
              if ( v233 == -4096 )
              {
                if ( v232[1] == -4096 )
                {
                  v248 = v363.m128i_u32[2];
                  v250 = 12;
                  v234 = 4;
                  if ( v230 )
                    v232 = v230;
                  ++v363.m128i_i64[0];
                  v313.m128i_i64[0] = (__int64)v232;
                  v249 = ((unsigned __int32)v363.m128i_i32[2] >> 1) + 1;
                  if ( (v363.m128i_i8[8] & 1) == 0 )
                  {
                    v234 = v365;
LABEL_489:
                    v250 = 3 * v234;
                  }
                  v251 = 2 * v234;
                  if ( 4 * v249 < v250 )
                  {
                    if ( v234 - v363.m128i_i32[3] - v249 > v234 >> 3 )
                      goto LABEL_492;
                    v251 = v234;
                  }
                  sub_2D3F4B0((__int64)&v363, v251);
                  sub_2D293E0((__int64)&v363, &v311, (__int64 **)&v313);
                  v220 = v311;
                  v248 = v363.m128i_u32[2];
LABEL_492:
                  v252 = v313.m128i_i64[0];
                  v363.m128i_i32[2] = (2 * (v248 >> 1) + 2) | v248 & 1;
                  if ( *(_QWORD *)v313.m128i_i64[0] != -4096 || *(_QWORD *)(v313.m128i_i64[0] + 8) != -4096 )
                    --v363.m128i_i32[3];
                  *(_QWORD *)v313.m128i_i64[0] = v220;
                  v253 = v312;
                  v235 = v252 + 16;
                  *(_QWORD *)(v252 + 16) = 0;
                  *(_QWORD *)(v252 + 8) = v253;
                  v254 = (_QWORD *)(v252 + 32);
                  v255 = (_QWORD *)(v252 + 96);
                  *(v255 - 9) = 1;
                  do
                  {
                    if ( v254 )
                    {
                      *v254 = -1;
                      v254[1] = -1;
                    }
                    v254 += 2;
                  }
                  while ( v254 != v255 );
LABEL_459:
                  if ( !v297 )
                    v300 = *(__m128i *)qword_4F81350;
                  v313 = v300;
                  if ( (unsigned __int8)sub_2D2B6B0(v235, v313.m128i_i64, &v309) )
                  {
LABEL_462:
                    sub_2D29B40((unsigned int *)&v321, v219);
                    goto LABEL_463;
                  }
                  v310 = v309;
                  v244 = *(_DWORD *)(v235 + 8);
                  ++*(_QWORD *)v235;
                  v245 = (v244 >> 1) + 1;
                  if ( (*(_BYTE *)(v235 + 8) & 1) == 0 )
                  {
                    v246 = *(_DWORD *)(v235 + 24);
                    if ( 3 * v246 > 4 * v245 )
                      goto LABEL_484;
LABEL_508:
                    v246 *= 2;
                    goto LABEL_509;
                  }
                  v246 = 4;
                  if ( (unsigned int)(4 * v245) >= 0xC )
                    goto LABEL_508;
LABEL_484:
                  if ( v246 - (v245 + *(_DWORD *)(v235 + 12)) <= v246 >> 3 )
                  {
LABEL_509:
                    sub_2D33C00(v235, v246);
                    sub_2D2B6B0(v235, v313.m128i_i64, &v310);
                    v245 = (*(_DWORD *)(v235 + 8) >> 1) + 1;
                  }
                  *(_DWORD *)(v235 + 8) = *(_DWORD *)(v235 + 8) & 1 | (2 * v245);
                  v247 = v310;
                  if ( v310->m128i_i64[0] != -1 || v310->m128i_i64[1] != -1 )
                    --*(_DWORD *)(v235 + 12);
                  *v247 = _mm_loadu_si128(&v313);
                  goto LABEL_462;
                }
              }
              else if ( v233 == -8192 && v232[1] == -8192 && !v230 )
              {
                v230 = &v227[12 * nn];
              }
              v256 = v229 + nn;
              ++v229;
            }
          }
        }
LABEL_429:
        if ( (unsigned __int8)sub_2D24370(
                                (__int64 *)&v308,
                                v220,
                                v223,
                                v225,
                                v221,
                                v222,
                                v318.m128i_i32[0],
                                v318.m128i_i64[1],
                                v319.m128i_u64[0],
                                v319.m128i_i8[8]) )
          goto LABEL_430;
        v285 = v276;
LABEL_463:
        v219 += 32LL;
        if ( v292 != v219 )
          continue;
        break;
      }
      if ( v285 )
      {
        v318.m128i_i64[0] = v275 & 0xFFFFFFFFFFFFFFFBLL;
        v236 = sub_2D2B8B0(v280, v318.m128i_i64);
        sub_2D29780((unsigned int *)v236, (__int64)&v321, v237, v238, v239, v240);
      }
LABEL_466:
      sub_2D288B0((__int64)&v321);
LABEL_467:
      v274 = (_QWORD *)v274[1];
      if ( v282 != v274 )
        continue;
      break;
    }
LABEL_468:
    v241 = (__int64 *)v394;
    sub_C7D6A0(0, 0, 8);
    v242 = (__int64 *)&v364;
    if ( (v363.m128i_i8[8] & 1) == 0 )
    {
      v242 = v364;
      v243 = 12LL * (unsigned int)v365;
      if ( !(_DWORD)v365 || (v241 = &v364[v243], v364 == &v364[v243]) )
      {
LABEL_481:
        sub_C7D6A0((__int64)v242, v243 * 8, 8);
        goto LABEL_263;
      }
    }
    while ( 2 )
    {
      while ( 2 )
      {
        if ( *v242 != -4096 )
        {
          if ( *v242 != -8192 || v242[1] != -8192 )
          {
LABEL_473:
            if ( (v242[3] & 1) == 0 )
              sub_C7D6A0(v242[4], 16LL * *((unsigned int *)v242 + 10), 8);
          }
          v242 += 12;
          if ( v241 == v242 )
            goto LABEL_479;
          continue;
        }
        break;
      }
      if ( v242[1] != -4096 )
        goto LABEL_473;
      v242 += 12;
      if ( v241 != v242 )
        continue;
      break;
    }
LABEL_479:
    if ( (v363.m128i_i8[8] & 1) == 0 )
    {
      v242 = v364;
      v243 = 12LL * (unsigned int)v365;
      goto LABEL_481;
    }
LABEL_263:
    v318.m128i_i8[0] = 0;
    v363 = 0u;
    v364 = 0;
    LODWORD(v365) = 0;
    v128 = *(_QWORD **)(v272 + 56);
    if ( v282 == v128 )
    {
      v134 = 0;
      v135 = 0;
    }
    else
    {
      do
      {
        if ( !v128 )
        {
          v321 = a3;
          v322 = (__int64)&v363;
          v323[0] = &v318;
          BUG();
        }
        v321 = a3;
        v322 = (__int64)&v363;
        v323[0] = &v318;
        v129 = v128[5];
        if ( v129 )
        {
          v130 = sub_B14240(v129);
          v132 = v131;
          v133 = v130;
          if ( v130 != v131 )
          {
            while ( *(_BYTE *)(v133 + 32) )
            {
              v133 = *(_QWORD *)(v133 + 8);
              if ( v133 == v131 )
                goto LABEL_274;
            }
LABEL_270:
            if ( v133 != v132 )
            {
              sub_2D2F2E0((__int64 *)&v321, v133);
              while ( 1 )
              {
                v133 = *(_QWORD *)(v133 + 8);
                if ( v133 == v132 )
                  break;
                if ( !*(_BYTE *)(v133 + 32) )
                  goto LABEL_270;
              }
            }
          }
        }
LABEL_274:
        sub_2D2F750((__int64 *)&v321, (__int64)(v128 - 3));
        v128 = (_QWORD *)v128[1];
      }
      while ( v282 != v128 );
      v134 = v363.m128i_i64[1];
      v135 = 56LL * (unsigned int)v365;
    }
    sub_C7D6A0(v134, v135, 8);
    v271 = *(_QWORD *)(v271 + 8);
  }
  while ( v271 != v273 );
LABEL_277:
  v136 = v362;
  if ( v362 )
  {
    v137 = v360;
    v305 = v360 + 56LL * v362;
    do
    {
      v138 = v137 + 56;
      if ( *(_QWORD *)v137 != -8192 && *(_QWORD *)v137 != -4096 )
      {
        v139 = *(_QWORD *)(v137 + 40);
        v140 = v139 + 72LL * *(unsigned int *)(v137 + 48);
        if ( v139 != v140 )
        {
          do
          {
            v141 = *(unsigned int *)(v140 - 56);
            v142 = *(_QWORD *)(v140 - 64);
            v140 -= 72LL;
            v143 = v142 + 24 * v141;
            if ( v142 != v143 )
            {
              do
              {
                v144 = *(_QWORD *)(v143 - 8);
                v143 -= 24LL;
                if ( v144 )
                  sub_B91220(v143 + 16, v144);
              }
              while ( v142 != v143 );
              v142 = *(_QWORD *)(v140 + 8);
            }
            if ( v142 != v140 + 24 )
              _libc_free(v142);
          }
          while ( v139 != v140 );
          v140 = *(_QWORD *)(v137 + 40);
        }
        v138 = v137 + 56;
        if ( v140 != v137 + 56 )
          _libc_free(v140);
        sub_C7D6A0(*(_QWORD *)(v137 + 16), 16LL * *(unsigned int *)(v137 + 32), 8);
      }
      v137 = v138;
    }
    while ( v305 != v138 );
    v136 = v362;
  }
  sub_C7D6A0(v360, 56 * v136, 8);
  v148 = v358;
  if ( v358 )
  {
    v149 = v356;
    v150 = v356 + 40LL * v358;
    do
    {
      if ( *(_QWORD *)v149 != -4096 && *(_QWORD *)v149 != -8192 )
      {
        v151 = *(unsigned int *)(v149 + 32);
        if ( (_DWORD)v151 )
        {
          v152 = *(_DWORD **)(v149 + 16);
          v153 = &v152[54 * v151];
          do
          {
            while ( *v152 > 0xFFFFFFFD || !v152[50] )
            {
              v152 += 54;
              if ( v153 == v152 )
                goto LABEL_306;
            }
            v154 = (__int64)(v152 + 2);
            v152 += 54;
            sub_2D2A3E0(v154, (char *)sub_2D227B0, 0, v145, v146, v147);
          }
          while ( v153 != v152 );
LABEL_306:
          v151 = *(unsigned int *)(v149 + 32);
        }
        sub_C7D6A0(*(_QWORD *)(v149 + 16), 216 * v151, 8);
      }
      v149 += 40;
    }
    while ( v150 != v149 );
    v148 = v358;
  }
  sub_C7D6A0(v356, 40 * v148, 8);
  v158 = v354;
  if ( v354 )
  {
    v159 = v352;
    v160 = v352 + 40LL * v354;
    do
    {
      if ( *(_QWORD *)v159 != -8192 && *(_QWORD *)v159 != -4096 )
      {
        v161 = *(unsigned int *)(v159 + 32);
        if ( (_DWORD)v161 )
        {
          v162 = *(_DWORD **)(v159 + 16);
          v163 = &v162[54 * v161];
          do
          {
            while ( *v162 > 0xFFFFFFFD || !v162[50] )
            {
              v162 += 54;
              if ( v163 == v162 )
                goto LABEL_320;
            }
            v164 = (__int64)(v162 + 2);
            v162 += 54;
            sub_2D2A3E0(v164, (char *)sub_2D227B0, 0, v155, v156, v157);
          }
          while ( v163 != v162 );
LABEL_320:
          v161 = *(unsigned int *)(v159 + 32);
        }
        sub_C7D6A0(*(_QWORD *)(v159 + 16), 216 * v161, 8);
      }
      v159 += 40;
    }
    while ( v160 != v159 );
    v158 = v354;
  }
  sub_C7D6A0(v352, 40 * v158, 8);
  if ( v348 )
    j_j___libc_free_0(v348);
  sub_2D24590(v344);
  if ( v340 )
    j_j___libc_free_0(v340);
  sub_2D24930(v336);
  v165 = v329;
  v326 = 0;
  v166 = &v329[(unsigned int)v330];
  if ( v329 != v166 )
  {
    for ( i1 = (unsigned __int64)v329; ; i1 = (unsigned __int64)v329 )
    {
      v168 = *v165;
      v169 = (unsigned int)((__int64)((__int64)v165 - i1) >> 3) >> 7;
      v170 = 4096LL << v169;
      if ( v169 >= 0x1E )
        v170 = 0x40000000000LL;
      ++v165;
      sub_C7D6A0(v168, v170, 16);
      if ( v166 == v165 )
        break;
    }
  }
  v171 = v332;
  v172 = &v332[2 * (unsigned int)v333];
  if ( v332 != v172 )
  {
    do
    {
      v173 = v171[1];
      v174 = *v171;
      v171 += 2;
      sub_C7D6A0(v174, v173, 16);
    }
    while ( v172 != v171 );
    v172 = v332;
  }
  if ( v172 != v334 )
    _libc_free((unsigned __int64)v172);
  if ( v329 != (__int64 *)v331 )
    _libc_free((unsigned __int64)v329);
  return sub_C7D6A0((__int64)v315, 16LL * v317, 8);
}
