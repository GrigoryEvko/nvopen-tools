// Function: sub_28E0E30
// Address: 0x28e0e30
//
__int64 __fastcall sub_28E0E30(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int64 v6; // r13
  __int64 v7; // r15
  __int64 v8; // rbx
  __int64 v9; // r14
  __int64 v10; // rax
  __int64 *v11; // rbx
  int v12; // ebx
  __int64 *v13; // rax
  unsigned int v14; // edx
  __int64 v15; // rsi
  unsigned int v16; // ecx
  unsigned __int64 v17; // rax
  int v18; // r9d
  __int64 v19; // rdx
  __int64 v20; // rax
  _QWORD *v21; // rax
  unsigned int v22; // eax
  _QWORD *v23; // rdx
  __int64 v24; // r13
  __m128i v25; // rax
  unsigned __int64 v26; // rax
  __int64 v27; // r14
  unsigned __int64 v28; // r15
  __int64 v29; // r9
  int v30; // eax
  __int8 *v31; // rdx
  __int64 v32; // rdx
  __int64 v33; // rcx
  __int64 v34; // r8
  __int64 v35; // r9
  __int64 v36; // rdx
  __int64 v37; // rcx
  __int64 v38; // r8
  __int64 v39; // r9
  __int64 v40; // rcx
  __int64 v41; // r8
  __int64 v42; // r9
  unsigned __int64 v43; // r14
  _BYTE *v44; // rbx
  int v45; // r12d
  int v46; // r11d
  __int64 v47; // rcx
  unsigned int v48; // esi
  __int64 v49; // rdx
  __int64 v50; // rdi
  __int64 v51; // rax
  __int64 v52; // rsi
  unsigned int v53; // edx
  __int64 v54; // rax
  int v55; // esi
  int v56; // esi
  unsigned __int64 v57; // rdx
  __int64 v58; // rcx
  unsigned int v59; // eax
  __int64 v60; // rcx
  unsigned __int64 v61; // rax
  __int64 v62; // rax
  __int64 *v63; // r12
  unsigned __int64 v64; // rbx
  __int64 *v65; // r15
  __int64 v66; // r12
  __int64 *v67; // rbx
  unsigned int v68; // r14d
  unsigned int v69; // r9d
  __int64 v70; // r8
  __int64 v71; // rcx
  unsigned int v72; // r10d
  int v73; // r11d
  __int64 v74; // rax
  __int64 v75; // rdi
  unsigned int v76; // r10d
  unsigned int v77; // ecx
  __int64 v78; // rax
  __int64 v79; // r11
  __int64 v80; // rdx
  unsigned int v81; // esi
  __int64 *v82; // r13
  __int64 v83; // rdi
  unsigned int v84; // eax
  __int64 v85; // r8
  int v86; // edx
  unsigned int v87; // eax
  __int64 v88; // rdi
  __int64 v89; // rsi
  int v90; // eax
  __int64 v91; // rbx
  __m128i v92; // rax
  __int64 v93; // rcx
  __int64 v94; // r8
  __int64 v95; // r9
  __int64 *v96; // rdi
  __int64 *v97; // rsi
  __int64 v98; // rdx
  __int64 v99; // r9
  __int64 v100; // rcx
  const __m128i *v101; // r8
  unsigned __int64 v102; // rbx
  __int64 v103; // rax
  __int64 v104; // rdi
  __m128i *v105; // rdx
  const __m128i *v106; // rax
  __int64 v107; // r9
  const __m128i *v108; // rcx
  unsigned __int64 v109; // r8
  unsigned __int64 v110; // rbx
  __int64 v111; // rax
  unsigned __int64 v112; // rdi
  __m128i *v113; // rdx
  const __m128i *v114; // rax
  unsigned __int64 v115; // rax
  __int64 v116; // rcx
  __int64 v117; // rbx
  int v118; // ecx
  __int64 v119; // rsi
  int v120; // ecx
  unsigned int v121; // edx
  __int64 *v122; // rax
  __int64 v123; // rdi
  __int64 v124; // r12
  unsigned int v125; // r13d
  unsigned int v126; // eax
  __int64 *v127; // rdx
  __int64 v128; // rax
  __int64 v129; // rbx
  int v130; // r10d
  __int64 v131; // rcx
  unsigned int v132; // edx
  _QWORD *v133; // rax
  unsigned __int8 *v134; // rdi
  unsigned int *v135; // rax
  __int64 v136; // rdx
  unsigned int v137; // eax
  unsigned __int8 **v138; // rdx
  unsigned __int8 *v139; // r12
  __int64 v140; // r15
  int v141; // esi
  int v142; // edx
  __int64 v143; // rsi
  __int64 v144; // rcx
  __int64 v145; // rdx
  __int64 *v146; // rax
  __int64 v147; // r10
  int v148; // esi
  __int64 v149; // rdi
  int v150; // r14d
  __int64 *v151; // rcx
  __int64 v152; // rdx
  __int64 *v153; // rax
  __int64 v154; // r8
  _QWORD *v155; // rdi
  unsigned __int64 v156; // rax
  char v157; // si
  __int64 v158; // r9
  char v159; // cl
  __int64 v160; // rax
  unsigned __int64 v161; // r8
  int v162; // ecx
  __int64 v163; // rbx
  unsigned int v164; // eax
  unsigned int v165; // esi
  __int64 v166; // rdx
  unsigned int v167; // esi
  __int64 *v168; // rax
  __int64 v169; // r9
  unsigned int v170; // edx
  __int64 v171; // rsi
  __m128i v172; // rax
  int v173; // r15d
  __int64 v174; // rdi
  __int64 v175; // rax
  __int64 v178; // rdx
  __int64 v179; // rax
  _QWORD *v180; // r11
  __int64 v181; // r8
  _QWORD *v182; // rcx
  _QWORD *v183; // rax
  __int64 v184; // rax
  unsigned int v185; // esi
  unsigned int v188; // ebx
  unsigned int v189; // edi
  __int64 *v190; // r12
  __int64 v191; // rax
  __int64 v192; // r8
  __int64 v193; // r14
  bool v194; // di
  _QWORD *v195; // rax
  _QWORD *v196; // rdx
  unsigned int v197; // ecx
  __int64 v198; // rsi
  unsigned int v199; // ecx
  unsigned int v200; // eax
  __int64 v201; // rdx
  __int64 v202; // r9
  __int64 v203; // rcx
  unsigned int v204; // eax
  __int64 v205; // rsi
  unsigned int v206; // edx
  __int64 *v207; // rax
  __int64 v208; // r9
  int v209; // eax
  int v210; // eax
  unsigned int v211; // ebx
  unsigned int v212; // esi
  int v213; // ebx
  unsigned __int64 v214; // rdx
  unsigned __int64 v215; // r8
  __int64 v216; // rdx
  int v219; // eax
  int v220; // edx
  int v221; // r11d
  int v222; // eax
  unsigned int v223; // esi
  int v224; // eax
  int v225; // eax
  __int64 v226; // rdx
  int v227; // r11d
  __int64 v228; // r8
  int v229; // r10d
  __int64 v230; // r9
  __int64 v231; // rax
  __int64 *v232; // rax
  _DWORD *v233; // r14
  __int64 v234; // rdx
  __int64 v235; // rcx
  __int64 v236; // rax
  unsigned int v237; // esi
  char v238; // r12
  __int64 v239; // rdi
  __int64 *v240; // r8
  __int64 v241; // r11
  unsigned int v242; // edx
  unsigned int i; // eax
  int v244; // edx
  int v245; // eax
  char v246; // bl
  __int64 v247; // rdx
  __int64 v248; // rcx
  __int64 v249; // r8
  __int64 v250; // r9
  __int64 j; // rax
  __int64 v252; // r12
  _QWORD *v253; // r15
  _QWORD *v254; // r12
  char v255; // bl
  _QWORD *v256; // rax
  __int64 v257; // rax
  __int64 v258; // r12
  __int64 v259; // r13
  unsigned __int64 v260; // rdi
  __int64 v261; // rax
  __int64 v262; // r12
  __int64 v263; // r13
  unsigned __int64 v264; // rdi
  __int64 v265; // rax
  _QWORD **v266; // r12
  _QWORD **k; // r14
  __int64 v268; // rax
  _QWORD *v269; // r13
  unsigned __int64 v270; // rdi
  _QWORD *v271; // r14
  _QWORD *v272; // r13
  _QWORD *v273; // rbx
  _QWORD *v274; // r12
  unsigned __int64 v275; // r15
  bool v276; // zf
  __int64 v277; // rax
  unsigned __int8 *v278; // r12
  _QWORD *v279; // rax
  __int64 **v280; // rax
  __int64 v281; // rbx
  __int64 *v282; // rax
  __int64 v283; // rax
  __int64 v284; // r15
  unsigned __int64 v285; // rax
  unsigned __int64 v286; // r13
  __int64 v287; // r13
  _QWORD *v288; // rdi
  _QWORD *v289; // rax
  __int64 v290; // rcx
  __int64 v291; // r8
  __int64 v292; // r9
  __int64 v293; // rax
  __int64 v294; // rax
  __int64 v295; // r12
  __int64 v296; // r13
  __int64 v297; // rax
  __int64 v298; // r12
  __int64 v299; // r13
  unsigned __int64 v300; // rdi
  unsigned __int64 v301; // r13
  unsigned __int64 v302; // r12
  __int64 v303; // rdx
  __int64 v304; // rcx
  __int64 *v305; // r14
  __int64 *v306; // r12
  __int64 *m; // rax
  __int64 v308; // rdi
  unsigned int v309; // ecx
  __int64 v310; // rsi
  __int64 *v311; // r13
  __int64 *v312; // r12
  __int64 v313; // rsi
  __int64 v314; // rdi
  unsigned __int64 v315; // r12
  void *v316; // r13
  void *v317; // r12
  _QWORD *v318; // rax
  __int64 v319; // rdx
  __int64 v321; // rax
  __m128i v322; // rax
  unsigned __int64 v323; // rbx
  int v324; // eax
  __int64 *v325; // rax
  __int64 v326; // rdx
  __int64 v327; // rax
  __int64 v328; // rdi
  __int64 v329; // rdx
  const __m128i *v330; // rdx
  const __m128i *v331; // rdi
  __m128i *v332; // rcx
  __int32 v333; // r13d
  int v334; // eax
  int v335; // r8d
  int v336; // r8d
  int v338; // [rsp+58h] [rbp-15D8h]
  __int64 v339; // [rsp+58h] [rbp-15D8h]
  unsigned __int64 v340; // [rsp+60h] [rbp-15D0h]
  __int64 v341; // [rsp+68h] [rbp-15C8h]
  __int64 *v342; // [rsp+70h] [rbp-15C0h]
  int v343; // [rsp+70h] [rbp-15C0h]
  __int64 v344; // [rsp+78h] [rbp-15B8h]
  _BYTE *v345; // [rsp+78h] [rbp-15B8h]
  __int64 v346; // [rsp+78h] [rbp-15B8h]
  __int64 v347; // [rsp+78h] [rbp-15B8h]
  _QWORD *v348; // [rsp+78h] [rbp-15B8h]
  int v349; // [rsp+78h] [rbp-15B8h]
  __int64 v350; // [rsp+78h] [rbp-15B8h]
  _BYTE *v351; // [rsp+80h] [rbp-15B0h] BYREF
  __int64 v352; // [rsp+88h] [rbp-15A8h]
  _BYTE v353[64]; // [rsp+90h] [rbp-15A0h] BYREF
  __int64 v354[54]; // [rsp+D0h] [rbp-1560h] BYREF
  unsigned __int64 v355; // [rsp+280h] [rbp-13B0h] BYREF
  char *v356; // [rsp+288h] [rbp-13A8h]
  __int64 v357; // [rsp+290h] [rbp-13A0h]
  int v358; // [rsp+298h] [rbp-1398h]
  char v359; // [rsp+29Ch] [rbp-1394h]
  char v360; // [rsp+2A0h] [rbp-1390h] BYREF
  const __m128i *v361; // [rsp+2E0h] [rbp-1350h] BYREF
  __int64 v362; // [rsp+2E8h] [rbp-1348h]
  _BYTE v363[320]; // [rsp+2F0h] [rbp-1340h] BYREF
  __int64 *v364; // [rsp+430h] [rbp-1200h] BYREF
  unsigned __int64 v365; // [rsp+438h] [rbp-11F8h]
  char v366; // [rsp+44Ch] [rbp-11E4h]
  char *v367; // [rsp+490h] [rbp-11A0h]
  char v368; // [rsp+4A0h] [rbp-1190h] BYREF
  __int64 v369[54]; // [rsp+5E0h] [rbp-1050h] BYREF
  __int64 v370; // [rsp+790h] [rbp-EA0h] BYREF
  _BYTE *v371; // [rsp+798h] [rbp-E98h]
  __int64 v372; // [rsp+7A0h] [rbp-E90h]
  __int64 v373; // [rsp+7A8h] [rbp-E88h]
  _BYTE v374[64]; // [rsp+7B0h] [rbp-E80h] BYREF
  unsigned __int64 *v375; // [rsp+7F0h] [rbp-E40h] BYREF
  unsigned __int64 v376; // [rsp+7F8h] [rbp-E38h]
  unsigned __int64 v377; // [rsp+800h] [rbp-E30h] BYREF
  __m128i v378; // [rsp+940h] [rbp-CF0h] BYREF
  __int64 v379; // [rsp+950h] [rbp-CE0h]
  __int64 v380; // [rsp+958h] [rbp-CD8h]
  char v381; // [rsp+960h] [rbp-CD0h] BYREF
  const __m128i *v382; // [rsp+9A0h] [rbp-C90h]
  char *v383; // [rsp+9A8h] [rbp-C88h]
  __int64 v384; // [rsp+9B0h] [rbp-C80h] BYREF
  char v385[8]; // [rsp+9B8h] [rbp-C78h] BYREF
  unsigned __int64 v386; // [rsp+9C0h] [rbp-C70h]
  char v387; // [rsp+9D4h] [rbp-C5Ch]
  const __m128i *v388; // [rsp+A18h] [rbp-C18h]
  const __m128i *v389; // [rsp+A20h] [rbp-C10h]
  _QWORD *v390; // [rsp+AF0h] [rbp-B40h] BYREF
  _QWORD **v391; // [rsp+AF8h] [rbp-B38h]
  __int64 v392; // [rsp+B00h] [rbp-B30h]
  int v393; // [rsp+B08h] [rbp-B28h]
  char v394; // [rsp+B0Ch] [rbp-B24h]
  _QWORD *v395[2]; // [rsp+B10h] [rbp-B20h] BYREF
  __int64 v396; // [rsp+B20h] [rbp-B10h] BYREF
  char *v397; // [rsp+B28h] [rbp-B08h]
  __int64 v398; // [rsp+B30h] [rbp-B00h]
  __int64 v399; // [rsp+B38h] [rbp-AF8h] BYREF
  char v400[8]; // [rsp+B40h] [rbp-AF0h] BYREF
  __int64 *v401; // [rsp+B48h] [rbp-AE8h]
  int v402; // [rsp+B50h] [rbp-AE0h]
  char v403; // [rsp+B58h] [rbp-AD8h] BYREF
  __int64 *v404; // [rsp+B78h] [rbp-AB8h]
  unsigned int v405; // [rsp+B80h] [rbp-AB0h]
  char v406; // [rsp+B88h] [rbp-AA8h] BYREF
  char *v407; // [rsp+B98h] [rbp-A98h]
  char v408; // [rsp+BA8h] [rbp-A88h] BYREF
  unsigned __int64 v409; // [rsp+BF8h] [rbp-A38h]
  char v410; // [rsp+C0Ch] [rbp-A24h]
  __int64 v411; // [rsp+C58h] [rbp-9D8h]
  unsigned int v412; // [rsp+C68h] [rbp-9C8h]
  char *v413; // [rsp+C70h] [rbp-9C0h]
  char v414; // [rsp+C80h] [rbp-9B0h] BYREF
  unsigned __int64 v415; // [rsp+CC0h] [rbp-970h]
  unsigned int v416; // [rsp+CC8h] [rbp-968h]
  char v417; // [rsp+CD0h] [rbp-960h] BYREF
  __int64 v418; // [rsp+FD8h] [rbp-658h]
  unsigned int v419; // [rsp+FE8h] [rbp-648h]
  int v420; // [rsp+1038h] [rbp-5F8h]
  __int64 v421; // [rsp+1040h] [rbp-5F0h] BYREF
  __int64 v422; // [rsp+1048h] [rbp-5E8h]
  int v423; // [rsp+1050h] [rbp-5E0h]
  int v424; // [rsp+1054h] [rbp-5DCh]
  unsigned int v425; // [rsp+1058h] [rbp-5D8h]
  unsigned __int64 v426; // [rsp+1068h] [rbp-5C8h]
  __int64 v427; // [rsp+1090h] [rbp-5A0h]
  unsigned int v428; // [rsp+10A0h] [rbp-590h]
  __int64 v429; // [rsp+10B0h] [rbp-580h]
  unsigned int v430; // [rsp+10C0h] [rbp-570h]
  char v431[8]; // [rsp+10C8h] [rbp-568h] BYREF
  unsigned __int64 v432; // [rsp+10D0h] [rbp-560h]
  char v433; // [rsp+10E4h] [rbp-54Ch]
  __int64 v434; // [rsp+1130h] [rbp-500h]
  unsigned int v435; // [rsp+1140h] [rbp-4F0h]
  int v436; // [rsp+1148h] [rbp-4E8h]
  __int64 v437; // [rsp+1158h] [rbp-4D8h]
  unsigned int v438; // [rsp+1168h] [rbp-4C8h]
  char v439[8]; // [rsp+1170h] [rbp-4C0h] BYREF
  __int64 v440; // [rsp+1178h] [rbp-4B8h]
  unsigned int v441; // [rsp+1188h] [rbp-4A8h]
  __int64 v442; // [rsp+1198h] [rbp-498h]
  unsigned int v443; // [rsp+11A8h] [rbp-488h]
  __int64 v444; // [rsp+11B8h] [rbp-478h]
  unsigned int v445; // [rsp+11C8h] [rbp-468h]
  __int64 v446; // [rsp+11D8h] [rbp-458h]
  unsigned int v447; // [rsp+11E8h] [rbp-448h]
  __int64 v448; // [rsp+11F8h] [rbp-438h]
  unsigned int v449; // [rsp+1208h] [rbp-428h]
  __int64 v450; // [rsp+1210h] [rbp-420h] BYREF
  __int64 v451; // [rsp+1218h] [rbp-418h]
  int v452; // [rsp+1220h] [rbp-410h]
  int v453; // [rsp+1224h] [rbp-40Ch]
  unsigned int v454; // [rsp+1228h] [rbp-408h]
  __int64 v455; // [rsp+1238h] [rbp-3F8h]
  unsigned int v456; // [rsp+1248h] [rbp-3E8h]
  __int64 v457; // [rsp+1258h] [rbp-3D8h]
  unsigned int v458; // [rsp+1268h] [rbp-3C8h]
  __int64 v459; // [rsp+1278h] [rbp-3B8h]
  unsigned int v460; // [rsp+1288h] [rbp-3A8h]
  __int64 v461; // [rsp+1298h] [rbp-398h]
  unsigned int v462; // [rsp+12A8h] [rbp-388h]
  __int64 v463; // [rsp+12B8h] [rbp-378h]
  unsigned int v464; // [rsp+12C8h] [rbp-368h]
  _QWORD v465[3]; // [rsp+12D0h] [rbp-360h] BYREF
  unsigned int v466; // [rsp+12E8h] [rbp-348h]
  _QWORD *v467; // [rsp+12F0h] [rbp-340h]
  unsigned __int64 v468; // [rsp+1300h] [rbp-330h]
  char v469; // [rsp+1314h] [rbp-31Ch]
  __int64 v470; // [rsp+1360h] [rbp-2D0h]
  unsigned int v471; // [rsp+1370h] [rbp-2C0h]
  char v472[8]; // [rsp+1378h] [rbp-2B8h] BYREF
  _QWORD *v473; // [rsp+1380h] [rbp-2B0h]
  int v474; // [rsp+1388h] [rbp-2A8h]
  int v475; // [rsp+138Ch] [rbp-2A4h]
  bool v476; // [rsp+1394h] [rbp-29Ch]
  _BYTE *v477; // [rsp+13D8h] [rbp-258h] BYREF
  unsigned int v478; // [rsp+13E0h] [rbp-250h]
  unsigned int v479; // [rsp+13E4h] [rbp-24Ch]
  _BYTE v480[48]; // [rsp+13E8h] [rbp-248h] BYREF
  int v481; // [rsp+1418h] [rbp-218h]
  __int64 v482; // [rsp+1420h] [rbp-210h] BYREF
  __int64 v483; // [rsp+1428h] [rbp-208h]
  int v484; // [rsp+1430h] [rbp-200h]
  int v485; // [rsp+1434h] [rbp-1FCh]
  unsigned int v486; // [rsp+1438h] [rbp-1F8h]
  __int64 v487; // [rsp+1448h] [rbp-1E8h]
  unsigned int v488; // [rsp+1458h] [rbp-1D8h]
  __int64 v489; // [rsp+1460h] [rbp-1D0h] BYREF
  unsigned __int64 v490; // [rsp+1468h] [rbp-1C8h]
  int v491; // [rsp+1470h] [rbp-1C0h]
  int v492; // [rsp+1474h] [rbp-1BCh]
  unsigned int v493; // [rsp+1478h] [rbp-1B8h]
  _BYTE *v494; // [rsp+1480h] [rbp-1B0h] BYREF
  unsigned int v495; // [rsp+1488h] [rbp-1A8h]
  unsigned int v496; // [rsp+148Ch] [rbp-1A4h]
  _BYTE v497[256]; // [rsp+1490h] [rbp-1A0h] BYREF
  __int64 v498; // [rsp+1590h] [rbp-A0h] BYREF
  unsigned __int64 v499; // [rsp+1598h] [rbp-98h]
  int v500; // [rsp+15A4h] [rbp-8Ch]
  int v501; // [rsp+15A8h] [rbp-88h]
  char v502; // [rsp+15ACh] [rbp-84h]
  __int64 v503; // [rsp+15F0h] [rbp-40h]
  __int64 v504; // [rsp+15F8h] [rbp-38h]

  v6 = sub_BC1CD0(a4, &unk_4F86630, a3);
  v344 = sub_BC1CD0(a4, &unk_4F81450, a3);
  v7 = sub_BC1CD0(a4, &unk_4F6D3F8, a3);
  v8 = sub_BC1CD0(a4, &unk_4F86540, a3);
  v9 = *(_QWORD *)(sub_BC1CD0(a4, &unk_4F8F810, a3) + 8);
  v10 = sub_B2BEC0(a3);
  sub_28CFA30((__int64)&v390, a3, v344 + 8, v6 + 8, v7 + 8, v8 + 8, v9, v10);
  LODWORD(v369[0]) = dword_5004668;
  v11 = sub_C60B10();
  if ( !(unsigned __int8)sub_234F5A0((__int64)v11, (int *)v369, &v370) )
  {
    v378.m128i_i64[0] = v370;
    v223 = *((_DWORD *)v11 + 6);
    v224 = *((_DWORD *)v11 + 4);
    ++*v11;
    v225 = v224 + 1;
    if ( 4 * v225 >= 3 * v223 )
    {
      sub_C61E30((__int64)v11, 2 * v223);
    }
    else
    {
      if ( v223 - *((_DWORD *)v11 + 5) - v225 > v223 >> 3 )
      {
LABEL_342:
        *((_DWORD *)v11 + 4) = v225;
        v226 = v378.m128i_i64[0];
        if ( *(_DWORD *)v378.m128i_i64[0] != -1 )
          --*((_DWORD *)v11 + 5);
        *(_DWORD *)v226 = v369[0];
        memset((void *)(v226 + 8), 0, 0x78u);
        *(_QWORD *)(v226 + 32) = v226 + 48;
        *(_QWORD *)(v226 + 64) = v226 + 80;
        *(_QWORD *)(v226 + 72) = 0x300000000LL;
        goto LABEL_6;
      }
      sub_C61E30((__int64)v11, v223);
    }
    sub_234F5A0((__int64)v11, (int *)v369, &v378);
    v225 = *((_DWORD *)v11 + 4) + 1;
    goto LABEL_342;
  }
  if ( *(_BYTE *)(v370 + 24) )
  {
    v12 = dword_5004668;
    v13 = sub_C60B10();
    v14 = *((_DWORD *)v13 + 6);
    v15 = v13[1];
    if ( v14 )
    {
      v16 = (v14 - 1) & (37 * v12);
      v17 = v15 + ((unsigned __int64)v16 << 7);
      v18 = *(_DWORD *)v17;
      if ( *(_DWORD *)v17 == v12 )
      {
LABEL_5:
        v19 = *(_QWORD *)(v17 + 8);
        v20 = *(_QWORD *)(v17 + 16);
        v503 = v19;
        v504 = v20;
        goto LABEL_6;
      }
      v334 = 1;
      while ( v18 != -1 )
      {
        v335 = v334 + 1;
        v16 = (v14 - 1) & (v334 + v16);
        v17 = v15 + ((unsigned __int64)v16 << 7);
        v18 = *(_DWORD *)v17;
        if ( v12 == *(_DWORD *)v17 )
          goto LABEL_5;
        v334 = v335;
      }
    }
    v17 = v15 + ((unsigned __int64)v14 << 7);
    goto LABEL_5;
  }
LABEL_6:
  v420 = v390[13];
  v395[1] = sub_103E0E0(v395[0]);
  v21 = (_QWORD *)sub_A777F0(0x18u, &v399);
  if ( v21 )
  {
    v21[2] = 0;
    v21[1] = 0xFFFFFFFD00000003LL;
    *v21 = &unk_4A21928;
  }
  v467 = v21;
  v22 = v495;
  if ( v496 <= v495 )
  {
    sub_94F890((__int64)&v494, 0);
  }
  else
  {
    v23 = &v494[8 * v495];
    if ( v23 )
    {
      *v23 = 0;
      v22 = v495;
    }
    v495 = v22 + 1;
  }
  v351 = v353;
  memset(v354, 0, sizeof(v354));
  LODWORD(v354[2]) = 8;
  v354[1] = (__int64)&v354[4];
  BYTE4(v354[3]) = 1;
  v354[12] = (__int64)&v354[14];
  HIDWORD(v354[13]) = 8;
  v24 = v390[10];
  v352 = 0x800000000LL;
  v355 = 0;
  if ( v24 )
    v24 -= 24;
  v356 = &v360;
  v359 = 1;
  v357 = 8;
  v358 = 0;
  v361 = (const __m128i *)v363;
  v362 = 0x800000000LL;
  v25.m128i_i64[0] = (__int64)sub_AE6EC0((__int64)&v355, v24);
  if ( v359 )
    v25.m128i_i64[1] = (__int64)&v356[8 * HIDWORD(v357)];
  else
    v25.m128i_i64[1] = (__int64)&v356[8 * (unsigned int)v357];
  v378 = v25;
  sub_254BBF0((__int64)&v378);
  v26 = *(_QWORD *)(v24 + 48) & 0xFFFFFFFFFFFFFFF8LL;
  if ( v26 == v24 + 48 )
    goto LABEL_354;
  if ( !v26 )
    BUG();
  v27 = v26 - 24;
  if ( (unsigned int)*(unsigned __int8 *)(v26 - 24) - 30 > 0xA )
  {
LABEL_354:
    v29 = 0;
    v28 = 0;
    v27 = 0;
  }
  else
  {
    v28 = v26 - 24;
    v29 = (unsigned int)sub_B46E30(v27);
  }
  v30 = v362;
  if ( HIDWORD(v362) <= (unsigned int)v362 )
  {
    v349 = v29;
    v327 = sub_C8D7D0((__int64)&v361, (__int64)v363, 0, 0x28u, (unsigned __int64 *)&v378, v29);
    v328 = 40LL * (unsigned int)v362;
    v329 = v328 + v327;
    if ( v328 + v327 )
    {
      *(_QWORD *)v329 = v28;
      *(_QWORD *)(v329 + 16) = v27;
      *(_DWORD *)(v329 + 8) = v349;
      *(_DWORD *)(v329 + 24) = 0;
      *(_QWORD *)(v329 + 32) = v24;
      v328 = 40LL * (unsigned int)v362;
    }
    v330 = v361;
    v331 = (const __m128i *)((char *)v361 + v328);
    if ( v361 != v331 )
    {
      v332 = (__m128i *)v327;
      do
      {
        if ( v332 )
        {
          *v332 = _mm_loadu_si128(v330);
          v332[1] = _mm_loadu_si128(v330 + 1);
          v332[2].m128i_i64[0] = v330[2].m128i_i64[0];
        }
        v330 = (const __m128i *)((char *)v330 + 40);
        v332 = (__m128i *)((char *)v332 + 40);
      }
      while ( v331 != v330 );
      v331 = v361;
    }
    v333 = v378.m128i_i32[0];
    if ( v331 != (const __m128i *)v363 )
    {
      v350 = v327;
      _libc_free((unsigned __int64)v331);
      v327 = v350;
    }
    LODWORD(v362) = v362 + 1;
    v361 = (const __m128i *)v327;
    HIDWORD(v362) = v333;
  }
  else
  {
    v31 = &v361->m128i_i8[40 * (unsigned int)v362];
    if ( v31 )
    {
      *(_QWORD *)v31 = v28;
      *((_DWORD *)v31 + 2) = v29;
      *((_QWORD *)v31 + 2) = v27;
      *((_DWORD *)v31 + 6) = 0;
      *((_QWORD *)v31 + 4) = v24;
      v30 = v362;
    }
    LODWORD(v362) = v30 + 1;
  }
  sub_CE27D0((__int64)&v355);
  sub_CE3710((__int64)&v370, (__int64)v354, v32, v33, v34, v35);
  sub_CE35F0((__int64)&v378, (__int64)&v370);
  sub_CE3710((__int64)&v364, (__int64)&v355, v36, v37, v38, v39);
  sub_CE35F0((__int64)v369, (__int64)&v364);
  sub_CE37E0((__int64)v369, (__int64)&v378, (__int64)&v351, v40, v41, v42);
  if ( (__int64 *)v369[12] != &v369[14] )
    _libc_free(v369[12]);
  if ( !BYTE4(v369[3]) )
    _libc_free(v369[1]);
  if ( v367 != &v368 )
    _libc_free((unsigned __int64)v367);
  if ( !v366 )
    _libc_free(v365);
  if ( v382 != (const __m128i *)&v384 )
    _libc_free((unsigned __int64)v382);
  if ( !BYTE4(v380) )
    _libc_free(v378.m128i_u64[1]);
  if ( v375 != &v377 )
    _libc_free((unsigned __int64)v375);
  if ( !BYTE4(v373) )
    _libc_free((unsigned __int64)v371);
  if ( v361 != (const __m128i *)v363 )
    _libc_free((unsigned __int64)v361);
  if ( !v359 )
    _libc_free((unsigned __int64)v356);
  if ( (__int64 *)v354[12] != &v354[14] )
    _libc_free(v354[12]);
  if ( !BYTE4(v354[3]) )
    _libc_free(v354[1]);
  v43 = (unsigned __int64)v351;
  v44 = &v351[8 * (unsigned int)v352];
  if ( v351 == v44 )
  {
    v57 = (unsigned __int64)v391;
    goto LABEL_119;
  }
  v45 = 0;
  do
  {
    while ( 1 )
    {
      v51 = *((_QWORD *)v44 - 1);
      if ( v51 )
      {
        v52 = (unsigned int)(*(_DWORD *)(v51 + 44) + 1);
        v53 = *(_DWORD *)(v51 + 44) + 1;
      }
      else
      {
        v52 = 0;
        v53 = 0;
      }
      v54 = 0;
      if ( v53 < *((_DWORD *)v391 + 8) )
        v54 = v391[3][v52];
      v370 = v54;
      ++v45;
      if ( !v425 )
      {
        ++v421;
        v378.m128i_i64[0] = 0;
LABEL_58:
        v55 = 2 * v425;
LABEL_59:
        sub_CE3370((__int64)&v421, v55);
        sub_28CD4F0((__int64)&v421, &v370, &v378);
        v54 = v370;
        v47 = v378.m128i_i64[0];
        v56 = v423 + 1;
        goto LABEL_60;
      }
      v46 = 1;
      v47 = 0;
      v48 = (v425 - 1) & (((unsigned int)v54 >> 9) ^ ((unsigned int)v54 >> 4));
      v49 = v422 + 16LL * v48;
      v50 = *(_QWORD *)v49;
      if ( v54 != *(_QWORD *)v49 )
        break;
LABEL_51:
      v44 -= 8;
      *(_DWORD *)(v49 + 8) = v45;
      if ( (_BYTE *)v43 == v44 )
        goto LABEL_63;
    }
    while ( v50 != -4096 )
    {
      if ( v50 == -8192 && !v47 )
        v47 = v49;
      v48 = (v425 - 1) & (v46 + v48);
      v49 = v422 + 16LL * v48;
      v50 = *(_QWORD *)v49;
      if ( v54 == *(_QWORD *)v49 )
        goto LABEL_51;
      ++v46;
    }
    if ( !v47 )
      v47 = v49;
    ++v421;
    v56 = v423 + 1;
    v378.m128i_i64[0] = v47;
    if ( 4 * (v423 + 1) >= 3 * v425 )
      goto LABEL_58;
    if ( v425 - v424 - v56 <= v425 >> 3 )
    {
      v55 = v425;
      goto LABEL_59;
    }
LABEL_60:
    v423 = v56;
    if ( *(_QWORD *)v47 != -4096 )
      --v424;
    v44 -= 8;
    *(_QWORD *)v47 = v54;
    *(_DWORD *)(v47 + 8) = 0;
    *(_DWORD *)(v47 + 8) = v45;
  }
  while ( (_BYTE *)v43 != v44 );
LABEL_63:
  v57 = (unsigned __int64)v391;
  v340 = (unsigned __int64)v351;
  v345 = &v351[8 * (unsigned int)v352];
  if ( v351 != v345 )
  {
    while ( 1 )
    {
      v62 = *((_QWORD *)v345 - 1);
      if ( v62 )
      {
        v58 = (unsigned int)(*(_DWORD *)(v62 + 44) + 1);
        v59 = *(_DWORD *)(v62 + 44) + 1;
      }
      else
      {
        v58 = 0;
        v59 = 0;
      }
      if ( v59 >= *(_DWORD *)(v57 + 32) )
LABEL_627:
        BUG();
      v60 = *(_QWORD *)(*(_QWORD *)(v57 + 24) + 8 * v58);
      v61 = *(unsigned int *)(v60 + 32);
      if ( (unsigned int)v61 <= 1 )
        goto LABEL_68;
      v63 = *(__int64 **)(v60 + 24);
      v64 = v61;
      _BitScanReverse64(&v61, (__int64)(8 * v61) >> 3);
      v342 = &v63[v64];
      sub_28D8430(v63, (char *)&v63[v64], 2LL * (int)(63 - (v61 ^ 0x3F)), (__int64)&v390);
      if ( v64 > 16 )
        break;
      sub_28D78B0(v63, v342, (__int64)&v390);
      v57 = (unsigned __int64)v391;
LABEL_68:
      v345 -= 8;
      if ( (_BYTE *)v340 == v345 )
        goto LABEL_119;
    }
    v65 = v63 + 16;
    sub_28D78B0(v63, v63 + 16, (__int64)&v390);
    if ( &v63[v64] == v63 + 16 )
      goto LABEL_96;
LABEL_74:
    v66 = *v65;
    v67 = v65;
    v68 = ((unsigned int)*v65 >> 9) ^ ((unsigned int)*v65 >> 4);
    while ( 1 )
    {
      v80 = *(v67 - 1);
      v81 = v425;
      v82 = v67;
      v369[0] = v66;
      v370 = v80;
      if ( !v425 )
        break;
      v69 = v425 - 1;
      v70 = v422;
      v71 = 0;
      v72 = (v425 - 1) & v68;
      v73 = 1;
      v74 = v422 + 16LL * v72;
      v75 = *(_QWORD *)v74;
      if ( *(_QWORD *)v74 == v66 )
      {
LABEL_76:
        v76 = *(_DWORD *)(v74 + 8);
        goto LABEL_77;
      }
      while ( v75 != -4096 )
      {
        if ( !v71 && v75 == -8192 )
          v71 = v74;
        v72 = v69 & (v73 + v72);
        v74 = v422 + 16LL * v72;
        v75 = *(_QWORD *)v74;
        if ( v66 == *(_QWORD *)v74 )
          goto LABEL_76;
        ++v73;
      }
      if ( !v71 )
        v71 = v74;
      ++v421;
      v86 = v423 + 1;
      v378.m128i_i64[0] = v71;
      if ( 4 * (v423 + 1) >= 3 * v425 )
        goto LABEL_82;
      v83 = v66;
      if ( v425 - v424 - v86 <= v425 >> 3 )
      {
        sub_CE3370((__int64)&v421, v425);
        sub_28CD4F0((__int64)&v421, v369, &v378);
        v83 = v369[0];
        v71 = v378.m128i_i64[0];
        v86 = v423 + 1;
      }
LABEL_85:
      v423 = v86;
      if ( *(_QWORD *)v71 != -4096 )
        --v424;
      *(_QWORD *)v71 = v83;
      *(_DWORD *)(v71 + 8) = 0;
      v81 = v425;
      if ( !v425 )
      {
        ++v421;
        v378.m128i_i64[0] = 0;
        goto LABEL_89;
      }
      v70 = v422;
      v80 = v370;
      v69 = v425 - 1;
      v76 = 0;
LABEL_77:
      v77 = v69 & (((unsigned int)v80 >> 9) ^ ((unsigned int)v80 >> 4));
      v78 = v70 + 16LL * v77;
      v79 = *(_QWORD *)v78;
      if ( v80 != *(_QWORD *)v78 )
      {
        v338 = 1;
        v88 = 0;
        while ( v79 != -4096 )
        {
          if ( !v88 && v79 == -8192 )
            v88 = v78;
          v77 = v69 & (v338 + v77);
          v78 = v70 + 16LL * v77;
          v79 = *(_QWORD *)v78;
          if ( v80 == *(_QWORD *)v78 )
            goto LABEL_78;
          ++v338;
        }
        if ( !v88 )
          v88 = v78;
        ++v421;
        v90 = v423 + 1;
        v378.m128i_i64[0] = v88;
        if ( 4 * (v423 + 1) < 3 * v81 )
        {
          if ( v81 - (v90 + v424) <= v81 >> 3 )
          {
            sub_CE3370((__int64)&v421, v81);
            sub_28CD4F0((__int64)&v421, &v370, &v378);
            v80 = v370;
            v88 = v378.m128i_i64[0];
            v90 = v423 + 1;
          }
          goto LABEL_92;
        }
LABEL_89:
        sub_CE3370((__int64)&v421, 2 * v81);
        if ( v425 )
        {
          v80 = v370;
          v87 = (v425 - 1) & (((unsigned int)v370 >> 9) ^ ((unsigned int)v370 >> 4));
          v88 = v422 + 16LL * v87;
          v89 = *(_QWORD *)v88;
          if ( *(_QWORD *)v88 == v370 )
          {
LABEL_91:
            v378.m128i_i64[0] = v88;
            v90 = v423 + 1;
          }
          else
          {
            v227 = 1;
            v228 = 0;
            while ( v89 != -4096 )
            {
              if ( v89 == -8192 && !v228 )
                v228 = v88;
              v87 = (v425 - 1) & (v227 + v87);
              v88 = v422 + 16LL * v87;
              v89 = *(_QWORD *)v88;
              if ( v370 == *(_QWORD *)v88 )
                goto LABEL_91;
              ++v227;
            }
            if ( !v228 )
              v228 = v88;
            v90 = v423 + 1;
            v378.m128i_i64[0] = v228;
            v88 = v228;
          }
        }
        else
        {
          v80 = v370;
          v88 = 0;
          v378.m128i_i64[0] = 0;
          v90 = v423 + 1;
        }
LABEL_92:
        v423 = v90;
        if ( *(_QWORD *)v88 != -4096 )
          --v424;
        *(_QWORD *)v88 = v80;
        *(_DWORD *)(v88 + 8) = 0;
LABEL_95:
        *v82 = v66;
        if ( v342 == ++v65 )
        {
LABEL_96:
          v57 = (unsigned __int64)v391;
          goto LABEL_68;
        }
        goto LABEL_74;
      }
LABEL_78:
      --v67;
      if ( v76 >= *(_DWORD *)(v78 + 8) )
        goto LABEL_95;
      v67[1] = *v67;
    }
    ++v421;
    v378.m128i_i64[0] = 0;
LABEL_82:
    sub_CE3370((__int64)&v421, 2 * v425);
    if ( v425 )
    {
      v83 = v369[0];
      v84 = (v425 - 1) & ((LODWORD(v369[0]) >> 9) ^ (LODWORD(v369[0]) >> 4));
      v71 = v422 + 16LL * v84;
      v85 = *(_QWORD *)v71;
      if ( v369[0] == *(_QWORD *)v71 )
      {
LABEL_84:
        v378.m128i_i64[0] = v71;
        v86 = v423 + 1;
      }
      else
      {
        v229 = 1;
        v230 = 0;
        while ( v85 != -4096 )
        {
          if ( !v230 && v85 == -8192 )
            v230 = v71;
          v84 = (v425 - 1) & (v229 + v84);
          v71 = v422 + 16LL * v84;
          v85 = *(_QWORD *)v71;
          if ( v369[0] == *(_QWORD *)v71 )
            goto LABEL_84;
          ++v229;
        }
        if ( !v230 )
          v230 = v71;
        v86 = v423 + 1;
        v378.m128i_i64[0] = v230;
        v71 = v230;
      }
    }
    else
    {
      v83 = v369[0];
      v71 = 0;
      v378.m128i_i64[0] = 0;
      v86 = v423 + 1;
    }
    goto LABEL_85;
  }
LABEL_119:
  v91 = *(_QWORD *)(v57 + 96);
  v370 = 0;
  memset(v369, 0, 0x78u);
  v369[1] = (__int64)&v369[4];
  LODWORD(v369[2]) = 8;
  BYTE4(v369[3]) = 1;
  v371 = v374;
  v372 = 8;
  LODWORD(v373) = 0;
  BYTE4(v373) = 1;
  v375 = 0;
  v376 = 0;
  v377 = 0;
  v92.m128i_i64[0] = (__int64)sub_AE6EC0((__int64)&v370, v91);
  if ( BYTE4(v373) )
    v92.m128i_i64[1] = (__int64)&v371[8 * HIDWORD(v372)];
  else
    v92.m128i_i64[1] = (__int64)&v371[8 * (unsigned int)v372];
  v378 = v92;
  sub_254BBF0((__int64)&v378);
  v378.m128i_i64[0] = v91;
  LOBYTE(v379) = 0;
  sub_28D5EE0((__int64)&v375, &v378);
  sub_28CD1F0(&v378, &v370, v369);
  if ( v375 )
    j_j___libc_free_0((unsigned __int64)v375);
  if ( !BYTE4(v373) )
    _libc_free((unsigned __int64)v371);
  if ( v369[12] )
    j_j___libc_free_0(v369[12]);
  if ( !BYTE4(v369[3]) )
    _libc_free(v369[1]);
  v96 = v369;
  v97 = &v369[4];
  sub_C8CD80((__int64)v369, (__int64)&v369[4], (__int64)&v378, v93, v94, v95);
  v100 = (__int64)v383;
  v101 = v382;
  memset(&v369[12], 0, 24);
  v102 = v383 - (char *)v382;
  if ( v383 != (char *)v382 )
  {
    if ( v102 <= 0x7FFFFFFFFFFFFFF8LL )
    {
      v103 = sub_22077B0(v383 - (char *)v382);
      v100 = (__int64)v383;
      v101 = v382;
      v104 = v103;
      goto LABEL_132;
    }
LABEL_614:
    sub_4261EA(v96, v97, v98);
  }
  v102 = 0;
  v104 = 0;
LABEL_132:
  v369[12] = v104;
  v369[13] = v104;
  v369[14] = v104 + v102;
  if ( (const __m128i *)v100 != v101 )
  {
    v105 = (__m128i *)v104;
    v106 = v101;
    do
    {
      if ( v105 )
      {
        *v105 = _mm_loadu_si128(v106);
        v105[1].m128i_i64[0] = v106[1].m128i_i64[0];
      }
      v106 = (const __m128i *)((char *)v106 + 24);
      v105 = (__m128i *)((char *)v105 + 24);
    }
    while ( v106 != (const __m128i *)v100 );
    v104 += 8 * ((unsigned __int64)((char *)&v106[-2].m128i_u64[1] - (char *)v101) >> 3) + 24;
  }
  v369[13] = v104;
  v96 = &v370;
  v97 = (__int64 *)v374;
  sub_C8CD80((__int64)&v370, (__int64)v374, (__int64)v385, v100, (__int64)v101, v99);
  v108 = v389;
  v109 = (unsigned __int64)v388;
  v375 = 0;
  v376 = 0;
  v377 = 0;
  v110 = (char *)v389 - (char *)v388;
  if ( v389 == v388 )
  {
    v110 = 0;
    v112 = 0;
  }
  else
  {
    if ( v110 > 0x7FFFFFFFFFFFFFF8LL )
      goto LABEL_614;
    v111 = sub_22077B0((char *)v389 - (char *)v388);
    v108 = v389;
    v109 = (unsigned __int64)v388;
    v112 = v111;
  }
  v375 = (unsigned __int64 *)v112;
  v376 = v112;
  v377 = v112 + v110;
  if ( (const __m128i *)v109 == v108 )
  {
    v115 = v112;
  }
  else
  {
    v113 = (__m128i *)v112;
    v114 = (const __m128i *)v109;
    do
    {
      if ( v113 )
      {
        *v113 = _mm_loadu_si128(v114);
        v113[1].m128i_i64[0] = v114[1].m128i_i64[0];
      }
      v114 = (const __m128i *)((char *)v114 + 24);
      v113 = (__m128i *)((char *)v113 + 24);
    }
    while ( v114 != v108 );
    v115 = v112 + 8 * (((unsigned __int64)&v114[-2].m128i_u64[1] - v109) >> 3) + 24;
  }
  v376 = v115;
  v343 = 1;
  while ( 2 )
  {
    v116 = v369[12];
    if ( v369[13] - v369[12] != v115 - v112 )
    {
LABEL_149:
      v117 = **(_QWORD **)(v369[13] - 24);
      v354[0] = v117;
      v118 = *((_DWORD *)v395[0] + 14);
      v339 = v117;
      v119 = v395[0][5];
      if ( v118 )
      {
        v120 = v118 - 1;
        v121 = v120 & (((unsigned int)v117 >> 9) ^ ((unsigned int)v117 >> 4));
        v122 = (__int64 *)(v119 + 16LL * v121);
        v123 = *v122;
        if ( v117 == *v122 )
        {
LABEL_151:
          v124 = v122[1];
          if ( v124 )
          {
            v364 = (__int64 *)v122[1];
            *(_DWORD *)sub_28D1E70((__int64)&v489, (__int64 *)&v364) = v343;
            v125 = v343 + 1;
            v126 = v495;
            if ( v496 <= v495 )
            {
              sub_94F890((__int64)&v494, v124);
              v128 = v354[0];
            }
            else
            {
              v127 = (__int64 *)&v494[8 * v495];
              if ( v127 )
              {
                *v127 = v124;
                v126 = v495;
              }
              v495 = v126 + 1;
              v128 = v354[0];
            }
LABEL_156:
            v129 = *(_QWORD *)(v128 + 56);
            v346 = v128 + 48;
            if ( v129 == v128 + 48 )
            {
LABEL_188:
              v143 = v486;
              v364 = (__int64 *)v339;
              v365 = __PAIR64__(v125, v343);
              if ( v486 )
              {
                v144 = v483;
                v145 = (v486 - 1) & (((unsigned int)v339 >> 9) ^ ((unsigned int)v339 >> 4));
                v146 = (__int64 *)(v483 + 16 * v145);
                v147 = *v146;
                if ( v339 == *v146 )
                {
LABEL_190:
                  sub_229DC50((__int64)v369, v143, v145, v144, v109, v107);
                  v343 = v125;
                  v112 = (unsigned __int64)v375;
                  v115 = v376;
                  continue;
                }
                v221 = 1;
                v109 = 0;
                while ( v147 != -4096 )
                {
                  if ( !v109 && v147 == -8192 )
                    v109 = (unsigned __int64)v146;
                  v107 = (unsigned int)(v221 + 1);
                  v145 = (v486 - 1) & (v221 + (_DWORD)v145);
                  v146 = (__int64 *)(v483 + 16LL * (unsigned int)v145);
                  v147 = *v146;
                  if ( v339 == *v146 )
                    goto LABEL_190;
                  ++v221;
                }
                if ( !v109 )
                  v109 = (unsigned __int64)v146;
                ++v482;
                v222 = v484 + 1;
                v355 = v109;
                if ( 4 * (v484 + 1) < 3 * v486 )
                {
                  v145 = v486 - v485 - v222;
                  v144 = v486 >> 3;
                  if ( (unsigned int)v145 > (unsigned int)v144 )
                  {
LABEL_322:
                    v484 = v222;
                    if ( *(_QWORD *)v109 != -4096 )
                      --v485;
                    *(_QWORD *)v109 = v339;
                    *(_QWORD *)(v109 + 8) = v365;
                    goto LABEL_190;
                  }
LABEL_339:
                  sub_104FE00((__int64)&v482, v143);
                  v143 = (__int64)&v364;
                  sub_28CEAE0((__int64)&v482, (__int64 *)&v364, &v355);
                  v109 = v355;
                  v339 = (__int64)v364;
                  v222 = v484 + 1;
                  goto LABEL_322;
                }
              }
              else
              {
                ++v482;
                v355 = 0;
              }
              LODWORD(v143) = 2 * v486;
              goto LABEL_339;
            }
            while ( 1 )
            {
LABEL_165:
              v139 = (unsigned __int8 *)(v129 - 24);
              if ( !v129 )
                v139 = 0;
              v140 = (__int64)v139;
              if ( !sub_F50EE0(v139, (__int64 *)v392) )
                break;
              v364 = (__int64 *)v139;
              *(_DWORD *)sub_28D1E70((__int64)&v489, (__int64 *)&v364) = 0;
              sub_BED950((__int64)&v364, (__int64)&v498, (__int64)v139);
              v129 = *(_QWORD *)(v129 + 8);
              if ( v346 == v129 )
                goto LABEL_188;
            }
            if ( *v139 != 84 )
            {
LABEL_169:
              v141 = v493;
              v355 = (unsigned __int64)v139;
              if ( !v493 )
              {
                ++v489;
                v364 = 0;
                goto LABEL_171;
              }
              v107 = v493 - 1;
              v130 = 1;
              v109 = v490;
              v131 = 0;
              v132 = v107 & (((unsigned int)v139 >> 9) ^ ((unsigned int)v139 >> 4));
              v133 = (_QWORD *)(v490 + 16LL * v132);
              v134 = (unsigned __int8 *)*v133;
              if ( (unsigned __int8 *)*v133 == v139 )
              {
LABEL_159:
                v135 = (unsigned int *)(v133 + 1);
                goto LABEL_160;
              }
              while ( v134 != (unsigned __int8 *)-4096LL )
              {
                if ( !v131 && v134 == (unsigned __int8 *)-8192LL )
                  v131 = (__int64)v133;
                v132 = v107 & (v130 + v132);
                v133 = (_QWORD *)(v490 + 16LL * v132);
                v134 = (unsigned __int8 *)*v133;
                if ( (unsigned __int8 *)*v133 == v139 )
                  goto LABEL_159;
                ++v130;
              }
              if ( !v131 )
                v131 = (__int64)v133;
              ++v489;
              v142 = v491 + 1;
              v364 = (__int64 *)v131;
              if ( 4 * (v491 + 1) < 3 * v493 )
              {
                if ( v493 - v492 - v142 <= v493 >> 3 )
                {
LABEL_172:
                  sub_A429D0((__int64)&v489, v141);
                  sub_A56BF0((__int64)&v489, (__int64 *)&v355, &v364);
                  v140 = v355;
                  v131 = (__int64)v364;
                  v142 = v491 + 1;
                }
                v491 = v142;
                if ( *(_QWORD *)v131 != -4096 )
                  --v492;
                *(_QWORD *)v131 = v140;
                v135 = (unsigned int *)(v131 + 8);
                *(_DWORD *)(v131 + 8) = 0;
LABEL_160:
                *v135 = v125;
                v136 = v495;
                v137 = v495;
                if ( v495 >= (unsigned __int64)v496 )
                {
                  v109 = v495 + 1LL;
                  if ( v496 < v109 )
                  {
                    sub_C8D5F0((__int64)&v494, v497, v495 + 1LL, 8u, v109, v107);
                    v136 = v495;
                  }
                  ++v125;
                  *(_QWORD *)&v494[8 * v136] = v139;
                  ++v495;
                }
                else
                {
                  v138 = (unsigned __int8 **)&v494[8 * v495];
                  if ( v138 )
                  {
                    *v138 = v139;
                    v137 = v495;
                  }
                  ++v125;
                  v495 = v137 + 1;
                }
                v129 = *(_QWORD *)(v129 + 8);
                if ( v346 == v129 )
                  goto LABEL_188;
                goto LABEL_165;
              }
LABEL_171:
              v141 = 2 * v493;
              goto LABEL_172;
            }
            v148 = v454;
            if ( v454 )
            {
              v149 = v354[0];
              v150 = 1;
              v151 = 0;
              LODWORD(v152) = (v454 - 1) & ((LODWORD(v354[0]) >> 9) ^ (LODWORD(v354[0]) >> 4));
              v153 = (__int64 *)(v451 + 40LL * (unsigned int)v152);
              v154 = *v153;
              if ( *v153 == v354[0] )
              {
LABEL_193:
                v155 = v153 + 1;
LABEL_194:
                sub_FDE240(v155, v125);
                goto LABEL_169;
              }
              while ( v154 != -4096 )
              {
                if ( !v151 && v154 == -8192 )
                  v151 = v153;
                v152 = (v454 - 1) & ((_DWORD)v152 + v150);
                v153 = (__int64 *)(v451 + 40 * v152);
                v154 = *v153;
                if ( v354[0] == *v153 )
                  goto LABEL_193;
                ++v150;
              }
              if ( !v151 )
                v151 = v153;
              ++v450;
              v220 = v452 + 1;
              v364 = v151;
              if ( 4 * (v452 + 1) < 3 * v454 )
              {
                if ( v454 - v453 - v220 > v454 >> 3 )
                {
LABEL_310:
                  v452 = v220;
                  if ( *v151 != -4096 )
                    --v453;
                  *v151 = v149;
                  v155 = v151 + 1;
                  v151[2] = (__int64)(v151 + 1);
                  v151[1] = (__int64)(v151 + 1);
                  v151[3] = 0;
                  v151[4] = (__int64)(v151 + 1);
                  goto LABEL_194;
                }
LABEL_315:
                sub_28D54E0((__int64)&v450, v148);
                sub_28CBDD0((__int64)&v450, v354, &v364);
                v149 = v354[0];
                v151 = v364;
                v220 = v452 + 1;
                goto LABEL_310;
              }
            }
            else
            {
              ++v450;
              v364 = 0;
            }
            v148 = 2 * v454;
            goto LABEL_315;
          }
        }
        else
        {
          v219 = 1;
          while ( v123 != -4096 )
          {
            v109 = (unsigned int)(v219 + 1);
            v121 = v120 & (v219 + v121);
            v122 = (__int64 *)(v119 + 16LL * v121);
            v123 = *v122;
            if ( v117 == *v122 )
              goto LABEL_151;
            v219 = v109;
          }
        }
      }
      v128 = v117;
      v125 = v343;
      goto LABEL_156;
    }
    break;
  }
  if ( v369[12] != v369[13] )
  {
    v156 = v112;
    while ( *(_QWORD *)v116 == *(_QWORD *)v156 )
    {
      v157 = *(_BYTE *)(v116 + 16);
      if ( v157 != *(_BYTE *)(v156 + 16) || v157 && *(_QWORD *)(v116 + 8) != *(_QWORD *)(v156 + 8) )
        break;
      v116 += 24;
      v156 += 24LL;
      if ( v369[13] == v116 )
        goto LABEL_205;
    }
    goto LABEL_149;
  }
LABEL_205:
  if ( v112 )
    j_j___libc_free_0(v112);
  if ( !BYTE4(v373) )
    _libc_free((unsigned __int64)v371);
  if ( v369[12] )
    j_j___libc_free_0(v369[12]);
  if ( !BYTE4(v369[3]) )
    _libc_free(v369[1]);
  if ( v388 )
    j_j___libc_free_0((unsigned __int64)v388);
  if ( !v387 )
    _libc_free(v386);
  if ( v382 )
    j_j___libc_free_0((unsigned __int64)v382);
  if ( !BYTE4(v380) )
    _libc_free(v378.m128i_u64[1]);
  sub_28D5F20((__int64)&v390, (__int64)v390);
  if ( (v481 & 0x3F) != 0 )
    *(_QWORD *)&v477[8 * v478 - 8] &= ~(-1LL << (v481 & 0x3F));
  v159 = v343;
  v160 = v478;
  v481 = v343;
  v161 = (unsigned int)(v343 + 63) >> 6;
  if ( v161 == v478 )
  {
    v159 = v343;
  }
  else if ( v161 >= v478 )
  {
    v323 = v161 - v478;
    if ( v161 > v479 )
    {
      sub_C8D5F0((__int64)&v477, v480, (unsigned int)(v343 + 63) >> 6, 8u, v161, v158);
      v160 = v478;
    }
    if ( 8 * v323 )
    {
      memset(&v477[8 * v160], 0, 8 * v323);
      LODWORD(v160) = v478;
    }
    v159 = v481;
    v478 = v323 + v160;
  }
  else
  {
    v478 = (unsigned int)(v343 + 63) >> 6;
  }
  v162 = v159 & 0x3F;
  if ( v162 )
    *(_QWORD *)&v477[8 * v478 - 8] &= ~(-1LL << v162);
  v163 = v465[0] + 1LL;
  if ( v343 )
  {
    v164 = sub_AF1560(4 * v343 / 3u + 1);
    v465[0] = v163;
    if ( v466 < v164 )
      sub_28C99C0((__int64)v465, v164);
  }
  else
  {
    ++v465[0];
  }
  v165 = v486;
  v166 = v390[10];
  if ( v166 )
    v166 -= 24;
  if ( v486 )
  {
    v167 = (v486 - 1) & (((unsigned int)v166 >> 9) ^ ((unsigned int)v166 >> 4));
    v168 = (__int64 *)(v483 + 16LL * v167);
    v169 = *v168;
    if ( v166 == *v168 )
    {
LABEL_235:
      v165 = *((_DWORD *)v168 + 2);
      v170 = *((_DWORD *)v168 + 3);
    }
    else
    {
      v324 = 1;
      while ( v169 != -4096 )
      {
        v336 = v324 + 1;
        v167 = (v486 - 1) & (v324 + v167);
        v168 = (__int64 *)(v483 + 16LL * v167);
        v169 = *v168;
        if ( v166 == *v168 )
          goto LABEL_235;
        v324 = v336;
      }
      v170 = 0;
      v165 = 0;
    }
  }
  else
  {
    v170 = 0;
  }
  sub_28C7AB0(&v477, v165, v170);
  v171 = v390[10];
  if ( v171 )
    v171 -= 24;
  v172.m128i_i64[0] = (__int64)sub_AE6EC0((__int64)v472, v171);
  if ( v476 )
    v172.m128i_i64[1] = (__int64)&v473[v475];
  else
    v172.m128i_i64[1] = (__int64)&v473[v474];
  v378 = v172;
  sub_254BBF0((__int64)&v378);
  v173 = v481;
  v436 = 0;
  if ( v481 )
  {
    v174 = (unsigned int)(v481 - 1) >> 6;
    v175 = 0;
    while ( 1 )
    {
      _RDX = *(_QWORD *)&v477[8 * v175];
      v171 = (unsigned int)v175;
      if ( v174 == v175 )
        break;
      if ( _RDX )
        goto LABEL_246;
      if ( (_DWORD)v174 + 1 == ++v175 )
        goto LABEL_418;
    }
    _RDX &= 0xFFFFFFFFFFFFFFFFLL >> -(char)v481;
    if ( _RDX )
    {
LABEL_246:
      __asm { tzcnt   rdx, rdx }
      v171 = (unsigned int)((_DWORD)v175 << 6);
      v178 = (unsigned int)(v171 + _RDX);
      if ( (_DWORD)v178 != -1 )
      {
        v179 = sub_28C8250((__int64)&v390, *(_QWORD *)&v494[8 * v178]);
        v181 = v478;
        v347 = v179;
        while ( 1 )
        {
LABEL_248:
          v182 = &v180[v181];
          v171 = (8 * v181) >> 3;
          if ( (8 * v181) >> 5 )
          {
            v183 = v180;
            while ( !*v183 )
            {
              if ( v183[1] )
              {
                ++v183;
                goto LABEL_255;
              }
              if ( v183[2] )
              {
                v183 += 2;
                goto LABEL_255;
              }
              if ( v183[3] )
              {
                v183 += 3;
                goto LABEL_255;
              }
              v183 += 4;
              if ( &v180[4 * ((8 * v181) >> 5)] == v183 )
              {
                v171 = v182 - v183;
                goto LABEL_415;
              }
            }
            goto LABEL_255;
          }
          v183 = v180;
LABEL_415:
          if ( v171 == 2 )
            goto LABEL_559;
          if ( v171 != 3 )
          {
            if ( v171 != 1 )
              goto LABEL_418;
LABEL_561:
            if ( !*v183 )
              goto LABEL_418;
            goto LABEL_255;
          }
          if ( !*v183 )
            break;
LABEL_255:
          if ( v182 == v183 )
            goto LABEL_418;
          if ( v173 )
          {
            v184 = 0;
            v185 = (unsigned int)(v173 - 1) >> 6;
            while ( 1 )
            {
              _RDX = v180[v184];
              if ( v185 == (_DWORD)v184 )
                _RDX = (0xFFFFFFFFFFFFFFFFLL >> -(char)v173) & v180[v184];
              if ( _RDX )
                break;
              if ( v185 + 1 == ++v184 )
                goto LABEL_248;
            }
            __asm { tzcnt   rdx, rdx }
            v188 = _RDX + ((_DWORD)v184 << 6);
            if ( v188 != -1 )
            {
              do
              {
                v189 = v188;
                if ( !v188 )
                {
                  *v180 &= ~1uLL;
                  v173 = v481;
                  v180 = v477;
                  if ( v481 == 1 )
                    break;
                  LOBYTE(v211) = 1;
                  v212 = (unsigned int)(v481 - 1) >> 6;
                  goto LABEL_285;
                }
                v190 = *(__int64 **)&v494[8 * v188];
                v191 = sub_28C8250((__int64)&v390, (__int64)v190);
                v193 = v191;
                if ( v191 != v347 )
                {
                  v194 = v476;
                  if ( v476 )
                  {
                    v195 = v473;
                    v196 = &v473[v475];
                    if ( v473 == v196 )
                    {
                      v198 = v483;
                      if ( !v486 )
                        goto LABEL_385;
                      v199 = v486 - 1;
                      v194 = 0;
                      v200 = (v486 - 1) & (((unsigned int)v193 >> 9) ^ ((unsigned int)v193 >> 4));
                      v201 = v483 + 16LL * v200;
                      v202 = *(_QWORD *)v201;
                      if ( v193 == *(_QWORD *)v201 )
                        goto LABEL_396;
                    }
                    else
                    {
                      do
                      {
                        if ( v193 == *v195 )
                        {
                          v197 = v486;
                          v198 = v483;
                          if ( v486 )
                            goto LABEL_271;
                          goto LABEL_273;
                        }
                        ++v195;
                      }
                      while ( v196 != v195 );
                      v197 = v486;
                      v198 = v483;
                      if ( !v486 )
                        goto LABEL_385;
                      v194 = 0;
LABEL_271:
                      v199 = v197 - 1;
                      v200 = v199 & (((unsigned int)v193 >> 9) ^ ((unsigned int)v193 >> 4));
                      v201 = v198 + 16LL * v200;
                      v202 = *(_QWORD *)v201;
                      if ( v193 == *(_QWORD *)v201 )
                      {
LABEL_272:
                        if ( v194 )
                          goto LABEL_273;
LABEL_396:
                        v236 = *(unsigned int *)(v201 + 8);
                        v237 = *(_DWORD *)(v201 + 12);
                        if ( v237 != (_DWORD)v236 )
                        {
                          v238 = v236 & 0x3F;
                          v239 = 1LL << v237;
                          v240 = &v180[(unsigned int)v236 >> 6];
                          v241 = *v240;
                          if ( (unsigned int)v236 >> 6 == v237 >> 6 )
                          {
                            v347 = v193;
                            *v240 = v241 & ~(v239 - (1LL << v238));
                            v173 = v481;
                            v180 = v477;
                          }
                          else
                          {
                            *v240 = v241 & ~(-1LL << v238);
                            v242 = ((v236 != 0) + (unsigned int)((v236 - (unsigned __int64)(v236 != 0)) >> 6)) << 6;
                            for ( i = v242 + 64; v237 >= i; i += 64 )
                            {
                              *(_QWORD *)&v477[8 * ((i - 64) >> 6)] = 0;
                              v242 = i;
                            }
                            if ( v237 > v242 )
                              *(_QWORD *)&v477[8 * (v242 >> 6)] &= -v239;
                            v347 = v193;
                            v173 = v481;
                            v180 = v477;
                          }
                          goto LABEL_283;
                        }
LABEL_384:
                        v173 = v481;
LABEL_385:
                        v347 = v193;
                        goto LABEL_283;
                      }
                    }
                    v244 = 1;
                    while ( v202 != -4096 )
                    {
                      v192 = (unsigned int)(v244 + 1);
                      v200 = v199 & (v244 + v200);
                      v201 = v198 + 16LL * v200;
                      v202 = *(_QWORD *)v201;
                      if ( v193 == *(_QWORD *)v201 )
                        goto LABEL_272;
                      v244 = v192;
                    }
                  }
                  else
                  {
                    v232 = sub_C8CA60((__int64)v472, v191);
                    v197 = v486;
                    v198 = v483;
                    v180 = v477;
                    v194 = v232 != 0;
                    if ( v486 )
                      goto LABEL_271;
                  }
                  if ( !v194 )
                    goto LABEL_384;
LABEL_273:
                  if ( v193 )
                  {
                    v203 = (unsigned int)(*(_DWORD *)(v193 + 44) + 1);
                    v204 = *(_DWORD *)(v193 + 44) + 1;
                  }
                  else
                  {
                    v203 = 0;
                    v204 = 0;
                  }
                  v205 = 0;
                  if ( v204 < *((_DWORD *)v391 + 8) )
                    v205 = v391[3][v203];
                  if ( v425 )
                  {
                    v206 = (v425 - 1) & (((unsigned int)v205 >> 9) ^ ((unsigned int)v205 >> 4));
                    v207 = (__int64 *)(v422 + 16LL * v206);
                    v208 = *v207;
                    if ( *v207 == v205 )
                    {
LABEL_279:
                      v209 = *((_DWORD *)v207 + 2) - 1;
LABEL_280:
                      v436 = v209;
                      v347 = v193;
                      goto LABEL_281;
                    }
                    v245 = 1;
                    while ( v208 != -4096 )
                    {
                      v192 = (unsigned int)(v245 + 1);
                      v206 = (v425 - 1) & (v245 + v206);
                      v207 = (__int64 *)(v422 + 16LL * v206);
                      v208 = *v207;
                      if ( v205 == *v207 )
                        goto LABEL_279;
                      v245 = v192;
                    }
                  }
                  v209 = -1;
                  goto LABEL_280;
                }
LABEL_281:
                v180[v188 >> 6] &= ~(1LL << v188);
                v210 = *(unsigned __int8 *)v190;
                if ( (_BYTE)v210 == 28 )
                {
                  sub_28CC6E0((__int64)&v390, (__int64)v190);
                  v173 = v481;
                  v180 = v477;
                  goto LABEL_283;
                }
                if ( (unsigned __int8)v210 <= 0x1Cu )
                  goto LABEL_627;
                if ( (unsigned int)(v210 - 30) > 0xA )
                {
                  v378.m128i_i64[0] = 0;
                  v378.m128i_i64[1] = (__int64)&v381;
                  v379 = 2;
                  LODWORD(v380) = 0;
                  BYTE4(v380) = 1;
                  sub_28DCC60(&v370, (__int64)&v390, (__int64)v190, v188, v192);
                  v233 = (_DWORD *)v370;
                  sub_28D37B0((__int64)&v390, (__int64)&v370, v190);
                  if ( v233 )
                  {
                    if ( (unsigned int)(v233[2] - 1) > 1
                      && (unsigned __int8)sub_B19060((__int64)v431, (__int64)v190, v234, v235) )
                    {
                      v293 = sub_28DEC50((__int64)&v390, v190, (__int64)&v378, v290, v291, v292);
                      if ( v293 )
                      {
                        v233 = (_DWORD *)v293;
                      }
                      else
                      {
                        v369[0] = (__int64)v190;
                        v325 = sub_28CCD90((__int64)v439, v369);
                        if ( v325 )
                        {
                          v326 = v325[1];
                          if ( v326 )
                            sub_28C9670((__int64)&v390, (__int64)v190, v326);
                        }
                      }
                    }
                  }
                  else
                  {
                    v321 = sub_A777F0(0x20u, &v399);
                    v233 = (_DWORD *)v321;
                    if ( v321 )
                    {
                      *(_QWORD *)(v321 + 16) = 0;
                      *(_QWORD *)(v321 + 8) = 0xFFFFFFFD00000004LL;
                      *(_QWORD *)(v321 + 24) = v190;
                      *(_QWORD *)v321 = &unk_4A219E8;
                    }
                    *(_DWORD *)(v321 + 12) = *(unsigned __int8 *)v190 - 29;
                  }
                  sub_28D4060((__int64)&v390, (__int64)v190, v233);
                  if ( !BYTE4(v380) )
                    _libc_free(v378.m128i_u64[1]);
                }
                else
                {
                  if ( *(_BYTE *)(v190[1] + 8) != 7 )
                  {
                    v231 = sub_A777F0(0x20u, &v399);
                    if ( v231 )
                    {
                      *(_QWORD *)(v231 + 16) = 0;
                      *(_QWORD *)(v231 + 8) = 0xFFFFFFFD00000004LL;
                      *(_QWORD *)(v231 + 24) = v190;
                      *(_QWORD *)v231 = &unk_4A219E8;
                    }
                    *(_DWORD *)(v231 + 12) = *(unsigned __int8 *)v190 - 29;
                    sub_28D4060((__int64)&v390, (__int64)v190, (_DWORD *)v231);
                  }
                  sub_28DE710((__int64)&v390, (__int64)v190, v190[5]);
                }
                v173 = v481;
                v180 = v477;
LABEL_283:
                v211 = v188 + 1;
                if ( v173 == v211 )
                  break;
                v189 = v211 >> 6;
                v212 = (unsigned int)(v173 - 1) >> 6;
                if ( v211 >> 6 > v212 )
                  break;
LABEL_285:
                v213 = v211 & 0x3F;
                v214 = 0xFFFFFFFFFFFFFFFFLL >> (64 - (unsigned __int8)v213);
                if ( v213 == 0 )
                  v214 = 0;
                v215 = ~v214;
                v216 = v189;
                while ( 1 )
                {
                  _RAX = v180[v216];
                  if ( v189 == (_DWORD)v216 )
                    _RAX = v215 & v180[v216];
                  if ( v212 == (_DWORD)v216 )
                    _RAX &= 0xFFFFFFFFFFFFFFFFLL >> -(char)v173;
                  if ( _RAX )
                    break;
                  if ( v212 < (unsigned int)++v216 )
                    goto LABEL_295;
                }
                __asm { tzcnt   rax, rax }
                v188 = _RAX + ((_DWORD)v216 << 6);
              }
              while ( v188 != -1 );
LABEL_295:
              v181 = v478;
            }
          }
        }
        ++v183;
LABEL_559:
        if ( !*v183 )
        {
          ++v183;
          goto LABEL_561;
        }
        goto LABEL_255;
      }
    }
  }
LABEL_418:
  v246 = sub_28D9850((__int64)&v390);
  v371 = (_BYTE *)sub_254BB00((__int64)&v498);
  v370 = v499;
  sub_254BBF0((__int64)&v370);
  v372 = (__int64)&v498;
  v373 = v498;
  v378.m128i_i64[0] = sub_254BB00((__int64)&v498);
  v378.m128i_i64[1] = v378.m128i_i64[0];
  sub_254BBF0((__int64)&v378);
  v379 = (__int64)&v498;
  v380 = v498;
  for ( j = v370; v370 != v378.m128i_i64[0]; j = v370 )
  {
    v252 = *(_QWORD *)j;
    if ( *(_QWORD *)(*(_QWORD *)j + 16LL) )
    {
      v171 = sub_ACADE0(*(__int64 ***)(v252 + 8));
      sub_BD84D0(v252, v171);
    }
    sub_B43D60((_QWORD *)v252);
    v370 += 8;
    sub_254BBF0((__int64)&v370);
  }
  v253 = (_QWORD *)v390[10];
  v254 = v390 + 9;
  v255 = (v500 != v501) | v246;
  if ( v253 == v390 + 9 )
  {
LABEL_468:
    v348 = v254;
    v271 = v253;
    while ( 1 )
    {
      if ( v348 == v271 )
        goto LABEL_431;
      if ( !v271 )
        BUG();
      v272 = v271 + 3;
      v341 = (__int64)(v271 - 3);
      v273 = (_QWORD *)(*(_QWORD *)(v271[3] & 0xFFFFFFFFFFFFFFF8LL) & 0xFFFFFFFFFFFFFFF8LL);
      if ( v273 != v271 + 3 )
      {
        do
        {
          v274 = v273;
          v275 = *v273 & 0xFFFFFFFFFFFFFFF8LL;
          v276 = *(v273 - 1) == 0;
          v273 = (_QWORD *)v275;
          if ( !v276 )
          {
            v277 = sub_ACADE0((__int64 **)*(v274 - 2));
            sub_BD84D0((__int64)(v274 - 3), v277);
          }
          if ( *((_BYTE *)v274 - 24) != 95 )
          {
            v278 = (unsigned __int8 *)(v274 - 3);
            sub_11C4E30(v278, v396, 0);
            sub_B43D60(v278);
          }
        }
        while ( (_QWORD *)v275 != v272 );
      }
      v279 = (_QWORD *)sub_AA48A0(v341);
      v280 = (__int64 **)sub_BCB2B0(v279);
      v281 = sub_ACADE0(v280);
      v282 = (__int64 *)sub_AA48A0(v341);
      v283 = sub_BCE3C0(v282, 0);
      v284 = sub_AD6530(v283, 0);
      v285 = v271[3] & 0xFFFFFFFFFFFFFFF8LL;
      if ( (_QWORD *)v285 == v272 )
      {
        v286 = 0;
      }
      else
      {
        if ( !v285 )
          BUG();
        v286 = v285 - 24;
        if ( (unsigned int)*(unsigned __int8 *)(v285 - 24) - 30 >= 0xB )
          v286 = 0;
      }
      v287 = v286 + 24;
      v171 = unk_3F10A10;
      v288 = sub_BD2C40(80, unk_3F10A10);
      if ( v288 )
      {
        v171 = v281;
        sub_B4D460((__int64)v288, v281, v284, v287, 0);
      }
      v271 = (_QWORD *)v271[1];
      if ( v271 == v348 )
      {
LABEL_492:
        v255 = 1;
        goto LABEL_431;
      }
      while ( 1 )
      {
        v171 = (__int64)(v271 - 3);
        if ( !v271 )
          v171 = 0;
        if ( !v476 )
          break;
        v289 = v473;
        v247 = (__int64)&v473[v475];
        if ( v473 == (_QWORD *)v247 )
          goto LABEL_494;
        while ( v171 != *v289 )
        {
          if ( (_QWORD *)v247 == ++v289 )
            goto LABEL_494;
        }
LABEL_491:
        v271 = (_QWORD *)v271[1];
        if ( v348 == v271 )
          goto LABEL_492;
      }
      if ( sub_C8CA60((__int64)v472, v171) )
        goto LABEL_491;
LABEL_494:
      v255 = 1;
    }
  }
  do
  {
    v171 = (__int64)(v253 - 3);
    if ( !v253 )
      v171 = 0;
    if ( v476 )
    {
      v256 = v473;
      v247 = (__int64)&v473[v475];
      if ( v473 == (_QWORD *)v247 )
        goto LABEL_468;
      while ( v171 != *v256 )
      {
        if ( (_QWORD *)v247 == ++v256 )
          goto LABEL_468;
      }
    }
    else if ( !sub_C8CA60((__int64)v472, v171) )
    {
      goto LABEL_468;
    }
    v253 = (_QWORD *)v253[1];
  }
  while ( v254 != v253 );
LABEL_431:
  sub_28D01B0((__int64)&v390, v171, v247, v248, v249, v250);
  if ( v351 != v353 )
    _libc_free((unsigned __int64)v351);
  if ( !v502 )
    _libc_free(v499);
  if ( v494 != v497 )
    _libc_free((unsigned __int64)v494);
  sub_C7D6A0(v490, 16LL * v493, 8);
  sub_C7D6A0(v487, 16LL * v488, 8);
  sub_C7D6A0(v483, 16LL * v486, 8);
  if ( v477 != v480 )
    _libc_free((unsigned __int64)v477);
  if ( !v476 )
    _libc_free((unsigned __int64)v473);
  sub_C7D6A0(v470, 16LL * v471, 8);
  if ( !v469 )
    _libc_free(v468);
  sub_C7D6A0(v465[1], 16LL * v466, 8);
  sub_C7D6A0(v463, 16LL * v464, 8);
  sub_C7D6A0(v461, 16LL * v462, 8);
  sub_C7D6A0(v459, 16LL * v460, 8);
  v257 = v458;
  if ( v458 )
  {
    v258 = v457;
    v259 = v457 + 56LL * v458;
    do
    {
      while ( *(_QWORD *)v258 == -4096 || *(_QWORD *)v258 == -8192 || *(_BYTE *)(v258 + 36) )
      {
        v258 += 56;
        if ( v259 == v258 )
          goto LABEL_450;
      }
      v260 = *(_QWORD *)(v258 + 16);
      v258 += 56;
      _libc_free(v260);
    }
    while ( v259 != v258 );
LABEL_450:
    v257 = v458;
  }
  sub_C7D6A0(v457, 56 * v257, 8);
  v261 = v456;
  if ( v456 )
  {
    v262 = v455;
    v263 = v455 + 56LL * v456;
    do
    {
      while ( *(_QWORD *)v262 == -4096 || *(_QWORD *)v262 == -8192 || *(_BYTE *)(v262 + 36) )
      {
        v262 += 56;
        if ( v263 == v262 )
          goto LABEL_458;
      }
      v264 = *(_QWORD *)(v262 + 16);
      v262 += 56;
      _libc_free(v264);
    }
    while ( v263 != v262 );
LABEL_458:
    v261 = v456;
  }
  sub_C7D6A0(v455, 56 * v261, 8);
  v265 = v454;
  if ( v454 )
  {
    v266 = (_QWORD **)(v451 + 40LL * v454);
    for ( k = (_QWORD **)(v451 + 8); ; k += 5 )
    {
      v268 = (__int64)*(k - 1);
      if ( v268 != -4096 && v268 != -8192 )
      {
        v269 = *k;
        while ( v269 != k )
        {
          v270 = (unsigned __int64)v269;
          v269 = (_QWORD *)*v269;
          j_j___libc_free_0(v270);
        }
      }
      if ( v266 == k + 4 )
        break;
    }
    v265 = v454;
  }
  sub_C7D6A0(v451, 40 * v265, 8);
  sub_C7D6A0(v448, 8LL * v449, 8);
  sub_C7D6A0(v446, 16LL * v447, 8);
  v294 = v445;
  if ( v445 )
  {
    v295 = v444;
    v296 = v444 + 56LL * v445;
    do
    {
      if ( *(_QWORD *)v295 != -8 && *(_QWORD *)v295 != 0x7FFFFFFF0LL && !*(_BYTE *)(v295 + 36) )
        _libc_free(*(_QWORD *)(v295 + 16));
      v295 += 56;
    }
    while ( v296 != v295 );
    v294 = v445;
  }
  sub_C7D6A0(v444, 56 * v294, 8);
  v297 = v443;
  if ( v443 )
  {
    v298 = v442;
    v299 = v442 + 56LL * v443;
    do
    {
      while ( *(_QWORD *)v298 == -8192 || *(_QWORD *)v298 == -4096 || *(_BYTE *)(v298 + 36) )
      {
        v298 += 56;
        if ( v299 == v298 )
          goto LABEL_514;
      }
      v300 = *(_QWORD *)(v298 + 16);
      v298 += 56;
      _libc_free(v300);
    }
    while ( v299 != v298 );
LABEL_514:
    v297 = v443;
  }
  sub_C7D6A0(v442, 56 * v297, 8);
  sub_C7D6A0(v440, 16LL * v441, 8);
  sub_C7D6A0(v437, 16LL * v438, 8);
  sub_C7D6A0(v434, 24LL * v435, 8);
  if ( !v433 )
    _libc_free(v432);
  sub_C7D6A0(v429, 16LL * v430, 8);
  sub_C7D6A0(v427, 16LL * v428, 8);
  if ( v426 )
    j_j___libc_free_0(v426);
  sub_C7D6A0(v422, 16LL * v425, 8);
  sub_C7D6A0(v418, 16LL * v419, 8);
  v301 = v415;
  v302 = v415 + 96LL * v416;
  if ( v415 != v302 )
  {
    do
    {
      while ( 1 )
      {
        v302 -= 96LL;
        if ( !*(_BYTE *)(v302 + 28) )
          break;
        if ( v301 == v302 )
          goto LABEL_524;
      }
      _libc_free(*(_QWORD *)(v302 + 8));
    }
    while ( v301 != v302 );
LABEL_524:
    v302 = v415;
  }
  if ( (char *)v302 != &v417 )
    _libc_free(v302);
  if ( v413 != &v414 )
    _libc_free((unsigned __int64)v413);
  sub_C7D6A0(v411, 16LL * v412, 8);
  if ( !v410 )
    _libc_free(v409);
  if ( v407 != &v408 )
    _libc_free((unsigned __int64)v407);
  v305 = v401;
  v306 = &v401[v402];
  if ( v401 != v306 )
  {
    for ( m = v401; ; m = v401 )
    {
      v308 = *v305;
      v309 = (unsigned int)(v305 - m) >> 7;
      v310 = 4096LL << v309;
      if ( v309 >= 0x1E )
        v310 = 0x40000000000LL;
      ++v305;
      sub_C7D6A0(v308, v310, 16);
      if ( v306 == v305 )
        break;
    }
  }
  v311 = v404;
  v312 = &v404[2 * v405];
  if ( v404 != v312 )
  {
    do
    {
      v313 = v311[1];
      v314 = *v311;
      v311 += 2;
      sub_C7D6A0(v314, v313, 16);
    }
    while ( v312 != v311 );
    v312 = v404;
  }
  if ( v312 != (__int64 *)&v406 )
    _libc_free((unsigned __int64)v312);
  if ( v401 != (__int64 *)&v403 )
    _libc_free((unsigned __int64)v401);
  v315 = v398;
  if ( v398 )
  {
    sub_2A45460(v398);
    j_j___libc_free_0(v315);
  }
  v316 = (void *)(a1 + 32);
  v317 = (void *)(a1 + 80);
  if ( v255 )
  {
    v390 = 0;
    v391 = v395;
    v392 = 2;
    v393 = 0;
    v394 = 1;
    v396 = 0;
    v397 = v400;
    v398 = 2;
    LODWORD(v399) = 0;
    BYTE4(v399) = 1;
    if ( !(unsigned __int8)sub_B19060((__int64)&v390, (__int64)&qword_4F82400, v303, v304) )
    {
      v322.m128i_i64[0] = (__int64)sub_AE6EC0((__int64)&v390, (__int64)&unk_4F81450);
      if ( v394 )
        v322.m128i_i64[1] = (__int64)&v391[HIDWORD(v392)];
      else
        v322.m128i_i64[1] = (__int64)&v391[(unsigned int)v392];
      v378 = v322;
      sub_254BBF0((__int64)&v378);
    }
    sub_C8CF70(a1, v316, 2, (__int64)v395, (__int64)&v390);
    sub_C8CF70(a1 + 48, v317, 2, (__int64)v400, (__int64)&v396);
    if ( !BYTE4(v399) )
      _libc_free((unsigned __int64)v397);
    if ( !v394 )
      _libc_free((unsigned __int64)v391);
  }
  else
  {
    *(_QWORD *)a1 = 0;
    *(_QWORD *)(a1 + 8) = v316;
    *(_QWORD *)(a1 + 16) = 2;
    *(_DWORD *)(a1 + 24) = 0;
    *(_BYTE *)(a1 + 28) = 1;
    *(_QWORD *)(a1 + 48) = 0;
    *(_QWORD *)(a1 + 56) = v317;
    *(_QWORD *)(a1 + 64) = 2;
    *(_DWORD *)(a1 + 72) = 0;
    *(_BYTE *)(a1 + 76) = 1;
    v318 = sub_AE6EC0(a1, (__int64)&qword_4F82400);
    if ( *(_BYTE *)(a1 + 28) )
      v319 = *(_QWORD *)(a1 + 8) + 8LL * *(unsigned int *)(a1 + 20);
    else
      v319 = *(_QWORD *)(a1 + 8) + 8LL * *(unsigned int *)(a1 + 16);
    v390 = v318;
    v391 = (_QWORD **)v319;
    sub_254BBF0((__int64)&v390);
  }
  return a1;
}
