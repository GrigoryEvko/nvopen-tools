// Function: sub_2C3BCB0
// Address: 0x2c3bcb0
//
__int64 __fastcall sub_2C3BCB0(__int64 a1, unsigned int *a2)
{
  __int64 v2; // rax
  __int64 v3; // r12
  __int64 v4; // rcx
  __int64 v5; // rax
  __int64 v7; // rax
  size_t v8; // rcx
  __int64 v9; // rax
  __int64 v10; // r9
  _QWORD *v11; // rbx
  _QWORD *v12; // r15
  char *v13; // rax
  __int64 v14; // rax
  __int64 v15; // rax
  __int64 v16; // rax
  __int64 v17; // r13
  __int64 v18; // rax
  _QWORD *v19; // rdi
  char *v20; // r15
  unsigned __int64 *v21; // rdx
  __int64 v22; // rax
  unsigned __int64 v23; // rsi
  _QWORD *v24; // r13
  __int64 v25; // rdi
  __int64 v26; // r15
  __int64 (__fastcall *v27)(__int64); // rax
  unsigned int v28; // r13d
  __int64 v29; // rax
  char v30; // r8
  __int64 v31; // r12
  __int64 v32; // rdx
  __int64 v33; // rcx
  __int64 v34; // r9
  __int64 v35; // rax
  __int64 **v36; // rax
  __int64 *v37; // r15
  __int64 v38; // rax
  __int64 v39; // rbx
  __int64 v40; // r12
  __int64 v41; // rdx
  __int64 v42; // r8
  __int64 v43; // r9
  __int64 v44; // rax
  _QWORD *v45; // rbx
  unsigned __int64 v46; // r12
  const void *v47; // r13
  __int64 v48; // r15
  char *v49; // rdi
  __int64 *v50; // r13
  __int64 *v51; // r12
  __int64 v52; // r8
  __int64 v53; // r9
  unsigned __int64 v54; // rsi
  __int64 v55; // rcx
  __int64 v56; // rdx
  __int64 v57; // r15
  unsigned __int8 v58; // al
  __int64 v59; // r13
  __int64 v60; // r14
  __int64 v61; // rax
  __int64 v62; // r8
  __int64 v63; // r9
  char v64; // cl
  _QWORD **v65; // rdi
  __int64 v66; // rax
  unsigned __int64 v67; // rdx
  _BYTE *v68; // rbx
  _BYTE *v69; // r13
  __int64 v70; // r14
  unsigned __int64 v71; // r12
  void *v72; // r10
  __int64 v73; // r8
  __int64 v74; // rcx
  __int64 v75; // r8
  __int64 v76; // rdx
  char *v77; // r12
  __int64 *v78; // r14
  __int64 v79; // rdi
  int v80; // eax
  __int64 v81; // r12
  __int64 v82; // rdx
  __int64 v83; // rcx
  char v84; // al
  __int64 v85; // rax
  __int64 v86; // r13
  __int64 v87; // rcx
  __int64 v88; // rcx
  __int64 v89; // rax
  __int64 v90; // r8
  __int64 v91; // r8
  __int64 v92; // r9
  unsigned __int64 v93; // r12
  const void *v94; // r14
  __int64 v95; // r13
  __int64 *v96; // r13
  __int64 v97; // r12
  __int64 v98; // r8
  __int64 v99; // rax
  char v100; // al
  _QWORD *v101; // rax
  __int64 v102; // rax
  __int64 **v103; // r12
  __int64 v104; // rax
  __int64 v105; // rdx
  __int64 v106; // rdx
  __int64 v107; // rax
  __int64 v108; // rdx
  char v109; // al
  __int64 v110; // rax
  __int64 v111; // rax
  __int64 v112; // r12
  __int64 v113; // rax
  __int64 v114; // rax
  __int64 v115; // rax
  __int64 v116; // r9
  unsigned __int64 v117; // r12
  void *v118; // r8
  __int64 v119; // r13
  __int64 v120; // r14
  __int64 v121; // r12
  __m128i *v122; // rax
  __int64 *v123; // r13
  __int64 v124; // r12
  __int64 v125; // r8
  __int64 v126; // rax
  char *v127; // rdi
  char *v128; // rdi
  char *v129; // rdi
  unsigned int v130; // ecx
  size_t v131; // rdx
  _DWORD *v132; // rsi
  __int64 v133; // r8
  __int64 v134; // r9
  __int64 v135; // rax
  unsigned int v136; // eax
  __int64 v137; // r10
  unsigned int v138; // r13d
  __int64 v139; // rdi
  char *v140; // rax
  __int64 v141; // rax
  __int64 v142; // r10
  __int64 v143; // rax
  unsigned __int64 *v144; // rax
  int v145; // ebx
  __int64 v146; // rax
  int *v147; // r14
  int *v148; // rbx
  unsigned int v149; // esi
  int v150; // eax
  char *v151; // rdx
  int v152; // eax
  unsigned int v153; // eax
  int v154; // eax
  unsigned __int64 v155; // rax
  unsigned __int64 v156; // rax
  int v157; // ebx
  __int64 v158; // r13
  int v159; // eax
  __int64 v160; // r9
  char *v161; // rdx
  int v162; // eax
  unsigned int v163; // esi
  __int64 v164; // r8
  int v165; // eax
  __int64 v166; // rax
  int v167; // ebx
  __int64 v168; // [rsp-8h] [rbp-258h]
  __int64 v169; // [rsp+8h] [rbp-248h]
  __int64 v170; // [rsp+10h] [rbp-240h]
  __int64 v171; // [rsp+28h] [rbp-228h]
  __int64 v172; // [rsp+30h] [rbp-220h]
  __int64 *v173; // [rsp+38h] [rbp-218h]
  char *v175; // [rsp+50h] [rbp-200h]
  __int64 *v176; // [rsp+58h] [rbp-1F8h]
  __int64 v177; // [rsp+68h] [rbp-1E8h]
  __int64 v178; // [rsp+68h] [rbp-1E8h]
  __int64 v179; // [rsp+68h] [rbp-1E8h]
  char v180; // [rsp+70h] [rbp-1E0h]
  char v181; // [rsp+70h] [rbp-1E0h]
  __int64 v182; // [rsp+70h] [rbp-1E0h]
  char src; // [rsp+78h] [rbp-1D8h]
  char srca; // [rsp+78h] [rbp-1D8h]
  char srcb; // [rsp+78h] [rbp-1D8h]
  void *srce; // [rsp+78h] [rbp-1D8h]
  __int64 **srcc; // [rsp+78h] [rbp-1D8h]
  void *srcf; // [rsp+78h] [rbp-1D8h]
  __int64 **srcd; // [rsp+78h] [rbp-1D8h]
  void *srcg; // [rsp+78h] [rbp-1D8h]
  __int64 *v191; // [rsp+88h] [rbp-1C8h]
  __int64 v192; // [rsp+90h] [rbp-1C0h]
  __int64 v193; // [rsp+98h] [rbp-1B8h]
  void *v194; // [rsp+A0h] [rbp-1B0h]
  size_t n; // [rsp+A8h] [rbp-1A8h]
  size_t nc; // [rsp+A8h] [rbp-1A8h]
  __int64 *na; // [rsp+A8h] [rbp-1A8h]
  size_t nd; // [rsp+A8h] [rbp-1A8h]
  size_t nb; // [rsp+A8h] [rbp-1A8h]
  __int64 v200; // [rsp+B0h] [rbp-1A0h] BYREF
  __int64 v201; // [rsp+B8h] [rbp-198h] BYREF
  char *v202; // [rsp+C0h] [rbp-190h] BYREF
  unsigned __int64 *v203; // [rsp+C8h] [rbp-188h]
  __m128i v204; // [rsp+D0h] [rbp-180h] BYREF
  __m128i v205; // [rsp+E0h] [rbp-170h] BYREF
  __int64 v206; // [rsp+F0h] [rbp-160h] BYREF
  __int64 v207; // [rsp+F8h] [rbp-158h]
  __int64 v208; // [rsp+100h] [rbp-150h]
  __int64 v209; // [rsp+108h] [rbp-148h]
  __int64 **v210; // [rsp+110h] [rbp-140h]
  __int64 *v211; // [rsp+118h] [rbp-138h]
  _BYTE *v212; // [rsp+120h] [rbp-130h] BYREF
  __int64 v213; // [rsp+128h] [rbp-128h]
  _BYTE v214[48]; // [rsp+130h] [rbp-120h] BYREF
  __int64 *v215; // [rsp+160h] [rbp-F0h] BYREF
  unsigned int v216; // [rsp+168h] [rbp-E8h]
  char v217; // [rsp+170h] [rbp-E0h] BYREF
  char *v218; // [rsp+1A0h] [rbp-B0h] BYREF
  __int64 v219; // [rsp+1A8h] [rbp-A8h]
  __int64 v220; // [rsp+1B0h] [rbp-A0h] BYREF
  char *v221; // [rsp+1E0h] [rbp-70h] BYREF
  __int64 v222; // [rsp+1E8h] [rbp-68h]
  _QWORD v223[2]; // [rsp+1F0h] [rbp-60h] BYREF
  __int16 v224; // [rsp+200h] [rbp-50h]

  v2 = sub_2BF3F10((_QWORD *)a1);
  v3 = sub_2BF04D0(v2);
  v4 = sub_2BF05A0(v3);
  v5 = *(_QWORD *)(v3 + 120);
  if ( v5 == v4 )
  {
LABEL_6:
    v7 = sub_2AAFF80(a1);
    v8 = 0;
    v171 = v7;
    if ( *(_DWORD *)(v7 + 56) )
      v8 = **(_QWORD **)(v7 + 48);
    n = v8;
    v218 = 0;
    v9 = sub_22077B0(0x98u);
    v11 = (_QWORD *)v9;
    if ( v9 )
    {
      v12 = (_QWORD *)v9;
      v221 = v218;
      sub_2AAFAC0(v9, 31, 0, n, (__int64 *)&v221, v10);
      sub_9C6650(&v221);
      *v11 = &unk_4A24F00;
      v11[5] = &unk_4A24F50;
      v11[12] = &unk_4A24F88;
    }
    else
    {
      v12 = 0;
    }
    sub_9C6650(&v218);
    sub_2C19DE0(v12, v171);
    v202 = (char *)v3;
    v203 = (unsigned __int64 *)sub_2BF05A0(v3);
    v221 = "avl";
    v13 = *(char **)(a1 + 200);
    v224 = 259;
    v215 = 0;
    v218 = v13;
    if ( v11 )
      v169 = (__int64)(v11 + 12);
    else
      v169 = 0;
    v219 = v169;
    v14 = sub_2C27C50(&v202, 15, (__int64 *)&v218, 2, (__int64 *)&v215, (void **)&v221);
    if ( v14 )
      v14 += 96;
    v200 = v14;
    sub_9C6650(&v215);
    if ( !*((_BYTE *)a2 + 4) )
    {
LABEL_27:
      v218 = 0;
      v224 = 257;
      v26 = sub_2C27C50(&v202, 74, &v200, 1, (__int64 *)&v218, (void **)&v221);
      sub_9C6650(&v218);
      v27 = *(__int64 (__fastcall **)(__int64))(*(_QWORD *)v171 + 40LL);
      if ( v27 == sub_2AA7530 )
        v170 = *(_QWORD *)(*(_QWORD *)(v171 + 48) + 8LL);
      else
        v170 = v27(v171);
      if ( !v170 )
        BUG();
      v202 = *(char **)(v170 - 16);
      v203 = (unsigned __int64 *)(v170 - 72);
      if ( !*(_DWORD *)(v171 + 56) )
        BUG();
      v28 = sub_BCB060(*(_QWORD *)(*(_QWORD *)(**(_QWORD **)(v171 + 48) + 40LL) + 8LL));
      if ( v28 == 32 )
      {
        v193 = v26 + 96;
      }
      else
      {
        v221 = *(char **)(v170 - 8);
        if ( v221 )
        {
          sub_2C25AB0((__int64 *)&v221);
          if ( !*(_DWORD *)(v171 + 56) )
            BUG();
        }
        v29 = v26 + 96;
        if ( v26 )
          v26 += 96;
        v193 = v29;
        v26 = sub_2C28A30(
                &v202,
                (unsigned int)(v28 > 0x1F) + 38,
                v26,
                *(_QWORD *)(*(_QWORD *)(**(_QWORD **)(v171 + 48) + 40LL) + 8LL),
                (__int64 *)&v221);
        sub_9C6650(&v221);
      }
      v221 = "index.evl.next";
      v224 = 259;
      v215 = *(__int64 **)(v170 - 8);
      if ( v215 )
        sub_2C25AB0((__int64 *)&v215);
      v30 = *(_BYTE *)(v170 + 60);
      if ( v26 )
        v26 += 96;
      v218 = (char *)v26;
      v219 = v169;
      v31 = sub_2C28020(&v202, 13, (__int64 *)&v218, 2, v30 & 3, (__int64 *)&v215, (void **)&v221);
      sub_9C6650(&v215);
      if ( v31 )
        v31 += 96;
      sub_2AAECA0((__int64)(v11 + 5), v31, v32, v33, v168, v34);
      v35 = sub_2AAFF80(a1);
      if ( !*(_DWORD *)(v35 + 56) )
        BUG();
      v36 = *(__int64 ***)(*(_QWORD *)(**(_QWORD **)(v35 + 48) + 40LL) + 8LL);
      v206 = 0;
      v207 = 0;
      v208 = 0;
      v209 = 0;
      v210 = v36;
      v37 = *v36;
      v211 = *v36;
      v38 = sub_ACD6D0(v211);
      v175 = (char *)sub_2AC42A0(a1, v38);
      v39 = sub_2BF3F10((_QWORD *)a1);
      v40 = sub_2BF04D0(v39);
      v41 = sub_2BF05A0(v40);
      v44 = *(_QWORD *)(v40 + 120);
      if ( v44 == v41 )
      {
LABEL_48:
        v45 = 0;
      }
      else
      {
        while ( 1 )
        {
          if ( !v44 )
            BUG();
          if ( *(_BYTE *)(v44 - 16) == 32 )
            break;
          v44 = *(_QWORD *)(v44 + 8);
          if ( v44 == v41 )
            goto LABEL_48;
        }
        v135 = sub_2BFD6A0((__int64)&v206, a1 + 272);
        v136 = sub_BCB060(v135);
        v137 = a1 + 272;
        v138 = v136;
        if ( v136 != 32 )
        {
          v139 = 0;
          if ( *(_DWORD *)(v39 + 64) == 1 )
            v139 = **(_QWORD **)(v39 + 56);
          v140 = (char *)sub_2BF0520(v139);
          v218 = 0;
          v221 = v140;
          v222 = (__int64)(v140 + 112);
          v141 = sub_BCB2D0(v37);
          v142 = sub_2C28A30(&v221, (unsigned int)(v138 < 0x21) + 38, a1 + 272, v141, (__int64 *)&v218);
          if ( v142 )
            v142 += 96;
          nd = v142;
          sub_9C6650(&v218);
          v137 = nd;
        }
        nb = v137;
        v221 = 0;
        v143 = sub_22077B0(0xB8u);
        v45 = (_QWORD *)v143;
        if ( v143 )
          sub_2C27800(v143, nb, v193, (__int64 *)&v221, "prev.evl", 8u);
        sub_9C6650(&v221);
        v144 = (unsigned __int64 *)sub_2BF05A0(v40);
        sub_2C19DA0(v45, v40, v144);
      }
      v46 = *(unsigned int *)(a1 + 296);
      v47 = *(const void **)(a1 + 288);
      v221 = (char *)v223;
      v48 = 8 * v46;
      v222 = 0x600000000LL;
      if ( v46 > 6 )
      {
        sub_C8D5F0((__int64)&v221, v223, v46, 8u, v42, v43);
        v49 = &v221[8 * (unsigned int)v222];
      }
      else
      {
        v49 = (char *)v223;
        if ( !v48 )
          goto LABEL_51;
      }
      memcpy(v49, v47, 8 * v46);
      v49 = v221;
      LODWORD(v48) = v222;
LABEL_51:
      LODWORD(v222) = v48 + v46;
      v50 = (__int64 *)&v49[8 * (unsigned int)(v48 + v46)];
      if ( v50 != (__int64 *)v49 )
      {
        v51 = (__int64 *)v49;
        do
        {
          if ( *(_BYTE *)(*v51 - 32) == 13 )
            sub_2AAED30(*v51, 1u, v193);
          ++v51;
        }
        while ( v50 != v51 );
        v49 = v221;
      }
      if ( v49 != (char *)v223 )
        _libc_free((unsigned __int64)v49);
      v212 = v214;
      v213 = 0x600000000LL;
      sub_2C295B0((__int64)&v218, (_QWORD *)a1);
      v54 = (unsigned __int64)&v218[8 * (unsigned int)v219];
      v173 = (__int64 *)v54;
      if ( v218 != (char *)v54 )
      {
        v55 = (__int64)(v45 + 12);
        v56 = 0;
        v176 = (__int64 *)v218;
        if ( v45 )
          v56 = (__int64)(v45 + 12);
        v172 = v56;
        while ( 1 )
        {
          v192 = *v176;
          v54 = *v176;
          sub_2C3A0F0(&v215, *v176, v56, v55, v52, v53);
          v56 = v216;
          v191 = &v215[v216];
          if ( v215 == v191 )
            goto LABEL_91;
          na = v215;
          do
          {
            v57 = *na;
            if ( *na )
              v57 = *na - 40;
            v58 = *(_BYTE *)(v57 + 8);
            if ( v58 == 20 )
            {
              v59 = 0;
              if ( *(_BYTE *)(v57 + 106) )
                v59 = *(_QWORD *)(*(_QWORD *)(v57 + 48) + 8LL * (unsigned int)(*(_DWORD *)(v57 + 56) - 1));
              if ( v192 == v59 )
                v59 = 0;
              v60 = sub_22077B0(0xA8u);
              if ( v60 )
              {
                v201 = *(_QWORD *)(v57 + 88);
                if ( v201 )
                {
                  sub_2C25AB0(&v201);
                  src = *(_BYTE *)(v57 + 105);
                  v180 = *(_BYTE *)(v57 + 104);
                  v221 = **(char ***)(v57 + 48);
                  v222 = v193;
                  v61 = *(_QWORD *)(v57 + 96);
                  v204.m128i_i64[0] = v201;
                  v177 = v61;
                  if ( v201 )
                    sub_2C25AB0(v204.m128i_i64);
                }
                else
                {
                  src = *(_BYTE *)(v57 + 105);
                  v180 = *(_BYTE *)(v57 + 104);
                  v221 = **(char ***)(v57 + 48);
                  v222 = v193;
                  v111 = *(_QWORD *)(v57 + 96);
                  v204.m128i_i64[0] = 0;
                  v177 = v111;
                }
                sub_2AAF310(v60, 19, (__int64 *)&v221, 2, v204.m128i_i64, v53);
                sub_9C6650(&v204);
                *(_BYTE *)(v60 + 106) = 0;
                *(_QWORD *)(v60 + 96) = v177;
                *(_BYTE *)(v60 + 104) = v180;
                *(_QWORD *)v60 = &unk_4A24708;
                *(_QWORD *)(v60 + 40) = &unk_4A24740;
                *(_BYTE *)(v60 + 105) = src;
                sub_9C6650(&v201);
                v54 = 1;
                sub_2BF0340(v60 + 112, 1, *(_QWORD *)(v60 + 96), v60, v62, v63);
                *(_QWORD *)v60 = &unk_4A24810;
                v55 = (__int64)&unk_4A24850;
                v56 = (__int64)&unk_4A24888;
                *(_QWORD *)(v60 + 40) = &unk_4A24850;
                *(_QWORD *)(v60 + 112) = &unk_4A24888;
                if ( v59 )
                  goto LABEL_77;
                goto LABEL_78;
              }
            }
            else if ( v58 == 22 )
            {
              v59 = 0;
              if ( *(_BYTE *)(v57 + 106) )
                v59 = *(_QWORD *)(*(_QWORD *)(v57 + 48) + 8LL * (unsigned int)(*(_DWORD *)(v57 + 56) - 1));
              if ( v192 == v59 )
                v59 = 0;
              v60 = sub_22077B0(0x70u);
              if ( v60 )
              {
                v201 = *(_QWORD *)(v57 + 88);
                if ( v201 )
                {
                  sub_2C25AB0(&v201);
                  v83 = *(_QWORD *)(v57 + 48);
                  srca = *(_BYTE *)(v57 + 105);
                  v84 = *(_BYTE *)(v57 + 104);
                  v221 = *(char **)v83;
                  v181 = v84;
                  v222 = *(_QWORD *)(v83 + 8);
                  v223[0] = v193;
                  v85 = *(_QWORD *)(v57 + 96);
                  v204.m128i_i64[0] = v201;
                  v178 = v85;
                  if ( v201 )
                    sub_2C25AB0(v204.m128i_i64);
                }
                else
                {
                  v108 = *(_QWORD *)(v57 + 48);
                  srca = *(_BYTE *)(v57 + 105);
                  v109 = *(_BYTE *)(v57 + 104);
                  v221 = *(char **)v108;
                  v181 = v109;
                  v222 = *(_QWORD *)(v108 + 8);
                  v223[0] = v193;
                  v110 = *(_QWORD *)(v57 + 96);
                  v204.m128i_i64[0] = 0;
                  v178 = v110;
                }
                v54 = 21;
                sub_2AAF310(v60, 21, (__int64 *)&v221, 3, v204.m128i_i64, v53);
                sub_9C6650(&v204);
                *(_BYTE *)(v60 + 106) = 0;
                *(_QWORD *)(v60 + 96) = v178;
                *(_BYTE *)(v60 + 104) = v181;
                *(_QWORD *)v60 = &unk_4A24708;
                *(_QWORD *)(v60 + 40) = &unk_4A24740;
                *(_BYTE *)(v60 + 105) = srca;
                sub_9C6650(&v201);
                v55 = (__int64)&unk_4A24920;
                v56 = (__int64)&unk_4A24960;
                *(_QWORD *)v60 = &unk_4A24920;
                *(_QWORD *)(v60 + 40) = &unk_4A24960;
                if ( !v59 )
                  goto LABEL_78;
LABEL_77:
                v54 = v59;
                sub_2AAECA0(v60 + 40, v59, v56, v55, v52, v53);
                *(_BYTE *)(v60 + 106) = 1;
LABEL_78:
                if ( v60 )
                {
                  v54 = v57;
                  sub_2C19D60((_QWORD *)v60, v57);
                  v64 = *(_BYTE *)(v60 + 8);
                  switch ( v64 )
                  {
                    case 0:
                    case 3:
                    case 5:
                    case 19:
                    case 20:
                    case 21:
                    case 22:
                    case 26:
                      if ( v64 == 19 )
                        goto LABEL_81;
                      goto LABEL_86;
                    case 1:
                    case 2:
                    case 4:
                    case 6:
                    case 7:
                    case 8:
                    case 9:
                    case 10:
                    case 11:
                    case 12:
                    case 13:
                    case 14:
                    case 15:
                    case 16:
                    case 17:
                    case 18:
                    case 23:
                    case 24:
                    case 25:
                    case 27:
                    case 28:
                    case 29:
                    case 30:
                    case 31:
                    case 32:
                    case 33:
                    case 34:
                    case 35:
                    case 36:
LABEL_81:
                      v65 = (_QWORD **)(*(_QWORD *)(v57 + 16) & 0xFFFFFFFFFFFFFFF8LL);
                      if ( (*(_QWORD *)(v57 + 16) & 4) != 0 )
                        v65 = (_QWORD **)**v65;
                      v54 = *(_QWORD *)(v60 + 16) & 0xFFFFFFFFFFFFFFF8LL;
                      if ( (*(_QWORD *)(v60 + 16) & 4) != 0 )
                        v54 = **(_QWORD **)v54;
                      sub_2BF1250((__int64)v65, v54);
LABEL_86:
                      v66 = (unsigned int)v213;
                      v55 = HIDWORD(v213);
                      v67 = (unsigned int)v213 + 1LL;
                      if ( v67 > HIDWORD(v213) )
                      {
                        v54 = (unsigned __int64)v214;
                        sub_C8D5F0((__int64)&v212, v214, v67, 8u, v52, v53);
                        v66 = (unsigned int)v213;
                      }
                      v56 = (__int64)v212;
                      *(_QWORD *)&v212[8 * v66] = v57;
                      LODWORD(v213) = v213 + 1;
                      break;
                    default:
                      BUG();
                  }
                }
              }
            }
            else
            {
              v56 = (unsigned int)v58 - 6;
              if ( (unsigned int)v56 > 1 )
              {
                if ( v58 == 24 )
                {
                  v93 = *(unsigned int *)(v57 + 56);
                  v94 = *(const void **)(v57 + 48);
                  v221 = (char *)v223;
                  v95 = 8 * v93;
                  v222 = 0x600000000LL;
                  if ( v93 > 6 )
                  {
                    sub_C8D5F0((__int64)&v221, v223, v93, 8u, v52, v53);
                    v127 = &v221[8 * (unsigned int)v222];
                  }
                  else
                  {
                    if ( !v95 )
                      goto LABEL_140;
                    v127 = (char *)v223;
                  }
                  memcpy(v127, v94, 8 * v93);
                  LODWORD(v95) = v222;
LABEL_140:
                  LODWORD(v222) = v95 + v93;
                  sub_2AB9420((__int64)&v221, v193, v56, v55, v52, v53);
                  v54 = v57 + 96;
                  v96 = (__int64 *)v221;
                  v97 = (unsigned int)v222;
                  v98 = sub_2BFD6A0((__int64)&v206, v57 + 96);
                  v204.m128i_i64[0] = *(_QWORD *)(v57 + 88);
                  if ( v204.m128i_i64[0] )
                  {
                    srce = (void *)v98;
                    sub_2C25AB0(v204.m128i_i64);
                    v98 = (__int64)srce;
                  }
                  srcc = (__int64 **)v98;
                  v99 = sub_22077B0(0xB8u);
                  v60 = v99;
                  if ( v99 )
                  {
                    v54 = 472;
                    sub_2C274A0(v99, 472, v96, v97, srcc, v204.m128i_i64);
                  }
LABEL_144:
                  sub_9C6650(&v204);
                  if ( v221 != (char *)v223 )
                    _libc_free((unsigned __int64)v221);
                  goto LABEL_78;
                }
                if ( v58 != 4 )
                  goto LABEL_89;
                v100 = *(_BYTE *)(v57 + 160);
                if ( v100 != 69 )
                {
                  if ( v100 != 57 )
                    goto LABEL_89;
                  v101 = *(_QWORD **)(v57 + 48);
                  v54 = v192;
                  if ( v192 != *v101 )
                    goto LABEL_89;
                  v54 = v101[1];
                  if ( !v54 )
                    goto LABEL_89;
                  v102 = v101[2];
                  if ( !v102 )
                    goto LABEL_89;
                  v223[0] = v102;
                  v222 = v54;
                  v221 = v175;
                  v223[1] = v193;
                  v103 = (__int64 **)sub_2BFD6A0((__int64)&v206, v54);
                  v204.m128i_i64[0] = *(_QWORD *)(v57 + 88);
                  if ( v204.m128i_i64[0] )
                    sub_2C25AB0(v204.m128i_i64);
                  v104 = sub_22077B0(0xB8u);
                  v60 = v104;
                  if ( v104 )
                  {
                    v54 = 443;
                    sub_2C274A0(v104, 443, (__int64 *)&v221, 4, v103, v204.m128i_i64);
                  }
                  sub_9C6650(&v204);
                  goto LABEL_78;
                }
                v112 = sub_2BF9BD0(*(_QWORD *)(v57 + 80));
                v113 = sub_BCB2D0(v211);
                v114 = sub_ACD640(v113, -1, 1u);
                v115 = sub_2AC42A0(v112, v114);
                v117 = *(unsigned int *)(v57 + 56);
                v118 = *(void **)(v57 + 48);
                v119 = v115;
                v120 = 8 * v117;
                v221 = (char *)v223;
                v222 = 0x600000000LL;
                if ( v117 > 6 )
                {
                  srcg = v118;
                  sub_C8D5F0((__int64)&v221, v223, v117, 8u, (__int64)v118, v116);
                  v118 = srcg;
                  v128 = &v221[8 * (unsigned int)v222];
                }
                else
                {
                  if ( !v120 )
                  {
LABEL_163:
                    v204.m128i_i64[0] = v119;
                    LODWORD(v222) = v120 + v117;
                    v121 = (unsigned int)(v120 + v117);
                    v204.m128i_i64[1] = (__int64)v175;
                    v205.m128i_i64[0] = v172;
                    v205.m128i_i64[1] = v193;
                    if ( v121 + 4 > (unsigned __int64)HIDWORD(v222) )
                    {
                      sub_C8D5F0((__int64)&v221, v223, v121 + 4, 8u, (__int64)v118, v116);
                      v121 = (unsigned int)v222;
                    }
                    v54 = v57 + 96;
                    v122 = (__m128i *)&v221[8 * v121];
                    *v122 = _mm_loadu_si128(&v204);
                    v122[1] = _mm_loadu_si128(&v205);
                    v123 = (__int64 *)v221;
                    v124 = (unsigned int)(v222 + 4);
                    LODWORD(v222) = v222 + 4;
                    v125 = sub_2BFD6A0((__int64)&v206, v57 + 96);
                    v204.m128i_i64[0] = *(_QWORD *)(v57 + 88);
                    if ( v204.m128i_i64[0] )
                    {
                      srcf = (void *)v125;
                      sub_2C25AB0(v204.m128i_i64);
                      v125 = (__int64)srcf;
                    }
                    srcd = (__int64 **)v125;
                    v126 = sub_22077B0(0xB8u);
                    v60 = v126;
                    if ( v126 )
                    {
                      v54 = 166;
                      sub_2C274A0(v126, 166, v123, v124, srcd, v204.m128i_i64);
                    }
                    goto LABEL_144;
                  }
                  v128 = (char *)v223;
                }
                memcpy(v128, v118, 8 * v117);
                LODWORD(v120) = v222;
                goto LABEL_163;
              }
              v86 = 0;
              if ( *(_BYTE *)(v57 + 161) )
                v86 = *(_QWORD *)(*(_QWORD *)(v57 + 48) + 8LL * (unsigned int)(*(_DWORD *)(v57 + 56) - 1));
              if ( v192 == v86 )
                v86 = 0;
              v60 = sub_22077B0(0xA8u);
              if ( v60 )
              {
                v201 = *(_QWORD *)(v57 + 88);
                if ( v201 )
                {
                  sub_2C25AB0(&v201);
                  v87 = *(_QWORD *)(v57 + 48);
                  srcb = *(_BYTE *)(v57 + 160);
                  v221 = *(char **)v87;
                  v88 = *(_QWORD *)(v87 + 8);
                  v223[0] = v193;
                  v222 = v88;
                  v89 = *(_QWORD *)(v57 + 152);
                  v90 = *(_QWORD *)(v57 + 136);
                  v204.m128i_i64[0] = v201;
                  v182 = v89;
                  if ( v201 )
                  {
                    v179 = v90;
                    sub_2C25AB0(v204.m128i_i64);
                    v90 = v179;
                  }
                }
                else
                {
                  v105 = *(_QWORD *)(v57 + 48);
                  srcb = *(_BYTE *)(v57 + 160);
                  v221 = *(char **)v105;
                  v106 = *(_QWORD *)(v105 + 8);
                  v223[0] = v193;
                  v222 = v106;
                  v107 = *(_QWORD *)(v57 + 152);
                  v90 = *(_QWORD *)(v57 + 136);
                  v204.m128i_i64[0] = 0;
                  v182 = v107;
                }
                v54 = 6;
                sub_2ABB100(v60, 6, (__int64 *)&v221, 3, v90, v204.m128i_i64);
                sub_9C6650(&v204);
                *(_QWORD *)(v60 + 152) = v182;
                *(_QWORD *)v60 = &unk_4A24438;
                *(_QWORD *)(v60 + 40) = &unk_4A24470;
                *(_QWORD *)(v60 + 96) = &unk_4A244A8;
                *(_BYTE *)(v60 + 160) = srcb;
                if ( v86 )
                {
                  *(_BYTE *)(v60 + 161) = 1;
                  v54 = v86;
                  sub_2AAECA0(v60 + 40, v86, (__int64)&unk_4A244A8, (__int64)&unk_4A24470, v91, v92);
                }
                else
                {
                  *(_BYTE *)(v60 + 161) = 0;
                }
                sub_9C6650(&v201);
                *(_QWORD *)v60 = &unk_4A244C8;
                v55 = (__int64)&unk_4A24508;
                v56 = (__int64)&unk_4A24540;
                *(_QWORD *)(v60 + 40) = &unk_4A24508;
                *(_QWORD *)(v60 + 96) = &unk_4A24540;
                goto LABEL_78;
              }
            }
LABEL_89:
            ++na;
          }
          while ( v191 != na );
          v191 = v215;
LABEL_91:
          if ( v191 != (__int64 *)&v217 )
            _libc_free((unsigned __int64)v191);
          if ( v173 == ++v176 )
          {
            v173 = (__int64 *)v218;
            break;
          }
        }
      }
      if ( v173 != &v220 )
        _libc_free((unsigned __int64)v173);
      v68 = v212;
      v69 = &v212[8 * (unsigned int)v213];
      if ( v212 != v69 )
      {
        while ( 1 )
        {
          v70 = *((_QWORD *)v69 - 1);
          v71 = *(unsigned int *)(v70 + 56);
          v72 = *(void **)(v70 + 48);
          v221 = (char *)v223;
          v222 = 0x600000000LL;
          v73 = 8 * v71;
          if ( v71 > 6 )
            break;
          if ( v73 )
          {
            v129 = (char *)v223;
            goto LABEL_175;
          }
LABEL_100:
          LODWORD(v222) = v73 + v71;
          sub_2C19E60((__int64 *)v70);
          v76 = (unsigned int)v222;
          v77 = &v221[8 * (unsigned int)v222];
          if ( v221 != v77 )
          {
            v78 = (__int64 *)v221;
            do
            {
              v79 = *v78++;
              sub_2C26230(v79, v54, v76, v74, v75, v53);
            }
            while ( v77 != (char *)v78 );
            v77 = v221;
          }
          if ( v77 != (char *)v223 )
            _libc_free((unsigned __int64)v77);
          v69 -= 8;
          if ( v68 == v69 )
          {
            v69 = v212;
            goto LABEL_108;
          }
        }
        v194 = v72;
        sub_C8D5F0((__int64)&v221, v223, v71, 8u, v73, v53);
        v73 = 8 * v71;
        v72 = v194;
        v129 = &v221[8 * (unsigned int)v222];
LABEL_175:
        v54 = (unsigned __int64)v72;
        memcpy(v129, v72, v73);
        LODWORD(v73) = v222;
        goto LABEL_100;
      }
LABEL_108:
      if ( v69 != v214 )
        _libc_free((unsigned __int64)v69);
      sub_C7D6A0(v207, 16LL * (unsigned int)v209, 8);
      sub_2BF1250(v171 + 96, v169);
      sub_2AAED30(v170 - 56, 0, v171 + 96);
      LODWORD(v215) = 1;
      v80 = *(_DWORD *)(a1 + 128);
      ++*(_QWORD *)(a1 + 112);
      v81 = a1 + 112;
      if ( !v80 )
      {
        if ( !*(_DWORD *)(a1 + 132) )
        {
          *(_DWORD *)(a1 + 152) = 0;
          goto LABEL_186;
        }
        v82 = *(unsigned int *)(a1 + 136);
        if ( (unsigned int)v82 > 0x40 )
        {
          sub_C7D6A0(*(_QWORD *)(a1 + 120), 4 * v82, 4);
          *(_QWORD *)(a1 + 120) = 0;
          *(_QWORD *)(a1 + 128) = 0;
          *(_DWORD *)(a1 + 136) = 0;
          *(_DWORD *)(a1 + 152) = 0;
          goto LABEL_186;
        }
LABEL_183:
        v131 = 4 * v82;
        if ( v131 )
          memset(*(void **)(a1 + 120), 255, v131);
        *(_QWORD *)(a1 + 128) = 0;
        *(_DWORD *)(a1 + 152) = 0;
LABEL_186:
        v132 = *(_DWORD **)(a1 + 144);
        if ( v132 == sub_2C255E0(v132, (__int64)v132, (int *)&v215) )
        {
          v145 = (int)v215;
          if ( !*(_DWORD *)(a1 + 156) )
          {
            sub_C8D5F0(a1 + 144, (const void *)(a1 + 160), 1u, 4u, v133, v134);
            v132 = (_DWORD *)(*(_QWORD *)(a1 + 144) + 4LL * *(unsigned int *)(a1 + 152));
          }
          *v132 = v145;
          v146 = (unsigned int)(*(_DWORD *)(a1 + 152) + 1);
          *(_DWORD *)(a1 + 152) = v146;
          if ( (unsigned int)v146 > 2 )
          {
            v147 = *(int **)(a1 + 144);
            v148 = &v147[v146];
            while ( (unsigned __int8)sub_22B31A0(v81, v147, &v218) )
            {
LABEL_202:
              if ( v148 == ++v147 )
                return 1;
            }
            v149 = *(_DWORD *)(a1 + 136);
            v150 = *(_DWORD *)(a1 + 128);
            v151 = v218;
            ++*(_QWORD *)(a1 + 112);
            v152 = v150 + 1;
            v221 = v151;
            if ( 4 * v152 >= 3 * v149 )
            {
              v149 *= 2;
            }
            else if ( v149 - *(_DWORD *)(a1 + 132) - v152 > v149 >> 3 )
            {
LABEL_206:
              *(_DWORD *)(a1 + 128) = v152;
              if ( *(_DWORD *)v151 != -1 )
                --*(_DWORD *)(a1 + 132);
              *(_DWORD *)v151 = *v147;
              goto LABEL_202;
            }
            sub_A08C50(v81, v149);
            sub_22B31A0(v81, v147, &v221);
            v151 = v221;
            v152 = *(_DWORD *)(a1 + 128) + 1;
            goto LABEL_206;
          }
        }
        return 1;
      }
      v130 = 4 * v80;
      v82 = *(unsigned int *)(a1 + 136);
      if ( (unsigned int)(4 * v80) < 0x40 )
        v130 = 64;
      if ( (unsigned int)v82 <= v130 )
        goto LABEL_183;
      v153 = v80 - 1;
      if ( v153 )
      {
        _BitScanReverse(&v153, v153);
        v154 = 1 << (33 - (v153 ^ 0x1F));
        if ( v154 < 64 )
          v154 = 64;
        if ( v154 == (_DWORD)v82 )
        {
          sub_2C2BFC0(v81);
          v159 = *(_DWORD *)(a1 + 128);
LABEL_217:
          *(_DWORD *)(a1 + 152) = 0;
          if ( !v159 )
            goto LABEL_186;
          if ( (unsigned __int8)sub_22B31A0(v81, (int *)&v215, &v218) )
            return 1;
          v161 = v218;
          v162 = *(_DWORD *)(a1 + 128);
          v163 = *(_DWORD *)(a1 + 136);
          v221 = v218;
          ++*(_QWORD *)(a1 + 112);
          v164 = 2 * v163;
          v165 = v162 + 1;
          if ( 4 * v165 >= 3 * v163 )
          {
            v163 *= 2;
          }
          else if ( v163 - *(_DWORD *)(a1 + 132) - v165 > v163 >> 3 )
          {
LABEL_221:
            *(_DWORD *)(a1 + 128) = v165;
            if ( *(_DWORD *)v161 != -1 )
              --*(_DWORD *)(a1 + 132);
            *(_DWORD *)v161 = (_DWORD)v215;
            v166 = *(unsigned int *)(a1 + 152);
            v167 = (int)v215;
            if ( v166 + 1 > (unsigned __int64)*(unsigned int *)(a1 + 156) )
            {
              sub_C8D5F0(a1 + 144, (const void *)(a1 + 160), v166 + 1, 4u, v164, v160);
              v166 = *(unsigned int *)(a1 + 152);
            }
            *(_DWORD *)(*(_QWORD *)(a1 + 144) + 4 * v166) = v167;
            ++*(_DWORD *)(a1 + 152);
            return 1;
          }
          sub_A08C50(v81, v163);
          sub_22B31A0(v81, (int *)&v215, &v221);
          v161 = v221;
          v165 = *(_DWORD *)(a1 + 128) + 1;
          goto LABEL_221;
        }
        v155 = (4 * v154 / 3u + 1) | ((unsigned __int64)(4 * v154 / 3u + 1) >> 1);
        v156 = ((v155 | (v155 >> 2)) >> 4)
             | v155
             | (v155 >> 2)
             | ((((v155 | (v155 >> 2)) >> 4) | v155 | (v155 >> 2)) >> 8);
        v157 = (v156 | (v156 >> 16)) + 1;
        v158 = 4 * ((v156 | (v156 >> 16)) + 1);
      }
      else
      {
        v158 = 512;
        v157 = 128;
      }
      sub_C7D6A0(*(_QWORD *)(a1 + 120), 4 * v82, 4);
      *(_DWORD *)(a1 + 136) = v157;
      *(_QWORD *)(a1 + 120) = sub_C7D670(v158, 4);
      sub_2C2BFC0(v81);
      v159 = *(_DWORD *)(a1 + 128);
      goto LABEL_217;
    }
    if ( !*(_DWORD *)(v171 + 56) )
      BUG();
    v15 = sub_AD64C0(*(_QWORD *)(*(_QWORD *)(**(_QWORD **)(v171 + 48) + 40LL) + 8LL), *a2, 0);
    v16 = sub_2AC42A0(a1, v15);
    v215 = 0;
    v224 = 257;
    v17 = v16;
    v218 = 0;
    v18 = sub_22077B0(0xC8u);
    v19 = (_QWORD *)v18;
    if ( v18 )
    {
      nc = v18;
      sub_2C1A5F0(v18, 53, 36, v200, v17, (__int64 *)&v218, (void **)&v221);
      v20 = v202;
      v19 = (_QWORD *)nc;
      if ( !v202 )
      {
LABEL_19:
        v20 = (char *)(v19 + 12);
LABEL_20:
        sub_9C6650(&v218);
        sub_9C6650(&v215);
        v220 = v17;
        v221 = "safe_avl";
        v224 = 259;
        v206 = 0;
        v218 = v20;
        v219 = v200;
        v212 = 0;
        v24 = (_QWORD *)sub_22077B0(0xC8u);
        if ( v24 )
        {
          v215 = (__int64 *)v212;
          if ( v212 )
            sub_2C25AB0((__int64 *)&v215);
          sub_2C26D30((__int64)v24, 57, (__int64 *)&v218, 3, (__int64 *)&v215, (void **)&v221);
          sub_9C6650(&v215);
          sub_9C6650(&v212);
          if ( v202 )
            sub_2AAFF40((__int64)v202, v24, v203);
          v25 = (__int64)(v24 + 12);
        }
        else
        {
          sub_9C6650(&v212);
          v25 = (__int64)v202;
          if ( v202 )
          {
            sub_2AAFF40((__int64)v202, 0, v203);
            v25 = 0;
          }
        }
        v200 = v25;
        sub_9C6650(&v206);
        goto LABEL_27;
      }
    }
    else
    {
      v20 = v202;
      if ( !v202 )
        goto LABEL_20;
    }
    v21 = v203;
    v22 = v19[3];
    v19[10] = v20;
    v23 = *v21;
    v19[4] = v21;
    v23 &= 0xFFFFFFFFFFFFFFF8LL;
    v19[3] = v23 | v22 & 7;
    *(_QWORD *)(v23 + 8) = v19 + 3;
    *v21 = *v21 & 7 | (unsigned __int64)(v19 + 3);
    goto LABEL_19;
  }
  while ( 1 )
  {
    if ( !v5 )
      BUG();
    if ( (unsigned __int8)(*(_BYTE *)(v5 - 16) - 33) <= 1u )
      return 0;
    v5 = *(_QWORD *)(v5 + 8);
    if ( v4 == v5 )
      goto LABEL_6;
  }
}
