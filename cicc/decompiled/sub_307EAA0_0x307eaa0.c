// Function: sub_307EAA0
// Address: 0x307eaa0
//
__int64 *__fastcall sub_307EAA0(__int64 *a1, __int64 a2, int *a3, __int64 a4)
{
  __int64 v5; // rax
  __int64 v6; // rdx
  __int64 *v7; // r15
  __int64 v8; // rdi
  __int64 v9; // rcx
  int v10; // ebx
  __int64 v11; // rax
  int v12; // r11d
  unsigned int v13; // esi
  __int64 *v14; // rdx
  __int64 v15; // r9
  __int64 v16; // rsi
  __int64 v17; // rdx
  unsigned int v18; // esi
  __int64 v19; // r13
  unsigned int v20; // r8d
  int v21; // r12d
  unsigned int v22; // edi
  unsigned int v23; // r11d
  int *v24; // r9
  int v25; // r10d
  unsigned int v26; // eax
  unsigned __int64 v27; // rdx
  __int64 v28; // rax
  __int64 v29; // rax
  __int64 v31; // r10
  unsigned int v32; // r9d
  __int64 *v33; // rdi
  __int64 v34; // r12
  __int64 v35; // r11
  int v36; // r12d
  unsigned int v37; // r10d
  _DWORD *v38; // r8
  int v39; // r9d
  unsigned int v40; // eax
  unsigned __int64 v41; // rdx
  __int64 v42; // rax
  __int64 v43; // rax
  __int64 v44; // r10
  unsigned int v45; // r9d
  __int64 *v46; // rdi
  __int64 v47; // r11
  unsigned int v48; // r11d
  int v49; // r12d
  unsigned int v50; // r10d
  int *v51; // rdi
  int v52; // r9d
  unsigned int v53; // eax
  unsigned __int64 v54; // rdx
  __int64 v55; // rax
  __int64 v56; // rax
  _QWORD *v57; // r11
  __int64 v58; // rdi
  unsigned int v59; // esi
  __int64 *v60; // rdx
  __int64 v61; // r9
  __int64 v62; // r10
  unsigned int v63; // esi
  int v64; // r12d
  unsigned int v65; // ecx
  int *v66; // rax
  int v67; // edx
  unsigned int v68; // eax
  unsigned __int64 v69; // rdx
  __int64 v70; // rax
  __int64 v71; // rax
  int v72; // edi
  unsigned int v73; // r9d
  int v74; // edx
  int v75; // edx
  int v76; // edi
  int v77; // edi
  int v78; // r13d
  int v79; // r13d
  int v80; // r8d
  int v81; // r9d
  int *v82; // rdi
  int v83; // eax
  int v84; // eax
  int v85; // r12d
  int v86; // edx
  int v87; // edx
  __int64 v88; // rsi
  unsigned int v89; // r12d
  int v90; // ecx
  int v91; // r13d
  int *v92; // r9
  int v93; // edx
  int v94; // edx
  __int64 v95; // rsi
  unsigned int v96; // r12d
  int v97; // r13d
  int v98; // ecx
  int v99; // r8d
  unsigned int v100; // r13d
  int v101; // r8d
  int *v102; // rax
  int v103; // ecx
  int v104; // edx
  int v105; // ecx
  int v106; // ecx
  __int64 v107; // rdi
  unsigned int v108; // r12d
  int v109; // esi
  int v110; // r10d
  int *v111; // r8
  int v112; // ecx
  int v113; // ecx
  __int64 v114; // rdi
  unsigned int v115; // r12d
  int v116; // r10d
  int v117; // esi
  int v118; // r13d
  __int64 v119; // r13
  int v120; // ebx
  _DWORD *v121; // rax
  int v122; // ebx
  int v123; // edx
  int v124; // ecx
  int v125; // ecx
  __int64 v126; // rdi
  unsigned int v127; // r12d
  int v128; // esi
  int v129; // r10d
  _DWORD *v130; // r9
  int v131; // ecx
  int v132; // ecx
  __int64 v133; // rdi
  unsigned int v134; // r12d
  int v135; // r10d
  int v136; // esi
  int v137; // edi
  int v138; // esi
  int *v139; // rax
  int v140; // ecx
  int v141; // edx
  int v142; // ecx
  int v143; // ecx
  __int64 v144; // rdi
  unsigned int v145; // r12d
  int v146; // esi
  int v147; // r10d
  int *v148; // r9
  int v149; // ecx
  int v150; // ecx
  __int64 v151; // rdi
  unsigned int v152; // r12d
  int v153; // r10d
  int v154; // esi
  __int64 v155; // rcx
  int v156; // r12d
  __int64 v157; // rax
  __int64 v158; // rdi
  unsigned int v159; // esi
  __int64 *v160; // rdx
  __int64 v161; // r9
  __int64 v162; // rdi
  unsigned int v163; // esi
  __int64 *v164; // rdx
  __int64 v165; // r10
  unsigned int v166; // esi
  __int64 v167; // r11
  __int64 v168; // rbx
  unsigned int v169; // r13d
  __int64 v170; // r10
  int *v171; // rdx
  int v172; // edi
  unsigned int v173; // eax
  unsigned __int64 v174; // rdx
  __int64 v175; // rax
  __int64 v176; // rax
  __int64 v177; // r8
  unsigned int v178; // edi
  __int64 *v179; // rdx
  __int64 v180; // r9
  __int64 v181; // r13
  unsigned int v182; // esi
  unsigned int v183; // edx
  int v184; // edi
  _DWORD *v185; // rax
  unsigned __int64 v186; // rdx
  __int64 v187; // rax
  int v188; // edx
  int v189; // r10d
  int v190; // edx
  int v191; // r13d
  int v192; // r8d
  int v193; // edx
  int v194; // r9d
  int v195; // r8d
  int v196; // r8d
  unsigned int v197; // r13d
  int v198; // eax
  __int64 v199; // r8
  int v200; // ecx
  int *v201; // rax
  int v202; // eax
  int v203; // eax
  int v204; // eax
  int v205; // eax
  __int64 v206; // rdi
  int v207; // esi
  unsigned int i; // r9d
  int *v209; // rcx
  int v210; // r8d
  int v211; // eax
  int v212; // eax
  int v213; // esi
  int *v214; // rcx
  unsigned int j; // r9d
  int v216; // r8d
  unsigned int v217; // r9d
  unsigned int v218; // r9d
  unsigned int v219; // [rsp+10h] [rbp-80h]
  int v220; // [rsp+10h] [rbp-80h]
  int k; // [rsp+1Ch] [rbp-74h]
  int v222; // [rsp+1Ch] [rbp-74h]
  unsigned int v223; // [rsp+1Ch] [rbp-74h]
  __int64 v225; // [rsp+28h] [rbp-68h]
  __int64 *v226; // [rsp+30h] [rbp-60h]
  int v227; // [rsp+30h] [rbp-60h]
  _QWORD *v228; // [rsp+38h] [rbp-58h]
  int v229; // [rsp+38h] [rbp-58h]
  int v230; // [rsp+38h] [rbp-58h]
  int v231; // [rsp+38h] [rbp-58h]
  _QWORD *v232; // [rsp+38h] [rbp-58h]
  _QWORD *v233; // [rsp+38h] [rbp-58h]
  __int64 v234; // [rsp+38h] [rbp-58h]
  __int64 v235; // [rsp+38h] [rbp-58h]
  int v236; // [rsp+38h] [rbp-58h]
  __int64 v237; // [rsp+40h] [rbp-50h]
  _QWORD *v238; // [rsp+40h] [rbp-50h]
  __int64 v239; // [rsp+40h] [rbp-50h]
  int v240; // [rsp+40h] [rbp-50h]
  int v241; // [rsp+40h] [rbp-50h]
  __int64 v242; // [rsp+40h] [rbp-50h]
  __int64 v243; // [rsp+40h] [rbp-50h]
  __int64 v244; // [rsp+40h] [rbp-50h]
  int v246[13]; // [rsp+5Ch] [rbp-34h] BYREF

  v5 = (a2 - (__int64)a1) >> 5;
  v6 = (a2 - (__int64)a1) >> 3;
  if ( v5 <= 0 )
  {
    v7 = a1;
LABEL_39:
    if ( v6 == 2 )
    {
      v155 = *(_QWORD *)(a4 + 120);
      v167 = a4 + 56;
      v168 = *(_QWORD *)(a4 + 64);
      v166 = *(_DWORD *)(a4 + 80);
      v156 = *a3;
      v157 = *(unsigned int *)(a4 + 136);
      goto LABEL_198;
    }
    if ( v6 != 3 )
    {
      if ( v6 != 1 )
        return (__int64 *)a2;
      v155 = *(_QWORD *)(a4 + 120);
      v156 = *a3;
      v157 = *(unsigned int *)(a4 + 136);
LABEL_184:
      v158 = *v7;
      if ( (_DWORD)v157 )
      {
        v159 = (v157 - 1) & (((unsigned int)v158 >> 9) ^ ((unsigned int)v158 >> 4));
        v160 = (__int64 *)(v155 + 16LL * v159);
        v161 = *v160;
        if ( v158 == *v160 )
          goto LABEL_186;
        v188 = 1;
        while ( v161 != -4096 )
        {
          v189 = v188 + 1;
          v159 = (v157 - 1) & (v188 + v159);
          v160 = (__int64 *)(v155 + 16LL * v159);
          v161 = *v160;
          if ( v158 == *v160 )
            goto LABEL_186;
          v188 = v189;
        }
      }
      v160 = (__int64 *)(v155 + 16 * v157);
LABEL_186:
      if ( !(unsigned __int8)sub_307DB30(a4, v156, v160[1]) )
        return (__int64 *)a2;
      return v7;
    }
    v162 = *v7;
    v155 = *(_QWORD *)(a4 + 120);
    v156 = *a3;
    v157 = *(unsigned int *)(a4 + 136);
    if ( (_DWORD)v157 )
    {
      v163 = (v157 - 1) & (((unsigned int)v162 >> 9) ^ ((unsigned int)v162 >> 4));
      v164 = (__int64 *)(v155 + 16LL * v163);
      v165 = *v164;
      if ( v162 == *v164 )
      {
LABEL_191:
        v166 = *(_DWORD *)(a4 + 80);
        v167 = a4 + 56;
        v244 = v164[1];
        v168 = *(_QWORD *)(a4 + 64);
        if ( v166 )
        {
          v169 = v166 - 1;
          LODWORD(v170) = (v166 - 1) & (37 * v156);
          v171 = (int *)(v168 + 8LL * (unsigned int)v170);
          v172 = *v171;
          if ( v156 == *v171 )
          {
LABEL_193:
            v173 = v171[1];
            v174 = v173 & 0x3F;
            v175 = 8LL * (v173 >> 6);
          }
          else
          {
            v227 = *v171;
            v195 = 1;
            v236 = (v166 - 1) & (37 * v156);
            while ( 1 )
            {
              if ( v227 == -1 )
              {
                v157 = *(unsigned int *)(a4 + 136);
                goto LABEL_196;
              }
              v198 = v195 + 1;
              v199 = v169 & (v236 + v195);
              v236 = v199;
              v227 = *(_DWORD *)(v168 + 8 * v199);
              if ( v156 == v227 )
                break;
              v195 = v198;
            }
            v200 = 1;
            v201 = 0;
            while ( v172 != -1 )
            {
              if ( !v201 && v172 == -2 )
                v201 = v171;
              v170 = v169 & ((_DWORD)v170 + v200);
              v171 = (int *)(v168 + 8 * v170);
              v172 = *v171;
              if ( v156 == *v171 )
                goto LABEL_193;
              ++v200;
            }
            if ( v201 )
              v171 = v201;
            v202 = *(_DWORD *)(a4 + 72);
            ++*(_QWORD *)(a4 + 56);
            v203 = v202 + 1;
            if ( 4 * v203 < 3 * v166 )
            {
              if ( v166 - *(_DWORD *)(a4 + 76) - v203 > v166 >> 3 )
                goto LABEL_276;
              sub_2E518D0(a4 + 56, v166);
              v204 = *(_DWORD *)(a4 + 80);
              if ( v204 )
              {
                v205 = v204 - 1;
                v207 = 1;
                v167 = a4 + 56;
                v171 = 0;
                for ( i = v205 & (37 * v156); ; i = v205 & v217 )
                {
                  v206 = *(_QWORD *)(a4 + 64);
                  v209 = (int *)(v206 + 8LL * i);
                  v210 = *v209;
                  if ( v156 == *v209 )
                  {
                    v171 = (int *)(v206 + 8LL * i);
                    v203 = *(_DWORD *)(a4 + 72) + 1;
                    goto LABEL_276;
                  }
                  if ( v210 == -1 )
                    break;
                  if ( v210 != -2 || v171 )
                    v209 = v171;
                  v217 = v207 + i;
                  v171 = v209;
                  ++v207;
                }
                v203 = *(_DWORD *)(a4 + 72) + 1;
                if ( !v171 )
                  v171 = (int *)(v206 + 8LL * i);
                goto LABEL_276;
              }
LABEL_309:
              ++*(_DWORD *)(a4 + 72);
              BUG();
            }
            sub_2E518D0(a4 + 56, 2 * v166);
            v211 = *(_DWORD *)(a4 + 80);
            if ( !v211 )
              goto LABEL_309;
            v212 = v211 - 1;
            v213 = 1;
            v167 = a4 + 56;
            v214 = 0;
            for ( j = v212 & (37 * v156); ; j = v212 & v218 )
            {
              v171 = (int *)(*(_QWORD *)(a4 + 64) + 8LL * j);
              v216 = *v171;
              if ( v156 == *v171 )
              {
                v203 = *(_DWORD *)(a4 + 72) + 1;
                goto LABEL_276;
              }
              if ( v216 == -1 )
                break;
              if ( v216 != -2 || v214 )
                v171 = v214;
              v218 = v213 + j;
              v214 = v171;
              ++v213;
            }
            v203 = *(_DWORD *)(a4 + 72) + 1;
            if ( v214 )
              v171 = v214;
LABEL_276:
            *(_DWORD *)(a4 + 72) = v203;
            if ( *v171 != -1 )
              --*(_DWORD *)(a4 + 76);
            *v171 = v156;
            v175 = 0;
            v171[1] = 0;
            v174 = 0;
          }
          v176 = *(_QWORD *)(*(_QWORD *)(v244 + 24) + v175);
          if ( _bittest64(&v176, v174) )
            return v7;
          v155 = *(_QWORD *)(a4 + 120);
          v168 = *(_QWORD *)(a4 + 64);
          v166 = *(_DWORD *)(a4 + 80);
          v156 = *a3;
          v157 = *(unsigned int *)(a4 + 136);
        }
LABEL_196:
        ++v7;
LABEL_198:
        v177 = *v7;
        if ( (_DWORD)v157 )
        {
          v178 = (v157 - 1) & (((unsigned int)v177 >> 9) ^ ((unsigned int)v177 >> 4));
          v179 = (__int64 *)(v155 + 16LL * v178);
          v180 = *v179;
          if ( v177 == *v179 )
          {
LABEL_200:
            v246[0] = v156;
            v181 = v179[1];
            if ( v166 )
            {
              v182 = v166 - 1;
              v183 = v182 & (37 * v156);
              v184 = *(_DWORD *)(v168 + 8LL * v183);
              if ( v156 == v184 )
              {
LABEL_202:
                v185 = sub_307C5F0(v167, v246);
                v186 = (unsigned int)*v185;
                v187 = *(_QWORD *)(*(_QWORD *)(v181 + 24) + 8LL * (*v185 >> 6));
                if ( _bittest64(&v187, v186) )
                  return v7;
                v155 = *(_QWORD *)(a4 + 120);
                v156 = *a3;
                v157 = *(unsigned int *)(a4 + 136);
              }
              else
              {
                v192 = 1;
                while ( v184 != -1 )
                {
                  v183 = v182 & (v192 + v183);
                  v184 = *(_DWORD *)(v168 + 8LL * v183);
                  if ( v156 == v184 )
                    goto LABEL_202;
                  ++v192;
                }
              }
            }
            ++v7;
            goto LABEL_184;
          }
          v190 = 1;
          while ( v180 != -4096 )
          {
            v191 = v190 + 1;
            v178 = (v157 - 1) & (v190 + v178);
            v179 = (__int64 *)(v155 + 16LL * v178);
            v180 = *v179;
            if ( v177 == *v179 )
              goto LABEL_200;
            v190 = v191;
          }
        }
        v179 = (__int64 *)(v155 + 16LL * (unsigned int)v157);
        goto LABEL_200;
      }
      v193 = 1;
      while ( v165 != -4096 )
      {
        v194 = v193 + 1;
        v163 = (v157 - 1) & (v193 + v163);
        v164 = (__int64 *)(v155 + 16LL * v163);
        v165 = *v164;
        if ( v162 == *v164 )
          goto LABEL_191;
        v193 = v194;
      }
    }
    v164 = (__int64 *)(v155 + 16LL * (unsigned int)v157);
    goto LABEL_191;
  }
  v7 = a1;
  v225 = a4 + 56;
  v226 = &a1[4 * v5];
  while ( 1 )
  {
    v8 = *v7;
    v9 = *(_QWORD *)(a4 + 120);
    v10 = *a3;
    v11 = *(unsigned int *)(a4 + 136);
    if ( (_DWORD)v11 )
    {
      v12 = v11 - 1;
      v13 = (v11 - 1) & (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4));
      v14 = (__int64 *)(v9 + 16LL * v13);
      v15 = *v14;
      if ( v8 == *v14 )
      {
LABEL_5:
        v16 = v14[1];
        v17 = *(_QWORD *)(a4 + 64);
        v237 = v16;
        v18 = *(_DWORD *)(a4 + 80);
        v19 = v17;
        v20 = v18;
        if ( !v18 )
        {
          v31 = v7[1];
          v238 = v7 + 1;
LABEL_12:
          v32 = v12 & (((unsigned int)v31 >> 9) ^ ((unsigned int)v31 >> 4));
          v33 = (__int64 *)(v9 + 16LL * v32);
          v34 = *v33;
          if ( v31 != *v33 )
          {
            v77 = 1;
            while ( v34 != -4096 )
            {
              v32 = v12 & (v77 + v32);
              v231 = v77 + 1;
              v33 = (__int64 *)(v9 + 16LL * v32);
              v34 = *v33;
              if ( *v33 == v31 )
                goto LABEL_13;
              v77 = v231;
            }
            goto LABEL_57;
          }
LABEL_13:
          v35 = v33[1];
          if ( !v18 )
          {
            v44 = v7[2];
            v228 = v7 + 2;
            goto LABEL_21;
          }
LABEL_14:
          v22 = v18 - 1;
          goto LABEL_15;
        }
        goto LABEL_6;
      }
      v74 = 1;
      while ( v15 != -4096 )
      {
        v80 = v74 + 1;
        v13 = v12 & (v74 + v13);
        v14 = (__int64 *)(v9 + 16LL * v13);
        v15 = *v14;
        if ( v8 == *v14 )
          goto LABEL_5;
        v74 = v80;
      }
    }
    v17 = *(_QWORD *)(a4 + 64);
    v237 = *(_QWORD *)(v9 + 16LL * (unsigned int)v11 + 8);
    v18 = *(_DWORD *)(a4 + 80);
    v19 = v17;
    v20 = v18;
    if ( !v18 )
    {
      v238 = v7 + 1;
      if ( (_DWORD)v11 )
        goto LABEL_11;
      v20 = 0;
LABEL_27:
      v57 = v7 + 3;
      if ( (_DWORD)v11 )
      {
        v58 = v7[3];
        goto LABEL_29;
      }
      goto LABEL_50;
    }
LABEL_6:
    v21 = 37 * v10;
    v22 = v18 - 1;
    v23 = (v18 - 1) & (37 * v10);
    v24 = (int *)(v17 + 8LL * v23);
    v25 = *v24;
    if ( v10 == *v24 )
    {
LABEL_7:
      v26 = v24[1];
      v27 = v26 & 0x3F;
      v28 = 8LL * (v26 >> 6);
      goto LABEL_8;
    }
    v229 = *v24;
    v219 = (v18 - 1) & (37 * v10);
    for ( k = 1; ; ++k )
    {
      if ( v229 == -1 )
      {
        v238 = v7 + 1;
        if ( (_DWORD)v11 )
          goto LABEL_11;
        v35 = *(_QWORD *)(v9 + 8);
LABEL_15:
        v36 = 37 * v10;
        v37 = v22 & (37 * v10);
        v38 = (_DWORD *)(v17 + 8LL * v37);
        v39 = *v38;
        if ( v10 == *v38 )
        {
LABEL_16:
          v40 = v38[1];
          v41 = v40 & 0x3F;
          v42 = 8LL * (v40 >> 6);
        }
        else
        {
          v230 = v22 & (37 * v10);
          v78 = *v38;
          v222 = 1;
          do
          {
            if ( v78 == -1 )
            {
              v19 = v17;
              v20 = v18;
              goto LABEL_19;
            }
            v118 = v222++;
            v119 = v22 & (v118 + v230);
            v230 = v119;
            v78 = *(_DWORD *)(v17 + 8 * v119);
          }
          while ( v10 != v78 );
          v38 = (_DWORD *)(v17 + 8LL * (v22 & (37 * v10)));
          v120 = 1;
          v121 = 0;
          while ( v39 != -1 )
          {
            if ( v39 == -2 && !v121 )
              v121 = v38;
            v37 = v22 & (v120 + v37);
            v38 = (_DWORD *)(v17 + 8LL * v37);
            v39 = *v38;
            if ( v78 == *v38 )
              goto LABEL_16;
            ++v120;
          }
          v122 = *(_DWORD *)(a4 + 72);
          if ( !v121 )
            v121 = v38;
          ++*(_QWORD *)(a4 + 56);
          v123 = v122 + 1;
          if ( 4 * (v122 + 1) < 3 * v18 )
          {
            if ( v18 - (v123 + *(_DWORD *)(a4 + 76)) > v18 >> 3 )
              goto LABEL_140;
            v235 = v35;
            sub_2E518D0(v225, v18);
            v131 = *(_DWORD *)(a4 + 80);
            if ( v131 )
            {
              v132 = v131 - 1;
              v133 = *(_QWORD *)(a4 + 64);
              v130 = 0;
              v134 = v132 & v36;
              v35 = v235;
              v135 = 1;
              v123 = *(_DWORD *)(a4 + 72) + 1;
              v121 = (_DWORD *)(v133 + 8LL * v134);
              v136 = *v121;
              if ( v78 != *v121 )
              {
                while ( v136 != -1 )
                {
                  if ( !v130 && v136 == -2 )
                    v130 = v121;
                  v134 = v132 & (v135 + v134);
                  v121 = (_DWORD *)(v133 + 8LL * v134);
                  v136 = *v121;
                  if ( v78 == *v121 )
                    goto LABEL_140;
                  ++v135;
                }
                goto LABEL_147;
              }
              goto LABEL_140;
            }
LABEL_311:
            ++*(_DWORD *)(a4 + 72);
            BUG();
          }
          v234 = v35;
          sub_2E518D0(v225, 2 * v18);
          v124 = *(_DWORD *)(a4 + 80);
          if ( !v124 )
            goto LABEL_311;
          v125 = v124 - 1;
          v126 = *(_QWORD *)(a4 + 64);
          v127 = v125 & v36;
          v35 = v234;
          v123 = *(_DWORD *)(a4 + 72) + 1;
          v121 = (_DWORD *)(v126 + 8LL * v127);
          v128 = *v121;
          if ( v78 != *v121 )
          {
            v129 = 1;
            v130 = 0;
            while ( v128 != -1 )
            {
              if ( v128 == -2 && !v130 )
                v130 = v121;
              v127 = v125 & (v129 + v127);
              v121 = (_DWORD *)(v126 + 8LL * v127);
              v128 = *v121;
              if ( v78 == *v121 )
                goto LABEL_140;
              ++v129;
            }
LABEL_147:
            if ( v130 )
              v121 = v130;
          }
LABEL_140:
          *(_DWORD *)(a4 + 72) = v123;
          if ( *v121 != -1 )
            --*(_DWORD *)(a4 + 76);
          *v121 = v78;
          v41 = 0;
          v121[1] = 0;
          v42 = 0;
        }
        v43 = *(_QWORD *)(*(_QWORD *)(v35 + 24) + v42);
        if ( _bittest64(&v43, v41) )
          return v238;
        v17 = *(_QWORD *)(a4 + 64);
        v18 = *(_DWORD *)(a4 + 80);
        v9 = *(_QWORD *)(a4 + 120);
        v10 = *a3;
        v11 = *(unsigned int *)(a4 + 136);
        v19 = v17;
        v20 = v18;
LABEL_19:
        v228 = v7 + 2;
        if ( (_DWORD)v11 )
          goto LABEL_20;
        goto LABEL_53;
      }
      v219 = v22 & (k + v219);
      v229 = *(_DWORD *)(v17 + 8LL * v219);
      if ( v10 == v229 )
        break;
    }
    v24 = (int *)(v17 + 8LL * (v22 & (37 * v10)));
    v101 = 1;
    v102 = 0;
    while ( v25 != -1 )
    {
      if ( v25 == -2 && !v102 )
        v102 = v24;
      v23 = v22 & (v101 + v23);
      v24 = (int *)(v17 + 8LL * v23);
      v25 = *v24;
      if ( v10 == *v24 )
        goto LABEL_7;
      ++v101;
    }
    v103 = *(_DWORD *)(a4 + 72);
    if ( !v102 )
      v102 = v24;
    ++*(_QWORD *)(a4 + 56);
    v104 = v103 + 1;
    if ( 4 * (v103 + 1) < 3 * v18 )
    {
      if ( v18 - (v104 + *(_DWORD *)(a4 + 76)) > v18 >> 3 )
        goto LABEL_115;
      sub_2E518D0(v225, v18);
      v112 = *(_DWORD *)(a4 + 80);
      if ( v112 )
      {
        v113 = v112 - 1;
        v114 = *(_QWORD *)(a4 + 64);
        v111 = 0;
        v115 = v113 & v21;
        v116 = 1;
        v104 = *(_DWORD *)(a4 + 72) + 1;
        v102 = (int *)(v114 + 8LL * v115);
        v117 = *v102;
        if ( v10 != *v102 )
        {
          while ( v117 != -1 )
          {
            if ( !v111 && v117 == -2 )
              v111 = v102;
            v115 = v113 & (v116 + v115);
            v102 = (int *)(v114 + 8LL * v115);
            v117 = *v102;
            if ( v10 == *v102 )
              goto LABEL_115;
            ++v116;
          }
          goto LABEL_122;
        }
        goto LABEL_115;
      }
LABEL_312:
      ++*(_DWORD *)(a4 + 72);
      BUG();
    }
    sub_2E518D0(v225, 2 * v18);
    v105 = *(_DWORD *)(a4 + 80);
    if ( !v105 )
      goto LABEL_312;
    v106 = v105 - 1;
    v107 = *(_QWORD *)(a4 + 64);
    v108 = v106 & v21;
    v104 = *(_DWORD *)(a4 + 72) + 1;
    v102 = (int *)(v107 + 8LL * v108);
    v109 = *v102;
    if ( v10 != *v102 )
    {
      v110 = 1;
      v111 = 0;
      while ( v109 != -1 )
      {
        if ( !v111 && v109 == -2 )
          v111 = v102;
        v108 = v106 & (v110 + v108);
        v102 = (int *)(v107 + 8LL * v108);
        v109 = *v102;
        if ( v10 == *v102 )
          goto LABEL_115;
        ++v110;
      }
LABEL_122:
      if ( v111 )
        v102 = v111;
    }
LABEL_115:
    *(_DWORD *)(a4 + 72) = v104;
    if ( *v102 != -1 )
      --*(_DWORD *)(a4 + 76);
    *v102 = v10;
    v27 = 0;
    v102[1] = 0;
    v28 = 0;
LABEL_8:
    v29 = *(_QWORD *)(*(_QWORD *)(v237 + 24) + v28);
    if ( _bittest64(&v29, v27) )
      return v7;
    v17 = *(_QWORD *)(a4 + 64);
    v18 = *(_DWORD *)(a4 + 80);
    v9 = *(_QWORD *)(a4 + 120);
    v238 = v7 + 1;
    v10 = *a3;
    v11 = *(unsigned int *)(a4 + 136);
    v19 = v17;
    v20 = v18;
    if ( (_DWORD)v11 )
    {
LABEL_11:
      v31 = v7[1];
      v12 = v11 - 1;
      goto LABEL_12;
    }
LABEL_57:
    v35 = *(_QWORD *)(v9 + 16LL * (unsigned int)v11 + 8);
    if ( v18 )
      goto LABEL_14;
    v20 = 0;
    v228 = v7 + 2;
    if ( !(_DWORD)v11 )
      goto LABEL_27;
LABEL_20:
    v44 = v7[2];
LABEL_21:
    v45 = (v11 - 1) & (((unsigned int)v44 >> 9) ^ ((unsigned int)v44 >> 4));
    v46 = (__int64 *)(v9 + 16LL * v45);
    v47 = *v46;
    if ( *v46 != v44 )
      break;
LABEL_22:
    v239 = v46[1];
    if ( v20 )
      goto LABEL_23;
    v58 = v7[3];
    v57 = v7 + 3;
LABEL_29:
    v59 = (v11 - 1) & (((unsigned int)v58 >> 9) ^ ((unsigned int)v58 >> 4));
    v60 = (__int64 *)(v9 + 16LL * v59);
    v61 = *v60;
    if ( v58 != *v60 )
    {
      v75 = 1;
      while ( v61 != -4096 )
      {
        v85 = v75 + 1;
        v59 = (v11 - 1) & (v75 + v59);
        v60 = (__int64 *)(v9 + 16LL * v59);
        v61 = *v60;
        if ( *v60 == v58 )
          goto LABEL_30;
        v75 = v85;
      }
LABEL_50:
      v60 = (__int64 *)(v9 + 16 * v11);
    }
LABEL_30:
    v62 = v60[1];
    if ( !v20 )
      goto LABEL_37;
    v63 = v20 - 1;
    v64 = 37 * v10;
    v65 = (v20 - 1) & (37 * v10);
    v66 = (int *)(v19 + 8LL * v65);
    v67 = *v66;
    if ( *v66 != v10 )
    {
      v240 = 1;
      v72 = *v66;
      v73 = (v20 - 1) & (37 * v10);
      do
      {
        if ( v72 == -1 )
          goto LABEL_37;
        v73 = v63 & (v240 + v73);
        ++v240;
        v72 = *(_DWORD *)(v19 + 8LL * v73);
      }
      while ( v72 != v10 );
      v66 = (int *)(v19 + 8LL * (v63 & (37 * v10)));
      v81 = 1;
      v82 = 0;
      while ( v67 != -1 )
      {
        if ( !v82 && v67 == -2 )
          v82 = v66;
        v65 = v63 & (v81 + v65);
        v66 = (int *)(v19 + 8LL * v65);
        v67 = *v66;
        if ( *v66 == v10 )
          goto LABEL_32;
        ++v81;
      }
      if ( !v82 )
        v82 = v66;
      v83 = *(_DWORD *)(a4 + 72);
      ++*(_QWORD *)(a4 + 56);
      v84 = v83 + 1;
      if ( 4 * v84 >= 3 * v20 )
      {
        v232 = v57;
        v242 = v62;
        sub_2E518D0(v225, 2 * v20);
        v86 = *(_DWORD *)(a4 + 80);
        if ( v86 )
        {
          v87 = v86 - 1;
          v88 = *(_QWORD *)(a4 + 64);
          v62 = v242;
          v89 = v87 & v64;
          v57 = v232;
          v82 = (int *)(v88 + 8LL * v89);
          v90 = *v82;
          v84 = *(_DWORD *)(a4 + 72) + 1;
          if ( *v82 == v10 )
            goto LABEL_88;
          v91 = 1;
          v92 = 0;
          while ( v90 != -1 )
          {
            if ( !v92 && v90 == -2 )
              v92 = v82;
            v196 = v91 + 1;
            v197 = v87 & (v89 + v91);
            v82 = (int *)(v88 + 8LL * v197);
            v89 = v197;
            v90 = *v82;
            if ( *v82 == v10 )
              goto LABEL_88;
            v91 = v196;
          }
LABEL_97:
          if ( v92 )
            v82 = v92;
          goto LABEL_88;
        }
      }
      else
      {
        if ( v20 - (v84 + *(_DWORD *)(a4 + 76)) > v20 >> 3 )
        {
LABEL_88:
          *(_DWORD *)(a4 + 72) = v84;
          if ( *v82 != -1 )
            --*(_DWORD *)(a4 + 76);
          *v82 = v10;
          v69 = 0;
          v70 = 0;
          v82[1] = 0;
          goto LABEL_33;
        }
        v233 = v57;
        v243 = v62;
        sub_2E518D0(v225, v20);
        v93 = *(_DWORD *)(a4 + 80);
        if ( v93 )
        {
          v94 = v93 - 1;
          v95 = *(_QWORD *)(a4 + 64);
          v92 = 0;
          v62 = v243;
          v96 = v94 & v64;
          v57 = v233;
          v97 = 1;
          v82 = (int *)(v95 + 8LL * v96);
          v98 = *v82;
          v84 = *(_DWORD *)(a4 + 72) + 1;
          if ( *v82 == v10 )
            goto LABEL_88;
          while ( v98 != -1 )
          {
            if ( v98 == -2 && !v92 )
              v92 = v82;
            v99 = v97 + 1;
            v100 = v94 & (v96 + v97);
            v82 = (int *)(v95 + 8LL * v100);
            v96 = v100;
            v98 = *v82;
            if ( *v82 == v10 )
              goto LABEL_88;
            v97 = v99;
          }
          goto LABEL_97;
        }
      }
      ++*(_DWORD *)(a4 + 72);
      BUG();
    }
LABEL_32:
    v68 = v66[1];
    v69 = v68 & 0x3F;
    v70 = 8LL * (v68 >> 6);
LABEL_33:
    v71 = *(_QWORD *)(*(_QWORD *)(v62 + 24) + v70);
    if ( _bittest64(&v71, v69) )
      return v57;
LABEL_37:
    v7 += 4;
    if ( v226 == v7 )
    {
      v6 = (a2 - (__int64)v7) >> 3;
      goto LABEL_39;
    }
  }
  v76 = 1;
  while ( v47 != -4096 )
  {
    v45 = (v11 - 1) & (v76 + v45);
    v241 = v76 + 1;
    v46 = (__int64 *)(v9 + 16LL * v45);
    v47 = *v46;
    if ( *v46 == v44 )
      goto LABEL_22;
    v76 = v241;
  }
LABEL_53:
  v239 = *(_QWORD *)(v9 + 16LL * (unsigned int)v11 + 8);
  if ( !v20 )
    goto LABEL_27;
LABEL_23:
  v48 = v20 - 1;
  v49 = 37 * v10;
  v50 = (v20 - 1) & (37 * v10);
  v51 = (int *)(v17 + 8LL * v50);
  v52 = *v51;
  if ( *v51 == v10 )
  {
LABEL_24:
    v53 = v51[1];
    v54 = v53 & 0x3F;
    v55 = 8LL * (v53 >> 6);
    goto LABEL_25;
  }
  v223 = (v20 - 1) & (37 * v10);
  v79 = *v51;
  v220 = 1;
  do
  {
    if ( v79 == -1 )
    {
      v19 = v17;
      v20 = v18;
      goto LABEL_27;
    }
    v137 = v220++;
    v223 = v48 & (v137 + v223);
    v79 = *(_DWORD *)(v17 + 8LL * v223);
  }
  while ( v79 != v10 );
  v51 = (int *)(v17 + 8LL * (v48 & (37 * v10)));
  v138 = 1;
  v139 = 0;
  while ( v52 != -1 )
  {
    if ( !v139 && v52 == -2 )
      v139 = v51;
    v50 = v48 & (v138 + v50);
    v51 = (int *)(v17 + 8LL * v50);
    v52 = *v51;
    if ( *v51 == v10 )
      goto LABEL_24;
    ++v138;
  }
  v140 = *(_DWORD *)(a4 + 72);
  if ( !v139 )
    v139 = v51;
  ++*(_QWORD *)(a4 + 56);
  v141 = v140 + 1;
  if ( 4 * (v140 + 1) < 3 * v20 )
  {
    if ( v20 - (v141 + *(_DWORD *)(a4 + 76)) > v20 >> 3 )
      goto LABEL_165;
    sub_2E518D0(v225, v20);
    v149 = *(_DWORD *)(a4 + 80);
    if ( v149 )
    {
      v150 = v149 - 1;
      v151 = *(_QWORD *)(a4 + 64);
      v148 = 0;
      v152 = v150 & v49;
      v153 = 1;
      v141 = *(_DWORD *)(a4 + 72) + 1;
      v139 = (int *)(v151 + 8LL * v152);
      v154 = *v139;
      if ( *v139 != v10 )
      {
        while ( v154 != -1 )
        {
          if ( v154 == -2 && !v148 )
            v148 = v139;
          v152 = v150 & (v153 + v152);
          v139 = (int *)(v151 + 8LL * v152);
          v154 = *v139;
          if ( *v139 == v10 )
            goto LABEL_165;
          ++v153;
        }
        goto LABEL_172;
      }
      goto LABEL_165;
    }
LABEL_313:
    ++*(_DWORD *)(a4 + 72);
    BUG();
  }
  sub_2E518D0(v225, 2 * v20);
  v142 = *(_DWORD *)(a4 + 80);
  if ( !v142 )
    goto LABEL_313;
  v143 = v142 - 1;
  v144 = *(_QWORD *)(a4 + 64);
  v145 = v143 & v49;
  v141 = *(_DWORD *)(a4 + 72) + 1;
  v139 = (int *)(v144 + 8LL * v145);
  v146 = *v139;
  if ( v10 != *v139 )
  {
    v147 = 1;
    v148 = 0;
    while ( v146 != -1 )
    {
      if ( !v148 && v146 == -2 )
        v148 = v139;
      v145 = v143 & (v147 + v145);
      v139 = (int *)(v144 + 8LL * v145);
      v146 = *v139;
      if ( *v139 == v10 )
        goto LABEL_165;
      ++v147;
    }
LABEL_172:
    if ( v148 )
      v139 = v148;
  }
LABEL_165:
  *(_DWORD *)(a4 + 72) = v141;
  if ( *v139 != -1 )
    --*(_DWORD *)(a4 + 76);
  *v139 = v10;
  v54 = 0;
  v139[1] = 0;
  v55 = 0;
LABEL_25:
  v56 = *(_QWORD *)(*(_QWORD *)(v239 + 24) + v55);
  if ( !_bittest64(&v56, v54) )
  {
    v19 = *(_QWORD *)(a4 + 64);
    v20 = *(_DWORD *)(a4 + 80);
    v9 = *(_QWORD *)(a4 + 120);
    v10 = *a3;
    v11 = *(unsigned int *)(a4 + 136);
    goto LABEL_27;
  }
  return v228;
}
