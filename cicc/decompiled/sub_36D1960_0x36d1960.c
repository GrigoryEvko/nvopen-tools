// Function: sub_36D1960
// Address: 0x36d1960
//
void __fastcall sub_36D1960(_QWORD *a1, char a2)
{
  const char *v2; // r14
  __int64 *v3; // r12
  __int64 v4; // rbx
  __int64 v5; // rax
  __int64 v6; // rax
  __int64 v7; // rax
  __int64 v8; // rcx
  const char *v9; // rsi
  _BYTE *v10; // rax
  __int64 v11; // r13
  __int64 v12; // rax
  const char *v13; // rsi
  __int64 *v14; // rax
  unsigned __int64 v15; // rax
  __int64 v16; // r14
  __int64 v17; // rax
  char v18; // bl
  _QWORD *v19; // rax
  __int64 v20; // r9
  unsigned __int64 v21; // r15
  unsigned int *v22; // r14
  unsigned int *v23; // rbx
  __int64 v24; // rdx
  unsigned int v25; // esi
  __int64 v26; // rbx
  __int64 v27; // rax
  unsigned __int8 v28; // al
  _QWORD *v29; // rax
  __int64 v30; // r9
  unsigned __int64 v31; // r13
  unsigned int *v32; // r14
  unsigned int *v33; // rbx
  __int64 v34; // rdx
  unsigned int v35; // esi
  unsigned int v36; // esi
  __int64 v37; // rax
  __int64 v38; // rbx
  _QWORD *v39; // rax
  __int64 v40; // r9
  __int64 v41; // r12
  unsigned int *v42; // r13
  unsigned int *v43; // rbx
  __int64 v44; // rdx
  unsigned int v45; // esi
  __int64 v46; // rax
  __int64 v47; // rbx
  __int64 v48; // r12
  unsigned int *v49; // r13
  unsigned int *v50; // r12
  __int64 v51; // rdx
  unsigned int v52; // esi
  __int64 v53; // r13
  __int64 v54; // rax
  char v55; // r14
  _QWORD *v56; // rax
  __int64 v57; // r12
  unsigned int *v58; // r14
  unsigned int *v59; // r13
  __int64 v60; // rdx
  unsigned int v61; // esi
  __int64 v62; // r13
  __int64 v63; // r8
  __int64 v64; // rsi
  int v65; // edi
  __int64 v66; // rax
  unsigned int v67; // edi
  _QWORD *v68; // rax
  __int64 v69; // r14
  __int64 v70; // r12
  int v71; // edx
  unsigned int v72; // ecx
  unsigned __int8 v73; // al
  int v74; // r12d
  unsigned int *v75; // r13
  unsigned int *v76; // r12
  __int64 v77; // rdx
  unsigned int v78; // esi
  __int64 v79; // r12
  __int64 v80; // rax
  __int64 (__fastcall *v81)(__int64, __int64, _BYTE *, _BYTE **, __int64, int); // rax
  _BYTE **v82; // rax
  _BYTE **v83; // rcx
  _QWORD *v84; // r14
  __int64 v85; // r12
  __int64 v86; // r13
  int v87; // eax
  int v88; // eax
  unsigned int v89; // edx
  __int64 v90; // rax
  __int64 v91; // rdx
  __int64 v92; // rdx
  int v93; // eax
  int v94; // eax
  unsigned int v95; // edx
  __int64 v96; // rax
  __int64 v97; // rdx
  __int64 v98; // rdx
  _QWORD *v99; // rax
  __int64 v100; // r9
  __int64 v101; // rbx
  unsigned int *v102; // r13
  unsigned int *v103; // r12
  __int64 v104; // rdx
  unsigned int v105; // esi
  __int64 *v106; // r12
  _QWORD *v107; // rax
  __int64 v108; // rbx
  unsigned int *v109; // r13
  unsigned int *v110; // r12
  __int64 v111; // rdx
  unsigned int v112; // esi
  __int64 v113; // r10
  unsigned int *v114; // r13
  unsigned int *v115; // r12
  __int64 v116; // rdx
  unsigned int v117; // esi
  __int64 v118; // rdx
  int v119; // eax
  char v120; // cl
  __int64 *v121; // rax
  int v122; // r12d
  __int64 **v123; // rbx
  __int64 (__fastcall *v124)(__int64, unsigned int, _BYTE *, __int64); // rax
  unsigned __int8 *v125; // r14
  __int64 v126; // r10
  __int64 (__fastcall *v127)(__int64, unsigned int, _BYTE *, __int64); // rax
  __int64 v128; // rax
  unsigned __int8 *v129; // rbx
  __int64 (__fastcall *v130)(__int64, unsigned int, unsigned __int8 *, unsigned __int8 *, unsigned __int8, char); // rax
  unsigned __int8 *v131; // r13
  __int64 v132; // rax
  unsigned __int8 *v133; // rbx
  __int64 (__fastcall *v134)(__int64, unsigned int, unsigned __int8 *, unsigned __int8 *, unsigned __int8); // rax
  _BYTE *v135; // r14
  __int64 v136; // rax
  __int64 v137; // r13
  __int64 v138; // rax
  __int64 v139; // rax
  __int64 *v140; // rax
  int v141; // eax
  int v142; // ebx
  __int64 v143; // rbx
  unsigned int *v144; // rbx
  unsigned int *v145; // r12
  __int64 v146; // rdx
  unsigned int v147; // esi
  unsigned int *v148; // r13
  unsigned int *v149; // rbx
  __int64 v150; // rdx
  unsigned int v151; // esi
  unsigned int *v152; // r14
  unsigned int *v153; // rbx
  __int64 v154; // rdx
  unsigned int v155; // esi
  int v156; // r13d
  unsigned int *v157; // r12
  unsigned int *v158; // r13
  __int64 v159; // rdx
  unsigned int v160; // esi
  __int64 v161; // rax
  __int64 v162; // [rsp+8h] [rbp-1B8h]
  __int64 v163; // [rsp+8h] [rbp-1B8h]
  __int64 v164; // [rsp+10h] [rbp-1B0h]
  int v165; // [rsp+24h] [rbp-19Ch]
  __int64 v166; // [rsp+40h] [rbp-180h]
  __int64 v167; // [rsp+50h] [rbp-170h]
  _BYTE *v168; // [rsp+58h] [rbp-168h]
  __int64 v169; // [rsp+58h] [rbp-168h]
  __int64 **v170; // [rsp+58h] [rbp-168h]
  __int64 *v171; // [rsp+58h] [rbp-168h]
  __int64 *v172; // [rsp+58h] [rbp-168h]
  __int64 v173; // [rsp+58h] [rbp-168h]
  __int64 v174; // [rsp+60h] [rbp-160h]
  __int64 v175; // [rsp+68h] [rbp-158h]
  unsigned int v177; // [rsp+88h] [rbp-138h]
  _BYTE v178[4]; // [rsp+8Ch] [rbp-134h] BYREF
  _BYTE *v179; // [rsp+90h] [rbp-130h] BYREF
  __int64 v180; // [rsp+98h] [rbp-128h] BYREF
  _BYTE *v181[4]; // [rsp+A0h] [rbp-120h] BYREF
  __int16 v182; // [rsp+C0h] [rbp-100h]
  char *v183; // [rsp+D0h] [rbp-F0h] BYREF
  __int64 *v184; // [rsp+D8h] [rbp-E8h]
  _BYTE *v185; // [rsp+E0h] [rbp-E0h]
  unsigned int v186; // [rsp+E8h] [rbp-D8h]
  __int16 v187; // [rsp+F0h] [rbp-D0h]
  unsigned int *v188; // [rsp+100h] [rbp-C0h] BYREF
  __int64 v189; // [rsp+108h] [rbp-B8h]
  _BYTE v190[32]; // [rsp+110h] [rbp-B0h] BYREF
  __int64 v191; // [rsp+130h] [rbp-90h]
  __int64 v192; // [rsp+138h] [rbp-88h]
  __int64 v193; // [rsp+140h] [rbp-80h]
  __int64 *v194; // [rsp+148h] [rbp-78h]
  void **v195; // [rsp+150h] [rbp-70h]
  void **v196; // [rsp+158h] [rbp-68h]
  __int64 v197; // [rsp+160h] [rbp-60h]
  int v198; // [rsp+168h] [rbp-58h]
  __int16 v199; // [rsp+16Ch] [rbp-54h]
  char v200; // [rsp+16Eh] [rbp-52h]
  __int64 v201; // [rsp+170h] [rbp-50h]
  __int64 v202; // [rsp+178h] [rbp-48h]
  void *v203; // [rsp+180h] [rbp-40h] BYREF
  void *v204; // [rsp+188h] [rbp-38h] BYREF

  v2 = (const char *)a1[5];
  v178[0] = a2;
  v3 = *(__int64 **)v2;
  v183 = "entry";
  v187 = 259;
  v4 = sub_22077B0(0x50u);
  if ( v4 )
    sub_AA4D50(v4, (__int64)v3, (__int64)&v183, (__int64)a1, 0);
  v194 = (__int64 *)sub_AA48A0(v4);
  v195 = &v203;
  v196 = &v204;
  v188 = (unsigned int *)v190;
  v203 = &unk_49DA100;
  v189 = 0x200000000LL;
  LOWORD(v193) = 0;
  v204 = &unk_49DA0B0;
  v192 = v4 + 48;
  v197 = 0;
  v198 = 0;
  v199 = 512;
  v200 = 7;
  v201 = 0;
  v202 = 0;
  v191 = v4;
  v183 = "while.entry";
  v187 = 259;
  v5 = sub_22077B0(0x50u);
  v174 = v5;
  if ( v5 )
    sub_AA4D50(v5, (__int64)v3, (__int64)&v183, (__int64)a1, 0);
  v183 = "while.end";
  v187 = 259;
  v6 = sub_22077B0(0x50u);
  v175 = v6;
  if ( v6 )
    sub_AA4D50(v6, (__int64)v3, (__int64)&v183, (__int64)a1, 0);
  v7 = sub_BCE3C0(v194, 1);
  v183 = (char *)v2;
  v185 = v178;
  v167 = v7;
  v184 = v3;
  v8 = sub_BCE3C0(v3, 0);
  v9 = "__init_array_start";
  if ( !v178[0] )
    v9 = "__fini_array_start";
  v10 = sub_BA8D20((__int64)v2, (__int64)v9, 0x12u, v8, (__int64 (__fastcall *)(__int64))sub_36D1870, (__int64)&v183);
  v183 = (char *)v2;
  v185 = v178;
  v11 = (__int64)v10;
  v184 = v3;
  v12 = sub_BCE3C0(v3, 0);
  v13 = "__init_array_end";
  if ( !v178[0] )
    v13 = "__fini_array_end";
  v168 = sub_BA8D20((__int64)v2, (__int64)v13, 0x10u, v12, (__int64 (__fastcall *)(__int64))sub_36D1780, (__int64)&v183);
  v14 = (__int64 *)sub_BCB120(v194);
  v15 = sub_BCF640(v14, 0);
  v16 = *(_QWORD *)(v11 + 8);
  v166 = v15;
  v181[0] = "begin";
  v182 = 259;
  v17 = sub_AA4E30(v191);
  v18 = sub_AE5020(v17, v16);
  v187 = 257;
  v19 = sub_BD2C40(80, 1u);
  v21 = (unsigned __int64)v19;
  if ( v19 )
  {
    sub_B4D190((__int64)v19, v16, v11, (__int64)&v183, 0, v18, 0, 0);
    v20 = v162;
  }
  (*((void (__fastcall **)(void **, unsigned __int64, _BYTE **, __int64, __int64, __int64))*v196 + 2))(
    v196,
    v21,
    v181,
    v192,
    v193,
    v20);
  v22 = v188;
  v23 = &v188[4 * (unsigned int)v189];
  if ( v188 != v23 )
  {
    do
    {
      v24 = *((_QWORD *)v22 + 1);
      v25 = *v22;
      v22 += 4;
      sub_B99FD0(v21, v25, v24);
    }
    while ( v23 != v22 );
  }
  v26 = *(_QWORD *)(v11 + 8);
  v181[0] = "stop";
  v182 = 259;
  v27 = sub_AA4E30(v191);
  v28 = sub_AE5020(v27, v26);
  v187 = 257;
  v177 = v28;
  v29 = sub_BD2C40(80, 1u);
  v30 = v177;
  v31 = (unsigned __int64)v29;
  if ( v29 )
    sub_B4D190((__int64)v29, v26, (__int64)v168, (__int64)&v183, 0, v177, 0, 0);
  (*((void (__fastcall **)(void **, unsigned __int64, _BYTE **, __int64, __int64, __int64))*v196 + 2))(
    v196,
    v31,
    v181,
    v192,
    v193,
    v30);
  v32 = v188;
  v33 = &v188[4 * (unsigned int)v189];
  if ( v188 != v33 )
  {
    do
    {
      v34 = *((_QWORD *)v32 + 1);
      v35 = *v32;
      v32 += 4;
      sub_B99FD0(v31, v35, v34);
    }
    while ( v33 != v32 );
  }
  if ( v178[0] )
  {
    v169 = v21;
    v36 = 33;
    v21 = v31;
    v182 = 257;
    goto LABEL_21;
  }
  v182 = 257;
  v123 = (__int64 **)sub_BCB2E0(v3);
  if ( v123 == *(__int64 ***)(v21 + 8) )
  {
    v125 = (unsigned __int8 *)v21;
    goto LABEL_119;
  }
  v124 = (__int64 (__fastcall *)(__int64, unsigned int, _BYTE *, __int64))*((_QWORD *)*v195 + 15);
  if ( v124 != sub_920130 )
  {
    v125 = (unsigned __int8 *)v124((__int64)v195, 47u, (_BYTE *)v21, (__int64)v123);
    goto LABEL_118;
  }
  if ( *(_BYTE *)v21 <= 0x15u )
  {
    if ( (unsigned __int8)sub_AC4810(0x2Fu) )
      v125 = (unsigned __int8 *)sub_ADAB70(47, v21, v123, 0);
    else
      v125 = (unsigned __int8 *)sub_AA93C0(0x2Fu, v21, (__int64)v123);
LABEL_118:
    if ( v125 )
      goto LABEL_119;
  }
  v187 = 257;
  v125 = (unsigned __int8 *)sub_B51D30(47, v21, (__int64)v123, (__int64)&v183, 0, 0);
  if ( (unsigned __int8)sub_920620((__int64)v125) )
  {
    v142 = v198;
    if ( v197 )
      sub_B99FD0((__int64)v125, 3u, v197);
    sub_B45150((__int64)v125, v142);
  }
  (*((void (__fastcall **)(void **, unsigned __int8 *, _BYTE **, __int64, __int64))*v196 + 2))(
    v196,
    v125,
    v181,
    v192,
    v193);
  v143 = 4LL * (unsigned int)v189;
  if ( v188 != &v188[v143] )
  {
    v171 = v3;
    v144 = &v188[v143];
    v145 = v188;
    do
    {
      v146 = *((_QWORD *)v145 + 1);
      v147 = *v145;
      v145 += 4;
      sub_B99FD0((__int64)v125, v147, v146);
    }
    while ( v144 != v145 );
    v3 = v171;
  }
LABEL_119:
  v182 = 257;
  v126 = sub_BCB2E0(v3);
  if ( v126 == *(_QWORD *)(v31 + 8) )
  {
    v129 = (unsigned __int8 *)v31;
    goto LABEL_126;
  }
  v127 = (__int64 (__fastcall *)(__int64, unsigned int, _BYTE *, __int64))*((_QWORD *)*v195 + 15);
  if ( v127 != sub_920130 )
  {
    v173 = v126;
    v161 = v127((__int64)v195, 47u, (_BYTE *)v31, v126);
    v126 = v173;
    v129 = (unsigned __int8 *)v161;
    goto LABEL_125;
  }
  if ( *(_BYTE *)v31 <= 0x15u )
  {
    v170 = (__int64 **)v126;
    if ( (unsigned __int8)sub_AC4810(0x2Fu) )
      v128 = sub_ADAB70(47, v31, v170, 0);
    else
      v128 = sub_AA93C0(0x2Fu, v31, (__int64)v170);
    v126 = (__int64)v170;
    v129 = (unsigned __int8 *)v128;
LABEL_125:
    if ( v129 )
      goto LABEL_126;
  }
  v187 = 257;
  v129 = (unsigned __int8 *)sub_B51D30(47, v31, v126, (__int64)&v183, 0, 0);
  if ( (unsigned __int8)sub_920620((__int64)v129) )
  {
    v156 = v198;
    if ( v197 )
      sub_B99FD0((__int64)v129, 3u, v197);
    sub_B45150((__int64)v129, v156);
  }
  (*((void (__fastcall **)(void **, unsigned __int8 *, _BYTE **, __int64, __int64))*v196 + 2))(
    v196,
    v129,
    v181,
    v192,
    v193);
  if ( v188 != &v188[4 * (unsigned int)v189] )
  {
    v172 = v3;
    v157 = v188;
    v158 = &v188[4 * (unsigned int)v189];
    do
    {
      v159 = *((_QWORD *)v157 + 1);
      v160 = *v157;
      v157 += 4;
      sub_B99FD0((__int64)v129, v160, v159);
    }
    while ( v158 != v157 );
    v3 = v172;
  }
LABEL_126:
  v182 = 257;
  v130 = (__int64 (__fastcall *)(__int64, unsigned int, unsigned __int8 *, unsigned __int8 *, unsigned __int8, char))*((_QWORD *)*v195 + 4);
  if ( v130 != sub_9201A0 )
  {
    v131 = (unsigned __int8 *)v130((__int64)v195, 15u, v129, v125, 0, 0);
    goto LABEL_131;
  }
  if ( *v129 <= 0x15u && *v125 <= 0x15u )
  {
    if ( (unsigned __int8)sub_AC47B0(15) )
      v131 = (unsigned __int8 *)sub_AD5570(15, (__int64)v129, v125, 0, 0);
    else
      v131 = (unsigned __int8 *)sub_AABE40(0xFu, v129, v125);
LABEL_131:
    if ( v131 )
      goto LABEL_132;
  }
  v187 = 257;
  v131 = (unsigned __int8 *)sub_B504D0(15, (__int64)v129, (__int64)v125, (__int64)&v183, 0, 0);
  (*((void (__fastcall **)(void **, unsigned __int8 *, _BYTE **, __int64, __int64))*v196 + 2))(
    v196,
    v131,
    v181,
    v192,
    v193);
  v152 = v188;
  v153 = &v188[4 * (unsigned int)v189];
  if ( v188 != v153 )
  {
    do
    {
      v154 = *((_QWORD *)v152 + 1);
      v155 = *v152;
      v152 += 4;
      sub_B99FD0((__int64)v131, v155, v154);
    }
    while ( v153 != v152 );
  }
LABEL_132:
  v181[0] = "offset";
  v182 = 259;
  v132 = sub_BCB2E0(v3);
  v133 = (unsigned __int8 *)sub_ACD640(v132, 3, 0);
  v134 = (__int64 (__fastcall *)(__int64, unsigned int, unsigned __int8 *, unsigned __int8 *, unsigned __int8))*((_QWORD *)*v195 + 3);
  if ( v134 == sub_920250 )
  {
    if ( *v131 > 0x15u || *v133 > 0x15u )
    {
LABEL_150:
      v187 = 257;
      v135 = (_BYTE *)sub_B504D0(27, (__int64)v131, (__int64)v133, (__int64)&v183, 0, 0);
      sub_B448B0((__int64)v135, 1);
      (*((void (__fastcall **)(void **, _BYTE *, _BYTE **, __int64, __int64))*v196 + 2))(v196, v135, v181, v192, v193);
      v148 = v188;
      v149 = &v188[4 * (unsigned int)v189];
      if ( v188 != v149 )
      {
        do
        {
          v150 = *((_QWORD *)v148 + 1);
          v151 = *v148;
          v148 += 4;
          sub_B99FD0((__int64)v135, v151, v150);
        }
        while ( v149 != v148 );
      }
      goto LABEL_138;
    }
    if ( (unsigned __int8)sub_AC47B0(27) )
      v135 = (_BYTE *)sub_AD5570(27, (__int64)v131, v133, 1, 0);
    else
      v135 = (_BYTE *)sub_AABE40(0x1Bu, v131, v133);
  }
  else
  {
    v135 = (_BYTE *)v134((__int64)v195, 27u, v131, v133, 1u);
  }
  if ( !v135 )
    goto LABEL_150;
LABEL_138:
  v181[0] = v135;
  v187 = 257;
  v136 = sub_BCE3C0(v3, 0);
  v137 = sub_921130(&v188, v136, v21, v181, 1, (__int64)&v183, 0);
  v187 = 259;
  v183 = "start";
  v138 = sub_BCB2E0(v3);
  v181[0] = (_BYTE *)sub_ACD640(v138, -1, 0);
  v139 = sub_BCE3C0(v3, 0);
  v169 = sub_921130(&v188, v139, v137, v181, 1, (__int64)&v183, 3u);
  v36 = (v178[0] == 0) + 33;
  v182 = 257;
LABEL_21:
  v37 = sub_2B22A00((__int64)&v188, v36, v169, v21, (__int64)v181, 0);
  v187 = 257;
  v38 = v37;
  v39 = sub_BD2C40(72, 3u);
  v41 = (__int64)v39;
  if ( v39 )
  {
    sub_B4C9A0((__int64)v39, v174, v175, v38, 3u, v40, 0, 0);
    v40 = v163;
  }
  (*((void (__fastcall **)(void **, __int64, char **, __int64, __int64, __int64))*v196 + 2))(
    v196,
    v41,
    &v183,
    v192,
    v193,
    v40);
  v42 = v188;
  v43 = &v188[4 * (unsigned int)v189];
  if ( v188 != v43 )
  {
    do
    {
      v44 = *((_QWORD *)v42 + 1);
      v45 = *v42;
      v42 += 4;
      sub_B99FD0(v41, v45, v44);
    }
    while ( v43 != v42 );
  }
  v187 = 257;
  v191 = v174;
  v192 = v174 + 48;
  LOWORD(v193) = 0;
  v181[0] = "ptr";
  v182 = 259;
  v46 = sub_BD2DA0(80);
  v47 = v46;
  if ( v46 )
  {
    v48 = v46;
    sub_B44260(v46, v167, 55, 0x8000000u, 0, 0);
    *(_DWORD *)(v47 + 72) = 2;
    sub_BD6B50((unsigned __int8 *)v47, (const char **)&v183);
    sub_BD2A10(v47, *(_DWORD *)(v47 + 72), 1);
  }
  else
  {
    v48 = 0;
  }
  if ( (unsigned __int8)sub_920620(v48) )
  {
    v122 = v198;
    if ( v197 )
      sub_B99FD0(v47, 3u, v197);
    sub_B45150(v47, v122);
  }
  (*((void (__fastcall **)(void **, __int64, _BYTE **, __int64, __int64))*v196 + 2))(v196, v47, v181, v192, v193);
  v49 = v188;
  v50 = &v188[4 * (unsigned int)v189];
  if ( v188 != v50 )
  {
    do
    {
      v51 = *((_QWORD *)v49 + 1);
      v52 = *v49;
      v49 += 4;
      sub_B99FD0(v47, v52, v51);
    }
    while ( v50 != v49 );
  }
  v53 = sub_BCE3C0(v194, *(_DWORD *)(a1[1] + 8LL) >> 8);
  v182 = 259;
  v181[0] = "callback";
  v54 = sub_AA4E30(v191);
  v55 = sub_AE5020(v54, v53);
  v187 = 257;
  v56 = sub_BD2C40(80, 1u);
  v57 = (__int64)v56;
  if ( v56 )
    sub_B4D190((__int64)v56, v53, v47, (__int64)&v183, 0, v55, 0, 0);
  (*((void (__fastcall **)(void **, __int64, _BYTE **, __int64, __int64))*v196 + 2))(v196, v57, v181, v192, v193);
  v58 = v188;
  v59 = &v188[4 * (unsigned int)v189];
  if ( v188 != v59 )
  {
    do
    {
      v60 = *((_QWORD *)v58 + 1);
      v61 = *v58;
      v58 += 4;
      sub_B99FD0(v57, v61, v60);
    }
    while ( v59 != v58 );
  }
  v62 = v202;
  v187 = 257;
  v182 = 257;
  v63 = v201 + 56 * v202;
  if ( v63 == v201 )
  {
    v165 = 1;
    v67 = 1;
  }
  else
  {
    v64 = v201;
    v65 = 0;
    do
    {
      v66 = *(_QWORD *)(v64 + 40) - *(_QWORD *)(v64 + 32);
      v64 += 56;
      v65 += v66 >> 3;
    }
    while ( v63 != v64 );
    v67 = v65 + 1;
    v165 = v67 & 0x7FFFFFF;
  }
  v164 = v201;
  LOBYTE(v177) = 16 * (_DWORD)v202 != 0;
  v68 = sub_BD2CC0(88, ((unsigned __int64)(unsigned int)(16 * v202) << 32) | v67);
  v69 = (__int64)v68;
  if ( v68 )
  {
    sub_B44260((__int64)v68, **(_QWORD **)(v166 + 16), 56, v165 | (v177 << 28), 0, 0);
    *(_QWORD *)(v69 + 72) = 0;
    sub_B4A290(v69, v166, v57, 0, 0, (__int64)&v183, v164, v62);
  }
  if ( (_BYTE)v199 )
  {
    v140 = (__int64 *)sub_BD5C60(v69);
    *(_QWORD *)(v69 + 72) = sub_A7A090((__int64 *)(v69 + 72), v140, -1, 72);
  }
  if ( *(_BYTE *)v69 > 0x1Cu )
  {
    switch ( *(_BYTE *)v69 )
    {
      case ')':
      case '+':
      case '-':
      case '/':
      case '2':
      case '5':
      case 'J':
      case 'K':
      case 'S':
        goto LABEL_47;
      case 'T':
      case 'U':
      case 'V':
        v70 = *(_QWORD *)(v69 + 8);
        v71 = *(unsigned __int8 *)(v70 + 8);
        v72 = v71 - 17;
        v73 = *(_BYTE *)(v70 + 8);
        if ( (unsigned int)(v71 - 17) <= 1 )
          v73 = *(_BYTE *)(**(_QWORD **)(v70 + 16) + 8LL);
        if ( v73 <= 3u || v73 == 5 || (v73 & 0xFD) == 4 )
          goto LABEL_47;
        if ( (_BYTE)v71 == 15 )
        {
          if ( (*(_BYTE *)(v70 + 9) & 4) == 0 || !sub_BCB420(*(_QWORD *)(v69 + 8)) )
            break;
          v121 = *(__int64 **)(v70 + 16);
          v70 = *v121;
          v71 = *(unsigned __int8 *)(*v121 + 8);
          v72 = v71 - 17;
        }
        else if ( (_BYTE)v71 == 16 )
        {
          do
          {
            v70 = *(_QWORD *)(v70 + 24);
            LOBYTE(v71) = *(_BYTE *)(v70 + 8);
          }
          while ( (_BYTE)v71 == 16 );
          v72 = (unsigned __int8)v71 - 17;
        }
        if ( v72 <= 1 )
          LOBYTE(v71) = *(_BYTE *)(**(_QWORD **)(v70 + 16) + 8LL);
        if ( (unsigned __int8)v71 <= 3u || (_BYTE)v71 == 5 || (v71 & 0xFD) == 4 )
        {
LABEL_47:
          v74 = v198;
          if ( v197 )
            sub_B99FD0(v69, 3u, v197);
          sub_B45150(v69, v74);
        }
        break;
      default:
        break;
    }
  }
  (*((void (__fastcall **)(void **, __int64, _BYTE **, __int64, __int64))*v196 + 2))(v196, v69, v181, v192, v193);
  v75 = v188;
  v76 = &v188[4 * (unsigned int)v189];
  if ( v188 != v76 )
  {
    do
    {
      v77 = *((_QWORD *)v75 + 1);
      v78 = *v75;
      v75 += 4;
      sub_B99FD0(v69, v78, v77);
    }
    while ( v76 != v75 );
  }
  v181[0] = "next";
  v79 = -(__int64)(v178[0] == 0) | 1;
  v182 = 259;
  v80 = sub_BCB2E0(v194);
  v179 = (_BYTE *)sub_ACD640(v80, v79, 0);
  v81 = (__int64 (__fastcall *)(__int64, __int64, _BYTE *, _BYTE **, __int64, int))*((_QWORD *)*v195 + 8);
  if ( v81 == sub_920540 )
  {
    if ( sub_BCEA30(v167) )
      goto LABEL_89;
    if ( *(_BYTE *)v47 > 0x15u )
      goto LABEL_89;
    v82 = sub_36D1610(&v179, (__int64)&v180);
    if ( v83 != v82 )
      goto LABEL_89;
    LOBYTE(v187) = 0;
    v84 = (_QWORD *)sub_AD9FD0(v167, (unsigned __int8 *)v47, (__int64 *)&v179, 1, 0, (__int64)&v183, 0);
    if ( (_BYTE)v187 )
    {
      LOBYTE(v187) = 0;
      if ( v186 > 0x40 && v185 )
        j_j___libc_free_0_0((unsigned __int64)v185);
      if ( (unsigned int)v184 > 0x40 && v183 )
        j_j___libc_free_0_0((unsigned __int64)v183);
    }
  }
  else
  {
    v84 = (_QWORD *)v81((__int64)v195, v167, (_BYTE *)v47, &v179, 1, 0);
  }
  if ( v84 )
    goto LABEL_58;
LABEL_89:
  v187 = 257;
  v84 = sub_BD2C40(88, 2u);
  if ( !v84 )
    goto LABEL_92;
  v113 = *(_QWORD *)(v47 + 8);
  if ( (unsigned int)*(unsigned __int8 *)(v113 + 8) - 17 > 1 )
  {
    v118 = *((_QWORD *)v179 + 1);
    v119 = *(unsigned __int8 *)(v118 + 8);
    if ( v119 == 17 )
    {
      v120 = 0;
    }
    else
    {
      v120 = 1;
      if ( v119 != 18 )
        goto LABEL_91;
    }
    v141 = *(_DWORD *)(v118 + 32);
    BYTE4(v180) = v120;
    LODWORD(v180) = v141;
    v113 = sub_BCE1B0((__int64 *)v113, v180);
  }
LABEL_91:
  sub_B44260((__int64)v84, v113, 34, 2u, 0, 0);
  v84[9] = v167;
  v84[10] = sub_B4DC50(v167, (__int64)&v179, 1);
  sub_B4D9A0((__int64)v84, v47, (__int64 *)&v179, 1, (__int64)&v183);
LABEL_92:
  (*((void (__fastcall **)(void **, _QWORD *, _BYTE **, __int64, __int64))*v196 + 2))(v196, v84, v181, v192, v193);
  v114 = v188;
  v115 = &v188[4 * (unsigned int)v189];
  if ( v188 != v115 )
  {
    do
    {
      v116 = *((_QWORD *)v114 + 1);
      v117 = *v114;
      v114 += 4;
      sub_B99FD0((__int64)v84, v117, v116);
    }
    while ( v115 != v114 );
  }
LABEL_58:
  v183 = "end";
  v187 = 259;
  v85 = sub_2B22A00((__int64)&v188, v178[0] == 0 ? 36 : 32, (__int64)v84, v21, (__int64)&v183, 0);
  v86 = a1[10];
  if ( v86 )
    v86 -= 24;
  v87 = *(_DWORD *)(v47 + 4) & 0x7FFFFFF;
  if ( v87 == *(_DWORD *)(v47 + 72) )
  {
    sub_B48D90(v47);
    v87 = *(_DWORD *)(v47 + 4) & 0x7FFFFFF;
  }
  v88 = (v87 + 1) & 0x7FFFFFF;
  v89 = v88 | *(_DWORD *)(v47 + 4) & 0xF8000000;
  v90 = *(_QWORD *)(v47 - 8) + 32LL * (unsigned int)(v88 - 1);
  *(_DWORD *)(v47 + 4) = v89;
  if ( *(_QWORD *)v90 )
  {
    v91 = *(_QWORD *)(v90 + 8);
    **(_QWORD **)(v90 + 16) = v91;
    if ( v91 )
      *(_QWORD *)(v91 + 16) = *(_QWORD *)(v90 + 16);
  }
  *(_QWORD *)v90 = v169;
  if ( v169 )
  {
    v92 = *(_QWORD *)(v169 + 16);
    *(_QWORD *)(v90 + 8) = v92;
    if ( v92 )
      *(_QWORD *)(v92 + 16) = v90 + 8;
    *(_QWORD *)(v90 + 16) = v169 + 16;
    *(_QWORD *)(v169 + 16) = v90;
  }
  *(_QWORD *)(*(_QWORD *)(v47 - 8) + 32LL * *(unsigned int *)(v47 + 72)
                                   + 8LL * ((*(_DWORD *)(v47 + 4) & 0x7FFFFFFu) - 1)) = v86;
  v93 = *(_DWORD *)(v47 + 4) & 0x7FFFFFF;
  if ( v93 == *(_DWORD *)(v47 + 72) )
  {
    sub_B48D90(v47);
    v93 = *(_DWORD *)(v47 + 4) & 0x7FFFFFF;
  }
  v94 = (v93 + 1) & 0x7FFFFFF;
  v95 = v94 | *(_DWORD *)(v47 + 4) & 0xF8000000;
  v96 = *(_QWORD *)(v47 - 8) + 32LL * (unsigned int)(v94 - 1);
  *(_DWORD *)(v47 + 4) = v95;
  if ( *(_QWORD *)v96 )
  {
    v97 = *(_QWORD *)(v96 + 8);
    **(_QWORD **)(v96 + 16) = v97;
    if ( v97 )
      *(_QWORD *)(v97 + 16) = *(_QWORD *)(v96 + 16);
  }
  *(_QWORD *)v96 = v84;
  if ( v84 )
  {
    v98 = v84[2];
    *(_QWORD *)(v96 + 8) = v98;
    if ( v98 )
      *(_QWORD *)(v98 + 16) = v96 + 8;
    *(_QWORD *)(v96 + 16) = v84 + 2;
    v84[2] = v96;
  }
  *(_QWORD *)(*(_QWORD *)(v47 - 8) + 32LL * *(unsigned int *)(v47 + 72)
                                   + 8LL * ((*(_DWORD *)(v47 + 4) & 0x7FFFFFFu) - 1)) = v174;
  v187 = 257;
  v99 = sub_BD2C40(72, 3u);
  v101 = (__int64)v99;
  if ( v99 )
    sub_B4C9A0((__int64)v99, v175, v174, v85, 3u, v100, 0, 0);
  (*((void (__fastcall **)(void **, __int64, char **, __int64, __int64))*v196 + 2))(v196, v101, &v183, v192, v193);
  v102 = v188;
  v103 = &v188[4 * (unsigned int)v189];
  if ( v188 != v103 )
  {
    do
    {
      v104 = *((_QWORD *)v102 + 1);
      v105 = *v102;
      v102 += 4;
      sub_B99FD0(v101, v105, v104);
    }
    while ( v103 != v102 );
  }
  LOWORD(v193) = 0;
  v106 = v194;
  v191 = v175;
  v192 = v175 + 48;
  v187 = 257;
  v107 = sub_BD2C40(72, 0);
  v108 = (__int64)v107;
  if ( v107 )
    sub_B4BB80((__int64)v107, (__int64)v106, 0, 0, 0, 0);
  (*((void (__fastcall **)(void **, __int64, char **, __int64, __int64))*v196 + 2))(v196, v108, &v183, v192, v193);
  v109 = v188;
  v110 = &v188[4 * (unsigned int)v189];
  if ( v188 != v110 )
  {
    do
    {
      v111 = *((_QWORD *)v109 + 1);
      v112 = *v109;
      v109 += 4;
      sub_B99FD0(v108, v112, v111);
    }
    while ( v110 != v109 );
  }
  nullsub_61();
  v203 = &unk_49DA100;
  nullsub_63();
  if ( v188 != (unsigned int *)v190 )
    _libc_free((unsigned __int64)v188);
}
