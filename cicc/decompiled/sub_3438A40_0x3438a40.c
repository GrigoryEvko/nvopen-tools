// Function: sub_3438A40
// Address: 0x3438a40
//
void __fastcall sub_3438A40(__int64 a1, __int64 a2, __int64 a3, __int64 a4, __int64 a5, __int64 a6, __m128i a7)
{
  _BYTE *v8; // rdi
  __int64 v9; // rcx
  __int64 *v10; // rbx
  __int64 *i; // r8
  __int64 v12; // rax
  __m128i v13; // rax
  __int64 v14; // rcx
  __int64 v15; // r8
  __int64 v16; // r9
  __int64 v17; // rax
  __m128i v18; // rax
  __int64 v19; // rcx
  __int64 v20; // r8
  __int64 v21; // r9
  __int64 *v22; // r13
  __int64 v23; // rax
  __int64 *v24; // r12
  __int64 v25; // rsi
  __int64 *v26; // r13
  __int64 v27; // r12
  __int64 v28; // rsi
  __int64 *v29; // r13
  __int64 *v30; // rbx
  __int64 v31; // r14
  __int64 v32; // r12
  __int64 v33; // rax
  unsigned int v34; // edx
  __int64 v35; // rax
  __int64 *v36; // r12
  __int64 *k; // rbx
  __int64 v38; // r14
  unsigned __int64 v39; // rax
  int v40; // edx
  int v41; // ecx
  int v42; // edx
  int v43; // r8d
  int v44; // r10d
  unsigned int m; // edx
  __int64 v46; // r9
  unsigned int v47; // edx
  __int64 *v48; // r12
  __int64 v49; // rbx
  __int64 v50; // r14
  unsigned __int64 v51; // rax
  int v52; // edx
  int v53; // ecx
  int v54; // edx
  int v55; // r8d
  int v56; // r10d
  unsigned int n; // edx
  __int64 v58; // r9
  unsigned int v59; // edx
  _QWORD *v60; // rbx
  _BYTE *v61; // r13
  unsigned __int64 v62; // r12
  int v63; // r14d
  __int64 v64; // r12
  __int64 v65; // rdi
  unsigned int v66; // esi
  __int64 (__fastcall *v67)(__int64, __int64, unsigned int); // rax
  int v68; // edx
  __int16 v69; // ax
  unsigned int v70; // ecx
  unsigned __int64 v71; // r14
  unsigned int v72; // edx
  __int64 v73; // rax
  unsigned int v74; // edx
  __int64 v75; // rax
  unsigned int v76; // edx
  __int64 kk; // rdx
  __int64 v78; // rcx
  __int64 v79; // r8
  __int64 v80; // r9
  char *v81; // rbx
  unsigned __int64 v82; // r10
  int v83; // edx
  int v84; // r8d
  int v85; // edx
  unsigned int jj; // eax
  __int64 v87; // r9
  unsigned int v88; // eax
  unsigned int v89; // edx
  unsigned __int64 v90; // rax
  int v91; // edx
  int v92; // ecx
  int v93; // r13d
  int v94; // ecx
  int v95; // r11d
  unsigned int ii; // edx
  __int64 v97; // rdi
  unsigned int v98; // edx
  _QWORD *v99; // rax
  __int64 *v100; // rbx
  __int64 v101; // r12
  unsigned int v102; // r13d
  __int64 v103; // r14
  int v104; // eax
  __int64 v105; // r10
  __int64 v106; // rdi
  unsigned int v107; // esi
  __int64 (__fastcall *v108)(__int64, __int64, unsigned int); // rax
  _DWORD *v109; // rax
  _QWORD *v110; // r10
  int v111; // edx
  __int16 v112; // ax
  __int64 v113; // r8
  __int64 v114; // r9
  _QWORD *v115; // r10
  __int64 v116; // rax
  __int64 v117; // rdx
  __int64 v118; // r11
  unsigned __int64 v119; // rdx
  _QWORD *v120; // rax
  __int64 v121; // rax
  unsigned __int64 v122; // rax
  __int64 v123; // r9
  __int64 v124; // rdx
  __int64 v125; // rdx
  __int64 v126; // r8
  __int64 v127; // r9
  __int32 v128; // ebx
  __int64 v129; // rdi
  const void *v130; // r13
  unsigned __int64 v131; // rdx
  size_t v132; // r12
  int v133; // edx
  __int64 v134; // rax
  __int64 v135; // rsi
  __int64 v136; // rax
  __int64 v137; // rbx
  unsigned __int64 v138; // rax
  int v139; // edx
  __int64 v140; // r10
  unsigned __int64 v141; // r12
  int v142; // r13d
  int v143; // r11d
  int v144; // r9d
  int v145; // r14d
  __int64 v146; // rax
  int v147; // r14d
  unsigned int mm; // ecx
  __int64 *v149; // rdx
  __int64 v150; // r15
  unsigned int v151; // ecx
  unsigned __int64 v152; // rax
  int v153; // edx
  int v154; // ecx
  int v155; // edi
  int v156; // ecx
  int v157; // r10d
  unsigned int j; // edx
  __int64 v159; // r9
  __int64 v160; // r8
  unsigned int v161; // edx
  __int64 v162; // rsi
  unsigned int v163; // eax
  unsigned __int8 *v164; // r12
  __int64 v165; // rax
  unsigned __int8 *v166; // rdx
  unsigned __int8 *v167; // r13
  unsigned __int8 **v168; // rax
  unsigned __int64 v169; // rax
  int v170; // edx
  __int64 v171; // r11
  unsigned __int64 v172; // r12
  int v173; // r13d
  int v174; // r14d
  __int64 v175; // rax
  int v176; // r14d
  unsigned int v177; // edi
  __int64 v178; // rcx
  __int64 v179; // rsi
  unsigned int v180; // eax
  __int64 v181; // r8
  __int64 v182; // r9
  unsigned __int8 *v183; // r12
  __int64 v184; // rax
  unsigned __int8 *v185; // rdx
  unsigned __int8 *v186; // r13
  unsigned __int8 **v187; // rax
  unsigned __int64 v188; // rbx
  unsigned __int64 v189; // rdi
  __int64 v190; // rdi
  __int64 v191; // r8
  unsigned int v192; // eax
  int v193; // eax
  unsigned __int64 v194; // rax
  __int64 v195; // rax
  int v196; // ebx
  __int64 v197; // r12
  __int64 v198; // rax
  __int64 v199; // r8
  int v200; // r9d
  unsigned int i1; // edx
  unsigned int v202; // edx
  __int64 v203; // r8
  int v204; // r9d
  unsigned int i3; // edx
  unsigned int v206; // edx
  unsigned int v207; // edx
  int v208; // edi
  int v209; // ecx
  int v210; // r9d
  int v211; // r8d
  int v212; // r8d
  __int64 v213; // rdx
  unsigned int i2; // r14d
  unsigned int v215; // r14d
  int v216; // edi
  unsigned int nn; // r14d
  unsigned int v218; // r14d
  int v219; // ecx
  int v220; // ecx
  int v221; // ecx
  int v222; // esi
  __int64 v223; // [rsp-10h] [rbp-470h]
  __int64 v224; // [rsp-8h] [rbp-468h]
  __int16 v225; // [rsp+Ah] [rbp-456h]
  __int64 *v227; // [rsp+28h] [rbp-438h]
  __int16 v228; // [rsp+3Ah] [rbp-426h]
  __int64 v229; // [rsp+40h] [rbp-420h]
  const void *v230; // [rsp+40h] [rbp-420h]
  int v231; // [rsp+40h] [rbp-420h]
  int v232; // [rsp+40h] [rbp-420h]
  int v233; // [rsp+40h] [rbp-420h]
  __int64 v235; // [rsp+50h] [rbp-410h]
  _QWORD *v236; // [rsp+50h] [rbp-410h]
  int v237; // [rsp+50h] [rbp-410h]
  __int64 *v238; // [rsp+50h] [rbp-410h]
  __int64 v239; // [rsp+50h] [rbp-410h]
  int v240; // [rsp+50h] [rbp-410h]
  __int64 v241; // [rsp+50h] [rbp-410h]
  __int16 v242; // [rsp+5Ah] [rbp-406h]
  __int16 v243; // [rsp+62h] [rbp-3FEh]
  __int64 v245; // [rsp+68h] [rbp-3F8h]
  __int64 v246; // [rsp+68h] [rbp-3F8h]
  int v247; // [rsp+68h] [rbp-3F8h]
  __int64 v248; // [rsp+68h] [rbp-3F8h]
  __int64 v249; // [rsp+68h] [rbp-3F8h]
  __int64 v250; // [rsp+70h] [rbp-3F0h]
  __int64 v251; // [rsp+70h] [rbp-3F0h]
  __int64 v252; // [rsp+70h] [rbp-3F0h]
  char *v253; // [rsp+70h] [rbp-3F0h]
  _QWORD *v254; // [rsp+70h] [rbp-3F0h]
  unsigned int v255; // [rsp+70h] [rbp-3F0h]
  _QWORD *v256; // [rsp+70h] [rbp-3F0h]
  unsigned __int64 v257; // [rsp+70h] [rbp-3F0h]
  __int64 v258; // [rsp+78h] [rbp-3E8h]
  __int64 v260; // [rsp+80h] [rbp-3E0h]
  int v262; // [rsp+B0h] [rbp-3B0h] BYREF
  int v263; // [rsp+B4h] [rbp-3ACh] BYREF
  unsigned __int64 *v264; // [rsp+B8h] [rbp-3A8h] BYREF
  __int64 v265; // [rsp+C0h] [rbp-3A0h] BYREF
  int v266; // [rsp+C8h] [rbp-398h]
  __int64 v267; // [rsp+D0h] [rbp-390h] BYREF
  __int64 v268; // [rsp+D8h] [rbp-388h]
  __int64 v269; // [rsp+E0h] [rbp-380h]
  unsigned int v270; // [rsp+E8h] [rbp-378h]
  _QWORD v271[8]; // [rsp+F0h] [rbp-370h] BYREF
  unsigned __int64 v272[2]; // [rsp+130h] [rbp-330h] BYREF
  _BYTE v273[136]; // [rsp+140h] [rbp-320h] BYREF
  int v274; // [rsp+1C8h] [rbp-298h] BYREF
  unsigned __int64 v275; // [rsp+1D0h] [rbp-290h]
  int *v276; // [rsp+1D8h] [rbp-288h]
  int *v277; // [rsp+1E0h] [rbp-280h]
  __int64 v278; // [rsp+1E8h] [rbp-278h]
  __m128i src; // [rsp+1F0h] [rbp-270h] BYREF
  _BYTE v280[256]; // [rsp+200h] [rbp-260h] BYREF
  __int64 v281; // [rsp+300h] [rbp-160h] BYREF
  _QWORD *v282; // [rsp+308h] [rbp-158h]
  __int64 v283; // [rsp+310h] [rbp-150h]
  __int64 v284; // [rsp+318h] [rbp-148h]
  char *v285; // [rsp+320h] [rbp-140h] BYREF
  __int64 v286; // [rsp+328h] [rbp-138h]
  _BYTE v287[304]; // [rsp+330h] [rbp-130h] BYREF

  v229 = *(_QWORD *)(a5 + 4888) & 2LL;
  v262 = qword_5039EE8;
  v272[0] = (unsigned __int64)v273;
  v272[1] = 0x800000000LL;
  v274 = 0;
  v275 = 0;
  v276 = &v274;
  v277 = &v274;
  v278 = 0;
  if ( !(_BYTE)qword_5039FC8 )
  {
    v8 = *(_BYTE **)(a5 + 448);
    if ( v8 )
    {
      if ( *v8 == 34 )
      {
        v9 = sub_B4B0F0((__int64)v8);
        v10 = *(__int64 **)(a5 + 288);
        for ( i = &v10[*(unsigned int *)(a5 + 296)]; i != v10; ++v10 )
        {
          if ( v9 == *(_QWORD *)(*v10 - 32LL * (*(_DWORD *)(*v10 + 4) & 0x7FFFFFF)) )
          {
            v227 = i;
            v235 = v9;
            v250 = *v10;
            v12 = sub_B5B740(*v10);
            v13.m128i_i64[0] = sub_338B750(a6, v12);
            src = v13;
            sub_3437920((__int64)&v281, (__int64)v272, &src, v14, v15, v16);
            v17 = sub_B5B890(v250);
            v18.m128i_i64[0] = sub_338B750(a6, v17);
            src = v18;
            sub_3437920((__int64)&v281, (__int64)v272, &src, v19, v20, v21);
            i = v227;
            v9 = v235;
          }
        }
      }
    }
  }
  v264 = v272;
  v285 = v287;
  v286 = 0x1000000000LL;
  v271[2] = &v267;
  v281 = 0;
  v271[3] = a4;
  v271[4] = &v262;
  v271[5] = &v264;
  v271[6] = &v263;
  v282 = 0;
  v22 = *(__int64 **)(a5 + 144);
  v23 = *(unsigned int *)(a5 + 152);
  v283 = 0;
  v284 = 0;
  v24 = &v22[v23];
  v267 = 0;
  v268 = 0;
  v269 = 0;
  v270 = 0;
  v263 = 0;
  v271[0] = a6;
  v271[1] = &v281;
  while ( v24 != v22 )
  {
    v25 = *v22++;
    sub_3437FC0((__int64)v271, v25);
  }
  v26 = *(__int64 **)a5;
  v27 = *(_QWORD *)a5 + 8LL * *(unsigned int *)(a5 + 8);
  if ( *(_QWORD *)a5 != v27 )
  {
    do
    {
      v28 = *v26++;
      sub_3437FC0((__int64)v271, v28);
    }
    while ( (__int64 *)v27 != v26 );
  }
  v29 = *(__int64 **)(a5 + 4872);
  v30 = &v29[4 * *(_QWORD *)(a5 + 4880)];
  if ( v29 != v30 )
  {
    while ( 1 )
    {
      v31 = *v29;
      v32 = *(_QWORD *)(*(_QWORD *)(a6 + 864) + 16LL);
      v33 = sub_338B750(a6, *v29);
      v35 = *(unsigned __int16 *)(*(_QWORD *)(v33 + 48) + 16LL * v34);
      if ( !(_WORD)v35 || !*(_QWORD *)(v32 + 8 * v35 + 112) )
        goto LABEL_15;
      if ( (unsigned __int8)sub_34337D0(*(_QWORD *)(v31 + 8), a6) )
        break;
      if ( v229 )
        goto LABEL_16;
      if ( (_BYTE)qword_503A0A8 )
      {
        v29 += 4;
        if ( v30 == v29 )
          goto LABEL_23;
      }
      else
      {
LABEL_15:
        sub_34361F0(v31, a6);
LABEL_16:
        v29 += 4;
        if ( v30 == v29 )
          goto LABEL_23;
      }
    }
    v152 = sub_338B750(a6, v31);
    v154 = *(_DWORD *)(a4 + 24);
    if ( !v154 )
      goto LABEL_15;
    v155 = v153;
    v156 = v154 - 1;
    v157 = 1;
    for ( j = v156 & (v153 + ((v152 >> 9) ^ (v152 >> 4))); ; j = v156 & v161 )
    {
      v159 = *(_QWORD *)(a4 + 8) + 24LL * j;
      v160 = *(_QWORD *)v159;
      if ( v152 == *(_QWORD *)v159 )
      {
        if ( v155 == *(_DWORD *)(v159 + 8) )
          goto LABEL_16;
        if ( v160 )
          goto LABEL_132;
      }
      else if ( v160 )
      {
        goto LABEL_132;
      }
      if ( *(_DWORD *)(v159 + 8) == -1 )
        goto LABEL_15;
LABEL_132:
      v161 = v157 + j;
      ++v157;
    }
  }
LABEL_23:
  v36 = *(__int64 **)(a5 + 144);
  for ( k = &v36[*(unsigned int *)(a5 + 152)]; k != v36; ++v36 )
  {
    v38 = *v36;
    v39 = sub_338B750(a6, *v36);
    v41 = v40;
    v42 = *(_DWORD *)(a4 + 24);
    if ( v42 )
    {
      v43 = v42 - 1;
      v44 = 1;
      for ( m = (v42 - 1) & (v41 + ((v39 >> 9) ^ (v39 >> 4))); ; m = v43 & v47 )
      {
        v46 = *(_QWORD *)(a4 + 8) + 24LL * m;
        if ( v39 == *(_QWORD *)v46 && v41 == *(_DWORD *)(v46 + 8) )
          break;
        if ( !*(_QWORD *)v46 && *(_DWORD *)(v46 + 8) == -1 )
          goto LABEL_30;
        v47 = v44 + m;
        ++v44;
      }
    }
    else
    {
LABEL_30:
      sub_34361F0(v38, a6);
    }
  }
  v48 = *(__int64 **)a5;
  v49 = *(_QWORD *)a5 + 8LL * *(unsigned int *)(a5 + 8);
  if ( v49 != *(_QWORD *)a5 )
  {
    do
    {
      v50 = *v48;
      v51 = sub_338B750(a6, *v48);
      v53 = v52;
      v54 = *(_DWORD *)(a4 + 24);
      if ( v54 )
      {
        v55 = v54 - 1;
        v56 = 1;
        for ( n = (v54 - 1) & (v53 + ((v51 >> 9) ^ (v51 >> 4))); ; n = v55 & v59 )
        {
          v58 = *(_QWORD *)(a4 + 8) + 24LL * n;
          if ( v51 == *(_QWORD *)v58 && v53 == *(_DWORD *)(v58 + 8) )
            break;
          if ( !*(_QWORD *)v58 && *(_DWORD *)(v58 + 8) == -1 )
            goto LABEL_39;
          v59 = v56 + n;
          ++v56;
        }
      }
      else
      {
LABEL_39:
        sub_34361F0(v50, a6);
      }
      ++v48;
    }
    while ( (__int64 *)v49 != v48 );
  }
  sub_3433B90(a1, (__int64 *)a6, *(int *)(a5 + 4880), a7);
  v60 = *(_QWORD **)(a5 + 4872);
  v236 = &v60[4 * *(_QWORD *)(a5 + 4880)];
  while ( v236 != v60 )
  {
    v61 = (_BYTE *)*v60;
    v62 = 0;
    if ( *(_BYTE *)*v60 != 22 )
      goto LABEL_67;
    v63 = sub_374D370(*(_QWORD *)(a6 + 960), *v60);
    if ( v63 == 0x7FFFFFFF )
      goto LABEL_67;
    v64 = *(_QWORD *)(a6 + 864);
    v251 = *(_QWORD *)(v64 + 16);
    v65 = sub_2E79000(*(__int64 **)(v64 + 40));
    v66 = *(_DWORD *)(v65 + 4);
    v67 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int))(*(_QWORD *)v251 + 32LL);
    if ( v67 == sub_2D42F30 )
    {
      v68 = sub_AE2980(v65, v66)[1];
      v69 = 2;
      if ( v68 != 1 )
      {
        v69 = 3;
        if ( v68 != 2 )
        {
          v69 = 4;
          if ( v68 != 4 )
          {
            v69 = 5;
            if ( v68 != 8 )
            {
              v69 = 6;
              if ( v68 != 16 )
              {
                v69 = 7;
                if ( v68 != 32 )
                {
                  v69 = 8;
                  if ( v68 != 64 )
                    v69 = 9 * (v68 == 128);
                }
              }
            }
          }
        }
      }
    }
    else
    {
      v69 = v67(v251, v65, v66);
    }
    HIWORD(v70) = v228;
    LOWORD(v70) = v69;
    v71 = (unsigned __int64)sub_33EDBD0((_QWORD *)v64, v63, v70, 0, 0);
    v62 = v72;
    if ( !v71 )
    {
LABEL_67:
      v71 = sub_338B750(a6, (__int64)v61);
      v62 = v89 | v62 & 0xFFFFFFFF00000000LL;
    }
    v252 = *(_QWORD *)(*(_QWORD *)(a6 + 864) + 16LL);
    v73 = sub_338B750(a6, (__int64)v61);
    v75 = *(unsigned __int16 *)(*(_QWORD *)(v73 + 48) + 16LL * v74);
    if ( (_WORD)v75 && *(_QWORD *)(v252 + 8 * v75 + 112) )
    {
      if ( !(unsigned __int8)sub_34337D0(*((_QWORD *)v61 + 1), a6) )
      {
        v76 = 0;
        if ( !v229 )
          v76 = (unsigned __int8)qword_503A0A8 ^ 1;
        goto LABEL_59;
      }
      v90 = sub_338B750(a6, (__int64)v61);
      v92 = *(_DWORD *)(a4 + 24);
      if ( v92 )
      {
        v93 = v91;
        v94 = v92 - 1;
        v95 = 1;
        for ( ii = v94 & (v91 + ((v90 >> 9) ^ (v90 >> 4))); ; ii = v94 & v207 )
        {
          v97 = *(_QWORD *)(a4 + 8) + 24LL * ii;
          if ( v90 == *(_QWORD *)v97 && v93 == *(_DWORD *)(v97 + 8) )
            break;
          if ( !*(_QWORD *)v97 && *(_DWORD *)(v97 + 8) == -1 )
            goto LABEL_73;
          v207 = v95 + ii;
          ++v95;
        }
        v76 = 0;
        goto LABEL_59;
      }
    }
LABEL_73:
    v76 = 1;
LABEL_59:
    v60 += 4;
    sub_3434B20(v71, v62, v76, a1, a2, a6, a7);
  }
  sub_3433B90(a1, (__int64 *)a6, (unsigned int)v286, a7);
  v81 = v285;
  if ( &v285[16 * (unsigned int)v286] != v285 )
  {
    v253 = &v285[16 * (unsigned int)v286];
    do
    {
      v82 = *(_QWORD *)v81;
      v83 = *(_DWORD *)(a4 + 24);
      v84 = *((_DWORD *)v81 + 2);
      if ( v83 )
      {
        v85 = v83 - 1;
        v237 = 1;
        for ( jj = v85 & (v84 + ((v82 >> 9) ^ (v82 >> 4))); ; jj = v85 & v88 )
        {
          v87 = *(_QWORD *)(a4 + 8) + 24LL * jj;
          if ( *(_QWORD *)v81 == *(_QWORD *)v87 && v84 == *(_DWORD *)(v87 + 8) )
            break;
          if ( !*(_QWORD *)v87 && *(_DWORD *)(v87 + 8) == -1 )
            goto LABEL_127;
          v88 = v237 + jj;
          ++v237;
        }
        v98 = 0;
      }
      else
      {
LABEL_127:
        v98 = 1;
      }
      sub_3434B20(v82, *((_QWORD *)v81 + 1), v98, a1, a2, a6, a7);
      v81 += 16;
    }
    while ( v253 != v81 );
  }
  ++v281;
  if ( (_DWORD)v283 )
  {
    v78 = (unsigned int)(4 * v283);
    kk = (unsigned int)v284;
    if ( (unsigned int)v78 < 0x40 )
      v78 = 64;
    if ( (unsigned int)v78 >= (unsigned int)v284 )
      goto LABEL_80;
    v190 = (__int64)v282;
    v191 = 2LL * (unsigned int)v284;
    if ( (_DWORD)v283 == 1 )
    {
      v197 = 2048;
      v196 = 128;
    }
    else
    {
      _BitScanReverse(&v192, v283 - 1);
      v78 = 33 - (v192 ^ 0x1F);
      v193 = 1 << (33 - (v192 ^ 0x1F));
      if ( v193 < 64 )
        v193 = 64;
      if ( v193 == (_DWORD)v284 )
      {
        v283 = 0;
        v79 = (__int64)&v282[v191];
        do
        {
          if ( v190 )
          {
            *(_QWORD *)v190 = 0;
            *(_DWORD *)(v190 + 8) = -1;
          }
          v190 += 16;
        }
        while ( v79 != v190 );
        goto LABEL_83;
      }
      v194 = (4 * v193 / 3u + 1) | ((unsigned __int64)(4 * v193 / 3u + 1) >> 1);
      v195 = ((((v194 >> 2) | v194 | (((v194 >> 2) | v194) >> 4)) >> 8)
            | (v194 >> 2)
            | v194
            | (((v194 >> 2) | v194) >> 4)
            | (((((v194 >> 2) | v194 | (((v194 >> 2) | v194) >> 4)) >> 8)
              | (v194 >> 2)
              | v194
              | (((v194 >> 2) | v194) >> 4)) >> 16))
           + 1;
      v196 = v195;
      v197 = 16 * v195;
    }
    sub_C7D6A0((__int64)v282, v191 * 8, 8);
    LODWORD(v284) = v196;
    v198 = sub_C7D670(v197, 8);
    v283 = 0;
    v282 = (_QWORD *)v198;
    for ( kk = v198 + 16LL * (unsigned int)v284; kk != v198; v198 += 16 )
    {
      if ( v198 )
      {
        *(_QWORD *)v198 = 0;
        *(_DWORD *)(v198 + 8) = -1;
      }
    }
  }
  else if ( HIDWORD(v283) )
  {
    kk = (unsigned int)v284;
    if ( (unsigned int)v284 <= 0x40 )
    {
LABEL_80:
      v99 = v282;
      kk = (__int64)&v282[2 * kk];
      if ( v282 != (_QWORD *)kk )
      {
        do
        {
          *v99 = 0;
          v99 += 2;
          *((_DWORD *)v99 - 2) = -1;
        }
        while ( (_QWORD *)kk != v99 );
      }
      v283 = 0;
      goto LABEL_83;
    }
    sub_C7D6A0((__int64)v282, 16LL * (unsigned int)v284, 8);
    v282 = 0;
    v283 = 0;
    LODWORD(v284) = 0;
  }
LABEL_83:
  src.m128i_i64[0] = (__int64)v280;
  src.m128i_i64[1] = 0x1000000000LL;
  if ( (_DWORD)v286 )
    sub_3433670((__int64)&src, &v285, kk, v78, v79, v80);
  sub_3433670(a3, (char **)&src, kk, v78, v79, v80);
  if ( (_BYTE *)src.m128i_i64[0] != v280 )
    _libc_free(src.m128i_u64[0]);
  src.m128i_i64[0] = (__int64)v280;
  src.m128i_i64[1] = 0x400000000LL;
  v100 = *(__int64 **)(a5 + 432);
  v238 = &v100[4 * *(_QWORD *)(a5 + 440)];
  if ( v238 == v100 )
  {
    v125 = 0;
  }
  else
  {
    v101 = a2;
    HIWORD(v102) = v225;
    v230 = (const void *)(a2 + 16);
    do
    {
      while ( 1 )
      {
        v103 = sub_338B750(a6, *v100);
        v104 = *(_DWORD *)(v103 + 24);
        if ( v104 == 15 || v104 == 39 )
          break;
        v100 += 4;
        if ( v238 == v100 )
          goto LABEL_106;
      }
      v105 = *(_QWORD *)(a6 + 864);
      v254 = (_QWORD *)v105;
      v245 = *(_QWORD *)(v105 + 16);
      v106 = sub_2E79000(*(__int64 **)(v105 + 40));
      v107 = *(_DWORD *)(v106 + 4);
      v108 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int))(*(_QWORD *)v245 + 32LL);
      if ( v108 == sub_2D42F30 )
      {
        v109 = sub_AE2980(v106, v107);
        v110 = v254;
        v111 = v109[1];
        v112 = 2;
        if ( v111 != 1 )
        {
          v112 = 3;
          if ( v111 != 2 )
          {
            v112 = 4;
            if ( v111 != 4 )
            {
              v112 = 5;
              if ( v111 != 8 )
              {
                v112 = 6;
                if ( v111 != 16 )
                {
                  v112 = 7;
                  if ( v111 != 32 )
                  {
                    v112 = 8;
                    if ( v111 != 64 )
                      v112 = 9 * (v111 == 128);
                  }
                }
              }
            }
          }
        }
      }
      else
      {
        v112 = v108(v245, v106, v107);
        v110 = v254;
      }
      LOWORD(v102) = v112;
      v115 = sub_33EDBD0(v110, *(_DWORD *)(v103 + 96), v102, 0, 1);
      v116 = src.m128i_u32[2];
      v118 = v117;
      v119 = src.m128i_u32[2] + 1LL;
      if ( v119 > src.m128i_u32[3] )
      {
        v256 = v115;
        v258 = v118;
        sub_C8D5F0((__int64)&src, v280, v119, 0x10u, v113, v114);
        v116 = src.m128i_u32[2];
        v115 = v256;
        v118 = v258;
      }
      v120 = (_QWORD *)(src.m128i_i64[0] + 16 * v116);
      *v120 = v115;
      v120[1] = v118;
      v121 = *(_QWORD *)(a6 + 864);
      ++src.m128i_i32[2];
      v122 = sub_34335B0(*(_QWORD **)(v121 + 40), v103);
      v124 = *(unsigned int *)(v101 + 8);
      if ( v124 + 1 > (unsigned __int64)*(unsigned int *)(v101 + 12) )
      {
        v257 = v122;
        sub_C8D5F0(v101, v230, v124 + 1, 8u, v124 + 1, v123);
        v124 = *(unsigned int *)(v101 + 8);
        v122 = v257;
      }
      v100 += 4;
      *(_QWORD *)(*(_QWORD *)v101 + 8 * v124) = v122;
      ++*(_DWORD *)(v101 + 8);
    }
    while ( v238 != v100 );
LABEL_106:
    v125 = src.m128i_u32[2];
  }
  sub_3433B90(a1, (__int64 *)a6, v125, a7);
  v128 = src.m128i_i32[2];
  v129 = *(unsigned int *)(a1 + 8);
  v130 = (const void *)src.m128i_i64[0];
  v131 = src.m128i_u32[2] + v129;
  v132 = 16LL * src.m128i_u32[2];
  if ( v131 > *(unsigned int *)(a1 + 12) )
  {
    sub_C8D5F0(a1, (const void *)(a1 + 16), v131, 0x10u, v126, v127);
    v129 = *(unsigned int *)(a1 + 8);
  }
  if ( v132 )
  {
    memcpy((void *)(*(_QWORD *)a1 + 16 * v129), v130, v132);
    LODWORD(v129) = *(_DWORD *)(a1 + 8);
  }
  *(_DWORD *)(a1 + 8) = v128 + v129;
  sub_3433B90(a1, (__int64 *)a6, *(unsigned int *)(a5 + 152), a7);
  v133 = *(_DWORD *)(a6 + 848);
  v134 = *(_QWORD *)a6;
  v265 = 0;
  v266 = v133;
  if ( v134 )
  {
    if ( &v265 != (__int64 *)(v134 + 48) )
    {
      v135 = *(_QWORD *)(v134 + 48);
      v265 = v135;
      if ( v135 )
        sub_B96E90((__int64)&v265, v135, 1);
    }
  }
  v136 = 0;
  v255 = 0;
  if ( !*(_DWORD *)(a5 + 152) )
    goto LABEL_148;
  v137 = a1;
  v260 = a6;
  do
  {
    v246 = 8 * v136;
    v138 = sub_338B750(v260, *(_QWORD *)(*(_QWORD *)a5 + 8 * v136));
    v140 = *(_QWORD *)(v260 + 864);
    v141 = v138;
    v142 = v139;
    v143 = v139;
    if ( !v270 )
    {
      ++v267;
      goto LABEL_174;
    }
    v144 = 1;
    v145 = (v138 >> 9) ^ (v138 >> 4);
    v146 = 0;
    v147 = v139 + v145;
    for ( mm = (v270 - 1) & v147; ; mm = (v270 - 1) & v151 )
    {
      v149 = (__int64 *)(v268 + 24LL * mm);
      v150 = *v149;
      if ( *v149 == v141 && v143 == *((_DWORD *)v149 + 2) )
      {
        v162 = *((unsigned int *)v149 + 4);
        goto LABEL_136;
      }
      if ( !v150 )
        break;
LABEL_121:
      v151 = v144 + mm;
      ++v144;
    }
    v211 = *((_DWORD *)v149 + 2);
    if ( v211 != -1 )
    {
      if ( v211 == -2 && !v146 )
        v146 = v268 + 24LL * mm;
      goto LABEL_121;
    }
    if ( !v146 )
      v146 = v268 + 24LL * mm;
    ++v267;
    v209 = v269 + 1;
    if ( 4 * ((int)v269 + 1) < 3 * v270 )
    {
      if ( v270 - HIDWORD(v269) - v209 <= v270 >> 3 )
      {
        v233 = v143;
        v241 = v140;
        sub_3437080((__int64)&v267, v270);
        if ( v270 )
        {
          v140 = v241;
          v216 = 1;
          for ( nn = (v270 - 1) & v147; ; nn = (v270 - 1) & v218 )
          {
            v146 = v268 + 24LL * nn;
            if ( *(_QWORD *)v146 == v141 && v233 == *(_DWORD *)(v146 + 8) )
              break;
            if ( !*(_QWORD *)v146 )
            {
              v221 = *(_DWORD *)(v146 + 8);
              if ( v221 == -1 )
              {
                if ( v150 )
                  v146 = v150;
                v209 = v269 + 1;
                goto LABEL_199;
              }
              if ( !v150 && v221 == -2 )
                v150 = v268 + 24LL * nn;
            }
            v218 = v216 + nn;
            ++v216;
          }
          goto LABEL_198;
        }
LABEL_279:
        LODWORD(v269) = v269 + 1;
        BUG();
      }
      goto LABEL_199;
    }
LABEL_174:
    v231 = v143;
    v239 = v140;
    sub_3437080((__int64)&v267, 2 * v270);
    if ( !v270 )
      goto LABEL_279;
    v199 = 0;
    v140 = v239;
    v200 = 1;
    for ( i1 = (v270 - 1) & (v142 + ((v141 >> 9) ^ (v141 >> 4))); ; i1 = (v270 - 1) & v202 )
    {
      v146 = v268 + 24LL * i1;
      if ( *(_QWORD *)v146 == v141 && v231 == *(_DWORD *)(v146 + 8) )
        break;
      if ( !*(_QWORD *)v146 )
      {
        v220 = *(_DWORD *)(v146 + 8);
        if ( v220 == -1 )
        {
          if ( v199 )
            v146 = v199;
          v209 = v269 + 1;
          goto LABEL_199;
        }
        if ( !v199 && v220 == -2 )
          v199 = v268 + 24LL * i1;
      }
      v202 = v200 + i1;
      ++v200;
    }
LABEL_198:
    v209 = v269 + 1;
LABEL_199:
    LODWORD(v269) = v209;
    if ( *(_QWORD *)v146 || *(_DWORD *)(v146 + 8) != -1 )
      --HIDWORD(v269);
    *(_QWORD *)v146 = v141;
    v162 = 0;
    *(_DWORD *)(v146 + 8) = v142;
    *(_DWORD *)(v146 + 16) = 0;
LABEL_136:
    HIWORD(v163) = v243;
    LOWORD(v163) = 8;
    v164 = sub_3400BD0(v140, v162, (__int64)&v265, v163, 0, 1u, a7, 0);
    v165 = *(unsigned int *)(v137 + 8);
    v167 = v166;
    if ( v165 + 1 > (unsigned __int64)*(unsigned int *)(v137 + 12) )
    {
      sub_C8D5F0(v137, (const void *)(v137 + 16), v165 + 1, 0x10u, v223, v224);
      v165 = *(unsigned int *)(v137 + 8);
    }
    v168 = (unsigned __int8 **)(*(_QWORD *)v137 + 16 * v165);
    *v168 = v164;
    v168[1] = v167;
    ++*(_DWORD *)(v137 + 8);
    v169 = sub_338B750(v260, *(_QWORD *)(*(_QWORD *)(a5 + 144) + v246));
    v171 = *(_QWORD *)(v260 + 864);
    v172 = v169;
    v173 = v170;
    if ( !v270 )
    {
      ++v267;
      goto LABEL_180;
    }
    v247 = 1;
    v174 = (v169 >> 9) ^ (v169 >> 4);
    v175 = 0;
    v176 = v170 + v174;
    v177 = (v270 - 1) & v176;
    while ( 2 )
    {
      v178 = v268 + 24LL * v177;
      if ( *(_QWORD *)v178 == v172 && *(_DWORD *)(v178 + 8) == v170 )
      {
        v179 = *(unsigned int *)(v178 + 16);
        goto LABEL_145;
      }
      if ( *(_QWORD *)v178 )
      {
LABEL_142:
        v177 = (v270 - 1) & (v247 + v177);
        ++v247;
        continue;
      }
      break;
    }
    v210 = *(_DWORD *)(v178 + 8);
    if ( v210 != -1 )
    {
      if ( v210 == -2 && !v175 )
        v175 = v268 + 24LL * v177;
      goto LABEL_142;
    }
    if ( !v175 )
      v175 = v268 + 24LL * v177;
    ++v267;
    v208 = v269 + 1;
    if ( 4 * ((int)v269 + 1) < 3 * v270 )
    {
      if ( v270 - HIDWORD(v269) - v208 <= v270 >> 3 )
      {
        v232 = v170;
        v249 = v171;
        sub_3437080((__int64)&v267, v270);
        if ( v270 )
        {
          v171 = v249;
          v212 = 1;
          v213 = 0;
          for ( i2 = (v270 - 1) & v176; ; i2 = (v270 - 1) & v215 )
          {
            v175 = v268 + 24LL * i2;
            if ( *(_QWORD *)v175 == v172 && *(_DWORD *)(v175 + 8) == v232 )
              break;
            if ( !*(_QWORD *)v175 )
            {
              v222 = *(_DWORD *)(v175 + 8);
              if ( v222 == -1 )
              {
                if ( v213 )
                  v175 = v213;
                v208 = v269 + 1;
                goto LABEL_194;
              }
              if ( v222 == -2 && !v213 )
                v213 = v268 + 24LL * i2;
            }
            v215 = v212 + i2;
            ++v212;
          }
          goto LABEL_193;
        }
LABEL_278:
        LODWORD(v269) = v269 + 1;
        BUG();
      }
      goto LABEL_194;
    }
LABEL_180:
    v240 = v170;
    v248 = v171;
    sub_3437080((__int64)&v267, 2 * v270);
    if ( !v270 )
      goto LABEL_278;
    v203 = 0;
    v171 = v248;
    v204 = 1;
    for ( i3 = (v270 - 1) & (v173 + ((v172 >> 9) ^ (v172 >> 4))); ; i3 = (v270 - 1) & v206 )
    {
      v175 = v268 + 24LL * i3;
      if ( *(_QWORD *)v175 == v172 && *(_DWORD *)(v175 + 8) == v240 )
        break;
      if ( !*(_QWORD *)v175 )
      {
        v219 = *(_DWORD *)(v175 + 8);
        if ( v219 == -1 )
        {
          if ( v203 )
            v175 = v203;
          v208 = v269 + 1;
          goto LABEL_194;
        }
        if ( v219 == -2 && !v203 )
          v203 = v268 + 24LL * i3;
      }
      v206 = v204 + i3;
      ++v204;
    }
LABEL_193:
    v208 = v269 + 1;
LABEL_194:
    LODWORD(v269) = v208;
    if ( *(_QWORD *)v175 || *(_DWORD *)(v175 + 8) != -1 )
      --HIDWORD(v269);
    *(_QWORD *)v175 = v172;
    v179 = 0;
    *(_DWORD *)(v175 + 8) = v173;
    *(_DWORD *)(v175 + 16) = 0;
LABEL_145:
    HIWORD(v180) = v242;
    LOWORD(v180) = 8;
    v183 = sub_3400BD0(v171, v179, (__int64)&v265, v180, 0, 1u, a7, 0);
    v184 = *(unsigned int *)(v137 + 8);
    v186 = v185;
    if ( v184 + 1 > (unsigned __int64)*(unsigned int *)(v137 + 12) )
    {
      sub_C8D5F0(v137, (const void *)(v137 + 16), v184 + 1, 0x10u, v181, v182);
      v184 = *(unsigned int *)(v137 + 8);
    }
    v187 = (unsigned __int8 **)(*(_QWORD *)v137 + 16 * v184);
    *v187 = v183;
    v187[1] = v186;
    v136 = ++v255;
    ++*(_DWORD *)(v137 + 8);
  }
  while ( v255 < *(_DWORD *)(a5 + 152) );
LABEL_148:
  if ( v265 )
    sub_B91220((__int64)&v265, v265);
  if ( (_BYTE *)src.m128i_i64[0] != v280 )
    _libc_free(src.m128i_u64[0]);
  sub_C7D6A0(v268, 24LL * v270, 8);
  if ( v285 != v287 )
    _libc_free((unsigned __int64)v285);
  sub_C7D6A0((__int64)v282, 16LL * (unsigned int)v284, 8);
  v188 = v275;
  while ( v188 )
  {
    sub_3433920(*(_QWORD *)(v188 + 24));
    v189 = v188;
    v188 = *(_QWORD *)(v188 + 16);
    j_j___libc_free_0(v189);
  }
  if ( (_BYTE *)v272[0] != v273 )
    _libc_free(v272[0]);
}
