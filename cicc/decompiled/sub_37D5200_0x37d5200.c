// Function: sub_37D5200
// Address: 0x37d5200
//
void __fastcall sub_37D5200(__int64 a1, __int64 a2, __int64 a3, __int64 a4, __int64 a5, __int64 a6)
{
  _QWORD *v6; // r12
  __int64 v7; // rbx
  __int64 v8; // r8
  unsigned __int64 v9; // r9
  __int64 v10; // rdx
  __int64 v11; // rcx
  __int64 v12; // rdi
  __int64 v13; // r14
  __int64 v14; // rax
  __int64 v15; // rax
  unsigned int v16; // r13d
  unsigned __int64 v17; // rdx
  unsigned int *v18; // rbx
  unsigned int *v19; // rax
  __int64 v20; // rdx
  unsigned __int64 *v21; // r13
  __int64 v22; // rcx
  unsigned int v23; // eax
  __int64 *v24; // rbx
  unsigned __int16 *v25; // rdx
  int v26; // eax
  unsigned int *v27; // rdi
  __int64 v28; // r13
  unsigned __int16 i; // bx
  int v30; // edx
  unsigned int *v31; // r13
  char v32; // di
  char v33; // r15
  unsigned int v34; // ebx
  unsigned int v35; // edi
  __int64 v36; // rax
  __int64 v37; // rax
  __int64 v38; // rbx
  unsigned __int64 v39; // rbx
  unsigned __int64 v40; // rdi
  unsigned int *v41; // r14
  unsigned int *v42; // r12
  bool v43; // r9
  __int64 v44; // rax
  __int64 v45; // rax
  __int64 v46; // rdx
  __int64 v47; // r15
  unsigned int v48; // edx
  unsigned __int64 v49; // rax
  int v50; // r14d
  __int64 v51; // rax
  __int64 v52; // rdx
  unsigned int v53; // ebx
  __int64 *v54; // rdx
  __int64 *v55; // r9
  __int64 v56; // r8
  unsigned int v57; // edi
  __int64 v58; // rax
  __int64 v59; // rax
  __int64 v60; // rbx
  __int64 v61; // rbx
  unsigned int v62; // esi
  __int64 v63; // rax
  int v64; // edi
  int v65; // edx
  unsigned int v66; // r14d
  unsigned __int16 *v67; // r11
  int v68; // eax
  unsigned __int16 *v69; // rdi
  unsigned int v70; // ebx
  unsigned int v71; // edx
  __int64 *v72; // rdx
  __int64 *v73; // r10
  __int64 v74; // r9
  __int64 v75; // rax
  __int64 v76; // rax
  _DWORD *v77; // rdx
  int v78; // eax
  int v79; // r11d
  int v80; // r11d
  __int64 v81; // r10
  int v82; // esi
  _DWORD *v83; // rax
  int v84; // r11d
  int v85; // r11d
  __int64 v86; // r10
  int v87; // esi
  unsigned int v88; // edi
  __int64 v89; // rbx
  unsigned __int64 v90; // r15
  unsigned int *j; // rax
  __int64 v92; // rdi
  __int64 v93; // r14
  unsigned int *v94; // rdx
  unsigned int v95; // esi
  __int64 *v96; // rdx
  __int64 *v97; // r9
  __int64 v98; // rdi
  unsigned int v99; // esi
  __int64 v100; // rdi
  __int64 v101; // rax
  __int64 v102; // rax
  __int64 v103; // r10
  char *v104; // rax
  __int64 v105; // rdx
  unsigned __int16 *v106; // r11
  char *k; // r10
  unsigned int v108; // esi
  __int64 *v109; // rdx
  __int64 v110; // rdi
  int v111; // esi
  __int64 v112; // rdi
  __int64 v113; // rax
  __int64 v114; // rax
  unsigned int v115; // eax
  unsigned int v116; // edi
  _QWORD *v117; // [rsp+0h] [rbp-480h]
  int v119; // [rsp+48h] [rbp-438h]
  unsigned int *v121; // [rsp+50h] [rbp-430h]
  char v122; // [rsp+60h] [rbp-420h]
  __int64 v123; // [rsp+68h] [rbp-418h]
  unsigned int *v124; // [rsp+68h] [rbp-418h]
  __int64 v125; // [rsp+70h] [rbp-410h]
  unsigned int v126; // [rsp+78h] [rbp-408h]
  char v127; // [rsp+78h] [rbp-408h]
  int *v128; // [rsp+78h] [rbp-408h]
  int *v129; // [rsp+78h] [rbp-408h]
  __int16 *v130; // [rsp+80h] [rbp-400h]
  __int64 v131; // [rsp+80h] [rbp-400h]
  _QWORD *v132; // [rsp+80h] [rbp-400h]
  unsigned int v133; // [rsp+80h] [rbp-400h]
  unsigned int *v134; // [rsp+80h] [rbp-400h]
  char v135; // [rsp+88h] [rbp-3F8h]
  unsigned int *v136; // [rsp+88h] [rbp-3F8h]
  __int64 v137; // [rsp+88h] [rbp-3F8h]
  int *v138; // [rsp+88h] [rbp-3F8h]
  char v139; // [rsp+88h] [rbp-3F8h]
  unsigned int v140; // [rsp+9Ch] [rbp-3E4h] BYREF
  unsigned __int64 v141; // [rsp+A0h] [rbp-3E0h] BYREF
  char v142; // [rsp+A8h] [rbp-3D8h]
  int *v143; // [rsp+B0h] [rbp-3D0h] BYREF
  __int64 v144; // [rsp+B8h] [rbp-3C8h]
  _BYTE v145[16]; // [rsp+C0h] [rbp-3C0h] BYREF
  int *v146; // [rsp+D0h] [rbp-3B0h] BYREF
  __int64 v147; // [rsp+D8h] [rbp-3A8h]
  __int64 v148; // [rsp+E0h] [rbp-3A0h]
  __int64 **v149; // [rsp+E8h] [rbp-398h]
  __int64 v150; // [rsp+F0h] [rbp-390h]
  _BYTE *v151; // [rsp+100h] [rbp-380h] BYREF
  __int64 v152; // [rsp+108h] [rbp-378h]
  _BYTE v153[136]; // [rsp+110h] [rbp-370h] BYREF
  int v154; // [rsp+198h] [rbp-2E8h] BYREF
  unsigned __int64 v155; // [rsp+1A0h] [rbp-2E0h]
  int *v156; // [rsp+1A8h] [rbp-2D8h]
  int *v157; // [rsp+1B0h] [rbp-2D0h]
  __int64 v158; // [rsp+1B8h] [rbp-2C8h]
  unsigned int *v159; // [rsp+1C0h] [rbp-2C0h] BYREF
  __int64 v160; // [rsp+1C8h] [rbp-2B8h]
  _BYTE v161[136]; // [rsp+1D0h] [rbp-2B0h] BYREF
  int v162; // [rsp+258h] [rbp-228h] BYREF
  unsigned __int64 v163; // [rsp+260h] [rbp-220h]
  unsigned int *v164; // [rsp+268h] [rbp-218h]
  int *v165; // [rsp+270h] [rbp-210h]
  __int64 v166; // [rsp+278h] [rbp-208h]
  unsigned int *v167; // [rsp+280h] [rbp-200h] BYREF
  __int64 v168; // [rsp+288h] [rbp-1F8h]
  _BYTE v169[128]; // [rsp+290h] [rbp-1F0h] BYREF
  __int64 v170; // [rsp+310h] [rbp-170h] BYREF
  __int64 v171; // [rsp+318h] [rbp-168h] BYREF
  unsigned __int64 v172; // [rsp+320h] [rbp-160h]
  unsigned int *v173; // [rsp+328h] [rbp-158h]
  __int64 *v174; // [rsp+330h] [rbp-150h]
  __int64 v175; // [rsp+338h] [rbp-148h]
  __int64 *v176; // [rsp+340h] [rbp-140h] BYREF
  __int64 v177; // [rsp+348h] [rbp-138h]
  _BYTE v178[40]; // [rsp+350h] [rbp-130h] BYREF
  int v179; // [rsp+378h] [rbp-108h] BYREF
  unsigned __int64 v180; // [rsp+380h] [rbp-100h]
  int *v181; // [rsp+388h] [rbp-F8h]
  int *v182; // [rsp+390h] [rbp-F0h]
  __int64 v183; // [rsp+398h] [rbp-E8h]

  v6 = (_QWORD *)a4;
  v7 = a1;
  v143 = (int *)v145;
  v144 = 0x400000000LL;
  sub_37BBBE0(a1, (__int64)&v143, a3, a4, a5, a6);
  v10 = *(_QWORD *)(a1 + 408);
  v156 = &v154;
  v157 = &v154;
  v159 = (unsigned int *)v161;
  v164 = (unsigned int *)&v162;
  v165 = &v162;
  v167 = (unsigned int *)v169;
  v154 = 0;
  v155 = 0;
  v158 = 0;
  v162 = 0;
  v163 = 0;
  v166 = 0;
  LODWORD(v171) = 0;
  v172 = 0;
  v173 = (unsigned int *)&v171;
  v174 = &v171;
  v175 = 0;
  v11 = *(unsigned int *)(v10 + 40);
  v151 = v153;
  v152 = 0x2000000000LL;
  v160 = 0x2000000000LL;
  v168 = 0x2000000000LL;
  if ( !(_DWORD)v11 )
  {
    v177 = 0x2000000000LL;
    v17 = (unsigned __int64)&v176;
    v147 = a5;
    v176 = (__int64 *)v178;
    v148 = a2;
    v146 = (int *)a1;
    v149 = &v176;
    v150 = a3;
    goto LABEL_56;
  }
  v117 = v6;
  v12 = v10;
  v13 = v7;
  v123 = (unsigned int)v11;
  v125 = 0;
  while ( 2 )
  {
    v14 = *(_QWORD *)(v12 + 88);
    v11 = *(unsigned int *)(v12 + 284);
    v140 = v125;
    v15 = *(unsigned int *)(v14 + 4 * v125);
    if ( (unsigned int)v11 <= (unsigned int)v15 )
    {
      v16 = (unsigned int)(v15 - v11) / *(_DWORD *)(v12 + 288) + 1;
      LODWORD(v176) = v16;
      if ( v175 )
      {
        sub_37C7EC0((__int64)&v170, (unsigned int *)&v176);
        goto LABEL_10;
      }
      v17 = (unsigned int)v168;
      v18 = &v167[(unsigned int)v168];
      if ( v167 == v18 )
      {
        if ( (unsigned int)v168 > 0x1FuLL )
        {
LABEL_61:
          LODWORD(v168) = 0;
          sub_37C7EC0((__int64)&v170, (unsigned int *)&v176);
          goto LABEL_10;
        }
      }
      else
      {
        v19 = v167;
        while ( v16 != *v19 )
        {
          if ( v18 == ++v19 )
            goto LABEL_46;
        }
        if ( v18 != v19 )
          goto LABEL_10;
LABEL_46:
        if ( (unsigned int)v168 > 0x1FuLL )
        {
          v137 = v13;
          v41 = v167;
          v42 = &v167[(unsigned int)v168];
          do
          {
            v45 = sub_37D4E10(&v170, (__int64)&v171, v41);
            if ( v46 )
            {
              v43 = v45 || (__int64 *)v46 == &v171 || *v41 < *(_DWORD *)(v46 + 32);
              v127 = v43;
              v132 = (_QWORD *)v46;
              v44 = sub_22077B0(0x28u);
              *(_DWORD *)(v44 + 32) = *v41;
              sub_220F040(v127, v44, v132, &v171);
              ++v175;
            }
            ++v41;
          }
          while ( v42 != v41 );
          v13 = v137;
          goto LABEL_61;
        }
      }
      v17 = (unsigned int)v168 + 1LL;
      if ( v17 > HIDWORD(v168) )
      {
        sub_C8D5F0((__int64)&v167, v169, v17, 4u, v8, v9);
        v17 = (unsigned int)v168;
        v18 = &v167[(unsigned int)v168];
      }
      *v18 = v16;
      LODWORD(v168) = v168 + 1;
      goto LABEL_10;
    }
    v20 = *(_QWORD *)(v13 + 16);
    v179 = 0;
    v135 = 0;
    v21 = &v141;
    v176 = (__int64 *)v178;
    v177 = 0x800000000LL;
    v180 = 0;
    v181 = &v179;
    v182 = &v179;
    v183 = 0;
    v22 = *(_QWORD *)(v20 + 8);
    v23 = *(_DWORD *)(v22 + 24 * v15 + 16);
    v130 = (__int16 *)(*(_QWORD *)(v20 + 56) + 2LL * (v23 >> 12));
    v126 = v23 & 0xFFF;
    v24 = (__int64 *)&v146;
    do
    {
      if ( !v130 )
        break;
      v25 = (unsigned __int16 *)(*(_QWORD *)(*(_QWORD *)(v13 + 16) + 48LL) + 4LL * v126);
      v26 = *v25;
      if ( !(_WORD)v26 )
        goto LABEL_21;
      v27 = (unsigned int *)v21;
      v28 = (__int64)v24;
      for ( i = v25[1]; ; i = 0 )
      {
        v22 = *(_QWORD *)(*(_QWORD *)(v13 + 408) + 64LL);
        if ( *(_DWORD *)(v22 + 4LL * (unsigned __int16)v26) == -1 )
          break;
        LODWORD(v141) = v26;
        sub_3361470(v28, (__int64)&v176, v27, v22, v8);
        v26 = i;
        if ( !i )
          goto LABEL_20;
LABEL_17:
        ;
      }
      v26 = i;
      v135 = 1;
      if ( i )
        goto LABEL_17;
LABEL_20:
      v24 = (__int64 *)v28;
      v21 = (unsigned __int64 *)v27;
LABEL_21:
      v30 = *v130;
      v126 += v30;
      ++v130;
    }
    while ( (_WORD)v30 );
    if ( v135 )
    {
      sub_37D5010((__int64)v24, (__int64)&v159, &v140, v22, v8);
      v39 = v180;
      while ( v39 )
      {
        sub_37B7EE0(*(_QWORD *)(v39 + 24));
        v40 = v39;
        v39 = *(_QWORD *)(v39 + 16);
        j_j___libc_free_0(v40);
      }
    }
    else
    {
      if ( v183 )
      {
        LOBYTE(v147) = 0;
        v142 = 0;
        v146 = &v179;
        v141 = (unsigned __int64)v181;
      }
      else
      {
        LOBYTE(v147) = 1;
        v142 = 1;
        v141 = (unsigned __int64)v176;
        v146 = (int *)v176 + (unsigned int)v177;
      }
      sub_37D4210((__int64)&v151, (__int64)&v141, (__int64)v24, v22, v8, (__int64)&v151);
      sub_37B7EE0(v180);
    }
    if ( v176 != (__int64 *)v178 )
      _libc_free((unsigned __int64)v176);
LABEL_10:
    if ( v123 != ++v125 )
    {
      v12 = *(_QWORD *)(v13 + 408);
      continue;
    }
    break;
  }
  v146 = (int *)v13;
  v7 = v13;
  v149 = &v176;
  v6 = v117;
  v176 = (__int64 *)v178;
  v177 = 0x2000000000LL;
  v147 = a5;
  v148 = a2;
  v150 = a3;
  if ( v166 )
  {
    v31 = v164;
    v32 = 0;
    v136 = (unsigned int *)&v162;
    goto LABEL_32;
  }
LABEL_56:
  v31 = v159;
  v32 = 1;
  v136 = &v159[(unsigned int)v160];
LABEL_32:
  v131 = v7;
  v33 = v32;
  while ( 2 )
  {
    if ( v33 )
    {
      if ( v136 == v31 )
        goto LABEL_64;
      v34 = *v31;
      sub_37BCE70((__int64 *)&v146, *v31, v17, v11, v8, v9);
      v17 = (unsigned __int64)v176;
      v11 = (unsigned int)v177;
      v9 = (unsigned __int64)&v176[(unsigned int)v177];
      if ( (__int64 *)v9 != v176 )
        goto LABEL_36;
LABEL_42:
      ++v31;
      continue;
    }
    break;
  }
  while ( v136 != v31 )
  {
    v34 = v31[8];
    sub_37BCE70((__int64 *)&v146, v34, v17, v11, v8, v9);
    v17 = (unsigned __int64)v176;
    v9 = (unsigned __int64)&v176[(unsigned int)v177];
    if ( v176 != (__int64 *)v9 )
    {
LABEL_36:
      v8 = 8LL * v34;
      v35 = v34 << 8;
      do
      {
        v36 = *(_QWORD *)v17;
        v17 += 8LL;
        v37 = *(int *)(v36 + 24);
        v11 = *(_QWORD *)(*v6 + 8 * v37);
        v38 = v8 + *(_QWORD *)v11;
        *(_QWORD *)v38 = *(_QWORD *)v38 & 0xFFFFFF0000000000LL | v37 & 0xFFFFF;
        *(_DWORD *)(v38 + 4) = v35;
      }
      while ( v9 != v17 );
      if ( v33 )
        goto LABEL_42;
    }
    v31 = (unsigned int *)sub_220EF30((__int64)v31);
  }
LABEL_64:
  if ( v175 )
  {
    v122 = 0;
    v124 = v173;
    v121 = (unsigned int *)&v171;
  }
  else
  {
    v122 = 1;
    v124 = v167;
    v121 = &v167[(unsigned int)v168];
  }
  v47 = v131;
  while ( 2 )
  {
    if ( !v122 )
      goto LABEL_68;
    if ( v121 == v124 )
      goto LABEL_141;
    v11 = (unsigned int)v144;
    v48 = *v124;
    v49 = (unsigned __int64)v143;
    v128 = &v143[(unsigned int)v144];
    if ( v143 == v128 )
    {
LABEL_117:
      ++v124;
      continue;
    }
    break;
  }
LABEL_70:
  v138 = (int *)v49;
  v133 = v48 - 1;
  while ( 2 )
  {
    v50 = *v138;
    v51 = *(_QWORD *)(v47 + 408);
    v52 = *v138 + *(_DWORD *)(v51 + 284) + *(_DWORD *)(v51 + 288) * v133;
    v53 = *(_DWORD *)(*(_QWORD *)(v51 + 64) + 4 * v52);
    sub_37BCE70((__int64 *)&v146, v53, v52, v11, v8, v9);
    v54 = v176;
    v55 = &v176[(unsigned int)v177];
    if ( v176 != v55 )
    {
      v56 = 8LL * v53;
      v57 = v53 << 8;
      do
      {
        v58 = *v54++;
        v59 = *(int *)(v58 + 24);
        v60 = v56 + **(_QWORD **)(*v6 + 8 * v59);
        *(_QWORD *)v60 = *(_QWORD *)v60 & 0xFFFFFF0000000000LL | v59 & 0xFFFFF;
        *(_DWORD *)(v60 + 4) = v57;
      }
      while ( v55 != v54 );
    }
    v61 = *(_QWORD *)(v47 + 408);
    v62 = *(_DWORD *)(v61 + 880);
    if ( !v62 )
    {
      ++*(_QWORD *)(v61 + 856);
      goto LABEL_119;
    }
    v9 = *(_QWORD *)(v61 + 864);
    v8 = (unsigned int)(37 * v50);
    v11 = (v62 - 1) & (37 * v50);
    v63 = v9 + 8 * v11;
    v64 = *(_DWORD *)v63;
    if ( v50 != *(_DWORD *)v63 )
    {
      v119 = 1;
      v77 = 0;
      while ( v64 != -1 )
      {
        if ( !v77 && v64 == -2 )
          v77 = (_DWORD *)v63;
        v9 = (unsigned int)(v119 + 1);
        v11 = (v62 - 1) & (v119 + (_DWORD)v11);
        v63 = *(_QWORD *)(v61 + 864) + 8LL * (unsigned int)v11;
        v64 = *(_DWORD *)v63;
        if ( v50 == *(_DWORD *)v63 )
          goto LABEL_76;
        ++v119;
      }
      if ( !v77 )
        v77 = (_DWORD *)v63;
      v78 = *(_DWORD *)(v61 + 872);
      ++*(_QWORD *)(v61 + 856);
      v11 = (unsigned int)(v78 + 1);
      if ( 4 * (int)v11 < 3 * v62 )
      {
        if ( v62 - *(_DWORD *)(v61 + 876) - (unsigned int)v11 > v62 >> 3 )
          goto LABEL_112;
        sub_37C67C0(v61 + 856, v62);
        v84 = *(_DWORD *)(v61 + 880);
        if ( !v84 )
        {
LABEL_179:
          ++*(_DWORD *)(v61 + 872);
          BUG();
        }
        v85 = v84 - 1;
        v86 = *(_QWORD *)(v61 + 864);
        v9 = 1;
        v8 = v85 & (unsigned int)(37 * v50);
        v77 = (_DWORD *)(v86 + 8 * v8);
        v87 = *v77;
        v11 = (unsigned int)(*(_DWORD *)(v61 + 872) + 1);
        v83 = 0;
        if ( v50 == *v77 )
          goto LABEL_112;
        for ( ; v87 != -1; v9 = v88 )
        {
          if ( !v83 && v87 == -2 )
            v83 = v77;
          v88 = v9 + 1;
          v9 = (unsigned int)(v8 + v9);
          v8 = v85 & (unsigned int)v9;
          v77 = (_DWORD *)(v86 + 8 * v8);
          v87 = *v77;
          if ( v50 == *v77 )
            goto LABEL_112;
        }
LABEL_123:
        if ( v83 )
          v77 = v83;
LABEL_112:
        *(_DWORD *)(v61 + 872) = v11;
        if ( *v77 != -1 )
          --*(_DWORD *)(v61 + 876);
        *v77 = v50;
        v66 = 0;
        v77[1] = 0;
        v65 = 0;
        v61 = *(_QWORD *)(v47 + 408);
        goto LABEL_77;
      }
LABEL_119:
      sub_37C67C0(v61 + 856, 2 * v62);
      v79 = *(_DWORD *)(v61 + 880);
      if ( !v79 )
        goto LABEL_179;
      v80 = v79 - 1;
      v81 = *(_QWORD *)(v61 + 864);
      v8 = v80 & (unsigned int)(37 * v50);
      v77 = (_DWORD *)(v81 + 8 * v8);
      v82 = *v77;
      v11 = (unsigned int)(*(_DWORD *)(v61 + 872) + 1);
      if ( v50 == *v77 )
        goto LABEL_112;
      v9 = 1;
      v83 = 0;
      while ( v82 != -1 )
      {
        if ( !v83 && v82 == -2 )
          v83 = v77;
        v116 = v9 + 1;
        v9 = (unsigned int)(v8 + v9);
        v8 = v80 & (unsigned int)v9;
        v77 = (_DWORD *)(v81 + 8 * v8);
        v82 = *v77;
        if ( v50 == *v77 )
          goto LABEL_112;
        v9 = v116;
      }
      goto LABEL_123;
    }
LABEL_76:
    v65 = *(unsigned __int16 *)(v63 + 4);
    v66 = *(unsigned __int16 *)(v63 + 6);
LABEL_77:
    if ( !*(_DWORD *)(v61 + 840) )
      goto LABEL_78;
    v11 = *(_QWORD *)(v61 + 832);
    v67 = (unsigned __int16 *)(v11 + 8LL * *(unsigned int *)(v61 + 848));
    if ( (unsigned __int16 *)v11 == v67 )
      goto LABEL_78;
    while ( 2 )
    {
      v68 = *(unsigned __int16 *)v11;
      v69 = (unsigned __int16 *)v11;
      if ( (_WORD)v68 == 0xFFFF )
      {
        if ( *(_WORD *)(v11 + 2) != 0xFFFF )
          break;
        goto LABEL_102;
      }
      if ( (_WORD)v68 == 0xFFFE && *(_WORD *)(v11 + 2) == 0xFFFE )
      {
LABEL_102:
        v11 += 8;
        if ( v67 == (unsigned __int16 *)v11 )
          goto LABEL_78;
        continue;
      }
      break;
    }
    if ( v67 != (unsigned __int16 *)v11 )
    {
      v70 = v65 + v66;
LABEL_86:
      v71 = v69[1];
      if ( v71 + v68 > v66 && v70 > v71 )
      {
        v8 = *(unsigned int *)(*(_QWORD *)(*(_QWORD *)(v47 + 408) + 64LL)
                             + 4LL
                             * (*((_DWORD *)v69 + 1)
                              + *(_DWORD *)(*(_QWORD *)(v47 + 408) + 284LL)
                              + *(_DWORD *)(*(_QWORD *)(v47 + 408) + 288LL) * v133));
        v72 = v176;
        v73 = &v176[(unsigned int)v177];
        if ( v176 != v73 )
        {
          v74 = (unsigned int)v8;
          v8 = (unsigned int)((_DWORD)v8 << 8);
          v9 = 8 * v74;
          do
          {
            v75 = *v72++;
            v76 = *(int *)(v75 + 24);
            v11 = v9 + **(_QWORD **)(*v6 + 8 * v76);
            *(_QWORD *)v11 = *(_QWORD *)v11 & 0xFFFFFF0000000000LL | v76 & 0xFFFFF;
            *(_DWORD *)(v11 + 4) = v8;
          }
          while ( v73 != v72 );
        }
      }
      for ( v69 += 4; v67 != v69; v69 += 4 )
      {
        if ( *v69 == 0xFFFF )
        {
          if ( v69[1] != 0xFFFF )
            goto LABEL_94;
        }
        else if ( *v69 != 0xFFFE || v69[1] != 0xFFFE )
        {
LABEL_94:
          if ( v67 != v69 )
          {
            v68 = *v69;
            goto LABEL_86;
          }
          break;
        }
      }
    }
LABEL_78:
    if ( v128 != ++v138 )
      continue;
    break;
  }
  if ( v122 )
    goto LABEL_117;
  while ( 2 )
  {
    v124 = (unsigned int *)sub_220EF30((__int64)v124);
LABEL_68:
    if ( v121 != v124 )
    {
      v11 = (unsigned int)v144;
      v48 = v124[8];
      v49 = (unsigned __int64)v143;
      v128 = &v143[(unsigned int)v144];
      if ( v128 == v143 )
        continue;
      goto LABEL_70;
    }
    break;
  }
LABEL_141:
  v89 = v47;
  if ( v158 )
  {
    v139 = 0;
    v90 = (unsigned __int64)v156;
    v129 = &v154;
  }
  else
  {
    v90 = (unsigned __int64)v151;
    v139 = 1;
    v129 = (int *)&v151[4 * (unsigned int)v152];
  }
  if ( v139 )
    goto LABEL_159;
  while ( v129 != (int *)v90 )
  {
    for ( j = (unsigned int *)(v90 + 32); ; j = (unsigned int *)v90 )
    {
      v92 = *(_QWORD *)(v89 + 408);
      v93 = *j;
      v94 = (unsigned int *)(*(_QWORD *)(v92 + 64) + 4 * v93);
      v95 = *v94;
      if ( *v94 == -1 )
      {
        v134 = (unsigned int *)(*(_QWORD *)(v92 + 64) + 4 * v93);
        v115 = sub_37BA230(v92, v93);
        v94 = v134;
        v95 = v115;
        *v134 = v115;
      }
      sub_37BCE70((__int64 *)&v146, v95, (__int64)v94, v11, v8, v9);
      v96 = v176;
      v97 = &v176[(unsigned int)v177];
      if ( v176 != v97 )
      {
        v98 = v95;
        v99 = v95 << 8;
        v100 = 8 * v98;
        do
        {
          v101 = *v96++;
          v102 = *(int *)(v101 + 24);
          v103 = v100 + **(_QWORD **)(*v6 + 8 * v102);
          *(_QWORD *)v103 = *(_QWORD *)v103 & 0xFFFFFF0000000000LL | v102 & 0xFFFFF;
          *(_DWORD *)(v103 + 4) = v99;
        }
        while ( v97 != v96 );
      }
      v104 = sub_E922F0(*(_QWORD **)(v89 + 16), v93);
      v106 = (unsigned __int16 *)&v104[2 * v105];
      for ( k = v104; k != (char *)v106; k += 2 )
      {
        v108 = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(v89 + 408) + 64LL) + 4LL * *(unsigned __int16 *)k);
        if ( v108 != -1 )
        {
          v109 = v176;
          v8 = (__int64)&v176[(unsigned int)v177];
          if ( v176 != (__int64 *)v8 )
          {
            v110 = v108;
            v111 = v108 << 8;
            v112 = 8 * v110;
            do
            {
              v113 = *v109++;
              v114 = *(int *)(v113 + 24);
              v11 = v112 + **(_QWORD **)(*v6 + 8 * v114);
              v9 = *(_QWORD *)v11 & 0xFFFFFF0000000000LL;
              *(_QWORD *)v11 = v9 | v114 & 0xFFFFF;
              *(_DWORD *)(v11 + 4) = v111;
            }
            while ( v109 != (__int64 *)v8 );
          }
        }
      }
      if ( !v139 )
        break;
      v90 += 4LL;
LABEL_159:
      if ( v129 == (int *)v90 )
        goto LABEL_162;
    }
    v90 = sub_220EF30(v90);
  }
LABEL_162:
  if ( v176 != (__int64 *)v178 )
    _libc_free((unsigned __int64)v176);
  sub_37B7970(v172);
  if ( v167 != (unsigned int *)v169 )
    _libc_free((unsigned __int64)v167);
  sub_37B7B40(v163);
  if ( v159 != (unsigned int *)v161 )
    _libc_free((unsigned __int64)v159);
  sub_37B7EE0(v155);
  if ( v151 != v153 )
    _libc_free((unsigned __int64)v151);
  if ( v143 != (int *)v145 )
    _libc_free((unsigned __int64)v143);
}
