// Function: sub_316D160
// Address: 0x316d160
//
void __fastcall sub_316D160(__int64 *a1, unsigned __int8 a2)
{
  void (__fastcall *v2)(__int64 *, __int64 *, __int64); // rax
  __int64 v3; // rax
  __int64 v4; // rbx
  __int64 *v5; // rax
  __int64 v6; // rsi
  __int64 v7; // r8
  __int64 v8; // r15
  __int64 *v9; // r13
  __int64 v10; // rax
  __int64 v11; // r9
  char v12; // dl
  char v13; // cl
  __int64 v14; // r12
  __int64 v15; // r14
  __int64 *v16; // r14
  __int64 v17; // rax
  _QWORD *v18; // rsi
  unsigned __int64 v19; // rax
  __int16 v20; // dx
  int v21; // eax
  unsigned int v22; // esi
  unsigned __int64 v23; // rax
  unsigned int v24; // edx
  __int64 v25; // rax
  __int64 v26; // r9
  __int64 v27; // r9
  __int64 v28; // r14
  __int64 v29; // rax
  unsigned __int64 v30; // rax
  __int64 v31; // rax
  __int64 v32; // r9
  __int64 *v33; // rbx
  int v34; // r15d
  int v35; // r9d
  __int64 *v36; // rdx
  unsigned int v37; // edi
  __int64 *v38; // rax
  __int64 v39; // rcx
  __int64 v40; // r12
  __int64 v41; // r13
  int v42; // eax
  int v43; // eax
  __int64 v44; // r13
  int v45; // r12d
  __int64 v46; // rcx
  int v47; // eax
  __int64 v48; // rdi
  const char *v49; // rax
  unsigned __int64 v50; // rdx
  __int64 v51; // r8
  __int64 v52; // r9
  const char *v53; // r12
  size_t v54; // rbx
  unsigned __int64 v55; // rax
  _BYTE *v56; // rax
  __int64 v57; // rdx
  __int64 *v58; // rdi
  unsigned int v59; // eax
  unsigned __int64 v60; // r12
  __int64 *v61; // r13
  __int64 v62; // rcx
  __int64 v63; // r9
  char v64; // r8
  __int64 *v65; // r10
  unsigned __int64 v66; // rdx
  __int64 v67; // rax
  __int64 v68; // r8
  __int64 v69; // r9
  char *v70; // r10
  char v71; // dl
  char *v72; // r14
  char *v73; // rdx
  __int64 v74; // rax
  char *v75; // r12
  __int64 v76; // r15
  __int64 v77; // r13
  __int64 v78; // rbx
  __int64 *v79; // rax
  _QWORD *v80; // rax
  __int64 v81; // rdx
  __int64 v82; // rax
  __int64 v83; // r11
  __int64 *v84; // rax
  _QWORD *v85; // rax
  __int64 v86; // rdx
  unsigned __int64 v87; // rax
  unsigned __int64 v88; // r13
  __int64 *v89; // r12
  __int64 *v90; // rbx
  __int64 v91; // rsi
  __int64 *v92; // r12
  __int64 v93; // rbx
  __int64 v94; // rsi
  unsigned __int8 v95; // dl
  unsigned __int64 v96; // rsi
  int v97; // eax
  __int64 *v98; // rax
  char v99; // cl
  __int64 v100; // rdi
  __int64 v101; // rax
  __int64 v102; // r14
  __int64 v103; // rbx
  __int64 v104; // rax
  __int64 v105; // rdx
  __int64 v106; // rax
  __int64 v107; // r13
  __int64 *v108; // r12
  __int64 v109; // rbx
  unsigned __int8 v110; // al
  unsigned int v111; // edx
  _QWORD *v112; // rax
  __int64 v113; // rbx
  __int64 v114; // r8
  __int64 v115; // r9
  __int64 *v116; // r15
  __int64 v117; // r12
  __int64 v118; // rdx
  unsigned int v119; // esi
  __int64 v120; // rax
  unsigned __int64 v121; // rdx
  __int16 v122; // cx
  __int64 v123; // r14
  __int64 v124; // r12
  unsigned __int64 v125; // rax
  __int64 v126; // rax
  unsigned __int64 v127; // rdx
  __int64 v128; // rax
  __int64 v129; // rbx
  __int64 v130; // rax
  __int64 *v131; // rdi
  __int64 v132; // r14
  int v133; // r11d
  __int64 v134; // rsi
  unsigned __int64 v135; // rdx
  _QWORD **v136; // r12
  _QWORD **v137; // rbx
  _QWORD *v138; // rdi
  _BYTE *v139; // rbx
  unsigned __int64 v140; // r14
  __int64 v141; // rax
  __int64 v142; // r12
  __int64 v143; // r13
  bool v144; // cc
  unsigned __int64 v145; // rdi
  _BYTE *v146; // rbx
  unsigned __int64 v147; // r12
  unsigned __int64 v148; // rdi
  _BYTE *v149; // rbx
  _BYTE *v150; // r12
  unsigned __int64 v151; // r13
  unsigned __int64 v152; // rdi
  unsigned __int64 *v153; // rbx
  unsigned __int64 *v154; // r12
  unsigned __int64 v155; // rdi
  unsigned __int64 v156; // rdi
  __int64 v157; // r8
  char v158; // di
  __int64 v159; // r8
  const __m128i *v160; // rax
  __m128i *v161; // rdx
  unsigned __int64 v162; // rcx
  _BYTE *v163; // rdi
  __int64 v164; // r12
  __int64 v165; // r15
  __int64 v166; // r13
  __int64 v167; // rbx
  __int64 *v168; // rdx
  __int64 v169; // rcx
  __int64 v170; // rsi
  __int64 v171; // r8
  __int64 v172; // r9
  _QWORD *v173; // rax
  __int64 i; // rdx
  __int64 v175; // r14
  __int64 *v176; // rax
  unsigned __int64 v177; // r15
  __int64 *v178; // rbx
  __int64 j; // rcx
  __int64 v180; // rax
  __int64 v181; // rdi
  __int64 v182; // r8
  _QWORD *v183; // rcx
  bool v184; // r8
  __int64 v185; // rcx
  unsigned __int64 v186; // rax
  unsigned __int8 v187; // cl
  __int64 v188; // r14
  __int64 v189; // r13
  __int64 v190; // r12
  __int64 v191; // rsi
  __int64 v192; // r8
  __int64 v193; // r9
  __int64 v194; // rdx
  __int64 v195; // rax
  __int64 *v196; // rdi
  __int64 *v197; // rax
  __int64 v198; // rax
  __int64 v199; // rax
  unsigned __int64 v200; // rdx
  __int64 v201; // r12
  __int64 v202; // rax
  _QWORD *v203; // rbx
  __int64 v204; // rdx
  _QWORD *v205; // r12
  unsigned __int64 v206; // rax
  int v207; // edx
  unsigned __int64 v208; // rax
  __int64 v209; // rsi
  __int64 v210; // rax
  __int64 *v211; // rbx
  __int64 *v212; // r12
  _QWORD *v213; // rdi
  __int64 v214; // rax
  __int64 v215; // r9
  __int64 v216; // r12
  __int64 v217; // rdx
  __int64 v218; // rdx
  unsigned __int64 v219; // r8
  char *v220; // rbx
  __int64 v221; // rax
  __int64 v222; // r13
  unsigned int v223; // edx
  unsigned __int64 v224; // rcx
  __int64 v225; // rax
  __int64 v226; // rbx
  unsigned __int64 v227; // rdx
  unsigned __int64 v228; // r13
  __int64 v229; // rax
  __int64 v230; // rcx
  __int64 v231; // rsi
  __int64 v232; // rcx
  __int64 v233; // r14
  __int64 v234; // rax
  __int64 v235; // r12
  __int64 v236; // rbx
  unsigned __int64 v237; // rdi
  int v238; // r12d
  int v239; // r14d
  __int64 *v240; // r8
  __int64 v241; // rsi
  __int64 v242; // r12
  unsigned __int64 v243; // rdi
  __int64 v244; // [rsp-10h] [rbp-1E10h]
  __int64 v245; // [rsp-10h] [rbp-1E10h]
  __int64 v246; // [rsp-8h] [rbp-1E08h]
  __int64 v247; // [rsp-8h] [rbp-1E08h]
  __int64 v248; // [rsp-8h] [rbp-1E08h]
  __int64 v249; // [rsp+0h] [rbp-1E00h]
  char v250; // [rsp+14h] [rbp-1DECh]
  __int64 *v251; // [rsp+48h] [rbp-1DB8h]
  __int64 v252; // [rsp+58h] [rbp-1DA8h]
  const void *v253; // [rsp+60h] [rbp-1DA0h]
  __int64 v254; // [rsp+60h] [rbp-1DA0h]
  unsigned __int16 v255; // [rsp+68h] [rbp-1D98h]
  size_t v256; // [rsp+68h] [rbp-1D98h]
  unsigned __int8 v257; // [rsp+68h] [rbp-1D98h]
  unsigned int v258; // [rsp+70h] [rbp-1D90h]
  __int64 v259; // [rsp+70h] [rbp-1D90h]
  unsigned __int8 *v260; // [rsp+70h] [rbp-1D90h]
  __int64 v262; // [rsp+80h] [rbp-1D80h]
  __int64 v263; // [rsp+88h] [rbp-1D78h]
  __int64 v264; // [rsp+90h] [rbp-1D70h]
  __int64 v265; // [rsp+90h] [rbp-1D70h]
  _QWORD *v266; // [rsp+90h] [rbp-1D70h]
  _QWORD *v267; // [rsp+90h] [rbp-1D70h]
  unsigned __int64 *v268; // [rsp+90h] [rbp-1D70h]
  __int64 v270; // [rsp+A0h] [rbp-1D60h]
  __int64 v271; // [rsp+A8h] [rbp-1D58h]
  __int64 v272; // [rsp+A8h] [rbp-1D58h]
  __int64 *v273; // [rsp+B0h] [rbp-1D50h]
  char v274; // [rsp+B0h] [rbp-1D50h]
  __int64 *v275; // [rsp+B0h] [rbp-1D50h]
  _QWORD *v276; // [rsp+B0h] [rbp-1D50h]
  __int64 v277; // [rsp+B8h] [rbp-1D48h]
  __int64 v278; // [rsp+C8h] [rbp-1D38h] BYREF
  _BYTE *v279; // [rsp+D0h] [rbp-1D30h] BYREF
  __int64 v280; // [rsp+D8h] [rbp-1D28h]
  _BYTE v281[32]; // [rsp+E0h] [rbp-1D20h] BYREF
  __int64 *v282; // [rsp+100h] [rbp-1D00h] BYREF
  __int64 v283; // [rsp+108h] [rbp-1CF8h]
  _BYTE v284[32]; // [rsp+110h] [rbp-1CF0h] BYREF
  _BYTE *v285; // [rsp+130h] [rbp-1CD0h] BYREF
  unsigned __int64 v286; // [rsp+138h] [rbp-1CC8h]
  unsigned __int64 v287; // [rsp+140h] [rbp-1CC0h]
  _BYTE v288[40]; // [rsp+148h] [rbp-1CB8h] BYREF
  unsigned __int64 v289[2]; // [rsp+170h] [rbp-1C90h] BYREF
  char v290; // [rsp+180h] [rbp-1C80h] BYREF
  _BYTE *v291; // [rsp+188h] [rbp-1C78h]
  __int64 v292; // [rsp+190h] [rbp-1C70h]
  _BYTE v293[56]; // [rsp+198h] [rbp-1C68h] BYREF
  __int64 v294; // [rsp+1D0h] [rbp-1C30h]
  __int64 v295; // [rsp+1D8h] [rbp-1C28h]
  char v296; // [rsp+1E0h] [rbp-1C20h]
  __int64 v297; // [rsp+1E4h] [rbp-1C1Ch]
  __int64 v298; // [rsp+1F0h] [rbp-1C10h] BYREF
  __int64 v299; // [rsp+1F8h] [rbp-1C08h]
  unsigned __int64 v300; // [rsp+200h] [rbp-1C00h] BYREF
  unsigned int v301; // [rsp+208h] [rbp-1BF8h]
  __int16 v302; // [rsp+210h] [rbp-1BF0h]
  __int64 *v303; // [rsp+280h] [rbp-1B80h] BYREF
  _QWORD *v304; // [rsp+288h] [rbp-1B78h]
  char v305; // [rsp+290h] [rbp-1B70h]
  __int64 v306; // [rsp+298h] [rbp-1B68h] BYREF
  __int64 v307; // [rsp+2A0h] [rbp-1B60h]
  __int64 v308; // [rsp+2A8h] [rbp-1B58h]
  unsigned int v309; // [rsp+2B0h] [rbp-1B50h]
  __int64 v310; // [rsp+2B8h] [rbp-1B48h]
  __int64 v311; // [rsp+2C0h] [rbp-1B40h]
  __int64 v312; // [rsp+2C8h] [rbp-1B38h]
  unsigned int v313; // [rsp+2D0h] [rbp-1B30h]
  __int64 v314; // [rsp+2D8h] [rbp-1B28h]
  __int64 v315; // [rsp+2E0h] [rbp-1B20h]
  __int64 v316; // [rsp+2E8h] [rbp-1B18h]
  unsigned int v317; // [rsp+2F0h] [rbp-1B10h]
  __int64 v318; // [rsp+2F8h] [rbp-1B08h]
  __int64 v319; // [rsp+300h] [rbp-1B00h]
  __int64 v320; // [rsp+308h] [rbp-1AF8h]
  unsigned int v321; // [rsp+310h] [rbp-1AF0h]
  void *base; // [rsp+320h] [rbp-1AE0h] BYREF
  __int64 v323; // [rsp+328h] [rbp-1AD8h]
  __int64 v324; // [rsp+330h] [rbp-1AD0h] BYREF
  int v325; // [rsp+338h] [rbp-1AC8h]
  __int16 v326; // [rsp+340h] [rbp-1AC0h]
  _BYTE *v327; // [rsp+470h] [rbp-1990h] BYREF
  __int64 v328; // [rsp+478h] [rbp-1988h]
  _BYTE v329[384]; // [rsp+480h] [rbp-1980h] BYREF
  __int64 *v330; // [rsp+600h] [rbp-1800h] BYREF
  __int64 v331; // [rsp+608h] [rbp-17F8h]
  __int64 v332; // [rsp+610h] [rbp-17F0h] BYREF
  __int16 v333; // [rsp+618h] [rbp-17E8h]
  char v334; // [rsp+61Ah] [rbp-17E6h]
  char v335; // [rsp+61Bh] [rbp-17E5h]
  __int64 *v336; // [rsp+620h] [rbp-17E0h]
  __int64 v337; // [rsp+628h] [rbp-17D8h]
  __int64 v338; // [rsp+630h] [rbp-17D0h] BYREF
  __int64 v339; // [rsp+638h] [rbp-17C8h]
  __int64 v340; // [rsp+640h] [rbp-17C0h]
  __int64 *v341; // [rsp+648h] [rbp-17B8h]
  void **v342; // [rsp+650h] [rbp-17B0h]
  _QWORD *v343; // [rsp+658h] [rbp-17A8h]
  __int64 v344; // [rsp+660h] [rbp-17A0h]
  int v345; // [rsp+668h] [rbp-1798h]
  __int16 v346; // [rsp+66Ch] [rbp-1794h]
  char v347; // [rsp+66Eh] [rbp-1792h]
  __int64 v348; // [rsp+670h] [rbp-1790h]
  __int64 v349; // [rsp+678h] [rbp-1788h]
  void *v350; // [rsp+680h] [rbp-1780h] BYREF
  _QWORD v351[38]; // [rsp+688h] [rbp-1778h] BYREF
  __int64 v352; // [rsp+7B8h] [rbp-1648h]
  __int64 v353; // [rsp+7C0h] [rbp-1640h]
  unsigned int v354; // [rsp+7C8h] [rbp-1638h]
  __int64 v355; // [rsp+7D0h] [rbp-1630h] BYREF
  unsigned __int64 v356; // [rsp+7D8h] [rbp-1628h]
  __int64 v357; // [rsp+7E0h] [rbp-1620h] BYREF
  __int64 v358; // [rsp+7E8h] [rbp-1618h]
  __int64 v359; // [rsp+7F0h] [rbp-1610h] BYREF
  _BYTE *v360; // [rsp+860h] [rbp-15A0h] BYREF
  __int64 v361; // [rsp+868h] [rbp-1598h]
  _BYTE v362[320]; // [rsp+870h] [rbp-1590h] BYREF
  __int64 v363[2]; // [rsp+9B0h] [rbp-1450h] BYREF
  char v364; // [rsp+9C0h] [rbp-1440h] BYREF
  unsigned __int64 *v365; // [rsp+AC0h] [rbp-1340h]
  unsigned int v366; // [rsp+AC8h] [rbp-1338h]
  char v367; // [rsp+AD0h] [rbp-1330h] BYREF

  sub_24FA460((__int64)v363, a1[1], (__int64 **)(a1[2] + 120), a1[2] + 8);
  v2 = (void (__fastcall *)(__int64 *, __int64 *, __int64))a1[5];
  v357 = 0;
  if ( v2 )
  {
    v2(&v355, a1 + 3, 2);
    v358 = a1[6];
    v357 = a1[5];
  }
  sub_24F6730(a1[1], (__int64)v363, (__int64)&v355);
  if ( v357 )
    ((void (__fastcall *)(__int64 *, __int64 *, __int64))v357)(&v355, &v355, 3);
  v297 = 0;
  v3 = a1[1];
  v289[0] = (unsigned __int64)&v290;
  v294 = 0;
  v296 = 0;
  v295 = v3;
  LODWORD(v3) = *(_DWORD *)(v3 + 92);
  v291 = v293;
  HIDWORD(v297) = v3;
  v289[1] = 0x100000000LL;
  v292 = 0x600000000LL;
  sub_B1F440((__int64)v289);
  v4 = a1[2];
  if ( (unsigned int)(*(_DWORD *)(v4 + 280) - 1) <= 2 )
    goto LABEL_6;
  v164 = a1[1];
  if ( (unsigned __int8)sub_B2D610(v164, 48) )
    goto LABEL_6;
  BYTE4(v358) = 1;
  v356 = (unsigned __int64)&v359;
  v357 = 0x100000004LL;
  LODWORD(v358) = 0;
  v165 = *(_QWORD *)(v164 + 80);
  if ( v165 )
  {
    v355 = 1;
    v359 = v165 - 24;
    v166 = *(_QWORD *)(v4 + 120);
    v167 = v166 + 8LL * *(unsigned int *)(v4 + 128);
    if ( v166 != v167 )
      goto LABEL_222;
    v262 = v164 + 72;
    if ( v165 != v164 + 72 )
    {
LABEL_230:
      for ( i = *(_QWORD *)(v165 + 32); i == v165 + 24; i = *(_QWORD *)(v165 + 32) )
      {
        v165 = *(_QWORD *)(v165 + 8);
        if ( v165 == v262 )
          break;
        if ( !v165 )
          goto LABEL_391;
      }
      v272 = i;
      goto LABEL_235;
    }
    goto LABEL_340;
  }
  v359 = 0;
  v355 = 1;
  v166 = *(_QWORD *)(v4 + 120);
  v167 = v166 + 8LL * *(unsigned int *)(v4 + 128);
  if ( v166 == v167 )
    goto LABEL_391;
  do
  {
LABEL_222:
    v170 = sub_AA56F0(*(_QWORD *)(*(_QWORD *)v166 + 40LL));
    if ( !BYTE4(v358) )
    {
LABEL_260:
      sub_C8CC70((__int64)&v355, v170, (__int64)v168, v169, v171, v172);
      goto LABEL_227;
    }
    v173 = (_QWORD *)v356;
    v169 = HIDWORD(v357);
    v168 = (__int64 *)(v356 + 8LL * HIDWORD(v357));
    if ( (__int64 *)v356 == v168 )
    {
LABEL_324:
      if ( HIDWORD(v357) >= (unsigned int)v357 )
        goto LABEL_260;
      ++HIDWORD(v357);
      *v168 = v170;
      ++v355;
    }
    else
    {
      while ( v170 != *v173 )
      {
        if ( v168 == ++v173 )
          goto LABEL_324;
      }
    }
LABEL_227:
    v166 += 8;
  }
  while ( v167 != v166 );
  v165 = *(_QWORD *)(v164 + 80);
  v262 = v164 + 72;
  if ( v164 + 72 != v165 )
  {
    if ( v165 )
      goto LABEL_230;
LABEL_391:
    BUG();
  }
LABEL_340:
  v272 = 0;
LABEL_235:
  v175 = v165;
  if ( v165 != v262 )
  {
    while ( 1 )
    {
      if ( !v272 )
        goto LABEL_392;
      if ( *(_BYTE *)(v272 - 24) != 60 )
        goto LABEL_243;
      v176 = (__int64 *)v356;
      v177 = BYTE4(v358) ? v356 + 8LL * HIDWORD(v357) : v356 + 8LL * (unsigned int)v357;
      if ( v356 == v177 )
        goto LABEL_243;
      while ( 1 )
      {
        v178 = v176;
        if ( (unsigned __int64)*v176 < 0xFFFFFFFFFFFFFFFELL )
          break;
        if ( (__int64 *)v177 == ++v176 )
          goto LABEL_243;
      }
      if ( (__int64 *)v177 != v176 )
        break;
LABEL_243:
      for ( j = *(_QWORD *)(v272 + 8); ; j = *(_QWORD *)(v175 + 32) )
      {
        v180 = v175 - 24;
        if ( !v175 )
          v180 = 0;
        if ( j != v180 + 48 )
          break;
        v175 = *(_QWORD *)(v175 + 8);
        if ( v175 == v262 )
        {
          v272 = j;
          v165 = v175;
          goto LABEL_235;
        }
        if ( !v175 )
          goto LABEL_391;
      }
      v272 = j;
      if ( v175 == v262 )
        goto LABEL_322;
    }
    v263 = v175;
    v188 = *v176;
    v260 = (unsigned __int8 *)(v272 - 24);
    while ( 2 )
    {
      v330 = &v332;
      v331 = 0x100000000LL;
      v189 = *(_QWORD *)(v272 - 8);
      if ( !v189 )
        goto LABEL_274;
      while ( 2 )
      {
        v190 = *(_QWORD *)(v189 + 24);
        v191 = v188;
        if ( (unsigned __int8)sub_B19720((__int64)v289, v188, *(_QWORD *)(v190 + 40)) )
        {
          if ( *(_BYTE *)v190 == 84 )
          {
            if ( (*(_DWORD *)(v190 + 4) & 0x7FFFFFFu) <= 1 )
            {
              v194 = *(_QWORD *)(v190 + 40);
              goto LABEL_268;
            }
            goto LABEL_288;
          }
          v194 = *(_QWORD *)(v190 + 40);
          if ( *(_BYTE *)v190 == 85 )
          {
            v214 = *(_QWORD *)(v190 - 32);
            if ( v214 )
            {
              if ( !*(_BYTE *)v214
                && *(_QWORD *)(v214 + 24) == *(_QWORD *)(v190 + 80)
                && (*(_BYTE *)(v214 + 33) & 0x20) != 0
                && *(_DWORD *)(v214 + 36) == 62
                || !*(_BYTE *)v214
                && *(_QWORD *)(v214 + 24) == *(_QWORD *)(v190 + 80)
                && (*(_BYTE *)(v214 + 33) & 0x20) != 0
                && *(_DWORD *)(v214 + 36) == 61 )
              {
                v194 = sub_AA54C0(*(_QWORD *)(v190 + 40));
              }
            }
          }
LABEL_268:
          v191 = v188;
          if ( !sub_24F96E0(v363, v188, v194) )
          {
LABEL_288:
            v189 = *(_QWORD *)(v189 + 8);
            if ( !v189 )
            {
              v196 = v330;
              if ( !(_DWORD)v331 )
                goto LABEL_272;
              v201 = v188;
              v175 = v263;
              v202 = sub_B47F80((_BYTE *)*v330);
              v203 = (_QWORD *)v202;
              if ( (*(_BYTE *)(v202 + 7) & 0x40) != 0 )
                v204 = *(_QWORD *)(v202 - 8);
              else
                v204 = v202 - 32LL * (*(_DWORD *)(v202 + 4) & 0x7FFFFFF);
              v205 = (_QWORD *)(v201 + 48);
              sub_BD2ED0(v202, *(_QWORD *)(v204 + 32), (__int64)v260);
              v206 = *v205 & 0xFFFFFFFFFFFFFFF8LL;
              if ( (_QWORD *)v206 == v205 )
              {
                v208 = 0;
LABEL_296:
                v209 = v208 + 24;
                v210 = v252;
                LOWORD(v210) = 0;
                v252 = v210;
                sub_B44220(v203, v209, v210);
                v211 = v330;
                v212 = &v330[(unsigned int)v331];
                if ( v330 != v212 )
                {
                  do
                  {
                    v213 = (_QWORD *)*v211++;
                    sub_B43D60(v213);
                  }
                  while ( v212 != v211 );
                  v212 = v330;
                }
                if ( v212 != &v332 )
                  _libc_free((unsigned __int64)v212);
                goto LABEL_243;
              }
              if ( v206 )
              {
                v207 = *(unsigned __int8 *)(v206 - 24);
                v208 = v206 - 24;
                if ( (unsigned int)(v207 - 30) >= 0xB )
                  v208 = 0;
                goto LABEL_296;
              }
LABEL_392:
              BUG();
            }
            continue;
          }
        }
        break;
      }
      if ( *(_BYTE *)v190 == 85
        && (v198 = *(_QWORD *)(v190 - 32)) != 0
        && !*(_BYTE *)v198
        && (v191 = *(_QWORD *)(v190 + 80), *(_QWORD *)(v198 + 24) == v191)
        && (*(_BYTE *)(v198 + 33) & 0x20) != 0
        && *(_DWORD *)(v198 + 36) == 211 )
      {
        v199 = (unsigned int)v331;
        v200 = (unsigned int)v331 + 1LL;
        if ( v200 > HIDWORD(v331) )
        {
          sub_C8D5F0((__int64)&v330, &v332, v200, 8u, v192, v193);
          v199 = (unsigned int)v331;
        }
        v330[v199] = v190;
        LODWORD(v331) = v331 + 1;
      }
      else
      {
        v195 = *(_QWORD *)(v190 + 16);
        if ( !v195
          || *(_QWORD *)(v195 + 8)
          || v260 != sub_BD3990((unsigned __int8 *)v190, v191)
          || (v216 = *(_QWORD *)(*(_QWORD *)(v190 + 16) + 24LL), *(_BYTE *)v216 != 85)
          || (v217 = *(_QWORD *)(v216 - 32)) == 0
          || *(_BYTE *)v217
          || *(_QWORD *)(v217 + 24) != *(_QWORD *)(v216 + 80)
          || (*(_BYTE *)(v217 + 33) & 0x20) == 0
          || *(_DWORD *)(v217 + 36) != 211 )
        {
          v196 = v330;
LABEL_272:
          if ( v196 != &v332 )
            _libc_free((unsigned __int64)v196);
LABEL_274:
          v197 = v178 + 1;
          if ( v178 + 1 == (__int64 *)v177 )
            goto LABEL_277;
          while ( 1 )
          {
            v188 = *v197;
            v178 = v197;
            if ( (unsigned __int64)*v197 < 0xFFFFFFFFFFFFFFFELL )
              break;
            if ( (__int64 *)v177 == ++v197 )
              goto LABEL_277;
          }
          if ( (__int64 *)v177 == v197 )
          {
LABEL_277:
            v175 = v263;
            goto LABEL_243;
          }
          continue;
        }
        v218 = (unsigned int)v331;
        v219 = (unsigned int)v331 + 1LL;
        if ( v219 > HIDWORD(v331) )
        {
          sub_C8D5F0((__int64)&v330, &v332, (unsigned int)v331 + 1LL, 8u, v219, v215);
          v218 = (unsigned int)v331;
        }
        v330[v218] = v216;
        LODWORD(v331) = v331 + 1;
      }
      goto LABEL_288;
    }
  }
LABEL_322:
  if ( !BYTE4(v358) )
    _libc_free(v356);
LABEL_6:
  v5 = &v357;
  v355 = 0;
  v356 = 1;
  do
  {
    *v5 = -4096;
    v5 += 2;
  }
  while ( v5 != (__int64 *)&v360 );
  v6 = a1[1];
  v360 = v362;
  v361 = 0x800000000LL;
  v327 = v329;
  v328 = 0x800000000LL;
  sub_3171620(&v355, v6, v363);
  v246 = a1[2];
  v7 = a1[1];
  v279 = v281;
  v282 = (__int64 *)v284;
  v280 = 0x400000000LL;
  v283 = 0x400000000LL;
  sub_3171DA0(
    (unsigned int)&v355,
    (unsigned int)&v327,
    (unsigned int)&v279,
    (unsigned int)&v282,
    v7,
    (unsigned int)v363,
    (__int64)v289,
    v246);
  sub_3171820(&v355, a1[1], v363);
  v270 = a1[2];
  if ( (unsigned int)(*(_DWORD *)(v270 + 280) - 1) <= 2 )
  {
    sub_3174140(v289, *(_QWORD *)v270, &v355, &v327, v244, v247);
    v270 = a1[2];
  }
  v304 = &v327;
  v305 = 0;
  v303 = &v355;
  v306 = 0;
  v307 = 0;
  v8 = a1[1];
  v308 = 0;
  v309 = 0;
  v310 = 0;
  v311 = 0;
  v312 = 0;
  v313 = 0;
  v314 = 0;
  v315 = 0;
  v316 = 0;
  v317 = 0;
  v318 = 0;
  v319 = 0;
  v320 = 0;
  v321 = 0;
  v271 = v8;
  v9 = (__int64 *)sub_B2BE50(v8);
  v10 = sub_B2BEC0(v8);
  v12 = 0;
  v13 = 0;
  if ( *(_DWORD *)(v270 + 280) == 3 )
  {
    v162 = *(_QWORD *)(v270 + 352);
    v12 = -1;
    if ( v162 )
    {
      _BitScanReverse64(&v162, v162);
      v12 = 63 - (v162 ^ 0x3F);
    }
    v13 = 1;
  }
  v330 = (__int64 *)v10;
  v336 = &v338;
  v337 = 0x800000000LL;
  v331 = (__int64)v9;
  v332 = 0;
  v333 = 0;
  v334 = v12;
  v335 = v13;
  v351[37] = 0;
  v352 = 0;
  v353 = 0;
  v354 = 0;
  if ( *(_DWORD *)(v270 + 280) )
  {
    sub_316C3A0((__int64 *)&v330, v8, (__int64)&v303, v270, a2, v11);
    v249 = 0;
  }
  else
  {
    v14 = *(_QWORD *)(v270 + 336);
    v15 = sub_BCE3C0(v9, 0);
    sub_315F8A0((__int64)&v330, v15, 0, 1, 0);
    sub_315F8A0((__int64)&v330, v15, 0, 1, 0);
    if ( v14 )
    {
      v16 = *(__int64 **)(v14 + 72);
      if ( (unsigned __int8)sub_B4CE70(v14) )
      {
        v17 = *(_QWORD *)(v14 - 32);
        if ( *(_BYTE *)v17 != 17 )
          sub_C64ED0("Coroutines cannot handle non static allocas yet", 1u);
        v18 = *(_QWORD **)(v17 + 24);
        if ( *(_DWORD *)(v17 + 32) > 0x40u )
          v18 = (_QWORD *)*v18;
        v16 = sub_BCD420(v16, (__int64)v18);
      }
      _BitScanReverse64(&v19, 1LL << *(_WORD *)(v14 + 2));
      LOBYTE(v20) = 63 - (v19 ^ 0x3F);
      HIBYTE(v20) = 1;
      v21 = sub_315F8A0((__int64)&v330, (__int64)v16, v20, 1, 0);
      base = (void *)v14;
      v22 = 1;
      *(_DWORD *)sub_10E84F0((__int64)&v306, (__int64 *)&base) = v21;
      if ( *(_DWORD *)(v270 + 128) != 1 )
      {
        _BitScanReverse64(&v23, *(unsigned int *)(v270 + 128) - 1LL);
        v24 = 64 - (v23 ^ 0x3F);
        if ( v24 != 1 )
LABEL_20:
          v22 = v24;
      }
      v25 = sub_BCD140(v9, v22);
      v249 = sub_315F8A0((__int64)&v330, v25, 0, 0, 0);
      sub_316C3A0((__int64 *)&v330, v8, (__int64)&v303, v270, a2, v26);
      if ( !*(_DWORD *)(v270 + 280) && v14 )
      {
        v28 = (__int64)v304;
        v298 = 0;
        v299 = 0;
        v300 = 0;
        v301 = 0;
        if ( *((_DWORD *)v304 + 2) >= *((_DWORD *)v304 + 3) )
        {
          v276 = v304 + 2;
          v221 = sub_C8D7D0((__int64)v304, (__int64)(v304 + 2), 0, 0x30u, (unsigned __int64 *)&base, v27);
          ++v298;
          v222 = v299;
          v277 = v221;
          v223 = v301;
          v299 = 0;
          v224 = v300;
          v301 = 0;
          v300 = 0;
          v225 = v221 + 48LL * *(unsigned int *)(v28 + 8);
          if ( v225 )
          {
            *(_QWORD *)v225 = v14;
            v226 = 0;
            *(_QWORD *)(v225 + 8) = 1;
            *(_QWORD *)(v225 + 24) = v224;
            *(_DWORD *)(v225 + 32) = v223;
            *(_BYTE *)(v225 + 40) = 0;
            *(_QWORD *)(v225 + 16) = v222;
            v222 = 0;
          }
          else
          {
            v241 = 32LL * v223;
            v226 = v241;
            if ( v223 )
            {
              v242 = v222;
              do
              {
                if ( *(_QWORD *)v242 != -8192 && *(_QWORD *)v242 != -4096 )
                {
                  if ( *(_BYTE *)(v242 + 24) )
                  {
                    v144 = *(_DWORD *)(v242 + 16) <= 0x40u;
                    *(_BYTE *)(v242 + 24) = 0;
                    if ( !v144 )
                    {
                      v243 = *(_QWORD *)(v242 + 8);
                      if ( v243 )
                        j_j___libc_free_0_0(v243);
                    }
                  }
                }
                v242 += 32;
              }
              while ( v222 + v241 != v242 );
            }
          }
          sub_C7D6A0(v222, v226, 8);
          v227 = *(_QWORD *)v28;
          v228 = *(_QWORD *)v28 + 48LL * *(unsigned int *)(v28 + 8);
          if ( *(_QWORD *)v28 != v228 )
          {
            v229 = v277;
            do
            {
              if ( v229 )
              {
                v230 = *(_QWORD *)v227;
                *(_DWORD *)(v229 + 32) = 0;
                *(_QWORD *)(v229 + 16) = 0;
                *(_DWORD *)(v229 + 24) = 0;
                *(_DWORD *)(v229 + 28) = 0;
                *(_QWORD *)v229 = v230;
                *(_QWORD *)(v229 + 8) = 1;
                v231 = *(_QWORD *)(v227 + 16);
                ++*(_QWORD *)(v227 + 8);
                v232 = *(_QWORD *)(v229 + 16);
                *(_QWORD *)(v229 + 16) = v231;
                LODWORD(v231) = *(_DWORD *)(v227 + 24);
                *(_QWORD *)(v227 + 16) = v232;
                LODWORD(v232) = *(_DWORD *)(v229 + 24);
                *(_DWORD *)(v229 + 24) = v231;
                LODWORD(v231) = *(_DWORD *)(v227 + 28);
                *(_DWORD *)(v227 + 24) = v232;
                LODWORD(v232) = *(_DWORD *)(v229 + 28);
                *(_DWORD *)(v229 + 28) = v231;
                LODWORD(v231) = *(_DWORD *)(v227 + 32);
                *(_DWORD *)(v227 + 28) = v232;
                LODWORD(v232) = *(_DWORD *)(v229 + 32);
                *(_DWORD *)(v229 + 32) = v231;
                *(_DWORD *)(v227 + 32) = v232;
                *(_BYTE *)(v229 + 40) = *(_BYTE *)(v227 + 40);
              }
              v227 += 48LL;
              v229 += 48;
            }
            while ( v228 != v227 );
            v228 = *(_QWORD *)v28;
            if ( *(_QWORD *)v28 + 48LL * *(unsigned int *)(v28 + 8) != *(_QWORD *)v28 )
            {
              v268 = (unsigned __int64 *)v28;
              v233 = *(_QWORD *)v28 + 48LL * *(unsigned int *)(v28 + 8);
              do
              {
                v234 = *(unsigned int *)(v233 - 16);
                v233 -= 48;
                if ( (_DWORD)v234 )
                {
                  v235 = *(_QWORD *)(v233 + 16);
                  v236 = v235 + 32 * v234;
                  do
                  {
                    if ( *(_QWORD *)v235 != -8192 && *(_QWORD *)v235 != -4096 )
                    {
                      if ( *(_BYTE *)(v235 + 24) )
                      {
                        v144 = *(_DWORD *)(v235 + 16) <= 0x40u;
                        *(_BYTE *)(v235 + 24) = 0;
                        if ( !v144 )
                        {
                          v237 = *(_QWORD *)(v235 + 8);
                          if ( v237 )
                            j_j___libc_free_0_0(v237);
                        }
                      }
                    }
                    v235 += 32;
                  }
                  while ( v236 != v235 );
                }
                sub_C7D6A0(*(_QWORD *)(v233 + 16), 32LL * *(unsigned int *)(v233 + 32), 8);
              }
              while ( v233 != v228 );
              v28 = (__int64)v268;
              v228 = *v268;
            }
          }
          v238 = (int)base;
          if ( v276 != (_QWORD *)v228 )
            _libc_free(v228);
          ++*(_DWORD *)(v28 + 8);
          *(_DWORD *)(v28 + 12) = v238;
          *(_QWORD *)v28 = v277;
        }
        else
        {
          base = (void *)1;
          v323 = 0;
          v324 = 0;
          v325 = 0;
          v298 = 1;
          v29 = *v304 + 48LL * *((unsigned int *)v304 + 2);
          if ( v29 )
          {
            *(_QWORD *)v29 = v14;
            *(_QWORD *)(v29 + 8) = 1;
            base = (char *)base + 1;
            *(_QWORD *)(v29 + 16) = v323;
            *(_QWORD *)(v29 + 24) = v324;
            *(_DWORD *)(v29 + 32) = v325;
            v323 = 0;
            v324 = 0;
            v325 = 0;
            *(_BYTE *)(v29 + 40) = 0;
          }
          sub_3163050((__int64)&base);
          ++*(_DWORD *)(v28 + 8);
        }
        sub_3163050((__int64)&v298);
      }
    }
    else
    {
      if ( *(_DWORD *)(v270 + 128) != 1 )
      {
        _BitScanReverse64(&v30, *(unsigned int *)(v270 + 128) - 1LL);
        v24 = 64 - (v30 ^ 0x3F);
        if ( v24 != 1 )
          goto LABEL_20;
      }
      v31 = sub_BCD140(v9, 1u);
      v249 = sub_315F8A0((__int64)&v330, v31, 0, 0, 0);
      sub_316C3A0((__int64 *)&v330, v8, (__int64)&v303, v270, a2, v32);
    }
  }
  v33 = (__int64 *)v303[18];
  v273 = &v33[5 * *((unsigned int *)v303 + 38)];
  if ( v33 != v273 )
  {
    v34 = v255;
    while ( 1 )
    {
      v40 = *v33;
      v41 = *(_QWORD *)(*v33 + 8);
      if ( *(_BYTE *)*v33 == 22 && (unsigned __int8)sub_B2D680(*v33) )
        v41 = sub_B2BD20(v40);
      v42 = v34;
      BYTE1(v42) = 0;
      v34 = v42;
      v43 = sub_315F8A0((__int64)&v330, v41, (unsigned __int8)v42, 0, 1);
      v44 = *v33;
      v45 = v43;
      if ( !v309 )
        break;
      v35 = 1;
      v36 = 0;
      v37 = (v309 - 1) & (((unsigned int)v44 >> 9) ^ ((unsigned int)v44 >> 4));
      v38 = (__int64 *)(v307 + 16LL * v37);
      v39 = *v38;
      if ( v44 == *v38 )
      {
LABEL_35:
        v33 += 5;
        *((_DWORD *)v38 + 2) = v45;
        if ( v273 == v33 )
          goto LABEL_46;
      }
      else
      {
        while ( v39 != -4096 )
        {
          if ( !v36 && v39 == -8192 )
            v36 = v38;
          v37 = (v309 - 1) & (v35 + v37);
          v38 = (__int64 *)(v307 + 16LL * v37);
          v39 = *v38;
          if ( v44 == *v38 )
            goto LABEL_35;
          ++v35;
        }
        if ( !v36 )
          v36 = v38;
        ++v306;
        v47 = v308 + 1;
        if ( 4 * ((int)v308 + 1) < 3 * v309 )
        {
          if ( v309 - HIDWORD(v308) - v47 <= v309 >> 3 )
          {
            sub_D39D40((__int64)&v306, v309);
            if ( !v309 )
            {
LABEL_393:
              LODWORD(v308) = v308 + 1;
              BUG();
            }
            v131 = 0;
            LODWORD(v132) = (v309 - 1) & (((unsigned int)v44 >> 9) ^ ((unsigned int)v44 >> 4));
            v133 = 1;
            v47 = v308 + 1;
            v36 = (__int64 *)(v307 + 16LL * (unsigned int)v132);
            v134 = *v36;
            if ( v44 != *v36 )
            {
              while ( v134 != -4096 )
              {
                if ( !v131 && v134 == -8192 )
                  v131 = v36;
                v132 = (v309 - 1) & ((_DWORD)v132 + v133);
                v36 = (__int64 *)(v307 + 16 * v132);
                v134 = *v36;
                if ( v44 == *v36 )
                  goto LABEL_43;
                ++v133;
              }
              if ( v131 )
                v36 = v131;
            }
          }
          goto LABEL_43;
        }
LABEL_41:
        sub_D39D40((__int64)&v306, 2 * v309);
        if ( !v309 )
          goto LABEL_393;
        LODWORD(v46) = (v309 - 1) & (((unsigned int)v44 >> 9) ^ ((unsigned int)v44 >> 4));
        v47 = v308 + 1;
        v36 = (__int64 *)(v307 + 16LL * (unsigned int)v46);
        v48 = *v36;
        if ( v44 != *v36 )
        {
          v239 = 1;
          v240 = 0;
          while ( v48 != -4096 )
          {
            if ( !v240 && v48 == -8192 )
              v240 = v36;
            v46 = (v309 - 1) & ((_DWORD)v46 + v239);
            v36 = (__int64 *)(v307 + 16 * v46);
            v48 = *v36;
            if ( v44 == *v36 )
              goto LABEL_43;
            ++v239;
          }
          if ( v240 )
            v36 = v240;
        }
LABEL_43:
        LODWORD(v308) = v47;
        if ( *v36 != -4096 )
          --HIDWORD(v308);
        *v36 = v44;
        v33 += 5;
        *((_DWORD *)v36 + 2) = 0;
        *((_DWORD *)v36 + 2) = v45;
        if ( v273 == v33 )
          goto LABEL_46;
      }
    }
    ++v306;
    goto LABEL_41;
  }
LABEL_46:
  v49 = sub_BD5D20(v271);
  v286 = 0;
  v53 = v49;
  v54 = v50;
  v55 = v50;
  v285 = v288;
  v287 = 32;
  if ( v50 > 0x20 )
  {
    sub_C8D290((__int64)&v285, v288, v50, 1u, v51, v52);
    v163 = &v285[v286];
  }
  else
  {
    if ( !v50 )
      goto LABEL_48;
    v163 = v288;
  }
  memcpy(v163, v53, v54);
  v55 = v54 + v286;
  v286 = v55;
  if ( v55 + 6 > v287 )
  {
    sub_C8D290((__int64)&v285, v288, v55 + 6, 1u, v51, v52);
    v55 = v286;
  }
LABEL_48:
  v56 = &v285[v55];
  *(_DWORD *)v56 = 1634879022;
  *((_WORD *)v56 + 2) = 25965;
  v57 = (unsigned int)v337;
  v256 = v286 + 6;
  v286 += 6LL;
  v253 = v285;
  base = &v324;
  v323 = 0x800000000LL;
  if ( (unsigned int)v337 > 8uLL )
  {
    sub_C8D5F0((__int64)&base, &v324, (unsigned int)v337, 0x28u, v51, v52);
    v57 = (unsigned int)v337;
    v58 = (__int64 *)base;
    v59 = v323;
  }
  else
  {
    v58 = &v324;
    v59 = 0;
  }
  v60 = (unsigned __int64)v336;
  v61 = &v336[6 * v57];
  if ( v336 != v61 )
  {
    do
    {
      v62 = v59;
      v63 = *(_QWORD *)v60;
      v64 = *(_BYTE *)(v60 + 32);
      v65 = *(__int64 **)(v60 + 8);
      v66 = (unsigned __int64)&v58[5 * v59];
      if ( v59 >= (unsigned __int64)HIDWORD(v323) )
      {
        LOBYTE(v302) = *(_BYTE *)(v60 + 32);
        v159 = v59 + 1LL;
        v160 = (const __m128i *)&v298;
        v298 = (__int64)v65;
        v299 = v63;
        v300 = v60;
        if ( HIDWORD(v323) < (unsigned __int64)(v62 + 1) )
        {
          if ( v58 > &v298 || v66 <= (unsigned __int64)&v298 )
          {
            sub_C8D5F0((__int64)&base, &v324, v159, 0x28u, v159, v63);
            v58 = (__int64 *)base;
            v62 = (unsigned int)v323;
            v160 = (const __m128i *)&v298;
          }
          else
          {
            v220 = (char *)((char *)&v298 - (char *)v58);
            sub_C8D5F0((__int64)&base, &v324, v62 + 1, 0x28u, v159, v63);
            v58 = (__int64 *)base;
            v62 = (unsigned int)v323;
            v160 = (const __m128i *)&v220[(_QWORD)base];
          }
        }
        v161 = (__m128i *)&v58[5 * v62];
        *v161 = _mm_loadu_si128(v160);
        v161[1] = _mm_loadu_si128(v160 + 1);
        v161[2].m128i_i64[0] = v160[2].m128i_i64[0];
        v58 = (__int64 *)base;
        v59 = v323 + 1;
        LODWORD(v323) = v323 + 1;
      }
      else
      {
        if ( v66 )
        {
          *(_QWORD *)v66 = v65;
          *(_QWORD *)(v66 + 8) = v63;
          *(_QWORD *)(v66 + 16) = v60;
          *(_BYTE *)(v66 + 32) = v64;
          v59 = v323;
          v58 = (__int64 *)base;
        }
        LODWORD(v323) = ++v59;
      }
      v60 += 48LL;
    }
    while ( v61 != (__int64 *)v60 );
  }
  v67 = sub_371AD00(v58);
  v70 = (char *)base;
  v332 = v67;
  LOBYTE(v333) = v71;
  v72 = (char *)base + 40 * (unsigned int)v323;
  if ( base == v72 )
  {
LABEL_211:
    v250 = 0;
    v274 = 0;
  }
  else
  {
    v73 = (char *)base;
    while ( (*(_QWORD *)v73 & ~(-1LL << *(_BYTE *)(*((_QWORD *)v73 + 2) + 33LL))) == 0 )
    {
      v73 += 40;
      if ( v72 == v73 )
        goto LABEL_211;
    }
    v250 = 1;
    v274 = 1;
  }
  v298 = (__int64)&v300;
  v299 = 0x1000000000LL;
  if ( 3 * (unsigned __int64)(unsigned int)v323 > 0x21 )
  {
    sub_C8D5F0((__int64)&v298, &v300, (3 * (unsigned __int64)(unsigned int)v323) >> 1, 8u, v68, v69);
    v70 = (char *)base;
    v72 = (char *)base + 40 * (unsigned int)v323;
  }
  v74 = 0;
  if ( v72 != v70 )
  {
    v75 = v70;
    do
    {
      while ( 1 )
      {
        v76 = *(_QWORD *)v75;
        v77 = *((_QWORD *)v75 + 2);
        if ( *(_QWORD *)v75 != v74
          && (v274 || v76 != (((1LL << *(_BYTE *)(v77 + 33)) + v74 - 1) & -(1LL << *(_BYTE *)(v77 + 33)))) )
        {
          v78 = v76 - v74;
          v79 = (__int64 *)sub_BCB2B0((_QWORD *)v331);
          v80 = sub_BCD420(v79, v78);
          v81 = (unsigned int)v299;
          if ( (unsigned __int64)(unsigned int)v299 + 1 > HIDWORD(v299) )
          {
            v266 = v80;
            sub_C8D5F0((__int64)&v298, &v300, (unsigned int)v299 + 1LL, 8u, v68, v69);
            v81 = (unsigned int)v299;
            v80 = v266;
          }
          *(_QWORD *)(v298 + 8 * v81) = v80;
          LODWORD(v299) = v299 + 1;
        }
        *(_QWORD *)(v77 + 8) = v76;
        v82 = (unsigned int)v299;
        v83 = *(_QWORD *)(v77 + 16);
        *(_QWORD *)(v77 + 24) = (unsigned int)v299;
        if ( v82 + 1 > (unsigned __int64)HIDWORD(v299) )
        {
          v265 = v83;
          sub_C8D5F0((__int64)&v298, &v300, v82 + 1, 8u, v68, v69);
          v82 = (unsigned int)v299;
          v83 = v265;
        }
        *(_QWORD *)(v298 + 8 * v82) = v83;
        LODWORD(v299) = v299 + 1;
        if ( *(_QWORD *)(v77 + 40) )
          break;
        v75 += 40;
        v74 = v76 + *(_QWORD *)v77;
        if ( v72 == v75 )
          goto LABEL_78;
      }
      v264 = *(_QWORD *)(v77 + 40);
      v84 = (__int64 *)sub_BCB2B0((_QWORD *)v331);
      v85 = sub_BCD420(v84, v264);
      v86 = (unsigned int)v299;
      if ( (unsigned __int64)(unsigned int)v299 + 1 > HIDWORD(v299) )
      {
        v267 = v85;
        sub_C8D5F0((__int64)&v298, &v300, (unsigned int)v299 + 1LL, 8u, v68, v69);
        v86 = (unsigned int)v299;
        v85 = v267;
      }
      v75 += 40;
      *(_QWORD *)(v298 + 8 * v86) = v85;
      LODWORD(v299) = v299 + 1;
      v74 = v76 + *(_QWORD *)v77;
    }
    while ( v72 != v75 );
  }
LABEL_78:
  v87 = sub_BD0E80((_QWORD *)v331, (__int64 *)v298, (unsigned int)v299, v253, v256, v250);
  HIBYTE(v333) = 1;
  v88 = v87;
  if ( (unsigned __int64 *)v298 != &v300 )
    _libc_free(v298);
  if ( base != &v324 )
    _libc_free((unsigned __int64)base);
  if ( v285 != v288 )
    _libc_free((unsigned __int64)v285);
  base = &v330;
  v305 = 1;
  v323 = (__int64)&v303;
  v89 = (__int64 *)v303[18];
  v90 = &v89[5 * *((unsigned int *)v303 + 38)];
  while ( v90 != v89 )
  {
    v91 = *v89;
    v89 += 5;
    sub_3167600((__int64 *)&base, v91);
  }
  v92 = (__int64 *)*v304;
  v93 = *v304 + 48LL * *((unsigned int *)v304 + 2);
  if ( *v304 != v93 )
  {
    do
    {
      v94 = *v92;
      v92 += 6;
      sub_3167600((__int64 *)&base, v94);
    }
    while ( (__int64 *)v93 != v92 );
  }
  v95 = v333;
  v305 = 0;
  *(_BYTE *)(v270 + 296) = v333;
  v96 = v332;
  *(_QWORD *)(v270 + 304) = v332;
  v97 = *(_DWORD *)(v270 + 280);
  if ( v97 > 2 )
  {
    if ( v97 == 3 )
    {
      v156 = *(_QWORD *)(v270 + 352);
      v157 = -(1LL << v95) & ((1LL << v95) + *(_QWORD *)(v270 + 344) - 1);
      *(_QWORD *)(v270 + 360) = v157;
      if ( v156 )
      {
        _BitScanReverse64(&v156, v156);
        v158 = v156 ^ 0x3F;
        *(_QWORD *)(v270 + 368) = ((1LL << (63 - v158)) + v96 + v157 - 1) & -(1LL << (63 - v158));
        if ( v95 > (unsigned __int8)(63 - v158) )
          sub_C64ED0(
            "The alignment requirment of frame variables cannot be higher than the alignment of the async function context",
            1u);
      }
      else
      {
        *(_QWORD *)(v270 + 368) = 0;
      }
    }
  }
  else if ( v97 > 0 )
  {
    v181 = *(_QWORD *)(*(_QWORD *)v270 - 32LL * (*(_DWORD *)(*(_QWORD *)v270 + 4LL) & 0x7FFFFFF));
    v182 = *(_QWORD *)(v181 - 32LL * (*(_DWORD *)(v181 + 4) & 0x7FFFFFF));
    v183 = *(_QWORD **)(v182 + 24);
    if ( *(_DWORD *)(v182 + 32) > 0x40u )
      v183 = (_QWORD *)*v183;
    v184 = 0;
    if ( v96 <= (unsigned __int64)v183 )
    {
      v185 = *(_QWORD *)(v181 + 32 * (1LL - (*(_DWORD *)(v181 + 4) & 0x7FFFFFF)));
      v186 = *(_QWORD *)(v185 + 24);
      if ( *(_DWORD *)(v185 + 32) > 0x40u )
        v186 = *(_QWORD *)v186;
      v187 = 0;
      if ( v186 )
      {
        _BitScanReverse64(&v186, v186);
        v187 = 63 - (v186 ^ 0x3F);
      }
      v184 = v95 <= v187;
    }
    *(_BYTE *)(v270 + 360) = v184;
  }
  else if ( !v97 )
  {
    v98 = &v336[6 * v249];
    v99 = *((_BYTE *)v98 + 32);
    v100 = v98[1];
    v101 = v98[3];
    *(_DWORD *)(v270 + 360) = v100;
    *(_DWORD *)(v270 + 352) = v101;
    *(_DWORD *)(v270 + 356) = 1LL << v99;
    *(_QWORD *)(v270 + 304) = (v96 + (1LL << v95) - 1) & -(1LL << v95);
  }
  sub_C7D6A0(v352, 16LL * v354, 8);
  if ( v336 != &v338 )
    _libc_free((unsigned __int64)v336);
  *(_QWORD *)(v270 + 288) = v88;
  *(_QWORD *)(a1[2] + 312) = *(_QWORD *)a1[2];
  sub_3169200(a1[1], a1[2], (__int64)&v303);
  sub_31650D0((__int64 *)&v303, a1[2]);
  v251 = &v282[(unsigned int)v283];
  if ( v282 != v251 )
  {
    v275 = v282;
    while ( 1 )
    {
      v102 = *v275;
      v341 = (__int64 *)sub_BD5C60(*v275);
      v330 = &v332;
      v342 = &v350;
      v331 = 0x200000000LL;
      v343 = v351;
      v346 = 512;
      LOWORD(v340) = 0;
      v344 = 0;
      v350 = &unk_49DA100;
      v345 = 0;
      v347 = 7;
      v348 = 0;
      v349 = 0;
      v338 = 0;
      v339 = 0;
      v351[0] = &unk_49DA0B0;
      sub_D5F1F0((__int64)&v330, v102);
      v103 = *(_QWORD *)(v102 + 16);
      if ( v103 )
      {
        while ( 1 )
        {
          v104 = *(_QWORD *)(v103 + 24);
          if ( *(_BYTE *)v104 == 85 )
          {
            v105 = *(_QWORD *)(v104 - 32);
            if ( v105 )
            {
              if ( !*(_BYTE *)v105
                && *(_QWORD *)(v105 + 24) == *(_QWORD *)(v104 + 80)
                && (*(_BYTE *)(v105 + 33) & 0x20) != 0
                && *(_DWORD *)(v105 + 36) == 30
                && !(unsigned __int8)sub_315E570(*(_QWORD *)(v104 + 40), 3) )
              {
                break;
              }
            }
          }
          v103 = *(_QWORD *)(v103 + 8);
          if ( !v103 )
            goto LABEL_201;
        }
        v326 = 257;
        v106 = sub_AA4E30(v338);
        BYTE4(v298) = 0;
        v285 = (_BYTE *)sub_BCE3C0(v341, *(_DWORD *)(v106 + 4));
        v107 = sub_B33D10((__int64)&v330, 0x157u, (__int64)&v285, 1, 0, 0, v298, (__int64)&base);
      }
      else
      {
LABEL_201:
        v107 = 0;
      }
      v302 = 257;
      v254 = *(_QWORD *)(v102 - 32LL * (*(_DWORD *)(v102 + 4) & 0x7FFFFFF));
      v108 = (__int64 *)sub_BCB2B0(v341);
      v109 = sub_AA4E30(v338);
      v110 = sub_AE5260(v109, (__int64)v108);
      v111 = *(_DWORD *)(v109 + 4);
      v326 = 257;
      v257 = v110;
      v258 = v111;
      v112 = sub_BD2C40(80, 1u);
      v113 = (__int64)v112;
      if ( v112 )
        sub_B4CCA0((__int64)v112, v108, v258, v254, v257, (__int64)&base, 0, 0);
      (*(void (__fastcall **)(_QWORD *, __int64, __int64 *, __int64, __int64))(*v343 + 16LL))(
        v343,
        v113,
        &v298,
        v339,
        v340);
      v116 = &v330[2 * (unsigned int)v331];
      v117 = (__int64)v330;
      if ( v330 != v116 )
      {
        do
        {
          v118 = *(_QWORD *)(v117 + 8);
          v119 = *(_DWORD *)v117;
          v117 += 16;
          sub_B99FD0(v113, v119, v118);
        }
        while ( v116 != (__int64 *)v117 );
      }
      v120 = *(_QWORD *)(v102 + 32 * (1LL - (*(_DWORD *)(v102 + 4) & 0x7FFFFFF)));
      if ( *(_DWORD *)(v120 + 32) <= 0x40u )
        v121 = *(_QWORD *)(v120 + 24);
      else
        v121 = **(_QWORD **)(v120 + 24);
      v122 = 0;
      if ( v121 )
      {
        _BitScanReverse64(&v121, v121);
        v122 = 63 - (v121 ^ 0x3F);
      }
      *(_WORD *)(v113 + 2) = v122 | *(_WORD *)(v113 + 2) & 0xFFC0;
      if ( *(_QWORD *)(v102 + 16) )
        break;
      v128 = (unsigned int)v280;
      v135 = (unsigned int)v280 + 1LL;
      if ( v135 > HIDWORD(v280) )
        goto LABEL_208;
LABEL_146:
      *(_QWORD *)&v279[8 * v128] = v102;
      LODWORD(v280) = v280 + 1;
      nullsub_61();
      v350 = &unk_49DA100;
      nullsub_63();
      if ( v330 != &v332 )
        _libc_free((unsigned __int64)v330);
      if ( v251 == ++v275 )
        goto LABEL_149;
    }
    v259 = v102;
    v123 = *(_QWORD *)(v102 + 16);
    v124 = v113;
    do
    {
      v129 = *(_QWORD *)(v123 + 24);
      if ( *(_BYTE *)v129 == 85
        && (v130 = *(_QWORD *)(v129 - 32)) != 0
        && !*(_BYTE *)v130
        && *(_QWORD *)(v130 + 24) == *(_QWORD *)(v129 + 80)
        && (*(_BYTE *)(v130 + 33) & 0x20) != 0
        && *(_DWORD *)(v130 + 36) == 31 )
      {
        sub_BD84D0(*(_QWORD *)(v123 + 24), v124);
      }
      else if ( v107 )
      {
        sub_D5F1F0((__int64)&v330, *(_QWORD *)(v123 + 24));
        BYTE4(v298) = 0;
        v326 = 257;
        v125 = *(_QWORD *)(v107 + 8);
        v278 = v107;
        v285 = (_BYTE *)v125;
        sub_B33D10((__int64)&v330, 0x156u, (__int64)&v285, 1, (int)&v278, 1, v298, (__int64)&base);
        v114 = v245;
        v115 = v248;
      }
      v126 = (unsigned int)v280;
      v127 = (unsigned int)v280 + 1LL;
      if ( v127 > HIDWORD(v280) )
      {
        sub_C8D5F0((__int64)&v279, v281, v127, 8u, v114, v115);
        v126 = (unsigned int)v280;
      }
      *(_QWORD *)&v279[8 * v126] = v129;
      v128 = (unsigned int)(v280 + 1);
      LODWORD(v280) = v280 + 1;
      v123 = *(_QWORD *)(v123 + 8);
    }
    while ( v123 );
    v135 = v128 + 1;
    v102 = v259;
    if ( v128 + 1 <= (unsigned __int64)HIDWORD(v280) )
      goto LABEL_146;
LABEL_208:
    sub_C8D5F0((__int64)&v279, v281, v135, 8u, v114, v115);
    v128 = (unsigned int)v280;
    goto LABEL_146;
  }
LABEL_149:
  v136 = (_QWORD **)v279;
  v137 = (_QWORD **)&v279[8 * (unsigned int)v280];
  if ( v137 != (_QWORD **)v279 )
  {
    do
    {
      v138 = *v136++;
      sub_B43D60(v138);
    }
    while ( v137 != v136 );
  }
  sub_C7D6A0(v319, 16LL * v321, 8);
  sub_C7D6A0(v315, 16LL * v317, 8);
  sub_C7D6A0(v311, 16LL * v313, 8);
  sub_C7D6A0(v307, 16LL * v309, 8);
  if ( v282 != (__int64 *)v284 )
    _libc_free((unsigned __int64)v282);
  if ( v279 != v281 )
    _libc_free((unsigned __int64)v279);
  v139 = v327;
  v140 = (unsigned __int64)&v327[48 * (unsigned int)v328];
  if ( v327 != (_BYTE *)v140 )
  {
    do
    {
      v141 = *(unsigned int *)(v140 - 16);
      v140 -= 48LL;
      if ( (_DWORD)v141 )
      {
        v142 = *(_QWORD *)(v140 + 16);
        v143 = v142 + 32 * v141;
        do
        {
          while ( 1 )
          {
            if ( *(_QWORD *)v142 != -8192 && *(_QWORD *)v142 != -4096 )
            {
              if ( *(_BYTE *)(v142 + 24) )
              {
                v144 = *(_DWORD *)(v142 + 16) <= 0x40u;
                *(_BYTE *)(v142 + 24) = 0;
                if ( !v144 )
                {
                  v145 = *(_QWORD *)(v142 + 8);
                  if ( v145 )
                    break;
                }
              }
            }
            v142 += 32;
            if ( v143 == v142 )
              goto LABEL_165;
          }
          j_j___libc_free_0_0(v145);
          v142 += 32;
        }
        while ( v143 != v142 );
      }
LABEL_165:
      sub_C7D6A0(*(_QWORD *)(v140 + 16), 32LL * *(unsigned int *)(v140 + 32), 8);
    }
    while ( v139 != (_BYTE *)v140 );
    v140 = (unsigned __int64)v327;
  }
  if ( (_BYTE *)v140 != v329 )
    _libc_free(v140);
  v146 = v360;
  v147 = (unsigned __int64)&v360[40 * (unsigned int)v361];
  if ( v360 != (_BYTE *)v147 )
  {
    do
    {
      v147 -= 40LL;
      v148 = *(_QWORD *)(v147 + 8);
      if ( v148 != v147 + 24 )
        _libc_free(v148);
    }
    while ( v146 != (_BYTE *)v147 );
    v147 = (unsigned __int64)v360;
  }
  if ( (_BYTE *)v147 != v362 )
    _libc_free(v147);
  if ( (v356 & 1) == 0 )
    sub_C7D6A0(v357, 16LL * (unsigned int)v358, 8);
  v149 = v291;
  v150 = &v291[8 * (unsigned int)v292];
  if ( v291 != v150 )
  {
    do
    {
      v151 = *((_QWORD *)v150 - 1);
      v150 -= 8;
      if ( v151 )
      {
        v152 = *(_QWORD *)(v151 + 24);
        if ( v152 != v151 + 40 )
          _libc_free(v152);
        j_j___libc_free_0(v151);
      }
    }
    while ( v149 != v150 );
    v150 = v291;
  }
  if ( v150 != v293 )
    _libc_free((unsigned __int64)v150);
  if ( (char *)v289[0] != &v290 )
    _libc_free(v289[0]);
  v153 = v365;
  v154 = &v365[19 * v366];
  if ( v365 != v154 )
  {
    do
    {
      v154 -= 19;
      v155 = v154[9];
      if ( (unsigned __int64 *)v155 != v154 + 11 )
        _libc_free(v155);
      if ( (unsigned __int64 *)*v154 != v154 + 2 )
        _libc_free(*v154);
    }
    while ( v153 != v154 );
    v154 = v365;
  }
  if ( v154 != (unsigned __int64 *)&v367 )
    _libc_free((unsigned __int64)v154);
  if ( (char *)v363[0] != &v364 )
    _libc_free(v363[0]);
}
