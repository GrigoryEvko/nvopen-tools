// Function: sub_5E13C0
// Address: 0x5e13c0
//
__int64 __fastcall sub_5E13C0(__int64 a1, FILE *a2)
{
  char v2; // r15
  unsigned __int8 v3; // r12
  __int64 v4; // rbx
  int v5; // r13d
  unsigned int v6; // eax
  __int64 result; // rax
  int v8; // r12d
  FILE *v9; // rsi
  char v10; // al
  char v11; // al
  char v12; // al
  char *v13; // r15
  __int64 v14; // rdi
  FILE *v15; // rsi
  char v16; // al
  char *v17; // r15
  int v18; // eax
  char v19; // al
  char *v20; // r15
  const char *v21; // rdi
  int v22; // eax
  int v23; // edx
  char v24; // al
  const char *v25; // r15
  __int64 v26; // rax
  __int64 v27; // r12
  char v28; // dl
  __int64 v29; // rax
  __int64 v30; // rdx
  __int64 v31; // rcx
  __int64 v32; // r8
  __int64 v33; // r9
  __int64 n; // r14
  __int64 v35; // r15
  FILE *v36; // rsi
  __int64 v37; // rax
  __int64 i; // r14
  __int64 v39; // rax
  __int64 v40; // rdi
  __int64 *jj; // r12
  __int64 v42; // rax
  _QWORD *v43; // rax
  char v44; // al
  char *v45; // r15
  __int64 *v46; // rax
  __int64 v47; // rdi
  char v48; // al
  char *v49; // r15
  char v50; // al
  char *v51; // r15
  unsigned __int8 v52; // al
  __int64 v53; // rsi
  __int64 v54; // rsi
  __int64 v55; // rsi
  __int64 j; // rax
  char v57; // al
  char v58; // al
  char *v59; // r12
  const char *v60; // r15
  int v61; // r14d
  const char *v62; // r13
  int v63; // r12d
  char v64; // al
  __int64 *v65; // r13
  char v66; // al
  char v67; // dl
  __int64 v68; // rdi
  bool v69; // r12
  char v70; // al
  __int64 v71; // r12
  __int64 v72; // rax
  __int64 v73; // rdx
  char v74; // al
  __int64 v75; // rax
  _QWORD *v76; // r13
  int v77; // r14d
  int v78; // edi
  __int64 v79; // r12
  char *v80; // r15
  int v81; // ebx
  char kk; // al
  char v83; // al
  const char *v84; // r12
  const char *v85; // r15
  int v86; // r14d
  const char *v87; // r13
  int v88; // r12d
  char v89; // al
  __int64 v90; // rax
  _QWORD *v91; // rbx
  int v92; // r13d
  int v93; // edi
  __int64 v94; // r12
  __int64 v95; // rdi
  char *v96; // r14
  int v97; // eax
  int v98; // edi
  int v99; // r12d
  __int64 v100; // rdi
  char v101; // al
  char *v102; // rbx
  int v103; // ebx
  int v104; // edi
  char *v105; // r14
  char v106; // al
  char *v107; // r15
  __int64 v108; // rax
  __int64 v109; // rax
  int ii; // edx
  __int64 v111; // rax
  int v112; // ecx
  __int64 v113; // r12
  __int64 v114; // rax
  char *v115; // r12
  int v116; // eax
  bool v117; // cf
  bool v118; // zf
  __int64 v119; // rcx
  const char *v120; // rdi
  char v121; // al
  char *v122; // r12
  char *v123; // r12
  char v124; // al
  char v125; // cl
  __int64 k; // rax
  char *v127; // r15
  char v128; // al
  char v129; // al
  char *v130; // r12
  __int64 v131; // rdi
  char *v132; // r12
  __int64 v133; // rax
  char v134; // al
  __int64 v135; // rax
  const char *v136; // r14
  const char *v137; // r13
  int v138; // r12d
  char mm; // al
  __int64 v140; // rax
  _QWORD *v141; // r14
  int v142; // r12d
  char v143; // al
  char *v144; // r15
  __int64 v145; // r13
  int v146; // ebx
  char nn; // al
  FILE *v148; // rsi
  __int64 v149; // rdi
  const char *v150; // r12
  int v151; // r15d
  const char *v152; // r13
  int v153; // r14d
  char v154; // al
  __int64 v155; // rax
  _QWORD *v156; // rbx
  int v157; // r13d
  char v158; // al
  __int64 v159; // rdi
  char *v160; // r14
  int v161; // eax
  int v162; // edi
  int v163; // r12d
  __int64 v164; // rdi
  char v165; // al
  char *v166; // rbx
  FILE *v167; // rsi
  char v168; // al
  char *v169; // rbx
  const char *v170; // r13
  const char *v171; // r12
  int v172; // ebx
  char i1; // al
  int v174; // edi
  char *v175; // r12
  char v176; // al
  const char *v177; // r15
  char v178; // al
  const char *v179; // r15
  char v180; // al
  __int64 v181; // r15
  __int64 v182; // rsi
  __int64 v183; // rax
  char v184; // al
  char *v185; // r15
  FILE *v186; // rsi
  __int64 v187; // rdi
  char v188; // al
  char *v189; // r15
  __int64 v190; // rax
  char v191; // al
  char *v192; // r12
  char v193; // al
  char *v194; // r14
  char v195; // al
  char *v196; // rbx
  __int64 v197; // r12
  char v198; // al
  char *v199; // r14
  __int64 v200; // r14
  __int64 v201; // rdi
  char *v202; // r14
  char v203; // al
  __int64 v204; // r14
  unsigned __int64 v205; // rdi
  char *v206; // r14
  char v207; // al
  char *v208; // r14
  char m; // al
  __int64 v210; // rax
  char v211; // al
  char *v212; // r12
  int v213; // [rsp+8h] [rbp-98h]
  __int64 v214; // [rsp+10h] [rbp-90h]
  __int64 v215; // [rsp+10h] [rbp-90h]
  int v216; // [rsp+18h] [rbp-88h]
  __int64 v217; // [rsp+18h] [rbp-88h]
  int v218; // [rsp+18h] [rbp-88h]
  __int64 v219; // [rsp+18h] [rbp-88h]
  char v220; // [rsp+20h] [rbp-80h]
  char *v221; // [rsp+20h] [rbp-80h]
  unsigned __int8 s; // [rsp+28h] [rbp-78h]
  char sa; // [rsp+28h] [rbp-78h]
  char *sb; // [rsp+28h] [rbp-78h]
  int v225; // [rsp+34h] [rbp-6Ch]
  FILE *v226; // [rsp+38h] [rbp-68h]
  int v227; // [rsp+48h] [rbp-58h] BYREF
  int v228; // [rsp+4Ch] [rbp-54h] BYREF
  char v229[8]; // [rsp+50h] [rbp-50h] BYREF
  __int64 v230; // [rsp+58h] [rbp-48h]
  __int128 v231; // [rsp+60h] [rbp-40h]

  v2 = 0;
  v3 = (unsigned __int8)a2;
  v4 = a1;
  v5 = *(_DWORD *)(a1 + 160);
  if ( v5 )
  {
    v5 = (*(_BYTE *)(a1 + 203) & 4) != 0;
    v2 = (*(_BYTE *)(a1 + 203) & 4) != 0;
  }
  s = *(_BYTE *)(a1 + 172);
  v226 = stream;
  if ( (*(_BYTE *)(a1 + 197) & 0x60) != 0 )
  {
    a1 = (__int64)qword_4CF7EB0;
    sub_5D3B20(qword_4CF7EB0);
    v37 = *(_QWORD *)(v4 + 128);
    if ( v37 )
    {
      if ( (*(_BYTE *)(v37 + 198) & 0x20) != 0 )
      {
        for ( i = *(_QWORD *)(v4 + 152); *(_BYTE *)(i + 140) == 12; i = *(_QWORD *)(i + 160) )
          ;
        *(_QWORD *)(i + 160) = sub_72CBE0();
        *(_BYTE *)(*(_QWORD *)(i + 168) + 16LL) &= ~8u;
      }
    }
  }
  if ( (*(_BYTE *)(v4 + 198) & 0x10) != 0 )
  {
    a1 = (__int64)qword_4CF7EB8;
    v226 = stream;
    sub_5D3B20(qword_4CF7EB8);
  }
  v225 = 0;
  if ( (*(_BYTE *)(v4 - 8) & 0x10) != 0 && qword_4CF7EB8 == stream )
  {
    a1 = (__int64)"#if !defined(__CUDABE__)";
    sub_5D3EB0("#if !defined(__CUDABE__)");
    v225 = 1;
  }
  if ( !sub_5D76E0() )
  {
    result = sub_5D7700();
    if ( !(_DWORD)result )
      return result;
  }
  if ( (*(_BYTE *)(v4 + 203) & 0x40) != 0 )
  {
    if ( v2 )
    {
      v6 = (unsigned int)a2;
      v5 = dword_4F068C4;
      if ( dword_4F068C4 )
      {
        s = 1;
        v5 = 1;
        v2 = 0;
        goto LABEL_23;
      }
    }
    else
    {
      v6 = (unsigned int)a2;
      v2 = 1;
      v5 = 0;
    }
  }
  else
  {
    v6 = (unsigned int)a2 & (v5 ^ 1);
    v2 = (v5 ^ 1) & 1;
  }
  v220 = 1;
  if ( v6 )
    goto LABEL_13;
LABEL_23:
  v220 = (unsigned __int8)a2 & 1;
  if ( ((_DWORD)a2 || (*(_BYTE *)(v4 + 193) & 0x10) != 0) && (*(_BYTE *)(v4 - 8) & 0x10) != 0 && qword_4CF7EB8 == stream )
    goto LABEL_13;
  if ( !*(_BYTE *)(v4 + 174) )
  {
    if ( *(_WORD *)(v4 + 176) )
    {
      if ( !*(_QWORD *)(v4 + 104) )
      {
        if ( (*(_BYTE *)(v4 + 88) & 8) == 0 )
          goto LABEL_13;
        a1 = *(_QWORD *)(v4 + 152);
        a2 = (FILE *)sub_5D2E30;
        if ( !(unsigned int)sub_8D9600(a1, sub_5D2E30, 3) )
          goto LABEL_13;
      }
    }
  }
  if ( (*(_BYTE *)(v4 + 88) & 8) != 0 )
  {
LABEL_31:
    v8 = (unsigned __int8)v5 & v3 & 1;
    if ( !v8 && !v2 )
      goto LABEL_33;
    if ( *(char *)(v4 + 88) < 0 )
    {
      v181 = 0;
      while ( 1 )
      {
        v182 = unk_4F04C50;
        if ( unk_4F04C50 )
          v182 = qword_4CF7E98;
        v183 = sub_732D20(v4, v182, 0, v181);
        v181 = v183;
        if ( !v183 )
          break;
        sub_5D52E0(v183, v182);
      }
    }
    if ( (_BYTE)v8 )
    {
      v52 = *(_BYTE *)(v4 + 204);
      if ( (v52 & 6) != 0 )
      {
        v53 = (v52 >> 1) & 3;
        if ( (_DWORD)v53 != (unsigned __int8)byte_4CF7CD2 )
        {
          sub_5D4B20(1, v53);
          v52 = *(_BYTE *)(v4 + 204);
        }
      }
      if ( (v52 & 0x18) != 0 )
      {
        v54 = (v52 >> 3) & 3;
        if ( (_DWORD)v54 != (unsigned __int8)byte_4CF7CD1 )
        {
          sub_5D4B20(2, v54);
          v52 = *(_BYTE *)(v4 + 204);
        }
      }
      if ( (v52 & 0x60) != 0 )
      {
        v55 = (v52 >> 5) & 3;
        if ( (_DWORD)v55 != (unsigned __int8)byte_4CF7CD0 )
          sub_5D4B20(3, v55);
      }
      for ( j = *(_QWORD *)(v4 + 152); *(_BYTE *)(j + 140) == 12; j = *(_QWORD *)(j + 160) )
        ;
      if ( *(_QWORD *)(*(_QWORD *)(j + 168) + 40LL) && dword_4F068C4 )
      {
        v184 = 95;
        v185 = "_asm__(\".align 2\");";
        do
        {
          v186 = stream;
          v187 = (unsigned int)v184;
          ++v185;
          putc(v187, stream);
          v184 = *(v185 - 1);
        }
        while ( v184 );
        dword_4CF7F40 += 20;
        sub_5D37C0(v187, v186);
      }
      sub_5D45D0((unsigned int *)(v4 + 64));
      if ( s != 2 )
      {
        v57 = *(_BYTE *)(v4 - 8);
        v227 = 0;
        v228 = 0;
        v9 = stream;
        v10 = v57 & 0x10;
        if ( !HIDWORD(qword_4D045BC) )
          goto LABEL_35;
        if ( v10 )
        {
LABEL_115:
          if ( qword_4CF7EB8 != v9 )
          {
            if ( (*(_BYTE *)(v4 + 198) & 0x20) == 0 )
              goto LABEL_43;
            goto LABEL_117;
          }
          v188 = 32;
          v189 = "__device_builtin__ ";
          while ( 1 )
          {
            ++v189;
            putc(v188, v9);
            v188 = *(v189 - 1);
            if ( !v188 )
              break;
            v9 = stream;
          }
          dword_4CF7F40 += 20;
          v9 = stream;
LABEL_36:
          v11 = *(_BYTE *)(v4 + 198);
          if ( (v11 & 0x20) == 0 )
          {
            if ( qword_4CF7EB8 == v9 && (v11 & 0x10) != 0 )
            {
              v12 = 95;
              v13 = "__device__(";
              while ( 1 )
              {
                ++v13;
                putc(v12, v9);
                v12 = *(v13 - 1);
                if ( !v12 )
                  break;
                v9 = stream;
              }
              dword_4CF7F40 += 12;
            }
            goto LABEL_43;
          }
LABEL_117:
          v43 = *(_QWORD **)(v4 + 328);
          if ( v43 && *v43 )
          {
            v44 = 95;
            v45 = "_launch_bounds__(";
            while ( 1 )
            {
              ++v45;
              putc(v44, v9);
              v44 = *(v45 - 1);
              if ( !v44 )
                break;
              v9 = stream;
            }
            v46 = *(__int64 **)(v4 + 328);
            dword_4CF7F40 += 18;
            sub_5D5250(*v46);
            v47 = *(_QWORD *)(*(_QWORD *)(v4 + 328) + 8LL);
            if ( v47 && (unsigned int)sub_6210B0(v47, 0) )
            {
              putc(44, stream);
              v210 = *(_QWORD *)(v4 + 328);
              ++dword_4CF7F40;
              sub_5D5250(*(_QWORD *)(v210 + 8));
            }
            v48 = 41;
            v49 = " ";
            do
            {
              ++v49;
              putc(v48, stream);
              v48 = *(v49 - 1);
            }
            while ( v48 );
            dword_4CF7F40 += 2;
            v9 = stream;
          }
          v50 = 95;
          v51 = "_global__ __var_used__ ";
          while ( 1 )
          {
            ++v51;
            putc(v50, v9);
            v50 = *(v51 - 1);
            if ( !v50 )
              break;
            v9 = stream;
          }
          dword_4CF7F40 += 24;
LABEL_43:
          if ( sub_5D76E0() )
          {
            v14 = 1;
            if ( (*(_BYTE *)(v4 - 8) & 0x10) != 0 )
              goto LABEL_53;
            if ( v5
              && (*(_BYTE *)(v4 + 198) & 0x20) == 0
              && (!unk_4D045AC || (_DWORD)qword_4D045BC)
              && !HIDWORD(qword_4D045BC)
              && *(_DWORD *)(v4 + 160) )
            {
              v14 = s;
              if ( !(unk_4D04630 | unk_4D04614) )
                v14 = 2;
LABEL_53:
              sub_5D3F60(v14);
              v15 = stream;
              if ( qword_4CF7EB8 == stream && (*(_BYTE *)(v4 + 198) & 0x30) == 0x10 )
              {
                v106 = 32;
                v107 = "__no_sc__) ";
                while ( 1 )
                {
                  ++v107;
                  putc(v106, v15);
                  v106 = *(v107 - 1);
                  if ( !v106 )
                    break;
                  v15 = stream;
                }
                dword_4CF7F40 += 12;
                sa = 0;
              }
              else
              {
                sa = 0;
                if ( (*(_BYTE *)(v4 + 205) & 2) != 0 )
                {
                  sa = dword_4F068C4;
                  if ( dword_4F068C4 )
                  {
                    sa = 0;
                    if ( (*(_BYTE *)(v4 + 202) & 1) == 0 )
                    {
                      v16 = 32;
                      v17 = "__attribute__((__weak__))";
                      while ( 1 )
                      {
                        ++v17;
                        putc(v16, v15);
                        v16 = *(v17 - 1);
                        if ( !v16 )
                          break;
                        v15 = stream;
                      }
                      dword_4CF7F40 += 26;
                      v15 = stream;
                      sa = 1;
                    }
                  }
                  putc(32, v15);
                  v18 = dword_4CF7EA4;
                  ++dword_4CF7F40;
                  ++dword_4CF7EA4;
                  if ( !v18 )
                  {
                    v176 = 47;
                    v177 = "*";
                    do
                    {
                      ++v177;
                      putc(v176, stream);
                      v176 = *(v177 - 1);
                      ++dword_4CF7F40;
                    }
                    while ( v176 );
                  }
                  v19 = 32;
                  v20 = "COMDAT group: ";
                  do
                  {
                    ++v20;
                    putc(v19, stream);
                    v19 = *(v20 - 1);
                  }
                  while ( v19 );
                  v21 = *(const char **)(v4 + 8);
                  dword_4CF7F40 += 15;
                  v213 = dword_4CF7F40;
                  v22 = strlen(v21);
                  v23 = v213;
                  v216 = v22;
                  v24 = *v21;
                  v25 = v21 + 1;
                  if ( *v21 )
                  {
                    do
                    {
                      ++v25;
                      putc(v24, stream);
                      v24 = *(v25 - 1);
                    }
                    while ( v24 );
                    v23 = dword_4CF7F40;
                  }
                  dword_4CF7F40 = v23 + v216;
                  putc(32, stream);
                  ++dword_4CF7F40;
                  if ( !--dword_4CF7EA4 )
                  {
                    v178 = 42;
                    v179 = "/";
                    do
                    {
                      ++v179;
                      putc(v178, stream);
                      v178 = *(v179 - 1);
                      ++dword_4CF7F40;
                    }
                    while ( v178 );
                  }
                  putc(32, stream);
                  ++dword_4CF7F40;
                }
              }
              if ( dword_4F068C4 && *(char *)(v4 + 192) < 0 )
              {
                for ( k = *(_QWORD *)(v4 + 152); *(_BYTE *)(k + 140) == 12; k = *(_QWORD *)(k + 160) )
                  ;
                v127 = "_inline__ ";
                v118 = (*(_BYTE *)(*(_QWORD *)(k + 168) + 16LL) & 1) == 0;
                v128 = 95;
                if ( v118 && (sa & 1) == 0 )
                {
                  do
                  {
                    ++v127;
                    putc(v128, stream);
                    v128 = *(v127 - 1);
                  }
                  while ( v128 );
                }
                else
                {
                  do
                  {
                    ++v127;
                    putc(v128, stream);
                    v128 = *(v127 - 1);
                  }
                  while ( v128 );
                }
                dword_4CF7F40 += 11;
              }
              if ( !(_BYTE)v8 )
              {
                v113 = *(_QWORD *)(v4 + 152);
                if ( (unsigned int)sub_74FDE0(v4, 0, &qword_4CF7CE0) )
                {
                  putc(32, stream);
                  ++dword_4CF7F40;
                }
                sub_74A390(v113, 0, 1, 0, 0, &qword_4CF7CE0);
                if ( (*(_BYTE *)(v4 + 202) & 0x40) != 0 )
                {
                  sub_5D31F0("(*");
                  sub_5D34A0();
                  sub_5D31D0(41);
                }
                else if ( *(_BYTE *)(sub_8D21C0(v113) + 140) == 7 )
                {
                  sub_5D7720(v4);
                }
                else
                {
                  sub_5D5A80(v4, 0);
                }
                sub_74D110(v113, 0, 0, &qword_4CF7CE0);
                v114 = *(_QWORD *)(v4 + 256);
                if ( v114 && stream != qword_4CF7EB8 )
                  sub_7503A0(*(_QWORD *)(v114 + 40), &qword_4CF7CE0);
                if ( dword_4F068C4 )
                {
                  v115 = *(char **)(v4 + 8);
                  if ( v115 )
                  {
                    if ( !memcmp(*(const void **)(v4 + 8), "__sti__", 7u) )
                    {
                      v204 = *(unsigned __int16 *)(v4 + 352);
                      if ( *(_WORD *)(v4 + 352) )
                      {
                        putc(59, stream);
                        ++dword_4CF7F40;
                        ++dword_4CF7F60;
                        sub_5D3190(" __attribute__((section(\".ctors.");
                        v205 = 0xFFFF - v204;
                        v206 = "))) void *ctors";
                        sub_5D32F0(v205);
                        v207 = 34;
                        do
                        {
                          ++v206;
                          putc(v207, stream);
                          v207 = *(v206 - 1);
                          ++dword_4CF7F40;
                        }
                        while ( v207 );
                        v208 = v115 + 1;
                        sub_5D3190(v115);
                        --dword_4CF7F60;
                        sub_5D3190(" = ");
                        for ( m = *v115; m; ++dword_4CF7F40 )
                        {
                          ++v208;
                          putc(m, stream);
                          m = *(v208 - 1);
                        }
                      }
                      else
                      {
                        sub_5D31F0(" __attribute__((__constructor__))");
                      }
                    }
                  }
                }
                if ( (*(_BYTE *)(v4 + 202) & 0x40) != 0 )
                {
                  v129 = 32;
                  v130 = "= ";
                  do
                  {
                    ++v130;
                    putc(v129, stream);
                    v129 = *(v130 - 1);
                  }
                  while ( v129 );
                  v131 = *(_QWORD *)(v4 + 152);
                  dword_4CF7F40 += 3;
                  sub_5D4810(v131);
                  sub_5D5A80(v4, 0);
                }
                a1 = 59;
                putc(59, stream);
                a2 = *(FILE **)(v4 + 8);
                v116 = ++dword_4CF7F40;
                v117 = 0;
                v118 = a2 == 0;
                if ( a2 )
                {
                  v119 = 7;
                  a1 = (__int64)"__sti__";
                  do
                  {
                    if ( !v119 )
                      break;
                    v117 = LOBYTE(a2->_flags) < *(_BYTE *)a1;
                    v118 = LOBYTE(a2->_flags) == *(_BYTE *)a1;
                    a2 = (FILE *)((char *)a2 + 1);
                    ++a1;
                    --v119;
                  }
                  while ( v118 );
                  if ( (!v117 && !v118) == v117 && unk_4F068C0 && unk_4F068BC > 1299 )
                  {
                    if ( v116 )
                      sub_5D37C0(a1, a2);
                    ++dword_4CF7F60;
                    if ( unk_4F06A68 == 8 )
                    {
                      v120 = "#pragma section(\".CRT$XCT\",read)";
                      sub_5D3190("#pragma section(\".CRT$XCT\",read)");
                    }
                    else
                    {
                      v120 = "#pragma section(\".CRT$XCT\",read,write)";
                      sub_5D3190("#pragma section(\".CRT$XCT\",read,write)");
                    }
                    sub_5D37C0(v120, a2);
                    --dword_4CF7F60;
                    v121 = 95;
                    v122 = "_declspec(allocate(\".CRT$XCT\"))";
                    do
                    {
                      ++v122;
                      putc(v121, stream);
                      v121 = *(v122 - 1);
                      ++dword_4CF7F40;
                    }
                    while ( v121 );
                    v123 = "])(void) = {";
                    sub_5D3190("static void (*__dummy_static_init");
                    sub_5D7720(v4);
                    v124 = 91;
                    do
                    {
                      a2 = stream;
                      ++v123;
                      putc(v124, stream);
                      v124 = *(v123 - 1);
                      ++dword_4CF7F40;
                    }
                    while ( v124 );
                    sub_5D7720(v4);
                    sub_5D3190("}");
                    a1 = (__int64)";";
                    sub_5D3190(";");
                    sub_5D37C0(";", a2);
                  }
                }
                goto LABEL_87;
              }
              v214 = qword_4CF7E98;
              v26 = sub_72B840(v4);
              v27 = *(_QWORD *)(v4 + 152);
              dword_4CF7D88 = 0;
              sb = (char *)v26;
              v28 = *(_BYTE *)(v27 + 140);
              qword_4CF7E98 = v26;
              unk_4F04C50 = v26;
              if ( v28 == 12 )
              {
                v29 = v27;
                do
                  v29 = *(_QWORD *)(v29 + 160);
                while ( *(_BYTE *)(v29 + 140) == 12 );
                if ( (*(_BYTE *)(*(_QWORD *)(v29 + 168) + 16LL) & 1) == 0 )
                {
                  byte_4CF7D6B = 0;
                  v217 = 0;
                  do
LABEL_77:
                    v27 = *(_QWORD *)(v27 + 160);
                  while ( *(_BYTE *)(v27 + 140) == 12 );
                  goto LABEL_78;
                }
              }
              else if ( (*(_BYTE *)(*(_QWORD *)(v27 + 168) + 16LL) & 1) == 0 )
              {
                byte_4CF7D6B = 0;
                v217 = 0;
LABEL_78:
                if ( (unsigned int)sub_74FDE0(v4, 0, &qword_4CF7CE0) )
                {
                  putc(32, stream);
                  ++dword_4CF7F40;
                }
                sub_74A390(*(_QWORD *)(v27 + 160), 0, 1, 0, 0, &qword_4CF7CE0);
                sub_5D7720(v4);
                sub_5D7860(*(__int64 **)(v27 + 168), (__int64)sb);
                sub_74D110(*(_QWORD *)(v27 + 160), 0, 0, &qword_4CF7CE0);
                if ( (*(_BYTE *)(*(_QWORD *)(v27 + 168) + 16LL) & 6) != 2 )
                {
                  for ( n = *((_QWORD *)sb + 5); n; ++dword_4CF7F40 )
                  {
                    sub_5D45D0((unsigned int *)(n + 64));
                    v35 = *(_QWORD *)(n + 120);
                    sub_74A390(v35, 0, 1, 0, 0, &qword_4CF7CE0);
                    sub_5D6390(n);
                    sub_74D110(v35, 0, 0, &qword_4CF7CE0);
                    sub_74F860(n, 1, &qword_4CF7CE0);
                    putc(59, stream);
                    n = *(_QWORD *)(n + 112);
                  }
                }
                v36 = stream;
                if ( qword_4CF7EB8 == stream )
                {
                  v180 = *(_BYTE *)(v4 + 198);
                  if ( (v180 & 0x20) != 0 )
                  {
                    v197 = *((_QWORD *)sb + 5);
                    putc(123, stream);
                    ++dword_4CF7F40;
                    for ( ; v197; v197 = *(_QWORD *)(v197 + 112) )
                    {
                      if ( (*(_BYTE *)(v197 + 171) & 0x10) != 0 )
                      {
                        v198 = 95;
                        v199 = "_copy_param(";
                        do
                        {
                          ++v199;
                          putc(v198, stream);
                          v198 = *(v199 - 1);
                        }
                        while ( v198 );
                        dword_4CF7F40 += 13;
                        v200 = *(_QWORD *)(v197 + 120);
                        *(_BYTE *)(v197 + 169) &= ~0x80u;
                        sub_74A390(v200, 0, 1, 0, 0, &qword_4CF7CE0);
                        sub_5D6390(v197);
                        v201 = v200;
                        v202 = ";";
                        sub_74D110(v201, 0, 0, &qword_4CF7CE0);
                        *(_BYTE *)(v197 + 169) |= 0x80u;
                        putc(44, stream);
                        ++dword_4CF7F40;
                        sub_5D6390(v197);
                        v203 = 41;
                        do
                        {
                          v36 = stream;
                          ++v202;
                          putc(v203, stream);
                          v203 = *(v202 - 1);
                        }
                        while ( v203 );
                        dword_4CF7F40 += 2;
                        *(_BYTE *)(v197 + 169) &= ~0x80u;
                      }
                    }
                  }
                  else if ( (v180 & 0x10) != 0 )
                  {
                    putc(123, stream);
                    ++dword_4CF7F40;
                  }
                }
                a1 = *((_QWORD *)sb + 10);
                sub_5DFD00(a1, v36, v30, v31, v32, v33);
                a2 = stream;
                if ( qword_4CF7EB8 == stream && (*(_BYTE *)(v4 + 198) & 0x30) != 0 )
                {
                  a1 = 125;
                  putc(125, stream);
                  ++dword_4CF7F40;
                }
                byte_4CF7D6B = 1;
                unk_4F04C50 = 0;
                qword_4CF7E98 = v214;
                if ( v217 )
                {
                  qword_4CF7DA0 = 0;
                  qword_4CF7D98 = 0;
                  qword_4CF7D90 = 0;
                  dword_4CF7D8C = 0;
                  dword_4CF7D88 = 0;
                }
LABEL_87:
                if ( dword_4CF7EA0 && (*(_BYTE *)(v4 + 88) & 8) == 0 )
                {
                  a1 = (__int64)"#endif";
                  sub_5D3EB0("#endif");
                  if ( dword_4CF7F40 )
                    sub_5D37C0("#endif", a2);
                  dword_4CF7F3C = 0;
                  dword_4CF7F44 = 0;
                  qword_4CF7F48 = 0;
                  dword_4F07508[0] = 0;
                  LOWORD(dword_4F07508[1]) = 0;
                }
                goto LABEL_13;
              }
              v217 = *(_QWORD *)(v4 + 272);
              if ( v217
                || (v217 = *(_QWORD *)(v4 + 320)) != 0
                || *(_BYTE *)(v4 + 174) == 6 && (v190 = *(_QWORD *)(v4 + 176), dword_4CF7D88 = 1, (v217 = v190) != 0) )
              {
                qword_4CF7DA0 = (__int64)sb;
                v108 = sub_72B840(v217);
                v118 = *(_QWORD *)(v4 + 320) == 0;
                dword_4CF7D8C = 0;
                qword_4CF7D98 = v108;
                if ( !v118 )
                {
                  v109 = *(_QWORD *)(v108 + 40);
                  for ( ii = 0; v109; ++ii )
                    v109 = *(_QWORD *)(v109 + 112);
                  v111 = *(_QWORD *)(qword_4CF7DA0 + 40);
                  if ( v111 )
                  {
                    v112 = 0;
                    do
                    {
                      v111 = *(_QWORD *)(v111 + 112);
                      ++v112;
                    }
                    while ( v111 );
                    ii -= v112;
                  }
                  dword_4CF7D8C = ii;
                }
                v27 = *(_QWORD *)(v4 + 152);
                v28 = *(_BYTE *)(v27 + 140);
              }
              byte_4CF7D6B = 0;
              if ( v28 != 12 )
                goto LABEL_78;
              goto LABEL_77;
            }
          }
          v14 = s;
          goto LABEL_53;
        }
        if ( qword_4CF7EB8 != stream )
          goto LABEL_36;
        sub_8267B0(v4, v229, &v227, &v228);
        if ( v227 )
          sub_5D31F0(" __attribute__((nv_weak_odr)) ");
        if ( v228 )
          sub_5D31F0(" __attribute__((nv_linkonce_odr)) ");
      }
      v9 = stream;
      v10 = *(_BYTE *)(v4 - 8) & 0x10;
    }
    else
    {
LABEL_33:
      sub_5D45D0((unsigned int *)(v4 + 64));
      if ( (*(_BYTE *)(v4 + 202) & 0x40) != 0 )
      {
        s = 2;
        v9 = stream;
        v10 = *(_BYTE *)(v4 - 8) & 0x10;
      }
      else
      {
        v125 = s;
        v9 = stream;
        if ( !s )
          v125 = 1;
        s = v125;
        v10 = *(_BYTE *)(v4 - 8) & 0x10;
      }
    }
LABEL_35:
    if ( !v10 )
      goto LABEL_36;
    goto LABEL_115;
  }
  if ( dword_4CF7EA0 )
  {
    sub_5D3EB0("#if 0");
    if ( dword_4CF7F40 )
      sub_5D37C0("#if 0", a2);
    dword_4CF7F3C = 0;
    dword_4CF7F44 = 0;
    qword_4CF7F48 = 0;
    dword_4F07508[0] = 0;
    LOWORD(dword_4F07508[1]) = 0;
    goto LABEL_31;
  }
LABEL_13:
  if ( (*(_BYTE *)(v4 + 197) & 0x60) == 0x20 && (v5 & 1) != 0 && v220 )
  {
    v39 = *(_QWORD *)(v4 + 248);
    byte_4CF7D6D = 0;
    strcpy(v229, "__cuda_");
    v230 = 0;
    v231 = 0;
    if ( v39 )
    {
      v40 = *(_QWORD *)(v39 + 40);
      v218 = sub_5D5930(v40);
      sub_5D37C0(v40, a2);
      for ( jj = *(__int64 **)(v4 + 240); jj; jj = (__int64 *)*jj )
      {
        if ( !*((_BYTE *)jj + 8) )
        {
          v42 = sub_8E36B0(jj[4]);
          if ( (*(_BYTE *)(v42 + 89) & 2) != 0 || (*(_BYTE *)(v42 + 141) & 8) != 0 )
            sub_5D6FC0();
        }
      }
      v58 = 116;
      v59 = "emplate<> __specialization_static void __wrapper__device_stub_";
      do
      {
        ++v59;
        putc(v58, stream);
        v58 = *(v59 - 1);
      }
      while ( v58 );
      v60 = *(const char **)(v4 + 24);
      v61 = dword_4CF7F40 + 63;
      v62 = v60 + 1;
      dword_4CF7F40 += 63;
      v63 = strlen(v60);
      v64 = *v60;
      if ( *v60 )
      {
        do
        {
          ++v62;
          putc(v64, stream);
          v64 = *(v62 - 1);
        }
        while ( v64 );
        v61 = dword_4CF7F40;
      }
      v65 = *(__int64 **)(v4 + 240);
      dword_4CF7F40 = v61 + v63;
      if ( v65 )
      {
        while ( 1 )
        {
          v66 = *((_BYTE *)v65 + 8);
          if ( v66 != 3 )
            break;
          v65 = (__int64 *)*v65;
          if ( !v65 )
            goto LABEL_180;
        }
        v67 = 60;
        while ( 1 )
        {
          if ( v66 != 3 )
          {
            putc(v67, stream);
            v70 = *((_BYTE *)v65 + 8);
            ++dword_4CF7F40;
            if ( v70 )
            {
              v68 = v65[4];
              if ( v70 == 1 )
              {
                v69 = (*(_BYTE *)(*(_QWORD *)(v68 + 128) + 141LL) & 4) != 0;
                if ( unk_4F077C4 == 2 && unk_4F07778 > 201401 )
                {
                  byte_4CF7D7C = 1;
                  *(_BYTE *)(*(_QWORD *)(v65[4] + 128) + 141LL) |= 4u;
                  v68 = v65[4];
                }
                sub_5D5250(v68);
                v67 = 44;
                if ( unk_4F077C4 == 2 && unk_4F07778 > 201401 )
                {
                  byte_4CF7D7C = 0;
                  *(_BYTE *)(*(_QWORD *)(v65[4] + 128) + 141LL) = *(_BYTE *)(*(_QWORD *)(v65[4] + 128) + 141LL) & 0xFB
                                                                | (4 * v69);
                }
              }
              else
              {
                sub_5D56F0(v68);
                v67 = 44;
              }
            }
            else
            {
              v71 = v65[4];
              v72 = sub_8D21C0(v71);
              if ( sub_5D2DA0(v72) )
                v71 = v73;
              v74 = *(_BYTE *)(v71 + 89);
              if ( (v74 & 2) != 0
                || (*(_BYTE *)(v71 + 141) & 8) != 0
                || (unsigned __int8)((*(_BYTE *)(v71 + 88) & 3) - 1) <= 1u )
              {
                sub_5D71E0(v71);
                v67 = 44;
              }
              else if ( *(_QWORD *)(v71 + 8) )
              {
                if ( (v74 & 8) != 0 || !*(_BYTE *)(*(_QWORD *)(v71 + 40) + 28LL) )
                {
                  v193 = 32;
                  v194 = "::";
                  do
                  {
                    ++v194;
                    putc(v193, stream);
                    v193 = *(v194 - 1);
                  }
                  while ( v193 );
                  dword_4CF7F40 += 3;
                }
                sub_5D5580(v71, 0);
                v67 = 44;
              }
              else
              {
                sub_74A390(v71, 0, 0, 0, 0, &qword_4CF7CE0);
                sub_74D110(v71, 0, 0, &qword_4CF7CE0);
                v67 = 44;
              }
            }
          }
          v65 = (__int64 *)*v65;
          if ( !v65 )
            break;
          v66 = *((_BYTE *)v65 + 8);
        }
        putc(62, stream);
        ++dword_4CF7F40;
      }
LABEL_180:
      putc(40, stream);
      v75 = *(_QWORD *)(v4 + 152);
      ++dword_4CF7F40;
      v76 = **(_QWORD ***)(v75 + 168);
      if ( v76 )
      {
        v77 = 0;
        v78 = 32;
        v215 = v4;
        do
        {
          putc(v78, stream);
          ++dword_4CF7F40;
          sprintf(&v229[7], "%d", v77);
          v79 = v76[2];
          if ( !(unsigned int)sub_8D3410(v79) && !(unsigned int)sub_8D2310(v79) && !(unsigned int)sub_8D2FB0(v79) )
            v79 = sub_72D600(v79);
          v80 = &v229[1];
          dword_4CF7EFC = 1;
          sub_74A390(v79, 0, 1, 0, 0, &qword_4CF7CE0);
          v81 = strlen(v229);
          for ( kk = v229[0]; kk; kk = *(v80 - 1) )
          {
            ++v80;
            putc(kk, stream);
          }
          dword_4CF7F40 += v81;
          ++v77;
          sub_74D110(v79, 0, 0, &qword_4CF7CE0);
          v76 = (_QWORD *)*v76;
          v78 = 44;
          dword_4CF7EFC = 0;
        }
        while ( v76 );
        v4 = v215;
      }
      else
      {
        v191 = 118;
        v192 = "oid";
        do
        {
          ++v192;
          putc(v191, stream);
          v191 = *(v192 - 1);
        }
        while ( v191 );
        dword_4CF7F40 += 4;
      }
      v83 = 41;
      v84 = "{";
      do
      {
        ++v84;
        putc(v83, stream);
        v83 = *(v84 - 1);
      }
      while ( v83 );
      v85 = *(const char **)(v4 + 8);
      v86 = dword_4CF7F40 + 2;
      v87 = v85 + 1;
      dword_4CF7F40 += 2;
      v88 = strlen(v85);
      v89 = *v85;
      if ( *v85 )
      {
        do
        {
          ++v87;
          putc(v89, stream);
          v89 = *(v87 - 1);
        }
        while ( v89 );
        v86 = dword_4CF7F40;
      }
      dword_4CF7F40 = v86 + v88;
      putc(40, stream);
      v90 = *(_QWORD *)(v4 + 152);
      ++dword_4CF7F40;
      v91 = **(_QWORD ***)(v90 + 168);
      if ( v91 )
      {
        v92 = 0;
        v93 = 32;
        do
        {
          v94 = v91[1];
          putc(v93, stream);
          v95 = v91[2];
          ++dword_4CF7F40;
          ++dword_4CF7F60;
          if ( (unsigned int)sub_8D2FB0(v95) )
          {
            v104 = 95;
            v105 = "_cudaAddressOf(";
            do
            {
              ++v105;
              putc(v104, stream);
              v104 = *(v105 - 1);
            }
            while ( *(v105 - 1) );
            dword_4CF7F40 += 16;
          }
          putc(40, stream);
          ++dword_4CF7F40;
          if ( !(unsigned int)sub_8D2FB0(v94) )
            v94 = sub_72D600(v94);
          v96 = &v229[1];
          dword_4CF7EFC = 1;
          sub_74A390(v94, 0, 0, 0, 0, &qword_4CF7CE0);
          dword_4CF7EF8 = 1;
          sub_74D110(v94, 0, 0, &qword_4CF7CE0);
          dword_4CF7EF8 = 0;
          dword_4CF7EFC = 0;
          putc(41, stream);
          ++dword_4CF7F40;
          sprintf(&v229[7], "%d", v92);
          v97 = strlen(v229);
          v98 = v229[0];
          v99 = v97;
          if ( v229[0] )
          {
            do
            {
              ++v96;
              putc(v98, stream);
              v98 = *(v96 - 1);
            }
            while ( *(v96 - 1) );
          }
          v100 = v91[2];
          dword_4CF7F40 += v99;
          if ( (unsigned int)sub_8D2FB0(v100) )
          {
            putc(41, stream);
            ++dword_4CF7F40;
          }
          v91 = (_QWORD *)*v91;
          --dword_4CF7F60;
          ++v92;
          v93 = 44;
        }
        while ( v91 );
      }
      v101 = 41;
      v102 = ";}";
      do
      {
        a2 = stream;
        a1 = (unsigned int)v101;
        ++v102;
        putc(a1, stream);
        v101 = *(v102 - 1);
      }
      while ( v101 );
      v103 = v218;
      dword_4CF7F40 += 3;
      if ( v218 )
      {
        do
        {
          a2 = stream;
          a1 = 125;
          putc(125, stream);
          ++dword_4CF7F40;
          --v103;
        }
        while ( v103 );
      }
      sub_5D37C0(a1, a2);
    }
    else
    {
      sub_5D37C0(a1, a2);
      if ( dword_4CF7F40 )
        sub_5D37C0(a1, a2);
      dword_4CF7F3C = 0;
      v132 = "oid ";
      dword_4CF7F44 = 0;
      LOWORD(dword_4F07508[1]) = 0;
      dword_4F07508[0] = 0;
      v133 = *(_QWORD *)(v4 + 128);
      qword_4CF7F48 = 0;
      sub_5D45D0((unsigned int *)(v133 + 64));
      sub_5D3F60(*(unsigned __int8 *)(v4 + 172));
      v134 = 118;
      do
      {
        ++v132;
        putc(v134, stream);
        v134 = *(v132 - 1);
      }
      while ( v134 );
      v135 = *(_QWORD *)(v4 + 8);
      dword_4CF7F40 += 5;
      v136 = (const char *)sub_8257B0((char *)(v135 + 14));
      v137 = v136 + 1;
      v138 = strlen(v136);
      for ( mm = *v136; mm; mm = *(v137 - 1) )
      {
        ++v137;
        putc(mm, stream);
      }
      v140 = *(_QWORD *)(v4 + 152);
      dword_4CF7F40 += v138;
      v141 = **(_QWORD ***)(v140 + 168);
      putc(40, stream);
      ++dword_4CF7F40;
      if ( v141 )
      {
        v142 = 0;
        v143 = 32;
        v219 = v4;
        do
        {
          v144 = &v229[1];
          putc(v143, stream);
          ++dword_4CF7F40;
          sprintf(&v229[7], "%d", v142);
          v145 = v141[2];
          dword_4CF7EFC = 1;
          sub_74A390(v145, 0, 1, 0, 0, &qword_4CF7CE0);
          v146 = strlen(v229);
          for ( nn = v229[0]; nn; nn = *(v144 - 1) )
          {
            ++v144;
            putc(nn, stream);
          }
          dword_4CF7F40 += v146;
          ++v142;
          sub_74D110(v145, 0, 0, &qword_4CF7CE0);
          v141 = (_QWORD *)*v141;
          v143 = 44;
          dword_4CF7EFC = 0;
        }
        while ( v141 );
        v4 = v219;
      }
      else
      {
        v211 = 118;
        v212 = "oid";
        do
        {
          ++v212;
          putc(v211, stream);
          v211 = *(v212 - 1);
        }
        while ( v211 );
        dword_4CF7F40 += 4;
      }
      v148 = stream;
      putc(41, stream);
      v149 = *(_QWORD *)(v4 + 128);
      ++dword_4CF7F40;
      v221 = (char *)sub_72B840(v149);
      if ( dword_4CF7F40 )
        sub_5D37C0((unsigned int)dword_4CF7F40, v148);
      dword_4CF7F3C = 0;
      dword_4CF7F44 = 0;
      LOWORD(dword_4F07508[1]) = 0;
      dword_4F07508[0] = 0;
      qword_4CF7F48 = 0;
      sub_5D45D0(*((unsigned int **)v221 + 10));
      putc(123, stream);
      v150 = *(const char **)(v4 + 8);
      v151 = dword_4CF7F40 + 1;
      v152 = v150 + 1;
      ++dword_4CF7F40;
      v153 = strlen(v150);
      v154 = *v150;
      if ( *v150 )
      {
        do
        {
          ++v152;
          putc(v154, stream);
          v154 = *(v152 - 1);
        }
        while ( v154 );
        v151 = dword_4CF7F40;
      }
      dword_4CF7F40 = v151 + v153;
      putc(40, stream);
      v155 = *(_QWORD *)(v4 + 152);
      ++dword_4CF7F40;
      v156 = **(_QWORD ***)(v155 + 168);
      if ( v156 )
      {
        v157 = 0;
        v158 = 32;
        do
        {
          putc(v158, stream);
          v159 = v156[2];
          ++dword_4CF7F40;
          ++dword_4CF7F60;
          if ( (unsigned int)sub_8D2FB0(v159) )
          {
            v174 = 95;
            v175 = "_cudaAddressOf(";
            do
            {
              ++v175;
              putc(v174, stream);
              v174 = *(v175 - 1);
            }
            while ( *(v175 - 1) );
            dword_4CF7F40 += 16;
          }
          v160 = &v229[1];
          sprintf(&v229[7], "%d", v157);
          v161 = strlen(v229);
          v162 = v229[0];
          v163 = v161;
          if ( v229[0] )
          {
            do
            {
              ++v160;
              putc(v162, stream);
              v162 = *(v160 - 1);
            }
            while ( *(v160 - 1) );
          }
          v164 = v156[2];
          dword_4CF7F40 += v163;
          if ( (unsigned int)sub_8D2FB0(v164) )
          {
            putc(41, stream);
            ++dword_4CF7F40;
          }
          v156 = (_QWORD *)*v156;
          --dword_4CF7F60;
          ++v157;
          v158 = 44;
        }
        while ( v156 );
      }
      v165 = 41;
      v166 = ";";
      do
      {
        ++v166;
        putc(v165, stream);
        v165 = *(v166 - 1);
      }
      while ( v165 );
      dword_4CF7F40 += 2;
      sub_5D45D0(*(unsigned int **)(*((_QWORD *)v221 + 10) + 80LL));
      v167 = stream;
      putc(125, stream);
      ++dword_4CF7F40;
      sub_5D37C0(125, v167);
      putc(35, stream);
      ++dword_4CF7F40;
      if ( !unk_4F068E0 )
      {
        v195 = 108;
        v196 = "ine";
        do
        {
          ++v196;
          putc(v195, stream);
          v195 = *(v196 - 1);
        }
        while ( v195 );
        dword_4CF7F40 += 4;
      }
      v168 = 32;
      v169 = "1 \"";
      do
      {
        ++v169;
        putc(v168, stream);
        v168 = *(v169 - 1);
      }
      while ( v168 );
      dword_4CF7F40 += 4;
      v170 = (const char *)sub_7212A0(unk_4D04578);
      v171 = v170 + 1;
      v172 = strlen(v170);
      for ( i1 = *v170; i1; i1 = *(v171 - 1) )
      {
        ++v171;
        putc(i1, stream);
      }
      a2 = stream;
      a1 = 34;
      dword_4CF7F40 += v172;
      putc(34, stream);
      ++dword_4CF7F40;
      sub_5D37C0(34, a2);
      qword_4CF7F48 = 0;
    }
    byte_4CF7D6D = 1;
  }
  if ( v225 )
  {
    a1 = (__int64)"#endif";
    sub_5D3EB0("#endif");
  }
  if ( dword_4CF7F40 )
    sub_5D37C0(a1, a2);
  result = (__int64)v226;
  if ( v226 != stream )
    return sub_5D3B20(v226);
  return result;
}
