// Function: sub_1F5C060
// Address: 0x1f5c060
//
__int64 __fastcall sub_1F5C060(_QWORD *a1, __int64 a2)
{
  __int64 v2; // rax
  _QWORD *v3; // r15
  __int64 v4; // rdi
  __int64 (*v5)(); // rcx
  __int64 v6; // rdx
  __int64 v7; // rdi
  __int64 (*v8)(); // rcx
  __int64 v9; // rdx
  __int64 *v10; // rdx
  __int64 v11; // rax
  __int64 v12; // rdx
  __int64 v13; // rax
  __int64 *v14; // rdx
  __int64 v15; // rax
  __int64 v16; // rdx
  __int64 v17; // rax
  __int64 *v18; // rdx
  __int64 v19; // rax
  __int64 v20; // rdx
  __int64 v21; // rax
  __int64 v22; // rdi
  __int64 v23; // rdx
  __int64 v24; // rcx
  __int64 v25; // r8
  int v26; // r9d
  __int64 v27; // r8
  unsigned __int64 v28; // r9
  __int64 v29; // rax
  __int64 v30; // r14
  unsigned int v31; // ecx
  __int64 v32; // r12
  __int64 v33; // rax
  __int64 v34; // r13
  unsigned __int64 v35; // rdx
  unsigned int v36; // r14d
  __int64 v37; // rax
  int v38; // ebx
  __int64 v39; // r12
  unsigned int v40; // edx
  __int64 v41; // r13
  __int64 v42; // r14
  __int64 v43; // rax
  __int64 *v44; // r8
  __int64 *v45; // rax
  __int64 *v46; // rcx
  __int64 v47; // r8
  __int64 v48; // r8
  _QWORD *v49; // rdi
  __int64 *v50; // rax
  __int64 *v51; // r14
  __int64 *v52; // r12
  __int64 *v53; // r10
  unsigned __int64 v54; // r10
  __int64 v55; // r11
  __int64 *v56; // rcx
  int v57; // r13d
  __int64 v58; // rsi
  __int64 *i; // rdx
  unsigned int v60; // edi
  char **v61; // rax
  char *v62; // rsi
  __int64 v63; // rax
  __int64 v64; // rbx
  __int64 v65; // rax
  char v66; // al
  __int64 v67; // r14
  __int64 v68; // rax
  int v69; // r13d
  unsigned int v70; // edi
  __int64 v71; // r15
  unsigned int v72; // r12d
  unsigned __int16 v73; // dx
  char v74; // cl
  __int64 v75; // rax
  unsigned __int8 v76; // al
  __int64 v77; // rax
  char v78; // al
  unsigned int v79; // eax
  char v80; // al
  __int64 v81; // rcx
  __int64 v82; // rbx
  __int64 v83; // rsi
  __int64 v84; // rax
  __int64 v85; // r10
  int v86; // edi
  __int64 v87; // rdx
  __int64 v88; // rdx
  unsigned __int64 v89; // rax
  int v90; // ecx
  unsigned __int64 v91; // rsi
  int v92; // ecx
  unsigned __int64 v93; // rax
  unsigned int v94; // r12d
  int v95; // ecx
  int v96; // esi
  _QWORD *v97; // rdx
  int v98; // eax
  int v99; // esi
  _QWORD *v100; // rdx
  int k; // eax
  int v102; // esi
  __int64 v103; // rdx
  __int16 v104; // ax
  __int64 v105; // rax
  __int64 *v106; // rdx
  __int64 v107; // rax
  __int64 v108; // rdx
  __int64 v109; // rax
  __int64 v110; // rsi
  __int64 v111; // rdx
  __int64 v112; // rcx
  __int64 v113; // r8
  __m128i *v114; // r9
  _DWORD *v115; // rdi
  __int64 v116; // rdx
  __int64 v117; // rcx
  int v118; // r8d
  int v119; // r9d
  char v121; // al
  __int64 v122; // r9
  unsigned __int64 v123; // rcx
  __int64 v124; // rsi
  __int64 v125; // rdi
  unsigned __int64 n; // rcx
  unsigned int v127; // r9d
  __int64 v128; // r10
  unsigned int v129; // edi
  __int64 *v130; // rax
  __int64 v131; // r13
  __int64 v132; // r15
  __int64 v133; // rbx
  int v134; // r13d
  __int64 *v135; // rax
  unsigned __int64 v136; // rax
  __int64 v137; // rcx
  unsigned __int64 v138; // rdx
  __int64 v139; // rsi
  unsigned int v140; // ecx
  unsigned int v141; // edi
  __int64 *v142; // rax
  __int64 v143; // r11
  __int64 v144; // r13
  __int64 v145; // rdx
  unsigned __int64 v146; // rbx
  unsigned __int64 v147; // r13
  unsigned int v148; // ecx
  __int16 v149; // r15
  _WORD *v150; // rcx
  __int64 v151; // r12
  __int16 *v152; // rdx
  unsigned __int16 v153; // r15
  __int16 *v154; // rbx
  __int64 v155; // r14
  __int64 *v156; // rax
  __int64 *v157; // rax
  __int16 v158; // ax
  _QWORD *v159; // rax
  _QWORD *v160; // r8
  __int64 v161; // rdx
  __int64 v162; // rax
  __int64 v163; // rax
  __int64 v164; // rdi
  char v165; // al
  __int64 v166; // rsi
  unsigned __int64 v167; // rbx
  unsigned int v168; // edx
  __int64 v169; // rax
  int v170; // eax
  unsigned int v171; // r10d
  __int64 v172; // rax
  _QWORD *v173; // rdi
  int v174; // eax
  unsigned int v175; // r14d
  __int64 v176; // r15
  _QWORD *v177; // r14
  _QWORD *v178; // rdx
  int v179; // edi
  int v180; // eax
  __int64 v181; // rbx
  __int64 v182; // r11
  unsigned int v183; // ecx
  _WORD *v184; // r13
  int v185; // eax
  unsigned __int16 *v186; // rcx
  unsigned int v187; // edi
  _WORD *v188; // rbx
  int v189; // esi
  unsigned __int16 *v190; // r11
  unsigned int m; // ebx
  bool v192; // cf
  int v193; // edi
  unsigned int v194; // ecx
  __int64 *v195; // rax
  _QWORD *v196; // r12
  __int64 v197; // rbx
  unsigned __int64 v198; // rdx
  __int64 v199; // rax
  __int64 v200; // rdi
  unsigned __int64 v201; // r13
  int v202; // ebx
  __int64 v203; // rdx
  __int64 v204; // rax
  __int64 v205; // r8
  _QWORD *v206; // rsi
  _QWORD *v207; // rdx
  __int64 v208; // rcx
  __int64 *v209; // r13
  __int64 *v210; // r14
  __int64 v211; // rax
  __int64 j; // r10
  __int64 *v213; // r11
  char *v214; // rsi
  char **v215; // rax
  __int64 v216; // rsi
  _QWORD *v217; // rcx
  _QWORD *v218; // rdx
  int v219; // r8d
  __int64 v220; // rax
  _QWORD *v221; // r12
  int v222; // ebx
  unsigned __int64 v223; // rax
  unsigned __int64 **v224; // rcx
  __int64 v225; // [rsp+18h] [rbp-198h]
  __int64 v226; // [rsp+20h] [rbp-190h]
  unsigned int v227; // [rsp+28h] [rbp-188h]
  unsigned __int64 *v228; // [rsp+28h] [rbp-188h]
  __int64 v229; // [rsp+38h] [rbp-178h]
  __int64 v230; // [rsp+40h] [rbp-170h]
  _QWORD *v231; // [rsp+48h] [rbp-168h]
  __int64 v232; // [rsp+48h] [rbp-168h]
  __int64 v233; // [rsp+50h] [rbp-160h]
  __int64 v234; // [rsp+50h] [rbp-160h]
  __int64 v235; // [rsp+60h] [rbp-150h]
  char v236; // [rsp+60h] [rbp-150h]
  unsigned int v237; // [rsp+68h] [rbp-148h]
  unsigned int v238; // [rsp+68h] [rbp-148h]
  unsigned __int64 v239; // [rsp+70h] [rbp-140h]
  __int64 *v240; // [rsp+70h] [rbp-140h]
  char v241; // [rsp+70h] [rbp-140h]
  _QWORD *v242; // [rsp+70h] [rbp-140h]
  __int64 v243; // [rsp+70h] [rbp-140h]
  unsigned int v244; // [rsp+70h] [rbp-140h]
  _QWORD *v245; // [rsp+70h] [rbp-140h]
  __int64 v246; // [rsp+70h] [rbp-140h]
  unsigned int v247; // [rsp+78h] [rbp-138h]
  __int64 v248; // [rsp+78h] [rbp-138h]
  __int64 v249; // [rsp+78h] [rbp-138h]
  int v250; // [rsp+80h] [rbp-130h]
  __int64 v251; // [rsp+80h] [rbp-130h]
  int v252; // [rsp+88h] [rbp-128h]
  _QWORD *v253; // [rsp+88h] [rbp-128h]
  const char *v254; // [rsp+90h] [rbp-120h] BYREF
  char v255; // [rsp+A0h] [rbp-110h]
  char v256; // [rsp+A1h] [rbp-10Fh]
  _QWORD *v257; // [rsp+B0h] [rbp-100h] BYREF
  __int64 v258; // [rsp+B8h] [rbp-F8h]
  _QWORD v259[2]; // [rsp+C0h] [rbp-F0h] BYREF
  _BYTE *v260; // [rsp+D0h] [rbp-E0h] BYREF
  __int64 v261; // [rsp+D8h] [rbp-D8h]
  _BYTE v262[32]; // [rsp+E0h] [rbp-D0h] BYREF
  _BYTE *v263; // [rsp+100h] [rbp-B0h] BYREF
  __int64 v264; // [rsp+108h] [rbp-A8h]
  _BYTE v265[32]; // [rsp+110h] [rbp-A0h] BYREF
  __int64 *v266; // [rsp+130h] [rbp-80h] BYREF
  __int64 v267; // [rsp+138h] [rbp-78h]
  _BYTE v268[112]; // [rsp+140h] [rbp-70h] BYREF

  v2 = a2;
  v3 = a1;
  a1[29] = a2;
  v4 = *(_QWORD *)(a2 + 16);
  v5 = *(__int64 (**)())(*(_QWORD *)v4 + 112LL);
  v6 = 0;
  if ( v5 != sub_1D00B10 )
  {
    v6 = ((__int64 (__fastcall *)(__int64, __int64, _QWORD))v5)(v4, a2, 0);
    v2 = v3[29];
  }
  v3[30] = v6;
  v7 = *(_QWORD *)(v2 + 16);
  v8 = *(__int64 (**)())(*(_QWORD *)v7 + 40LL);
  v9 = 0;
  if ( v8 != sub_1D00B00 )
  {
    v9 = ((__int64 (__fastcall *)(__int64, __int64, _QWORD))v8)(v7, a2, 0);
    v2 = v3[29];
  }
  v3[31] = v9;
  v10 = (__int64 *)v3[1];
  v3[32] = *(_QWORD *)(v2 + 40);
  v11 = *v10;
  v12 = v10[1];
  if ( v11 == v12 )
LABEL_290:
    BUG();
  while ( *(_UNKNOWN **)v11 != &unk_4FCA82C )
  {
    v11 += 16;
    if ( v12 == v11 )
      goto LABEL_290;
  }
  v13 = (*(__int64 (__fastcall **)(_QWORD, void *))(**(_QWORD **)(v11 + 8) + 104LL))(*(_QWORD *)(v11 + 8), &unk_4FCA82C);
  v14 = (__int64 *)v3[1];
  v3[33] = v13;
  v15 = *v14;
  v16 = v14[1];
  if ( v15 == v16 )
LABEL_291:
    BUG();
  while ( *(_UNKNOWN **)v15 != &unk_4FC450C )
  {
    v15 += 16;
    if ( v16 == v15 )
      goto LABEL_291;
  }
  v17 = (*(__int64 (__fastcall **)(_QWORD, void *))(**(_QWORD **)(v15 + 8) + 104LL))(*(_QWORD *)(v15 + 8), &unk_4FC450C);
  v18 = (__int64 *)v3[1];
  v3[34] = v17;
  v19 = *v18;
  v20 = v18[1];
  if ( v19 == v20 )
LABEL_292:
    BUG();
  while ( *(_UNKNOWN **)v19 != &unk_4FCE424 )
  {
    v19 += 16;
    if ( v20 == v19 )
      goto LABEL_292;
  }
  v21 = (*(__int64 (__fastcall **)(_QWORD, void *))(**(_QWORD **)(v19 + 8) + 104LL))(*(_QWORD *)(v19 + 8), &unk_4FCE424);
  v22 = v3[34];
  v3[35] = v21;
  sub_1DBC170(v22, v21, v23, v24, v25, v26);
  v29 = v3[32];
  v250 = *(_DWORD *)(v29 + 32);
  if ( v250 )
  {
    v252 = 0;
    while ( 1 )
    {
      v31 = v252 & 0x7FFFFFFF;
      v32 = v252 & 0x7FFFFFFF;
      v33 = *(_QWORD *)(*(_QWORD *)(v29 + 24) + 16 * v32 + 8);
      if ( !v33 )
        goto LABEL_22;
      while ( (*(_BYTE *)(v33 + 4) & 8) != 0 )
      {
        v33 = *(_QWORD *)(v33 + 32);
        if ( !v33 )
          goto LABEL_22;
      }
      v34 = v3[34];
      v35 = *(unsigned int *)(v34 + 408);
      if ( (unsigned int)v35 <= v31 )
        break;
      v30 = *(_QWORD *)(*(_QWORD *)(v34 + 400) + 8 * v32);
      if ( !v30 )
        break;
LABEL_20:
      if ( !*(_DWORD *)(v30 + 8) || sub_1DBCA20(v3[34], v30) )
        goto LABEL_22;
      v38 = *(_DWORD *)(*(_QWORD *)(v3[35] + 264LL) + 4 * v32);
      v39 = *(_QWORD *)(v30 + 104);
      if ( v39 )
      {
        v40 = 4;
        v41 = 0;
        v42 = 0;
        v266 = (__int64 *)v268;
        v267 = 0x400000000LL;
        v43 = 0;
        while ( 1 )
        {
          v44 = *(__int64 **)v39;
          if ( (unsigned int)v43 >= v40 )
          {
            v240 = *(__int64 **)v39;
            sub_16CD150((__int64)&v266, v268, 0, 16, (int)v44, v28);
            v43 = (unsigned int)v267;
            v44 = v240;
          }
          v45 = &v266[2 * v43];
          v45[1] = (__int64)v44;
          *v45 = v39;
          v43 = (unsigned int)(v267 + 1);
          LODWORD(v267) = v267 + 1;
          v46 = *(__int64 **)v39;
          if ( (v42 & 0xFFFFFFFFFFFFFFF8LL) == 0
            || (*(_DWORD *)((*v46 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v46 >> 1) & 3) < (*(_DWORD *)((v42 & 0xFFFFFFFFFFFFFFF8LL) + 24)
                                                                                                  | (unsigned int)(v42 >> 1) & 3) )
          {
            v42 = *v46;
          }
          v47 = *(unsigned int *)(v39 + 8);
          v28 = v41 & 0xFFFFFFFFFFFFFFF8LL;
          if ( (v41 & 0xFFFFFFFFFFFFFFF8LL) == 0
            || (*(_DWORD *)((v46[3 * v47 - 2] & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(v46[3 * v47 - 2] >> 1) & 3) > (*(_DWORD *)(v28 + 24) | (unsigned int)(v41 >> 1) & 3) )
          {
            v41 = v46[3 * v47 - 2];
          }
          v39 = *(_QWORD *)(v39 + 104);
          if ( !v39 )
            break;
          v40 = HIDWORD(v267);
        }
        v48 = v3[33];
        v49 = *(_QWORD **)(v48 + 536);
        v263 = (_BYTE *)v42;
        v235 = v48;
        v50 = sub_1F5AB70(v49, (__int64)&v49[2 * *(unsigned int *)(v48 + 544)], (__int64 *)&v263);
        v51 = v266;
        v52 = v50;
        if ( v53 != v50 )
        {
          v27 = v235;
          v239 = v41 & 0xFFFFFFFFFFFFFFF8LL;
          v247 = (v41 >> 1) & 3;
          do
          {
            v54 = *v52 & 0xFFFFFFFFFFFFFFF8LL;
            v55 = (*v52 >> 1) & 3;
            if ( (*(_DWORD *)(v54 + 24) | (unsigned int)v55) > (*(_DWORD *)(v239 + 24) | v247) )
              break;
            v56 = v51;
            v57 = 0;
            v28 = (unsigned __int64)&v51[2 * (unsigned int)v267];
            if ( (__int64 *)v28 != v51 )
            {
              while ( 2 )
              {
                while ( 2 )
                {
                  v58 = *v56;
                  for ( i = (__int64 *)v56[1]; ; v56[1] = (__int64)i )
                  {
                    if ( i == (__int64 *)(*(_QWORD *)v58 + 24LL * *(unsigned int *)(v58 + 8)) )
                      goto LABEL_53;
                    v60 = v55 | *(_DWORD *)(v54 + 24);
                    if ( (*(_DWORD *)((i[1] & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(i[1] >> 1) & 3) > v60 )
                      break;
                    i += 3;
                  }
                  if ( v60 < (*(_DWORD *)((*i & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*i >> 1) & 3) )
                  {
LABEL_53:
                    v56 += 2;
                    if ( (__int64 *)v28 != v56 )
                      continue;
                    goto LABEL_54;
                  }
                  break;
                }
                v56 += 2;
                v57 |= *(_DWORD *)(v58 + 112);
                if ( (__int64 *)v28 != v56 )
                  continue;
                break;
              }
LABEL_54:
              if ( v57 )
              {
                v61 = (char **)v52[1];
                LOWORD(v263) = v38;
                HIDWORD(v263) = v57;
                v62 = v61[20];
                if ( v62 != v61[21] )
                {
                  if ( v62 )
                  {
                    *(_QWORD *)v62 = v263;
                    v62 = v61[20];
                    v51 = v266;
                  }
                  v61[20] = v62 + 8;
                  v27 = v3[33];
                  goto LABEL_59;
                }
                sub_1D4B220(v61 + 19, v62, &v263);
                v51 = v266;
              }
              v27 = v3[33];
            }
LABEL_59:
            v52 += 2;
          }
          while ( v52 != (__int64 *)(*(_QWORD *)(v27 + 536) + 16LL * *(unsigned int *)(v27 + 544)) );
        }
        if ( v51 != (__int64 *)v268 )
          _libc_free((unsigned __int64)v51);
      }
      else
      {
        v27 = v3[33];
        v209 = *(__int64 **)(v27 + 536);
        v249 = *(_QWORD *)v30 + 24LL * *(unsigned int *)(v30 + 8);
        if ( *(_QWORD *)v30 != v249 )
        {
          v210 = *(__int64 **)v30;
          v211 = *(_QWORD *)(v27 + 536);
          for ( j = v3[33]; ; v211 = *(_QWORD *)(j + 536) )
          {
            v266 = (__int64 *)*v210;
            v209 = sub_1F5AB70(v209, v211 + 16LL * *(unsigned int *)(j + 544), (__int64 *)&v266);
            if ( v213 != v209 )
            {
              do
              {
                if ( (*(_DWORD *)((*v209 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v209 >> 1) & 3) >= (*(_DWORD *)((v210[1] & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(v210[1] >> 1) & 3) )
                  break;
                v215 = (char **)v209[1];
                LOWORD(v266) = v38;
                HIDWORD(v266) = -1;
                v214 = v215[20];
                if ( v214 == v215[21] )
                {
                  sub_1D4B220(v215 + 19, v214, &v266);
                }
                else
                {
                  if ( v214 )
                  {
                    *(_QWORD *)v214 = v266;
                    v214 = v215[20];
                  }
                  v215[20] = v214 + 8;
                }
                j = v3[33];
                v209 += 2;
              }
              while ( v209 != (__int64 *)(*(_QWORD *)(j + 536) + 16LL * *(unsigned int *)(j + 544)) );
            }
            v210 += 3;
            if ( (__int64 *)v249 == v210 )
              break;
          }
        }
      }
LABEL_22:
      if ( v250 == ++v252 )
        goto LABEL_67;
      v29 = v3[32];
    }
    v36 = v31 + 1;
    if ( (unsigned int)v35 < v31 + 1 )
    {
      v205 = v36;
      if ( v36 >= v35 )
      {
        if ( v36 > v35 )
        {
          if ( v36 > (unsigned __int64)*(unsigned int *)(v34 + 412) )
          {
            sub_16CD150(v34 + 400, (const void *)(v34 + 416), v36, 8, v36, v28);
            v35 = *(unsigned int *)(v34 + 408);
            v205 = v36;
          }
          v37 = *(_QWORD *)(v34 + 400);
          v216 = *(_QWORD *)(v34 + 416);
          v217 = (_QWORD *)(v37 + 8 * v205);
          v218 = (_QWORD *)(v37 + 8 * v35);
          if ( v217 != v218 )
          {
            do
              *v218++ = v216;
            while ( v217 != v218 );
            v37 = *(_QWORD *)(v34 + 400);
          }
          *(_DWORD *)(v34 + 408) = v36;
          goto LABEL_29;
        }
      }
      else
      {
        *(_DWORD *)(v34 + 408) = v36;
      }
    }
    v37 = *(_QWORD *)(v34 + 400);
LABEL_29:
    *(_QWORD *)(v37 + 8 * v32) = sub_1DBA290(v252 | 0x80000000);
    v30 = *(_QWORD *)(*(_QWORD *)(v34 + 400) + 8 * v32);
    sub_1DBB110((_QWORD *)v34, v30);
    goto LABEL_20;
  }
LABEL_67:
  v63 = v3[29];
  v64 = *(_QWORD *)(v63 + 328);
  v229 = v63 + 320;
  if ( v64 == v63 + 320 )
  {
    v225 = v63 + 320;
  }
  else
  {
    do
    {
      sub_1DD6740(v64);
      v64 = *(_QWORD *)(v64 + 8);
    }
    while ( v229 != v64 );
    v65 = v3[29];
    v225 = v65 + 320;
    v229 = *(_QWORD *)(v65 + 328);
  }
  v66 = *(_BYTE *)(v3[32] + 16LL);
  v263 = v265;
  v236 = v66;
  v260 = v262;
  v266 = (__int64 *)v268;
  v261 = 0x800000000LL;
  v264 = 0x800000000LL;
  v267 = 0x800000000LL;
  if ( v229 == v225 )
    goto LABEL_125;
  v253 = v3;
  do
  {
    v248 = *(_QWORD *)(v229 + 32);
    if ( v248 != v229 + 24 )
    {
      while ( 1 )
      {
        v251 = v248;
        v67 = *(_QWORD *)(v248 + 32);
        v68 = v67 + 40LL * *(unsigned int *)(v248 + 40);
        v248 = *(_QWORD *)(v248 + 8);
        v233 = v68;
        if ( v67 != v68 )
          break;
LABEL_109:
        while ( (_DWORD)v267 )
        {
          v96 = *((_DWORD *)v266 + (unsigned int)v267 - 1);
          v97 = (_QWORD *)v253[30];
          LODWORD(v267) = v267 - 1;
          sub_1E1AFE0(v251, v96, v97, 1, v27, v28);
        }
        v98 = v261;
        if ( !(_DWORD)v261 )
          goto LABEL_114;
        do
        {
          v99 = *(_DWORD *)&v260[4 * v98 - 4];
          v100 = (_QWORD *)v253[30];
          LODWORD(v261) = v98 - 1;
          sub_1E1B440(v251, v99, v100, 1, v27, v28);
          v98 = v261;
        }
        while ( (_DWORD)v261 );
        for ( k = v264; (_DWORD)v264; k = v264 )
        {
          v102 = *(_DWORD *)&v263[4 * k - 4];
          v103 = v253[30];
          LODWORD(v264) = k - 1;
          sub_1E1B830(v251, v102, v103);
LABEL_114:
          ;
        }
        if ( **(_WORD **)(v251 + 16) == 15 )
        {
          v104 = *(_WORD *)(v251 + 46);
          if ( (v104 & 4) == 0 || (v104 & 8) != 0 )
            goto LABEL_118;
          v257 = v259;
          v258 = 0x200000001LL;
          v166 = *(_QWORD *)(v251 + 24);
          v259[0] = v251;
          v230 = v166;
          v167 = *(_QWORD *)v251 & 0xFFFFFFFFFFFFFFF8LL;
          if ( v167 == v166 + 24 )
          {
            v221 = v259;
            v222 = 1;
            v223 = 1;
            v224 = (unsigned __int64 **)v259;
LABEL_204:
            v175 = v222;
            v228 = *v224;
            if ( v222 > 1 )
            {
              while ( 1 )
              {
                v244 = v175;
                v28 = v175;
                v238 = v175;
                v234 = (int)(v175 - 1);
                while ( 1 )
                {
                  v176 = v253[30];
                  if ( v223 > (int)v28 )
                    v223 = (int)v28;
                  v177 = &v221[v223];
                  v27 = v221[v234];
                  if ( v177 == v221 )
                  {
LABEL_222:
                    v194 = v28 - 1;
                    if ( (_DWORD)v28 != v244 )
                    {
                      v195 = &v221[v194];
                      v221[v234] = *v195;
                      *v195 = v27;
                    }
                    v28 = v194;
                  }
                  else
                  {
                    v178 = v221;
                    while ( 1 )
                    {
                      if ( v27 != *v178 )
                      {
                        v179 = *(_DWORD *)(*(_QWORD *)(*v178 + 32LL) + 48LL);
                        v180 = *(_DWORD *)(*(_QWORD *)(v27 + 32) + 8LL);
                        if ( v179 == v180 )
                          goto LABEL_219;
                        if ( v180 >= 0 && v179 >= 0 )
                          break;
                      }
LABEL_221:
                      if ( v177 == ++v178 )
                        goto LABEL_222;
                    }
                    v181 = *(_QWORD *)(v176 + 8);
                    v182 = *(_QWORD *)(v176 + 56);
                    v183 = *(_DWORD *)(v181 + 24LL * (unsigned int)v180 + 16);
                    v185 = (v183 & 0xF) * v180;
                    v184 = (_WORD *)(v182 + 2LL * (v183 >> 4));
                    LOWORD(v185) = *v184 + v185;
                    v186 = v184 + 1;
                    LODWORD(v181) = *(_DWORD *)(v181 + 24LL * (unsigned int)v179 + 16);
                    v189 = v179 * (v181 & 0xF);
                    v187 = (unsigned __int16)v185;
                    v188 = (_WORD *)(v182 + 2LL * ((unsigned int)v181 >> 4));
                    LOWORD(v189) = *v188 + v189;
                    v190 = v188 + 1;
                    for ( m = (unsigned __int16)v189; ; m = (unsigned __int16)v189 )
                    {
                      v192 = v187 < m;
                      if ( v187 == m )
                        break;
                      while ( v192 )
                      {
                        v193 = *v186;
                        if ( !(_WORD)v193 )
                          goto LABEL_221;
                        v185 += v193;
                        ++v186;
                        v187 = (unsigned __int16)v185;
                        v192 = (unsigned __int16)v185 < m;
                        if ( (unsigned __int16)v185 == m )
                          goto LABEL_219;
                      }
                      v202 = *v190;
                      if ( !(_WORD)v202 )
                        goto LABEL_221;
                      v189 += v202;
                      ++v190;
                    }
                  }
LABEL_219:
                  --v234;
                  if ( !--v244 )
                    break;
                  v221 = v257;
                  v223 = (unsigned int)v258;
                }
                if ( (_DWORD)v28 == v238 )
                  break;
                v175 = v28;
                v221 = v257;
                v223 = (unsigned int)v258;
                if ( (int)v28 <= 1 )
                  goto LABEL_227;
              }
              v204 = sub_15E0530(*(_QWORD *)v253[29]);
              v256 = 1;
              v255 = 3;
              v254 = "register rewriting failed: cycle in copy bundle";
              sub_1602AC0(v204, (__int64)&v254);
              v221 = v257;
              v223 = (unsigned int)v258;
            }
LABEL_227:
            if ( &v221[v223] != v221 )
            {
              v245 = v221;
              v196 = &v221[v223];
              v197 = (__int64)v228;
              do
              {
                v201 = *(v196 - 1);
                if ( v197 == v201 )
                {
                  if ( (*(_BYTE *)(v197 + 46) & 8) != 0 )
                  {
                    sub_1E16440(v197);
                    v197 = *(_QWORD *)(v197 + 8);
                  }
                }
                else
                {
                  sub_1E16230(*(v196 - 1));
                  sub_1DD5BA0((__int64 *)(v230 + 16), v201);
                  v198 = *v228;
                  v199 = *(_QWORD *)v201;
                  *(_QWORD *)(v201 + 8) = v228;
                  v198 &= 0xFFFFFFFFFFFFFFF8LL;
                  *(_QWORD *)v201 = v198 | v199 & 7;
                  *(_QWORD *)(v198 + 8) = v201;
                  *v228 = v201 | *v228 & 7;
                }
                v200 = v253[33];
                if ( v228 != (unsigned __int64 *)v201 && v200 )
                  sub_1DC1550(v200, v201, 0);
                --v196;
              }
              while ( v196 != v245 );
              v221 = v257;
            }
            if ( v221 != v259 )
              _libc_free((unsigned __int64)v221);
          }
          else
          {
            while ( 1 )
            {
              if ( (*(_BYTE *)(v167 + 46) & 8) == 0 )
              {
                v223 = (unsigned int)v258;
                v221 = v257;
                v222 = v258;
                v224 = (unsigned __int64 **)&v257[(unsigned int)v258 - 1];
                goto LABEL_204;
              }
              if ( **(_WORD **)(v167 + 16) != 15 )
                break;
              v169 = (unsigned int)v258;
              if ( (unsigned int)v258 >= HIDWORD(v258) )
              {
                sub_16CD150((__int64)&v257, v259, 0, 8, v27, v28);
                v169 = (unsigned int)v258;
              }
              v257[v169] = v167;
              v168 = v258 + 1;
              LODWORD(v258) = v258 + 1;
              v167 = *(_QWORD *)v167 & 0xFFFFFFFFFFFFFFF8LL;
              if ( v166 + 24 == v167 )
              {
                v221 = v257;
                v223 = v168;
                v222 = v168;
                v224 = (unsigned __int64 **)&v257[v168 - 1];
                goto LABEL_204;
              }
            }
            if ( v257 != v259 )
              _libc_free((unsigned __int64)v257);
          }
          if ( **(_WORD **)(v251 + 16) == 15 )
          {
LABEL_118:
            v105 = *(_QWORD *)(v251 + 32);
            if ( *(_DWORD *)(v105 + 8) == *(_DWORD *)(v105 + 48)
              && ((*(_DWORD *)v105 >> 8) & 0xFFF) == ((*(_DWORD *)(v105 + 40) >> 8) & 0xFFF) )
            {
              if ( (*(_BYTE *)(v105 + 4) & 1) != 0 || *(_DWORD *)(v251 + 40) > 2u )
              {
                *(_QWORD *)(v251 + 16) = *(_QWORD *)(v253[31] + 8LL) + 384LL;
              }
              else
              {
                v164 = v253[33];
                if ( v164 )
                  sub_1F108D0(v164, v251);
                sub_1E16350((_QWORD *)v251);
              }
            }
          }
        }
        if ( v229 + 24 == v248 )
          goto LABEL_120;
      }
      while ( 1 )
      {
        v80 = *(_BYTE *)v67;
        if ( *(_BYTE *)v67 == 12 )
        {
          v81 = *(_QWORD *)(v67 + 24);
          v82 = v253[32];
          v28 = (unsigned int)(*(_DWORD *)(v82 + 296) + 31) >> 5;
          if ( (unsigned int)(*(_DWORD *)(v82 + 296) + 31) <= 0x3F )
          {
            LODWORD(v84) = 0;
          }
          else
          {
            v83 = 0;
            v84 = ((unsigned int)(v28 - 2) >> 1) + 1;
            v85 = 8 * v84;
            do
            {
              v86 = *(_DWORD *)(v81 + v83);
              v27 = v83 + *(_QWORD *)(v82 + 280);
              v87 = (unsigned int)~*(_DWORD *)(v81 + v83 + 4);
              v83 += 8;
              *(_QWORD *)v27 |= (unsigned int)~v86 | (unsigned __int64)(v87 << 32);
            }
            while ( v85 != v83 );
            v28 &= 1u;
            v81 += v85;
          }
          if ( (_DWORD)v28 )
          {
            v88 = 8LL * (unsigned int)v84;
            v89 = v81 + 4;
            v90 = 0;
            v28 = v89;
            while ( 1 )
            {
              v91 = (unsigned __int64)(unsigned int)~*(_DWORD *)(v89 - 4) << v90;
              v90 += 32;
              *(_QWORD *)(v88 + *(_QWORD *)(v82 + 280)) |= v91;
              if ( v89 == v28 )
                break;
              v89 += 4LL;
            }
          }
          v92 = *(_DWORD *)(v82 + 296);
          v93 = *(_QWORD *)(v82 + 288);
          v94 = (unsigned int)(v92 + 63) >> 6;
          if ( v93 > v94 )
          {
            v136 = v93 - v94;
            if ( v136 )
            {
              memset((void *)(*(_QWORD *)(v82 + 280) + 8LL * v94), 0, 8 * v136);
              v92 = *(_DWORD *)(v82 + 296);
            }
          }
          v95 = v92 & 0x3F;
          if ( v95 )
            *(_QWORD *)(*(_QWORD *)(v82 + 280) + 8LL * (v94 - 1)) &= ~(-1LL << v95);
          v80 = *(_BYTE *)v67;
        }
        if ( v80 )
          goto LABEL_94;
        v69 = *(_DWORD *)(v67 + 8);
        if ( v69 >= 0 )
          goto LABEL_94;
        v70 = v69 & 0x7FFFFFFF;
        v71 = v69 & 0x7FFFFFFF;
        v72 = *(_DWORD *)(*(_QWORD *)(v253[35] + 264LL) + 4 * v71);
        v73 = (*(_DWORD *)v67 >> 8) & 0xFFF;
        v237 = (*(_DWORD *)v67 >> 8) & 0xFFF;
        if ( v237 )
          break;
LABEL_93:
        sub_1E310D0(v67, v72);
        sub_1E31360(v67, 1);
LABEL_94:
        v67 += 40;
        if ( v233 == v67 )
          goto LABEL_109;
      }
      v74 = *(_BYTE *)(v67 + 3) & 0x10;
      if ( !v236 )
      {
        if ( (*(_BYTE *)(v67 + 4) & 1) == 0 && (*(_BYTE *)(v67 + 4) & 2) == 0 )
        {
          if ( !v74 && (*(_BYTE *)(v67 + 3) & 0x40) == 0 )
            goto LABEL_92;
          v75 = (unsigned int)v267;
          if ( (unsigned int)v267 < HIDWORD(v267) )
            goto LABEL_84;
          goto LABEL_163;
        }
        if ( !v74 )
          goto LABEL_92;
        v137 = *(_QWORD *)(v253[34] + 272LL);
        v138 = v251;
        if ( (*(_BYTE *)(v251 + 46) & 4) != 0 )
        {
          do
            v138 = *(_QWORD *)v138 & 0xFFFFFFFFFFFFFFF8LL;
          while ( (*(_BYTE *)(v138 + 46) & 4) != 0 );
        }
        v139 = *(_QWORD *)(v137 + 368);
        v140 = *(_DWORD *)(v137 + 384);
        if ( v140 )
        {
          LODWORD(v28) = v140 - 1;
          v141 = (v140 - 1) & (((unsigned int)v138 >> 9) ^ ((unsigned int)v138 >> 4));
          v142 = (__int64 *)(v139 + 16LL * v141);
          v143 = *v142;
          if ( *v142 == v138 )
          {
LABEL_154:
            v144 = v142[1];
            v145 = v253[30];
            if ( !v145 )
              BUG();
            v226 = v67;
            v146 = v144 & 0xFFFFFFFFFFFFFFF8LL;
            v147 = v144 & 0xFFFFFFFFFFFFFFF8LL | 6;
            v227 = *(_DWORD *)(*(_QWORD *)(v253[35] + 264LL) + 4 * v71);
            v148 = *(_DWORD *)(*(_QWORD *)(v145 + 8) + 24LL * v72 + 16);
            v149 = v72 * (v148 & 0xF);
            v150 = (_WORD *)(*(_QWORD *)(v145 + 56) + 2LL * (v148 >> 4));
            v151 = v146;
            v152 = v150 + 1;
            v153 = *v150 + v149;
LABEL_156:
            v154 = v152;
            if ( !v152 )
            {
LABEL_166:
              v72 = v227;
              v67 = v226;
              goto LABEL_85;
            }
            while ( 1 )
            {
              v155 = *(_QWORD *)(*(_QWORD *)(v253[34] + 672LL) + 8LL * v153);
              if ( !v155 )
              {
                v231 = (_QWORD *)v253[34];
                v241 = qword_4FC4440[20];
                v159 = (_QWORD *)sub_22077B0(104);
                v160 = v231;
                v161 = v153;
                v155 = (__int64)v159;
                if ( v159 )
                {
                  *v159 = v159 + 2;
                  v159[1] = 0x200000000LL;
                  v159[8] = v159 + 10;
                  v159[9] = 0x200000000LL;
                  if ( v241 )
                  {
                    v163 = sub_22077B0(48);
                    v160 = v231;
                    v161 = v153;
                    if ( v163 )
                    {
                      *(_DWORD *)(v163 + 8) = 0;
                      *(_QWORD *)(v163 + 16) = 0;
                      *(_QWORD *)(v163 + 24) = v163 + 8;
                      *(_QWORD *)(v163 + 32) = v163 + 8;
                      *(_QWORD *)(v163 + 40) = 0;
                    }
                    *(_QWORD *)(v155 + 96) = v163;
                  }
                  else
                  {
                    v159[12] = 0;
                  }
                }
                *(_QWORD *)(v160[84] + 8 * v161) = v155;
                sub_1DBA8F0(v160, v155, v153);
              }
              v156 = (__int64 *)sub_1DB3C70((__int64 *)v155, v147);
              if ( v156 != (__int64 *)(*(_QWORD *)v155 + 24LL * *(unsigned int *)(v155 + 8))
                && (*(_DWORD *)((*v156 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v156 >> 1) & 3) <= (*(_DWORD *)(v151 + 24) | 3u) )
              {
                v157 = (__int64 *)sub_1DB3C70((__int64 *)v155, v151);
                if ( v157 != (__int64 *)(*(_QWORD *)v155 + 24LL * *(unsigned int *)(v155 + 8))
                  && (*(_DWORD *)((*v157 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v157 >> 1) & 3) <= *(_DWORD *)(v151 + 24) )
                {
                  break;
                }
              }
              v158 = *v154;
              v152 = 0;
              ++v154;
              if ( !v158 )
                goto LABEL_156;
              v153 += v158;
              if ( !v154 )
                goto LABEL_166;
            }
            v72 = v227;
            v67 = v226;
            v75 = (unsigned int)v267;
            if ( (unsigned int)v267 < HIDWORD(v267) )
            {
LABEL_84:
              *((_DWORD *)v266 + v75) = v72;
              LODWORD(v267) = v267 + 1;
LABEL_85:
              v76 = *(_BYTE *)(v67 + 3);
              if ( (v76 & 0x10) == 0 )
                goto LABEL_92;
              if ( (((v76 & 0x10) != 0) & (v76 >> 6)) != 0 )
              {
                v77 = (unsigned int)v261;
                if ( (unsigned int)v261 >= HIDWORD(v261) )
                {
                  sub_16CD150((__int64)&v260, v262, 0, 4, v27, v28);
                  v77 = (unsigned int)v261;
                }
                *(_DWORD *)&v260[4 * v77] = v72;
                LODWORD(v261) = v261 + 1;
                v78 = *(_BYTE *)(v67 + 3) & 0x10;
              }
              else
              {
                v162 = (unsigned int)v264;
                if ( (unsigned int)v264 >= HIDWORD(v264) )
                {
                  sub_16CD150((__int64)&v263, v265, 0, 4, v27, v28);
                  v162 = (unsigned int)v264;
                }
                *(_DWORD *)&v263[4 * v162] = v72;
                LODWORD(v264) = v264 + 1;
                v78 = *(_BYTE *)(v67 + 3) & 0x10;
              }
LABEL_90:
              if ( v78 )
LABEL_91:
                *(_BYTE *)(v67 + 4) &= 0xFCu;
LABEL_92:
              v79 = sub_38D6F10(v253[30] + 8LL, v72, v237);
              *(_DWORD *)v67 &= 0xFFF000FF;
              v72 = v79;
              goto LABEL_93;
            }
LABEL_163:
            sub_16CD150((__int64)&v266, v268, 0, 4, v27, v28);
            v75 = (unsigned int)v267;
            goto LABEL_84;
          }
          v170 = 1;
          while ( v143 != -8 )
          {
            LODWORD(v27) = v170 + 1;
            v141 = v28 & (v170 + v141);
            v142 = (__int64 *)(v139 + 16LL * v141);
            v143 = *v142;
            if ( *v142 == v138 )
              goto LABEL_154;
            v170 = v27;
          }
        }
        v142 = (__int64 *)(v139 + 16LL * v140);
        goto LABEL_154;
      }
      if ( v74 )
        goto LABEL_91;
      v121 = *(_BYTE *)(v67 + 4);
      if ( (v121 & 1) != 0 )
      {
        *(_BYTE *)(v67 + 4) = v121 | 1;
        goto LABEL_92;
      }
      v122 = v253[34];
      v123 = *(unsigned int *)(v122 + 408);
      if ( v70 < (unsigned int)v123 )
      {
        v124 = *(_QWORD *)(*(_QWORD *)(v122 + 400) + 8 * v71);
        if ( v124 )
        {
LABEL_136:
          v125 = *(_QWORD *)(v122 + 272);
          for ( n = *(_QWORD *)(v67 + 16); (*(_BYTE *)(n + 46) & 4) != 0; n = *(_QWORD *)n & 0xFFFFFFFFFFFFFFF8LL )
            ;
          v127 = *(_DWORD *)(v125 + 384);
          v128 = *(_QWORD *)(v125 + 368);
          if ( v127 )
          {
            v129 = (v127 - 1) & (((unsigned int)n >> 9) ^ ((unsigned int)n >> 4));
            v130 = (__int64 *)(v128 + 16LL * v129);
            v131 = *v130;
            if ( n == *v130 )
              goto LABEL_140;
            v174 = 1;
            while ( v131 != -8 )
            {
              v219 = v174 + 1;
              v220 = (v127 - 1) & (v129 + v174);
              v129 = v220;
              v130 = (__int64 *)(v128 + 16 * v220);
              v131 = *v130;
              if ( n == *v130 )
                goto LABEL_140;
              v174 = v219;
            }
          }
          v130 = (__int64 *)(v128 + 16LL * v127);
LABEL_140:
          v132 = v130[1];
          if ( *(_QWORD *)(v124 + 104) )
          {
            v133 = *(_QWORD *)(v124 + 104);
            v134 = *(_DWORD *)(*(_QWORD *)(v253[30] + 248LL) + 4LL * v73);
            while ( 1 )
            {
              if ( (*(_DWORD *)(v133 + 112) & v134) != 0 )
              {
                v135 = (__int64 *)sub_1DB3C70((__int64 *)v133, v132);
                if ( v135 != (__int64 *)(*(_QWORD *)v133 + 24LL * *(unsigned int *)(v133 + 8))
                  && (*(_DWORD *)((*v135 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v135 >> 1) & 3) <= (*(_DWORD *)((v132 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(v132 >> 1) & 3) )
                {
                  break;
                }
              }
              v133 = *(_QWORD *)(v133 + 104);
              if ( !v133 )
                goto LABEL_186;
            }
            v78 = *(_BYTE *)(v67 + 3) & 0x10;
          }
          else
          {
LABEL_186:
            v165 = *(_BYTE *)(v67 + 3);
            *(_BYTE *)(v67 + 4) |= 1u;
            v78 = v165 & 0x10;
          }
          goto LABEL_90;
        }
      }
      v171 = v70 + 1;
      if ( (unsigned int)v123 < v70 + 1 )
      {
        v203 = v171;
        if ( v171 >= v123 )
        {
          if ( v171 > v123 )
          {
            if ( v171 > (unsigned __int64)*(unsigned int *)(v122 + 412) )
            {
              v232 = v253[34];
              v246 = v171;
              sub_16CD150(v122 + 400, (const void *)(v122 + 416), v171, 8, v27, v122);
              v122 = v232;
              v171 = v70 + 1;
              v203 = v246;
              v123 = *(unsigned int *)(v232 + 408);
            }
            v172 = *(_QWORD *)(v122 + 400);
            v206 = (_QWORD *)(v172 + 8 * v203);
            v207 = (_QWORD *)(v172 + 8 * v123);
            v208 = *(_QWORD *)(v122 + 416);
            if ( v206 != v207 )
            {
              do
                *v207++ = v208;
              while ( v206 != v207 );
              v172 = *(_QWORD *)(v122 + 400);
            }
            *(_DWORD *)(v122 + 408) = v171;
            goto LABEL_199;
          }
        }
        else
        {
          *(_DWORD *)(v122 + 408) = v171;
        }
      }
      v172 = *(_QWORD *)(v122 + 400);
LABEL_199:
      v242 = (_QWORD *)v122;
      *(_QWORD *)(v172 + 8 * v71) = sub_1DBA290(v69);
      v173 = v242;
      v243 = *(_QWORD *)(v242[50] + 8 * v71);
      sub_1DBB110(v173, v243);
      v124 = v243;
      v122 = v253[34];
      v73 = (*(_DWORD *)v67 >> 8) & 0xFFF;
      goto LABEL_136;
    }
LABEL_120:
    v229 = *(_QWORD *)(v229 + 8);
  }
  while ( v229 != v225 );
  v3 = v253;
  if ( v266 != (__int64 *)v268 )
    _libc_free((unsigned __int64)v266);
  if ( v263 != v265 )
    _libc_free((unsigned __int64)v263);
LABEL_125:
  if ( v260 != v262 )
    _libc_free((unsigned __int64)v260);
  v106 = (__int64 *)v3[1];
  v107 = *v106;
  v108 = v106[1];
  if ( v107 == v108 )
LABEL_289:
    BUG();
  while ( *(_UNKNOWN **)v107 != &unk_4FC4354 )
  {
    v107 += 16;
    if ( v108 == v107 )
      goto LABEL_289;
  }
  v109 = (*(__int64 (__fastcall **)(_QWORD, void *, __int64, void *))(**(_QWORD **)(v107 + 8) + 104LL))(
           *(_QWORD *)(v107 + 8),
           &unk_4FC4354,
           v108,
           &unk_4FC4354);
  v110 = v3[35];
  sub_1DB2CC0(v109, v110, v111, v112, v113, v114);
  v115 = (_DWORD *)v3[35];
  v115[68] = 0;
  sub_1F5BB60(v115, v110, v116, v117, v118, v119);
  sub_1E69990(v3[32]);
  return 1;
}
