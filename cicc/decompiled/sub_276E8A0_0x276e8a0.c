// Function: sub_276E8A0
// Address: 0x276e8a0
//
_QWORD *__fastcall sub_276E8A0(unsigned __int64 *a1, __m128i *a2, __m128i *a3, __m128i *a4, unsigned __int64 a5)
{
  __m128i *v6; // r14
  __int64 v8; // r9
  __int64 v9; // r13
  __int64 v10; // rdi
  __int64 v11; // r11
  __int64 v12; // r10
  __int64 v13; // rax
  __int64 v14; // rsi
  __int64 v15; // r12
  __int64 v16; // rax
  __int64 v17; // rdx
  __int64 v18; // rcx
  __int64 v19; // rcx
  unsigned __int64 v20; // rdx
  __int64 v21; // rsi
  __int64 v22; // rax
  __int64 v23; // rcx
  __int64 v24; // r8
  __m128i v25; // xmm1
  __int64 *v26; // r8
  __int64 *v27; // r9
  __m128i v28; // xmm5
  __int64 v29; // rdx
  __m128i v30; // rdi
  __int64 v31; // rcx
  __int64 v32; // rax
  __int64 v33; // rdx
  __int64 v35; // rdi
  unsigned __int64 v36; // rsi
  __int64 v37; // rsi
  __int64 v38; // rdx
  __int64 v39; // r12
  __int64 v40; // rax
  __int64 v41; // r8
  __int64 v42; // r10
  __m128i v43; // xmm3
  __m128i v44; // rdi
  __int64 *v45; // r8
  __int64 v46; // rcx
  __int64 *v47; // r11
  __int64 *v48; // r9
  __m128i v49; // xmm5
  __int64 v50; // r10
  char *v51; // rdx
  __int64 v52; // rsi
  __int64 *v53; // r8
  __int64 v54; // rbx
  __m128i v55; // rdi
  __m128i v56; // kr00_16
  __int64 v57; // r14
  __int64 v58; // rdx
  __int64 v59; // rax
  __int64 v60; // rdx
  __int64 v61; // rax
  __int64 v62; // rdx
  __int64 v63; // rax
  __int64 v64; // r11
  __int64 v65; // r8
  __int64 v66; // r9
  __int64 v67; // rdx
  __int64 v68; // r12
  __int64 v69; // rcx
  __int64 v70; // rdx
  __int64 v71; // rax
  __int64 v72; // r8
  __int64 v73; // r14
  __int64 v74; // r15
  __int64 v75; // rax
  __m128i v76; // xmm6
  __m128i v77; // xmm7
  __m128i v78; // rdi
  __int64 v79; // r12
  __int64 v80; // r8
  __int64 *v81; // r9
  __int64 v82; // rdx
  __int64 v83; // r11
  __int64 v84; // rax
  __int64 v85; // rcx
  __int64 v86; // rdx
  __m128i v87; // xmm6
  __m128i v88; // xmm7
  __int64 v89; // rax
  __int64 v90; // rcx
  __int64 v91; // rax
  __int64 v92; // rcx
  __int64 v93; // rax
  __int64 v94; // rcx
  __int64 v95; // rax
  __int64 v96; // rax
  __int64 v97; // rcx
  __int64 v98; // rcx
  __int64 v99; // [rsp+0h] [rbp-160h]
  __int64 v100; // [rsp+8h] [rbp-158h]
  __int64 v101; // [rsp+8h] [rbp-158h]
  __int64 v102; // [rsp+10h] [rbp-150h]
  __m128i v103; // [rsp+10h] [rbp-150h]
  __int64 v104; // [rsp+18h] [rbp-148h]
  __int64 v105; // [rsp+20h] [rbp-140h]
  char *v106; // [rsp+28h] [rbp-138h]
  __int64 v107; // [rsp+28h] [rbp-138h]
  __int64 *v108; // [rsp+30h] [rbp-130h]
  __int64 *v109; // [rsp+30h] [rbp-130h]
  __int64 v110; // [rsp+30h] [rbp-130h]
  __int64 v111; // [rsp+30h] [rbp-130h]
  __int64 *v112; // [rsp+38h] [rbp-128h]
  __int64 *v113; // [rsp+38h] [rbp-128h]
  __int64 v114; // [rsp+38h] [rbp-128h]
  __int64 v115; // [rsp+38h] [rbp-128h]
  __int64 v116; // [rsp+40h] [rbp-120h]
  __int64 *v117; // [rsp+40h] [rbp-120h]
  __int64 v118; // [rsp+40h] [rbp-120h]
  __int64 v119; // [rsp+40h] [rbp-120h]
  __int64 v120; // [rsp+48h] [rbp-118h]
  __int64 v121; // [rsp+48h] [rbp-118h]
  __int64 v122; // [rsp+48h] [rbp-118h]
  __int64 v123; // [rsp+50h] [rbp-110h]
  __int64 v124; // [rsp+50h] [rbp-110h]
  __int64 v125; // [rsp+50h] [rbp-110h]
  __int64 v126; // [rsp+50h] [rbp-110h]
  __int64 v127; // [rsp+58h] [rbp-108h]
  __int64 v128; // [rsp+58h] [rbp-108h]
  __int64 v129; // [rsp+58h] [rbp-108h]
  __int64 v130; // [rsp+58h] [rbp-108h]
  unsigned __int64 v131; // [rsp+58h] [rbp-108h]
  __int64 v132; // [rsp+60h] [rbp-100h]
  __int64 v133; // [rsp+60h] [rbp-100h]
  __int64 v134; // [rsp+60h] [rbp-100h]
  __m128i *v135; // [rsp+60h] [rbp-100h]
  __int64 *v136; // [rsp+60h] [rbp-100h]
  __int64 v137; // [rsp+60h] [rbp-100h]
  unsigned __int64 v138; // [rsp+60h] [rbp-100h]
  __m128i v140; // [rsp+70h] [rbp-F0h] BYREF
  __m128i v141; // [rsp+80h] [rbp-E0h] BYREF
  __m128i v142; // [rsp+90h] [rbp-D0h] BYREF
  __m128i v143; // [rsp+A0h] [rbp-C0h]
  __m128i v144; // [rsp+B0h] [rbp-B0h] BYREF
  __m128i v145; // [rsp+C0h] [rbp-A0h]
  __m128i v146; // [rsp+D0h] [rbp-90h] BYREF
  __m128i v147; // [rsp+E0h] [rbp-80h]
  __m128i v148; // [rsp+F0h] [rbp-70h] BYREF
  __m128i v149; // [rsp+100h] [rbp-60h]
  __m128i v150; // [rsp+110h] [rbp-50h] BYREF
  __m128i v151; // [rsp+120h] [rbp-40h] BYREF

  v6 = a2;
  v8 = a1[5];
  v9 = a1[9];
  v10 = a1[4];
  v11 = a1[2];
  v12 = a1[6];
  v13 = ((((a2[1].m128i_i64[1] - v8) >> 3) - 1) << 6) + ((a2->m128i_i64[0] - a2->m128i_i64[1]) >> 3);
  v14 = (v10 - v11) >> 3;
  v15 = v13 + v14;
  v132 = v13;
  v16 = a1[7];
  v17 = (((v9 - v8) >> 3) - 1) << 6;
  v18 = v17 + ((v12 - v16) >> 3);
  if ( (unsigned __int64)(v18 + v14) >> 1 > v15 )
  {
    v19 = a1[3];
    v20 = (v11 - v19) >> 3;
    if ( a5 > v20 )
    {
      v138 = a5;
      sub_27697E0(a1, a5 - v20);
      v11 = a1[2];
      v19 = a1[3];
      v10 = a1[4];
      v8 = a1[5];
      a5 = v138;
    }
    v141.m128i_i64[0] = v10;
    v140.m128i_i64[1] = v19;
    v140.m128i_i64[0] = v11;
    v141.m128i_i64[1] = v8;
    v116 = -(__int64)a5;
    sub_2765500(v140.m128i_i64, -(__int64)a5);
    v21 = a1[4];
    v22 = a1[2];
    v23 = a1[5];
    v127 = a1[3];
    v150.m128i_i64[1] = v127;
    v123 = v21;
    v151.m128i_i64[0] = v21;
    v133 = v22;
    v150.m128i_i64[0] = v22;
    v120 = v23;
    v151.m128i_i64[1] = v23;
    sub_2765500(v150.m128i_i64, v15);
    v25 = _mm_loadu_si128(&v151);
    *v6 = _mm_loadu_si128(&v150);
    v6[1] = v25;
    if ( v15 >= v24 )
    {
      v142 = *((__m128i *)a1 + 1);
      v143 = *((__m128i *)a1 + 2);
      sub_2765500(v142.m128i_i64, v24);
      v108 = v26;
      v112 = v27;
      v148 = v140;
      v149 = v141;
      v146 = v142;
      v147 = v143;
      v144 = *((__m128i *)a1 + 1);
      v145 = *((__m128i *)a1 + 2);
      sub_276E660(&v150, v144.m128i_i64, v27, v26);
      v28 = _mm_loadu_si128(&v141);
      *((__m128i *)a1 + 1) = _mm_loadu_si128(&v140);
      *((__m128i *)a1 + 2) = v28;
      v29 = v6[1].m128i_i64[1];
      v30 = *v6;
      v31 = v6[1].m128i_i64[0];
      v150.m128i_i64[0] = v133;
      v149.m128i_i64[1] = v29;
      v148 = v30;
      v146 = v142;
      v150.m128i_i64[1] = v127;
      v151.m128i_i64[0] = v123;
      v147 = v143;
      v149.m128i_i64[0] = v31;
      v151.m128i_i64[1] = v120;
      sub_276E500(&v144, (__int64)v112, v108, (__int64)&v150);
      v32 = v6[1].m128i_i64[1];
      v144.m128i_i64[0] = v6->m128i_i64[0];
      v33 = v6->m128i_i64[1];
      v145.m128i_i64[1] = v32;
      v144.m128i_i64[1] = v33;
      v145.m128i_i64[0] = v6[1].m128i_i64[0];
      sub_2765500(v144.m128i_i64, v116);
      v148 = *a4;
      v149 = a4[1];
      v146 = *a3;
      v147 = a3[1];
      return sub_2769F00(&v150, v112, v108, &v144);
    }
    v64 = a3->m128i_i64[0];
    v65 = v24 - v15;
    v66 = a3[1].m128i_i64[1];
    v107 = a3[1].m128i_i64[0];
    v67 = v65 + ((a3->m128i_i64[0] - a3->m128i_i64[1]) >> 3);
    if ( v67 < 0 )
    {
      v97 = ~((unsigned __int64)~v67 >> 6);
    }
    else
    {
      if ( v67 <= 63 )
      {
        v114 = a3[1].m128i_i64[1];
        v68 = a3->m128i_i64[1];
        v110 = v64 + 8 * v65;
        v118 = a3[1].m128i_i64[0];
LABEL_19:
        v69 = v6->m128i_i64[1];
        v100 = a3[1].m128i_i64[1];
        v70 = v6[1].m128i_i64[0];
        v71 = v6[1].m128i_i64[1];
        v102 = a3->m128i_i64[1];
        v72 = a1[2];
        v148.m128i_i64[0] = v6->m128i_i64[0];
        v73 = a1[3];
        v74 = a1[4];
        v149.m128i_i64[1] = v71;
        v146 = v140;
        v75 = a1[5];
        v150.m128i_i64[0] = v72;
        v150.m128i_i64[1] = v73;
        v147 = v141;
        v151.m128i_i64[0] = v74;
        v148.m128i_i64[1] = v69;
        v149.m128i_i64[0] = v70;
        v104 = v64;
        v151.m128i_i64[1] = v75;
        sub_276E660(&v144, v150.m128i_i64, v148.m128i_i64, &v146);
        v148.m128i_i64[1] = v68;
        v146 = v144;
        v151.m128i_i64[0] = v107;
        v149.m128i_i64[0] = v118;
        v147 = v145;
        v149.m128i_i64[1] = v114;
        v148.m128i_i64[0] = v110;
        v150.m128i_i64[0] = v104;
        v150.m128i_i64[1] = v102;
        v151.m128i_i64[1] = v100;
        sub_2769FE0(&v142, v150.m128i_i64, v148.m128i_i64, &v146);
        v76 = _mm_loadu_si128(&v140);
        v77 = _mm_loadu_si128(&v141);
        v78.m128i_i64[0] = v118;
        v78.m128i_i64[1] = v114;
        v144.m128i_i64[1] = v68;
        *((__m128i *)a1 + 1) = v76;
        *((__m128i *)a1 + 2) = v77;
        v145 = v78;
        v148.m128i_i64[0] = v133;
        v148.m128i_i64[1] = v127;
        v149.m128i_i64[0] = v123;
        v149.m128i_i64[1] = v120;
        v146 = *a4;
        v147 = a4[1];
        v144.m128i_i64[0] = v110;
        return sub_2769F00(&v150, v144.m128i_i64, v146.m128i_i64, &v148);
      }
      v97 = v67 >> 6;
    }
    v68 = *(_QWORD *)(v66 + 8 * v97);
    v114 = v66 + 8 * v97;
    v118 = v68 + 512;
    v110 = v68 + 8 * (v67 - (v97 << 6));
    goto LABEL_19;
  }
  v35 = a1[8];
  v36 = ((v35 - v12) >> 3) - 1;
  if ( a5 > v36 )
  {
    v126 = v17 + ((v12 - v16) >> 3);
    v131 = a5;
    sub_2769620(a1, a5 - v36);
    v12 = a1[6];
    v16 = a1[7];
    v35 = a1[8];
    v9 = a1[9];
    v18 = v126;
    a5 = v131;
  }
  v141.m128i_i64[0] = v35;
  v128 = v18;
  v140.m128i_i64[0] = v12;
  v140.m128i_i64[1] = v16;
  v141.m128i_i64[1] = v9;
  sub_2765500(v140.m128i_i64, a5);
  v37 = a1[7];
  v38 = a1[8];
  v39 = a1[9];
  v40 = v132 - v128;
  v134 = a1[6];
  v150.m128i_i64[0] = v134;
  v129 = v37;
  v150.m128i_i64[1] = v37;
  v124 = v38;
  v151.m128i_i64[0] = v38;
  v151.m128i_i64[1] = v39;
  sub_2765500(v150.m128i_i64, v40);
  v43 = _mm_loadu_si128(&v151);
  *v6 = _mm_loadu_si128(&v150);
  v6[1] = v43;
  if ( v42 <= v41 )
  {
    v79 = a3->m128i_i64[1];
    v80 = a3[1].m128i_i64[0];
    v81 = (__int64 *)a3[1].m128i_i64[1];
    v82 = v42 + ((a3->m128i_i64[0] - v79) >> 3);
    if ( v82 < 0 )
    {
      v98 = ~((unsigned __int64)~v82 >> 6);
    }
    else
    {
      if ( v82 <= 63 )
      {
        v130 = a3->m128i_i64[0] + 8 * v42;
LABEL_23:
        v83 = a1[7];
        v125 = v6->m128i_i64[0];
        v119 = v6[1].m128i_i64[0];
        v137 = a1[8];
        v115 = v6[1].m128i_i64[1];
        v84 = a1[9];
        v122 = v6->m128i_i64[1];
        v85 = a4[1].m128i_i64[0];
        v86 = a4[1].m128i_i64[1];
        v111 = a1[6];
        v148 = *a4;
        v146.m128i_i64[0] = v111;
        v146.m128i_i64[1] = v83;
        v99 = v83;
        v147.m128i_i64[1] = v84;
        v101 = v84;
        v149.m128i_i64[0] = v85;
        v149.m128i_i64[1] = v86;
        v150.m128i_i64[0] = v130;
        v147.m128i_i64[0] = v137;
        v150.m128i_i64[1] = v79;
        v151.m128i_i64[0] = v80;
        v103.m128i_i64[0] = v80;
        v151.m128i_i64[1] = (__int64)v81;
        v103.m128i_i64[1] = (__int64)v81;
        sub_2769FE0(&v144, v150.m128i_i64, v148.m128i_i64, &v146);
        v146 = v144;
        v150.m128i_i64[0] = v125;
        v150.m128i_i64[1] = v122;
        v147 = v145;
        v148.m128i_i64[1] = v99;
        v151.m128i_i64[0] = v119;
        v151.m128i_i64[1] = v115;
        v148.m128i_i64[0] = v111;
        v149.m128i_i64[1] = v101;
        v149.m128i_i64[0] = v137;
        sub_276E660(&v142, v150.m128i_i64, v148.m128i_i64, &v146);
        v87 = _mm_loadu_si128(&v140);
        v88 = _mm_loadu_si128(&v141);
        v146.m128i_i64[1] = v79;
        *((__m128i *)a1 + 3) = v87;
        *((__m128i *)a1 + 4) = v88;
        v89 = v6[1].m128i_i64[1];
        v90 = v6->m128i_i64[0];
        v146.m128i_i64[0] = v130;
        v149.m128i_i64[1] = v89;
        v91 = a3->m128i_i64[0];
        v148.m128i_i64[0] = v90;
        v92 = v6->m128i_i64[1];
        v144.m128i_i64[0] = v91;
        v93 = a3->m128i_i64[1];
        v148.m128i_i64[1] = v92;
        v94 = v6[1].m128i_i64[0];
        v144.m128i_i64[1] = v93;
        v95 = a3[1].m128i_i64[0];
        v149.m128i_i64[0] = v94;
        v145.m128i_i64[0] = v95;
        v96 = a3[1].m128i_i64[1];
        v147 = v103;
        v145.m128i_i64[1] = v96;
        return sub_2769F00(&v150, v144.m128i_i64, v146.m128i_i64, &v148);
      }
      v98 = v82 >> 6;
    }
    v81 += v98;
    v79 = *v81;
    v80 = *v81 + 512;
    v130 = *v81 + 8 * (v82 - (v98 << 6));
    goto LABEL_23;
  }
  v142 = *((__m128i *)a1 + 3);
  v143 = *((__m128i *)a1 + 4);
  sub_2765500(v142.m128i_i64, -v41);
  v44 = *((__m128i *)a1 + 3);
  v109 = v45;
  v46 = a1[8];
  v113 = v47;
  v149.m128i_i64[1] = a1[9];
  v147.m128i_i64[1] = v149.m128i_i64[1];
  v148 = v44;
  v144 = v142;
  v149.m128i_i64[0] = v46;
  v145 = v143;
  v146 = v44;
  v147.m128i_i64[0] = v46;
  v117 = v48;
  sub_276E660(&v150, v48, v47, v45);
  v49 = _mm_loadu_si128(&v141);
  v50 = v143.m128i_i64[1];
  v51 = (char *)v142.m128i_i64[0];
  *((__m128i *)a1 + 3) = _mm_loadu_si128(&v140);
  v52 = v142.m128i_i64[1];
  v53 = v109;
  *((__m128i *)a1 + 4) = v49;
  v105 = v50;
  v121 = v6->m128i_i64[0];
  v106 = (char *)v6[1].m128i_i64[0];
  v54 = v6[1].m128i_i64[1];
  if ( v54 == v50 )
  {
    v151.m128i_i64[1] = v39;
    v150.m128i_i64[0] = v134;
    v150.m128i_i64[1] = v129;
    v151.m128i_i64[0] = v124;
  }
  else
  {
    v149.m128i_i64[1] = v39;
    v148.m128i_i64[1] = v129;
    v148.m128i_i64[0] = v134;
    v149.m128i_i64[0] = v124;
    sub_276E740(v150.m128i_i64, v52, v51, v109);
    v55 = v150;
    v56 = v151;
    v53 = v109;
    if ( v54 != v105 - 8 )
    {
      v135 = v6;
      v57 = v105 - 8;
      do
      {
        v148 = v55;
        v57 -= 8;
        v149 = v56;
        sub_276E740(v150.m128i_i64, *(_QWORD *)(v57 + 8), (char *)(*(_QWORD *)(v57 + 8) + 512LL), v109);
        v55 = v150;
        v56 = v151;
      }
      while ( v54 != v57 );
      v6 = v135;
      v53 = v109;
    }
    v150 = v55;
    v51 = v106;
    v151 = v56;
  }
  v136 = v53;
  sub_276E740(v53, v121, v51, v150.m128i_i64);
  v58 = v6->m128i_i64[0];
  v149.m128i_i64[1] = v6[1].m128i_i64[1];
  v59 = a4->m128i_i64[0];
  v148.m128i_i64[0] = v58;
  v60 = v6->m128i_i64[1];
  v146.m128i_i64[0] = v59;
  v61 = a4->m128i_i64[1];
  v148.m128i_i64[1] = v60;
  v62 = v6[1].m128i_i64[0];
  v146.m128i_i64[1] = v61;
  v63 = a4[1].m128i_i64[0];
  v149.m128i_i64[0] = v62;
  v147.m128i_i64[0] = v63;
  v147.m128i_i64[1] = a4[1].m128i_i64[1];
  v144 = *a3;
  v145 = a3[1];
  return sub_2769F00(&v150, v117, v113, v136);
}
