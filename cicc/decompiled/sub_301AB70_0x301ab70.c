// Function: sub_301AB70
// Address: 0x301ab70
//
void __fastcall sub_301AB70(__int64 a1, __int64 a2, char a3)
{
  _QWORD *v3; // r15
  __int64 v4; // rcx
  __int64 v5; // rax
  __int64 v6; // rcx
  __int64 v7; // rbx
  __int64 v8; // rax
  unsigned __int64 v9; // rax
  __int64 v10; // rcx
  __int64 *v11; // rdi
  __int64 *v12; // r13
  __int64 *v13; // rbx
  __int64 v14; // r12
  __int64 v15; // rax
  __int64 v16; // r12
  __int64 v17; // rax
  __int64 v18; // r12
  __int64 v19; // rbx
  __int64 v20; // rax
  __int64 v21; // r13
  __int64 v22; // r14
  unsigned __int64 v23; // r15
  __int64 v24; // rax
  __int64 v25; // r8
  unsigned __int64 v26; // r8
  __int64 v27; // rcx
  __int64 v28; // rax
  __int64 v29; // rdx
  __int64 v30; // rax
  __int64 v31; // rax
  __int64 v32; // rax
  __int64 v33; // rdx
  __int64 v34; // rdx
  __int64 *v35; // rax
  __int64 v36; // r8
  __int64 v37; // r9
  __int64 v38; // rdx
  __int64 *v39; // r14
  __int64 v40; // rax
  __int64 v41; // rcx
  __int64 v42; // rsi
  unsigned __int64 v43; // r15
  unsigned __int64 v44; // rcx
  __int64 v45; // r8
  __int64 v46; // rax
  unsigned __int64 v47; // r15
  unsigned __int64 v48; // rax
  void **v49; // rcx
  __int64 v50; // rsi
  int v51; // r11d
  __int64 *v52; // rax
  __int64 v53; // rcx
  __int64 *v54; // rdx
  __int64 v55; // rdi
  _QWORD *v56; // rax
  _QWORD *v57; // r15
  __int64 v58; // rdx
  __int64 v59; // rdx
  __int64 v60; // r13
  __int64 v61; // r8
  __int64 v62; // r9
  const char *v63; // rdi
  unsigned int v64; // ecx
  __int64 v65; // rax
  const char *v66; // rax
  __int64 v67; // r14
  __int64 v68; // rdx
  __int64 v69; // rbx
  __int64 v70; // rdx
  __int64 v71; // rax
  unsigned __int64 v72; // rdx
  __int64 v73; // r14
  __int64 v74; // rdx
  _QWORD *v75; // rax
  _QWORD *v76; // r15
  __int64 v77; // rax
  __int64 v78; // rax
  __int64 v79; // rax
  unsigned __int64 v80; // rax
  __int64 v81; // rcx
  __int64 *v82; // r14
  unsigned int v83; // r13d
  const char *v84; // rax
  __int64 v85; // rdx
  __int64 v86; // rax
  __int64 v87; // rbx
  __int64 v88; // r15
  __int64 v89; // rdx
  unsigned __int8 *v90; // rsi
  void **v91; // rbx
  void **v92; // r13
  _BYTE *v93; // rsi
  __int64 v94; // rax
  int v95; // edx
  _QWORD *v96; // r14
  __int64 v97; // rdx
  unsigned __int64 v98; // rax
  int v99; // edx
  unsigned __int64 v100; // rax
  _QWORD *v101; // rax
  __int64 v102; // r9
  _QWORD *v103; // r14
  __int64 *v104; // r14
  unsigned int v105; // r15d
  __int64 v106; // rax
  __int64 v107; // rdx
  _QWORD *v108; // rax
  __int64 v109; // rbx
  __int64 v110; // rdx
  unsigned __int8 v111; // dl
  char v112; // dh
  __int64 v113; // r14
  char v114; // al
  __int64 v115; // rcx
  __int64 v116; // r15
  _QWORD *v117; // rax
  __int64 v118; // r12
  __int64 v119; // rax
  char v120; // r12
  __int64 v121; // r13
  unsigned int v122; // eax
  __int64 v123; // rbx
  __int64 v124; // rax
  unsigned __int64 v125; // rcx
  unsigned int v126; // ecx
  __int64 v127; // r8
  int v128; // edi
  __int64 *v129; // rsi
  __int64 v130; // rax
  int v131; // esi
  unsigned int v132; // r13d
  __int64 *v133; // rcx
  __int64 v134; // rdi
  __int64 v135; // rax
  __int64 v138; // [rsp+20h] [rbp-1D0h]
  __int64 v139; // [rsp+28h] [rbp-1C8h]
  __int64 v140; // [rsp+30h] [rbp-1C0h]
  __int64 v141; // [rsp+38h] [rbp-1B8h]
  unsigned __int64 v142; // [rsp+48h] [rbp-1A8h]
  __int64 *v143; // [rsp+48h] [rbp-1A8h]
  _QWORD *v144; // [rsp+50h] [rbp-1A0h]
  __int64 *v145; // [rsp+50h] [rbp-1A0h]
  __int64 v146; // [rsp+50h] [rbp-1A0h]
  __int64 v147; // [rsp+50h] [rbp-1A0h]
  unsigned __int64 v148; // [rsp+50h] [rbp-1A0h]
  __int64 v149; // [rsp+50h] [rbp-1A0h]
  __int64 v150; // [rsp+60h] [rbp-190h]
  __int64 v151; // [rsp+68h] [rbp-188h]
  unsigned __int64 *v152; // [rsp+70h] [rbp-180h]
  __int64 v153; // [rsp+70h] [rbp-180h]
  __int64 v154; // [rsp+70h] [rbp-180h]
  __int64 v156; // [rsp+88h] [rbp-168h]
  _QWORD *v157; // [rsp+90h] [rbp-160h]
  __int64 v158; // [rsp+90h] [rbp-160h]
  __int64 v159; // [rsp+A0h] [rbp-150h]
  __int64 v160; // [rsp+A8h] [rbp-148h]
  __int64 v161; // [rsp+B0h] [rbp-140h] BYREF
  __int64 v162; // [rsp+B8h] [rbp-138h] BYREF
  __int64 v163; // [rsp+C0h] [rbp-130h] BYREF
  __int64 v164; // [rsp+C8h] [rbp-128h]
  __int64 v165; // [rsp+D0h] [rbp-120h]
  unsigned int v166; // [rsp+D8h] [rbp-118h]
  const char *v167; // [rsp+E0h] [rbp-110h] BYREF
  __int64 v168; // [rsp+E8h] [rbp-108h]
  _QWORD v169[2]; // [rsp+F0h] [rbp-100h] BYREF
  __int16 v170; // [rsp+100h] [rbp-F0h]
  __int64 *v171; // [rsp+130h] [rbp-C0h] BYREF
  __int64 v172; // [rsp+138h] [rbp-B8h]
  _BYTE v173[176]; // [rsp+140h] [rbp-B0h] BYREF

  v6 = *(_QWORD *)(a2 + 80);
  v171 = (__int64 *)v173;
  v172 = 0x1000000000LL;
  v141 = a2 + 72;
  v159 = v6;
  if ( v6 == a2 + 72 )
    return;
  do
  {
    v7 = v159;
    v159 = *(_QWORD *)(v159 + 8);
    v140 = v7 - 24;
    v8 = sub_AA4FF0(v7 - 24);
    if ( !v8 )
      BUG();
    v9 = (unsigned int)*(unsigned __int8 *)(v8 - 24) - 39;
    if ( (unsigned int)v9 > 0x38 )
      continue;
    v10 = 0x100060000000001LL;
    if ( !_bittest64(&v10, v9) )
      continue;
    v138 = v7 + 24;
    v160 = *(_QWORD *)(v7 + 32);
    if ( v7 + 24 == v160 )
      continue;
LABEL_14:
    if ( *(_BYTE *)(v160 - 24) != 84 )
      continue;
    v139 = *(_QWORD *)(v160 + 8);
    if ( a3 )
    {
      v119 = sub_AA4FF0(v140);
      if ( !v119 )
        BUG();
      v120 = *(_BYTE *)(v119 - 24);
      v121 = 0;
      v122 = *(_DWORD *)(v160 - 20) & 0x7FFFFFF;
      v123 = 8LL * v122;
      if ( v122 )
      {
        while ( 1 )
        {
          v124 = sub_AA4FF0(*(_QWORD *)(*(_QWORD *)(v160 - 32) + 32LL * *(unsigned int *)(v160 + 48) + v121));
          if ( !v124 )
            BUG();
          if ( *(_BYTE *)(v124 - 24) == 39 )
            break;
          v121 += 8;
          if ( v123 == v121 )
            goto LABEL_161;
        }
      }
      else
      {
LABEL_161:
        if ( v120 != 39 )
          continue;
      }
    }
    v16 = *(_QWORD *)(v160 + 16);
    v17 = sub_AA4FF0(v16);
    if ( !v17 )
      BUG();
    v156 = v160 - 24;
    if ( (unsigned int)*(unsigned __int8 *)(v17 - 24) - 30 <= 0xA )
    {
      v163 = 0;
      v164 = 0;
      v165 = 0;
      v166 = 0;
      if ( !*(_QWORD *)(v160 - 8) )
      {
        sub_C7D6A0(0, 0, 8);
        goto LABEL_83;
      }
      v157 = 0;
      v18 = *(_QWORD *)(v160 - 8);
      while ( 1 )
      {
        v19 = v18;
        v18 = *(_QWORD *)(v18 + 8);
        v20 = *(_QWORD *)(v19 + 24);
        if ( *(_BYTE *)v20 != 84 )
          break;
        v79 = sub_AA4FF0(*(_QWORD *)(v20 + 40));
        if ( !v79 )
          BUG();
        v80 = (unsigned int)*(unsigned __int8 *)(v79 - 24) - 39;
        if ( (unsigned int)v80 > 0x38 )
          break;
        v81 = 0x100060000000001LL;
        if ( _bittest64(&v81, v80) )
          goto LABEL_68;
        if ( !v157 )
          goto LABEL_100;
LABEL_22:
        v21 = *(_QWORD *)(v19 + 24);
        if ( *(_BYTE *)v21 != 84 )
        {
          v73 = *(_QWORD *)(v160 - 16);
          v167 = sub_BD5D20(v156);
          v169[0] = ".wineh.reload";
          v170 = 773;
          v168 = v74;
          v75 = sub_BD2C40(80, 1u);
          v76 = v75;
          if ( v75 )
          {
            sub_B4D1B0((__int64)v75, v73, (__int64)v157, (__int64)&v167, 0, 0, v21 + 24, 0);
            if ( *(_QWORD *)v19 )
            {
              v77 = *(_QWORD *)(v19 + 8);
              **(_QWORD **)(v19 + 16) = v77;
              if ( v77 )
                *(_QWORD *)(v77 + 16) = *(_QWORD *)(v19 + 16);
            }
            *(_QWORD *)v19 = v76;
            v78 = v76[2];
            *(_QWORD *)(v19 + 8) = v78;
            if ( v78 )
              *(_QWORD *)(v78 + 16) = v19 + 8;
            *(_QWORD *)(v19 + 16) = v76 + 2;
            v76[2] = v19;
          }
          else if ( *(_QWORD *)v19 )
          {
            v135 = *(_QWORD *)(v19 + 8);
            **(_QWORD **)(v19 + 16) = v135;
            if ( v135 )
              *(_QWORD *)(v135 + 16) = *(_QWORD *)(v19 + 16);
            *(_QWORD *)v19 = 0;
          }
          goto LABEL_68;
        }
        v22 = *(_QWORD *)(*(_QWORD *)(v21 - 8)
                        + 32LL * *(unsigned int *)(v21 + 72)
                        + 8LL * (unsigned int)((v19 - *(_QWORD *)(v21 - 8)) >> 5));
        v152 = (unsigned __int64 *)(v22 + 48);
        v23 = *(_QWORD *)(v22 + 48) & 0xFFFFFFFFFFFFFFF8LL;
        if ( v22 + 48 == v23 )
          goto LABEL_210;
        if ( !v23 )
          BUG();
        if ( (unsigned int)*(unsigned __int8 *)(v23 - 24) - 30 > 0xA )
LABEL_210:
          BUG();
        if ( *(_BYTE *)(v23 - 24) == 38 )
        {
          v161 = *(_QWORD *)(v21 + 40);
          v170 = 257;
          v24 = sub_F41C30(v22, v161, 0, 0, 0, (void **)&v167);
          v25 = *(_QWORD *)(v22 + 48);
          v162 = v24;
          v26 = v25 & 0xFFFFFFFFFFFFFFF8LL;
          if ( v152 == (unsigned __int64 *)v26 )
            goto LABEL_218;
          if ( !v26 )
            BUG();
          if ( (unsigned int)*(unsigned __int8 *)(v26 - 24) - 30 > 0xA )
          {
LABEL_218:
            v3 = (_QWORD *)(v23 - 24);
            sub_B43D10(0);
            sub_B43D10(v3);
            v4 = v151;
            LOWORD(v4) = 0;
            sub_B44240(v3, v22, v152, v4);
            v5 = v150;
            LOWORD(v5) = 0;
            sub_B44240(0, v162, (unsigned __int64 *)(v162 + 48), v5);
            BUG();
          }
          v142 = v26;
          v144 = (_QWORD *)(v26 - 24);
          sub_B43D10((_QWORD *)(v26 - 24));
          sub_B43D10((_QWORD *)(v23 - 24));
          v27 = v151;
          LOWORD(v27) = 0;
          v151 = v27;
          sub_B44240((_QWORD *)(v23 - 24), v22, v152, v27);
          v28 = v150;
          LOWORD(v28) = 0;
          v150 = v28;
          sub_B44240(v144, v162, (unsigned __int64 *)(v162 + 48), v28);
          v29 = v161;
          if ( *(_QWORD *)(v142 - 56) )
          {
            v30 = *(_QWORD *)(v142 - 48);
            **(_QWORD **)(v142 - 40) = v30;
            if ( v30 )
              *(_QWORD *)(v30 + 16) = *(_QWORD *)(v142 - 40);
          }
          *(_QWORD *)(v142 - 56) = v29;
          if ( v29 )
          {
            v31 = *(_QWORD *)(v29 + 16);
            *(_QWORD *)(v142 - 48) = v31;
            if ( v31 )
              *(_QWORD *)(v31 + 16) = v142 - 48;
            *(_QWORD *)(v142 - 40) = v29 + 16;
            *(_QWORD *)(v29 + 16) = v142 - 56;
          }
          v32 = v162;
          if ( *(_QWORD *)(v23 - 56) )
          {
            v33 = *(_QWORD *)(v23 - 48);
            **(_QWORD **)(v23 - 40) = v33;
            if ( v33 )
              *(_QWORD *)(v33 + 16) = *(_QWORD *)(v23 - 40);
          }
          *(_QWORD *)(v23 - 56) = v32;
          if ( v32 )
          {
            v34 = *(_QWORD *)(v32 + 16);
            *(_QWORD *)(v23 - 48) = v34;
            if ( v34 )
              *(_QWORD *)(v34 + 16) = v23 - 48;
            *(_QWORD *)(v23 - 40) = v32 + 16;
            *(_QWORD *)(v32 + 16) = v23 - 56;
          }
          v145 = sub_3013050(a1 + 16, &v162);
          v35 = sub_3013050(a1 + 16, &v161);
          v38 = (__int64)v145;
          v39 = v35;
          v40 = *v35;
          if ( v145 == v39 )
            goto LABEL_125;
          v41 = *v145;
          v42 = *v145 >> 2;
          v43 = v40 & 0xFFFFFFFFFFFFFFF8LL;
          if ( (v40 & 0xFFFFFFFFFFFFFFF8LL) != 0 && ((v36 = v40 >> 2, (v40 & 4) == 0) || *(_DWORD *)(v43 + 8)) )
          {
            if ( (v42 & 1) == 0 )
            {
              v36 = (v40 >> 2) & 1;
              if ( (_DWORD)v36 )
              {
                if ( *(_DWORD *)(v43 + 8) != 1 )
                {
                  v130 = sub_22077B0(0x30u);
                  v38 = (__int64)v145;
                  if ( v130 )
                  {
                    *(_QWORD *)v130 = v130 + 16;
                    *(_QWORD *)(v130 + 8) = 0x400000000LL;
                    v37 = *(unsigned int *)(v43 + 8);
                    if ( (_DWORD)v37 )
                    {
                      v143 = v145;
                      v149 = v130;
                      sub_3012020(v130, v43, v38, 0x400000000LL, v36, v37);
                      v38 = (__int64)v143;
                      v130 = v149;
                    }
                  }
                  *(_QWORD *)v38 = v130 | 4;
                  v40 = *v39;
                  v43 = *v39 & 0xFFFFFFFFFFFFFFF8LL;
                  goto LABEL_113;
                }
                v43 = **(_QWORD **)v43 & 0xFFFFFFFFFFFFFFFBLL;
              }
              *v145 = v43;
              v40 = *v39;
              v43 = *v39 & 0xFFFFFFFFFFFFFFF8LL;
              goto LABEL_113;
            }
            v44 = v41 & 0xFFFFFFFFFFFFFFF8LL;
            v45 = (v40 >> 2) & 1;
            if ( !(_DWORD)v45 )
            {
              *(_DWORD *)(v44 + 8) = 0;
              v46 = *v39;
              v47 = *v145 & 0xFFFFFFFFFFFFFFF8LL;
              if ( (*v39 & 4) != 0 )
                v48 = **(_QWORD **)(v46 & 0xFFFFFFFFFFFFFFF8LL);
              else
                v48 = v46 & 0xFFFFFFFFFFFFFFF8LL;
              v38 = *(unsigned int *)(v47 + 8);
              v36 = v38 + 1;
              if ( v38 + 1 > (unsigned __int64)*(unsigned int *)(v47 + 12) )
              {
                v148 = v48;
                sub_C8D5F0(v47, (const void *)(v47 + 16), v38 + 1, 8u, v36, v37);
                v38 = *(unsigned int *)(v47 + 8);
                v48 = v148;
              }
              *(_QWORD *)(*(_QWORD *)v47 + 8 * v38) = v48;
              ++*(_DWORD *)(v47 + 8);
              v43 = *v39 & 0xFFFFFFFFFFFFFFF8LL;
              if ( (*v39 & 4) != 0 )
              {
LABEL_55:
                v49 = *(void ***)v43;
                v50 = *(_QWORD *)v43 + 8LL * *(unsigned int *)(v43 + 8);
LABEL_116:
                if ( (void **)v50 != v49 )
                {
                  v146 = v19;
                  v91 = v49;
                  v92 = (void **)v50;
                  do
                  {
                    v167 = (const char *)*v91;
                    v94 = sub_301A7F0(a1 + 48, (__int64 *)&v167, v38, (__int64)v49, v36, v37);
                    v93 = *(_BYTE **)(v94 + 8);
                    if ( v93 == *(_BYTE **)(v94 + 16) )
                    {
                      sub_9319A0(v94, v93, &v162);
                    }
                    else
                    {
                      if ( v93 )
                      {
                        v38 = v162;
                        *(_QWORD *)v93 = v162;
                        v93 = *(_BYTE **)(v94 + 8);
                      }
                      *(_QWORD *)(v94 + 8) = v93 + 8;
                    }
                    ++v91;
                  }
                  while ( v92 != v91 );
                  v19 = v146;
                }
                goto LABEL_57;
              }
LABEL_114:
              v49 = (void **)v39;
              if ( v43 )
              {
                v50 = (__int64)(v39 + 1);
                goto LABEL_116;
              }
LABEL_57:
              v22 = v162;
              goto LABEL_58;
            }
            sub_3012020(v44, v40 & 0xFFFFFFFFFFFFFFF8LL, (__int64)v145, v44, v45, v37);
            v40 = *v39;
LABEL_125:
            v43 = v40 & 0xFFFFFFFFFFFFFFF8LL;
          }
          else if ( (v42 & 1) != 0 )
          {
            if ( v41 )
            {
              if ( (v42 & 1) != 0 )
              {
                v125 = v41 & 0xFFFFFFFFFFFFFFF8LL;
                if ( v125 )
                {
                  *(_DWORD *)(v125 + 8) = 0;
                  v40 = *v39;
                  v43 = *v39 & 0xFFFFFFFFFFFFFFF8LL;
                }
              }
            }
          }
          else
          {
            *v145 = 0;
            v40 = *v39;
            v43 = *v39 & 0xFFFFFFFFFFFFFFF8LL;
          }
LABEL_113:
          if ( (v40 & 4) != 0 )
            goto LABEL_55;
          goto LABEL_114;
        }
LABEL_58:
        if ( !v166 )
        {
          ++v163;
          goto LABEL_168;
        }
        v51 = 1;
        v52 = 0;
        LODWORD(v53) = (v166 - 1) & (((unsigned int)v22 >> 4) ^ ((unsigned int)v22 >> 9));
        v54 = (__int64 *)(v164 + 16LL * (unsigned int)v53);
        v55 = *v54;
        if ( *v54 != v22 )
        {
          while ( v55 != -4096 )
          {
            if ( !v52 && v55 == -8192 )
              v52 = v54;
            v53 = (v166 - 1) & ((_DWORD)v53 + v51);
            v54 = (__int64 *)(v164 + 16 * v53);
            v55 = *v54;
            if ( *v54 == v22 )
              goto LABEL_60;
            ++v51;
          }
          if ( !v52 )
            v52 = v54;
          ++v163;
          v95 = v165 + 1;
          if ( 4 * ((int)v165 + 1) < 3 * v166 )
          {
            if ( v166 - HIDWORD(v165) - v95 <= v166 >> 3 )
            {
              sub_116E750((__int64)&v163, v166);
              if ( !v166 )
              {
LABEL_209:
                LODWORD(v165) = v165 + 1;
                BUG();
              }
              v131 = 1;
              v132 = (v166 - 1) & (((unsigned int)v22 >> 4) ^ ((unsigned int)v22 >> 9));
              v95 = v165 + 1;
              v133 = 0;
              v52 = (__int64 *)(v164 + 16LL * v132);
              v134 = *v52;
              if ( *v52 != v22 )
              {
                while ( v134 != -4096 )
                {
                  if ( v134 == -8192 && !v133 )
                    v133 = v52;
                  v132 = (v166 - 1) & (v131 + v132);
                  v52 = (__int64 *)(v164 + 16LL * v132);
                  v134 = *v52;
                  if ( *v52 == v22 )
                    goto LABEL_136;
                  ++v131;
                }
                if ( v133 )
                  v52 = v133;
              }
            }
            goto LABEL_136;
          }
LABEL_168:
          sub_116E750((__int64)&v163, 2 * v166);
          if ( !v166 )
            goto LABEL_209;
          v95 = v165 + 1;
          v126 = (v166 - 1) & (((unsigned int)v22 >> 9) ^ ((unsigned int)v22 >> 4));
          v52 = (__int64 *)(v164 + 16LL * v126);
          v127 = *v52;
          if ( *v52 != v22 )
          {
            v128 = 1;
            v129 = 0;
            while ( v127 != -4096 )
            {
              if ( v127 == -8192 && !v129 )
                v129 = v52;
              v126 = (v166 - 1) & (v128 + v126);
              v52 = (__int64 *)(v164 + 16LL * v126);
              v127 = *v52;
              if ( *v52 == v22 )
                goto LABEL_136;
              ++v128;
            }
            if ( v129 )
              v52 = v129;
          }
LABEL_136:
          LODWORD(v165) = v95;
          if ( *v52 != -4096 )
            --HIDWORD(v165);
          *v52 = v22;
          v57 = v52 + 1;
          v52[1] = 0;
          goto LABEL_139;
        }
LABEL_60:
        v56 = (_QWORD *)v54[1];
        v57 = v54 + 1;
        if ( v56 )
        {
          if ( !*(_QWORD *)v19 || (v58 = *(_QWORD *)(v19 + 8), (**(_QWORD **)(v19 + 16) = v58) == 0) )
          {
            *(_QWORD *)v19 = v56;
LABEL_65:
            v59 = v56[2];
            *(_QWORD *)(v19 + 8) = v59;
            if ( v59 )
              *(_QWORD *)(v59 + 16) = v19 + 8;
            *(_QWORD *)(v19 + 16) = v56 + 2;
            v56[2] = v19;
            goto LABEL_68;
          }
LABEL_63:
          *(_QWORD *)(v58 + 16) = *(_QWORD *)(v19 + 16);
          goto LABEL_64;
        }
LABEL_139:
        v96 = (_QWORD *)(v22 + 48);
        v154 = *(_QWORD *)(v160 - 16);
        v167 = sub_BD5D20(v156);
        v170 = 773;
        v168 = v97;
        v169[0] = ".wineh.reload";
        v98 = *v96 & 0xFFFFFFFFFFFFFFF8LL;
        if ( (_QWORD *)v98 == v96 )
        {
          v100 = 0;
        }
        else
        {
          if ( !v98 )
            BUG();
          v99 = *(unsigned __int8 *)(v98 - 24);
          v100 = v98 - 24;
          if ( (unsigned int)(v99 - 30) >= 0xB )
            v100 = 0;
        }
        v147 = v100 + 24;
        v101 = sub_BD2C40(80, 1u);
        v103 = v101;
        if ( v101 )
          sub_B4D1B0((__int64)v101, v154, (__int64)v157, (__int64)&v167, 0, v102, v147, 0);
        *v57 = v103;
        v56 = v103;
        if ( *(_QWORD *)v19 )
        {
          v58 = *(_QWORD *)(v19 + 8);
          **(_QWORD **)(v19 + 16) = v58;
          if ( v58 )
            goto LABEL_63;
        }
LABEL_64:
        *(_QWORD *)v19 = v56;
        if ( v56 )
          goto LABEL_65;
LABEL_68:
        if ( !v18 )
        {
          v60 = (__int64)v157;
          sub_C7D6A0(v164, 16LL * v166, 8);
          goto LABEL_70;
        }
      }
      if ( v157 )
        goto LABEL_22;
LABEL_100:
      v82 = *(__int64 **)(v160 - 16);
      v83 = *(_DWORD *)(*(_QWORD *)(a1 + 8) + 4LL);
      v84 = sub_BD5D20(v156);
      v170 = 773;
      v167 = v84;
      v169[0] = ".wineh.spillslot";
      v168 = v85;
      v86 = *(_QWORD *)(a2 + 80);
      if ( !v86 )
        BUG();
      v153 = *(_QWORD *)(v86 + 32);
      v157 = sub_BD2C40(80, 1u);
      if ( v157 )
        sub_B4CDD0((__int64)v157, v82, v83, 0, (__int64)&v167, 1, v153, 1);
      goto LABEL_22;
    }
    v104 = *(__int64 **)(v160 - 16);
    v105 = *(_DWORD *)(*(_QWORD *)(a1 + 8) + 4LL);
    v167 = sub_BD5D20(v156);
    v169[0] = ".wineh.spillslot";
    v170 = 773;
    v106 = *(_QWORD *)(a2 + 80);
    v168 = v107;
    if ( !v106 )
      BUG();
    v158 = *(_QWORD *)(v106 + 32);
    v108 = sub_BD2C40(80, 1u);
    v60 = (__int64)v108;
    if ( v108 )
      sub_B4CDD0((__int64)v108, v104, v105, 0, (__int64)&v167, 1, v158, 1);
    v109 = *(_QWORD *)(v160 - 16);
    v167 = sub_BD5D20(v156);
    v170 = 773;
    v168 = v110;
    v169[0] = ".wineh.reload";
    v113 = sub_AA5190(v16);
    if ( v113 )
    {
      v114 = v112;
    }
    else
    {
      v114 = 0;
      v111 = 0;
    }
    v115 = v111;
    BYTE1(v115) = v114;
    v116 = v115;
    v117 = sub_BD2C40(80, 1u);
    v118 = (__int64)v117;
    if ( v117 )
      sub_B4D230((__int64)v117, v109, v60, (__int64)&v167, v113, v116);
    sub_BD84D0(v156, v118);
LABEL_70:
    if ( !v60 )
      goto LABEL_83;
    v63 = (const char *)v169;
    v64 = 1;
    v167 = (const char *)v169;
    v169[0] = *(_QWORD *)(v160 + 16);
    v169[1] = v160 - 24;
    v168 = 0x400000001LL;
    do
    {
      v65 = v64--;
      v66 = &v63[16 * v65 - 16];
      v67 = *((_QWORD *)v66 + 1);
      v68 = *(_QWORD *)v66;
      LODWORD(v168) = v64;
      if ( *(_BYTE *)v67 != 84 || *(_QWORD *)(v67 + 40) != v68 )
      {
        v69 = *(_QWORD *)(v68 + 16);
        if ( !v69 )
          continue;
        while ( 1 )
        {
          v70 = *(_QWORD *)(v69 + 24);
          if ( (unsigned __int8)(*(_BYTE *)v70 - 30) <= 0xAu )
            break;
          v69 = *(_QWORD *)(v69 + 8);
          if ( !v69 )
            goto LABEL_80;
        }
LABEL_77:
        sub_3012190(*(_QWORD *)(v70 + 40), v67, v60, (__int64)&v167);
        while ( 1 )
        {
          v69 = *(_QWORD *)(v69 + 8);
          if ( !v69 )
            goto LABEL_79;
          v70 = *(_QWORD *)(v69 + 24);
          if ( (unsigned __int8)(*(_BYTE *)v70 - 30) <= 0xAu )
            goto LABEL_77;
        }
      }
      if ( (*(_DWORD *)(v67 + 4) & 0x7FFFFFF) != 0 )
      {
        v87 = 0;
        v88 = 8LL * (*(_DWORD *)(v67 + 4) & 0x7FFFFFF);
        do
        {
          v89 = *(_QWORD *)(v67 - 8);
          v90 = *(unsigned __int8 **)(v89 + 4 * v87);
          if ( (unsigned int)*v90 - 12 > 1 )
            sub_3012190(*(_QWORD *)(v89 + 32LL * *(unsigned int *)(v67 + 72) + v87), (__int64)v90, v60, (__int64)&v167);
          v87 += 8;
        }
        while ( v88 != v87 );
LABEL_79:
        v64 = v168;
        v63 = v167;
      }
LABEL_80:
      ;
    }
    while ( v64 );
    if ( v63 != (const char *)v169 )
      _libc_free((unsigned __int64)v63);
LABEL_83:
    v71 = (unsigned int)v172;
    v72 = (unsigned int)v172 + 1LL;
    if ( v72 > HIDWORD(v172) )
    {
      sub_C8D5F0((__int64)&v171, v173, v72, 8u, v61, v62);
      v71 = (unsigned int)v172;
    }
    v171[v71] = v156;
    LODWORD(v172) = v172 + 1;
    if ( v138 != v139 )
    {
      v160 = v139;
      goto LABEL_14;
    }
  }
  while ( v141 != v159 );
  v11 = v171;
  v12 = &v171[(unsigned int)v172];
  if ( v12 != v171 )
  {
    v13 = v171;
    do
    {
      v14 = *v13++;
      v15 = sub_ACADE0(*(__int64 ***)(v14 + 8));
      sub_BD84D0(v14, v15);
      sub_B43D60((_QWORD *)v14);
    }
    while ( v12 != v13 );
    v11 = v171;
  }
  if ( v11 != (__int64 *)v173 )
    _libc_free((unsigned __int64)v11);
}
