// Function: sub_3234490
// Address: 0x3234490
//
__int64 __fastcall sub_3234490(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int64 v4; // r14
  __int64 *v5; // rbx
  int v6; // esi
  __int64 v7; // r13
  __int64 v8; // r15
  __int64 v9; // rdx
  int v10; // esi
  int v11; // edi
  unsigned int i; // eax
  _QWORD *v13; // rcx
  unsigned int v14; // eax
  unsigned __int8 v15; // al
  unsigned __int8 **v16; // rdx
  unsigned __int8 *v17; // rdi
  __int64 v18; // rdx
  unsigned __int8 v19; // al
  __int64 *v20; // rdx
  __int64 v21; // rax
  __int64 v22; // rax
  __int64 v23; // rdx
  unsigned int v24; // esi
  __int64 v25; // r9
  __int64 *v26; // r10
  unsigned int j; // ecx
  __int64 *v28; // rax
  __int64 v29; // rdi
  unsigned int v30; // ecx
  __int64 v31; // rbx
  __int64 v32; // r14
  _BYTE *v33; // r15
  unsigned __int8 v34; // al
  _BYTE **v35; // rdx
  __int64 v36; // r13
  __int64 v37; // rax
  _QWORD *v38; // rdx
  unsigned int v39; // esi
  int v40; // ecx
  __int64 v41; // r11
  _QWORD *v42; // rdi
  int v43; // r12d
  unsigned int n; // r9d
  _QWORD *v45; // rax
  _BYTE *v46; // r8
  int v47; // esi
  int v48; // esi
  __int64 v49; // r11
  int v50; // r10d
  _QWORD *v51; // r8
  unsigned int m; // eax
  _BYTE *v53; // rcx
  int v54; // eax
  __int64 v55; // rax
  unsigned __int8 v56; // dl
  __int64 v57; // rax
  __int64 result; // rax
  unsigned __int8 v59; // dl
  _BYTE **v60; // rbx
  _BYTE *v61; // r12
  _BYTE *v62; // r13
  unsigned int v63; // esi
  __int64 v64; // r8
  int v65; // r10d
  __int64 v66; // r9
  unsigned int mm; // ecx
  __int64 v68; // rdx
  _QWORD *v69; // rax
  unsigned int v70; // esi
  __int64 v71; // r9
  int v72; // r11d
  __int64 v73; // r8
  unsigned int v74; // edi
  __int64 jj; // rdx
  __int64 v76; // rax
  __int64 v77; // rcx
  __int64 v78; // r13
  char v79; // dl
  int v80; // edx
  int v81; // edx
  __int64 *v82; // rdx
  _QWORD *v83; // rax
  int v84; // r9d
  int v85; // r9d
  __int64 v86; // r10
  int v87; // edi
  __int64 *v88; // rsi
  unsigned int v89; // ecx
  __int64 v90; // r8
  unsigned int v91; // ecx
  unsigned int v92; // r9d
  __int64 v93; // rax
  _QWORD *v94; // rcx
  unsigned __int64 v95; // rdx
  unsigned __int64 v96; // r15
  __int64 v97; // rax
  __int64 v98; // rcx
  __int64 v99; // r8
  unsigned __int64 v100; // r9
  __int64 v101; // rdx
  __int64 v102; // r9
  unsigned __int8 v103; // al
  __int64 v104; // rdx
  _BYTE *v105; // rax
  _BYTE *v106; // r11
  _BYTE *v107; // r12
  __int64 v108; // r12
  __int64 v109; // rbx
  void **v110; // rdi
  _BYTE *v111; // r15
  __int64 v112; // rax
  unsigned __int64 v113; // r14
  unsigned __int64 v114; // r13
  unsigned __int64 v115; // rdi
  __int64 v116; // r12
  __int64 v117; // rax
  __int64 v118; // rax
  __int64 v119; // rcx
  char v120; // al
  __int64 v121; // r15
  unsigned __int64 v122; // r12
  __int64 v123; // rax
  unsigned __int64 v124; // r14
  unsigned __int64 v125; // r13
  unsigned __int64 v126; // rdi
  __int64 v127; // r8
  __int64 (*v128)(); // r15
  unsigned __int8 v129; // al
  __int64 v130; // rdx
  __int64 v131; // rdi
  __int64 v132; // rax
  __int64 v133; // rdi
  __int64 (*v134)(); // rax
  __int64 *v135; // rdx
  __int64 v136; // rcx
  __int64 v137; // r8
  __int64 v138; // r9
  __int64 *v139; // rax
  __int64 v140; // rdx
  int v141; // esi
  int v142; // esi
  __int64 v143; // rcx
  int v144; // r8d
  __int64 v145; // rdi
  unsigned int kk; // edx
  __int64 v147; // r9
  unsigned int v148; // edx
  int v149; // r10d
  int v150; // r10d
  __int64 v151; // rcx
  __int64 v152; // rsi
  int v153; // r11d
  __int64 v154; // rdi
  int v155; // r9d
  __int64 v156; // rdi
  int v157; // r10d
  __int64 v158; // r15
  __int64 v159; // rsi
  __int64 v160; // rcx
  __int64 v161; // rax
  char v162; // al
  unsigned int v163; // ecx
  __int64 v164; // rdi
  __int64 v165; // rsi
  __int64 v166; // rcx
  __int64 v167; // rax
  __int64 v168; // r8
  char v169; // dl
  int v170; // ecx
  int v171; // ecx
  unsigned int v172; // eax
  int v173; // ecx
  int v174; // eax
  int v175; // edx
  __int64 v176; // rcx
  int v177; // edi
  __int64 v178; // rsi
  unsigned int nn; // r15d
  __int64 v180; // r8
  unsigned int v181; // r15d
  int v182; // eax
  int v183; // eax
  __int64 v184; // r10
  _QWORD *v185; // rsi
  unsigned int v186; // r12d
  int ii; // r9d
  _BYTE *v188; // rcx
  unsigned int v189; // r12d
  int v190; // r8d
  int v191; // r8d
  __int64 v192; // r9
  int v193; // ecx
  unsigned int k; // r11d
  __int64 *v195; // rsi
  __int64 v196; // rdi
  unsigned int v197; // r11d
  __int64 *v198; // [rsp+10h] [rbp-4A0h]
  bool v199; // [rsp+20h] [rbp-490h]
  __int64 v200; // [rsp+20h] [rbp-490h]
  char v201; // [rsp+2Fh] [rbp-481h]
  int v202; // [rsp+30h] [rbp-480h]
  __int64 v203; // [rsp+30h] [rbp-480h]
  __int64 v204; // [rsp+30h] [rbp-480h]
  __int64 v205; // [rsp+30h] [rbp-480h]
  __int64 v207; // [rsp+40h] [rbp-470h]
  __int64 v208; // [rsp+48h] [rbp-468h]
  _QWORD *v209; // [rsp+48h] [rbp-468h]
  __int64 v210; // [rsp+48h] [rbp-468h]
  _BYTE *v211; // [rsp+48h] [rbp-468h]
  __int64 v212; // [rsp+48h] [rbp-468h]
  __int64 v213; // [rsp+48h] [rbp-468h]
  _QWORD *v214; // [rsp+48h] [rbp-468h]
  __int64 *v216; // [rsp+58h] [rbp-458h]
  __int64 v217; // [rsp+58h] [rbp-458h]
  _BYTE **v218; // [rsp+58h] [rbp-458h]
  __int64 v221[4]; // [rsp+70h] [rbp-440h] BYREF
  __int16 v222; // [rsp+90h] [rbp-420h]
  __int64 v223; // [rsp+A0h] [rbp-410h] BYREF
  unsigned __int64 v224[2]; // [rsp+A8h] [rbp-408h] BYREF
  _BYTE v225[56]; // [rsp+B8h] [rbp-3F8h] BYREF
  _BYTE *v226; // [rsp+F0h] [rbp-3C0h] BYREF
  __int64 v227; // [rsp+F8h] [rbp-3B8h]
  _BYTE v228[944]; // [rsp+100h] [rbp-3B0h] BYREF

  sub_32299B0(a1, a2, a4);
  v4 = a4;
  v207 = a1 + 336;
  v5 = *(__int64 **)(a1 + 368);
  v216 = &v5[12 * *(unsigned int *)(a1 + 376)];
  if ( v5 == v216 )
    goto LABEL_29;
  do
  {
    while ( 1 )
    {
LABEL_2:
      v6 = *(_DWORD *)(v4 + 24);
      v7 = *v5;
      v8 = v5[1];
      v9 = *(_QWORD *)(v4 + 8);
      if ( v6 )
      {
        v10 = v6 - 1;
        v11 = 1;
        for ( i = v10
                & (((0xBF58476D1CE4E5B9LL
                   * (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4)
                    | ((unsigned __int64)(((unsigned int)v7 >> 9) ^ ((unsigned int)v7 >> 4)) << 32))) >> 31)
                 ^ (484763065 * (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4)))); ; i = v10 & v14 )
        {
          v13 = (_QWORD *)(v9 + 16LL * i);
          if ( *v13 == v7 && v13[1] == v8 )
            goto LABEL_28;
          if ( *v13 == -4096 && v13[1] == -4096 )
            break;
          v14 = v11 + i;
          ++v11;
        }
      }
      v201 = sub_372B3C0(v207, v5 + 2, v9);
      if ( !v201 )
        goto LABEL_28;
      v208 = v7 - 16;
      v15 = *(_BYTE *)(v7 - 16);
      v16 = (v15 & 2) != 0 ? *(unsigned __int8 ***)(v7 - 32) : (unsigned __int8 **)(v208 - 8LL * ((v15 >> 2) & 0xF));
      v17 = sub_AF34D0(*v16);
      v18 = *(_QWORD *)(a1 + 8);
      if ( (unsigned int)(*(_DWORD *)(*(_QWORD *)(v18 + 200) + 544LL) - 42) > 1 )
        break;
      if ( *(_DWORD *)(a1 + 6224) != 1 )
        break;
      if ( !*(_WORD *)(v7 + 20) )
        break;
      if ( !v17 )
        break;
      v199 = sub_AF3E00((__int64)v17, **(_QWORD **)(v18 + 232));
      if ( !v199 )
        break;
      v23 = *(_QWORD *)(a1 + 296);
      if ( v23 )
        goto LABEL_18;
      v5 += 12;
      if ( v216 == v5 )
        goto LABEL_29;
    }
    v19 = *(_BYTE *)(v7 - 16);
    if ( !v8 )
    {
      if ( (*(_BYTE *)(v7 - 16) & 2) != 0 )
        v82 = *(__int64 **)(v7 - 32);
      else
        v82 = (__int64 *)(v208 - 8LL * ((v19 >> 2) & 0xF));
      v226 = (_BYTE *)*v82;
      v83 = sub_32239E0((_QWORD *)(a1 + 80), (__int64 *)&v226);
      v199 = 0;
      v23 = (__int64)(v83 + 2);
      if ( !v83 )
        goto LABEL_28;
      v24 = *(_DWORD *)(v4 + 24);
      if ( !v24 )
      {
LABEL_124:
        ++*(_QWORD *)v4;
        goto LABEL_125;
      }
      goto LABEL_19;
    }
    if ( (*(_BYTE *)(v7 - 16) & 2) != 0 )
      v20 = *(__int64 **)(v7 - 32);
    else
      v20 = (__int64 *)(v208 - 8LL * ((v19 >> 2) & 0xF));
    v21 = *v20;
    v227 = v8;
    v226 = (_BYTE *)v21;
    v22 = sub_3223AD0((_QWORD *)(a1 + 136), &v226);
    if ( !v22 )
      goto LABEL_28;
    v199 = 0;
    v23 = v22 + 24;
LABEL_18:
    v24 = *(_DWORD *)(v4 + 24);
    if ( !v24 )
      goto LABEL_124;
LABEL_19:
    v25 = *(_QWORD *)(v4 + 8);
    v26 = 0;
    v202 = 1;
    for ( j = (((0xBF58476D1CE4E5B9LL
               * (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4)
                | ((unsigned __int64)(((unsigned int)v7 >> 9) ^ ((unsigned int)v7 >> 4)) << 32))) >> 31)
             ^ (484763065 * (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4))))
            & (v24 - 1); ; j = (v24 - 1) & v30 )
    {
      v28 = (__int64 *)(v25 + 16LL * j);
      v29 = *v28;
      if ( *v28 == v7 && v28[1] == v8 )
        goto LABEL_138;
      if ( v29 == -4096 )
        break;
      if ( v29 == -8192 && v28[1] == -8192 && !v26 )
        v26 = (__int64 *)(v25 + 16LL * j);
LABEL_26:
      v30 = v202 + j;
      ++v202;
    }
    if ( v28[1] != -4096 )
      goto LABEL_26;
    v170 = *(_DWORD *)(v4 + 16);
    if ( v26 )
      v28 = v26;
    ++*(_QWORD *)v4;
    v171 = v170 + 1;
    if ( 4 * v171 < 3 * v24 )
    {
      if ( v24 - *(_DWORD *)(v4 + 20) - v171 > v24 >> 3 )
        goto LABEL_253;
      v205 = v23;
      sub_3201030(v4, v24);
      v190 = *(_DWORD *)(v4 + 24);
      if ( v190 )
      {
        v191 = v190 - 1;
        v193 = 1;
        v28 = 0;
        v23 = v205;
        for ( k = v191
                & (((0xBF58476D1CE4E5B9LL
                   * (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4)
                    | ((unsigned __int64)(((unsigned int)v7 >> 9) ^ ((unsigned int)v7 >> 4)) << 32))) >> 31)
                 ^ (484763065 * (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4)))); ; k = v191 & v197 )
        {
          v192 = *(_QWORD *)(v4 + 8);
          v195 = (__int64 *)(v192 + 16LL * k);
          v196 = *v195;
          if ( *v195 == v7 && v195[1] == v8 )
          {
            v171 = *(_DWORD *)(v4 + 16) + 1;
            v28 = (__int64 *)(v192 + 16LL * k);
            goto LABEL_253;
          }
          if ( v196 == -4096 )
          {
            if ( v195[1] == -4096 )
            {
              v171 = *(_DWORD *)(v4 + 16) + 1;
              if ( !v28 )
                v28 = (__int64 *)(v192 + 16LL * k);
              goto LABEL_253;
            }
          }
          else if ( v196 == -8192 && v195[1] == -8192 && !v28 )
          {
            v28 = (__int64 *)(v192 + 16LL * k);
          }
          v197 = v193 + k;
          ++v193;
        }
      }
LABEL_361:
      ++*(_DWORD *)(a4 + 16);
      BUG();
    }
LABEL_125:
    v203 = v23;
    sub_3201030(v4, 2 * v24);
    v84 = *(_DWORD *)(v4 + 24);
    if ( !v84 )
      goto LABEL_361;
    v85 = v84 - 1;
    v86 = *(_QWORD *)(v4 + 8);
    v87 = 1;
    v23 = v203;
    v88 = 0;
    v89 = v85
        & (((0xBF58476D1CE4E5B9LL
           * (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4)
            | ((unsigned __int64)(((unsigned int)v7 >> 9) ^ ((unsigned int)v7 >> 4)) << 32))) >> 31)
         ^ (484763065 * (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4))));
    while ( 2 )
    {
      v28 = (__int64 *)(v86 + 16LL * v89);
      v90 = *v28;
      if ( *v28 == v7 && v28[1] == v8 )
      {
        v171 = *(_DWORD *)(v4 + 16) + 1;
        goto LABEL_253;
      }
      if ( v90 != -4096 )
      {
        if ( v90 == -8192 && v28[1] == -8192 && !v88 )
          v88 = (__int64 *)(v86 + 16LL * v89);
        goto LABEL_133;
      }
      if ( v28[1] != -4096 )
      {
LABEL_133:
        v91 = v87 + v89;
        ++v87;
        v89 = v85 & v91;
        continue;
      }
      break;
    }
    v171 = *(_DWORD *)(v4 + 16) + 1;
    if ( v88 )
      v28 = v88;
LABEL_253:
    *(_DWORD *)(v4 + 16) = v171;
    if ( *v28 != -4096 || v28[1] != -4096 )
      --*(_DWORD *)(v4 + 20);
    *v28 = v7;
    v28[1] = v8;
LABEL_138:
    v204 = sub_3227220(a1, a2, v23, (_BYTE *)v7, v8, 0);
    if ( !v199 )
      goto LABEL_139;
    v127 = *(_QWORD *)(a1 + 8);
    v128 = *(__int64 (**)())(*(_QWORD *)v127 + 464LL);
    v129 = *(_BYTE *)(v7 - 16);
    if ( (v129 & 2) != 0 )
      v130 = *(_QWORD *)(v7 - 32);
    else
      v130 = v208 - 8LL * ((v129 >> 2) & 0xF);
    v131 = *(_QWORD *)(v130 + 8);
    if ( v131 )
    {
      v200 = *(_QWORD *)(a1 + 8);
      v132 = sub_B91420(v131);
      v127 = v200;
      v131 = v132;
    }
    if ( v128 == sub_31D4890
      || ((int (__fastcall *)(__int64, __int64))v128)(v127, v131) < 0
      || (v133 = *(_QWORD *)(a1 + 8), v134 = *(__int64 (**)())(*(_QWORD *)v133 + 472LL), v134 == sub_31D48A0)
      || !((unsigned __int8 (__fastcall *)(__int64, __int64 *))v134)(v133, v5 + 2) )
    {
LABEL_139:
      v93 = *((unsigned int *)v5 + 6);
      v94 = (_QWORD *)v5[2];
      if ( v93 == 2 )
      {
        v140 = v94[2];
        if ( (v140 & 4) != 0 )
        {
          v95 = v140 & 0xFFFFFFFFFFFFFFF8LL;
          goto LABEL_141;
        }
      }
      else
      {
        v95 = 0;
        if ( v93 == 1 )
        {
LABEL_141:
          v96 = *v94 & 0xFFFFFFFFFFFFFFF8LL;
          if ( (unsigned __int8)sub_321C870(a1 + 72, v96, v95, a1 + 496) )
          {
            v161 = *(char *)(v204 + 88);
            if ( (_BYTE)v161 != 0xFF )
              funcs_32198D3[v161]();
            *(_BYTE *)(v204 + 88) = 1;
            sub_321E1F0((_QWORD *)(v204 + 40), v96);
            v162 = *(_BYTE *)(v204 + 88);
            if ( v162 != 1 )
              sub_435074(v162 == -1);
            v5 += 12;
            if ( v216 == v5 )
              break;
            goto LABEL_2;
          }
        }
      }
      v97 = *(_QWORD *)(a1 + 8);
      v221[0] = a1 + 1288;
      v221[1] = v97;
      v221[2] = v204;
      v221[3] = sub_321DD80(a1 + 1288, a2);
      v222 = 0;
      v226 = v228;
      v227 = 0x800000000LL;
      if ( (unsigned __int8)sub_3232920(a1, (__int64)&v226, (__int64)(v5 + 2), v98, v99, v100) )
      {
        v116 = *((_QWORD *)v226 + 2);
        v117 = *(char *)(v204 + 88);
        if ( (_BYTE)v117 != 0xFF )
          funcs_32198D3[v117]();
        *(_BYTE *)(v204 + 88) = 1;
        v118 = *(_QWORD *)v116;
        v224[0] = (unsigned __int64)v225;
        v223 = v118;
        v224[1] = 0x200000000LL;
        v119 = *(unsigned int *)(v116 + 16);
        if ( (_DWORD)v119 )
          sub_3218BB0((__int64)v224, v116 + 8, v101, v119, (__int64)&v223, v102);
        v225[48] = *(_BYTE *)(v116 + 72);
        sub_321E150((_QWORD *)(v204 + 40), &v223);
        if ( (_BYTE *)v224[0] != v225 )
          _libc_free(v224[0]);
        v120 = *(_BYTE *)(v204 + 88);
        if ( v120 != 1 )
          sub_435074(v120 == -1);
        v121 = (__int64)v226;
        v122 = (unsigned __int64)&v226[112 * (unsigned int)v227];
        if ( v226 != (_BYTE *)v122 )
        {
          v213 = v4;
          do
          {
            v123 = *(unsigned int *)(v122 - 88);
            v124 = *(_QWORD *)(v122 - 96);
            v122 -= 112LL;
            v125 = v124 + 80 * v123;
            if ( v124 != v125 )
            {
              do
              {
                v125 -= 80LL;
                v126 = *(_QWORD *)(v125 + 8);
                if ( v126 != v125 + 24 )
                  _libc_free(v126);
              }
              while ( v124 != v125 );
              v124 = *(_QWORD *)(v122 + 16);
            }
            if ( v124 != v122 + 32 )
              _libc_free(v124);
          }
          while ( v121 != v122 );
          v4 = v213;
          v122 = (unsigned __int64)v226;
        }
        if ( (_BYTE *)v122 != v228 )
          _libc_free(v122);
        v5 += 12;
        sub_372F970(v221);
        if ( v216 == v5 )
          break;
        goto LABEL_2;
      }
      v103 = *(_BYTE *)(v7 - 16);
      if ( (v103 & 2) != 0 )
        v104 = *(_QWORD *)(v7 - 32);
      else
        v104 = v208 - 8LL * ((v103 >> 2) & 0xF);
      v105 = *(_BYTE **)(v104 + 24);
      v106 = v226;
      if ( *v105 != 12 )
        v105 = 0;
      v107 = &v226[112 * (unsigned int)v227];
      if ( v107 == v226 )
      {
        if ( (unsigned int)(*(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 8) + 200LL) + 544LL) - 42) <= 1
          && *(_DWORD *)(a1 + 6224) == 1 )
        {
          v169 = v201;
          goto LABEL_247;
        }
      }
      else
      {
        v211 = &v226[112 * (unsigned int)v227];
        v108 = (__int64)v226;
        v198 = v5;
        v109 = (__int64)v105;
        do
        {
          v110 = (void **)v108;
          v108 += 112;
          sub_32204E0(v110, *(_QWORD *)(a1 + 8), v221, v109, a2, v102);
        }
        while ( v211 != (_BYTE *)v108 );
        v5 = v198;
        v106 = v226;
        v107 = &v226[112 * (unsigned int)v227];
        if ( (unsigned int)(*(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 8) + 200LL) + 544LL) - 42) > 1
          || *(_DWORD *)(a1 + 6224) != 1 )
        {
          goto LABEL_152;
        }
        v164 = (__int64)v226;
        if ( v226 == v107 )
        {
LABEL_246:
          v169 = v201;
        }
        else
        {
          while ( 1 )
          {
            v165 = *(_QWORD *)(v164 + 16);
            v166 = v165 + 80LL * *(unsigned int *)(v164 + 24);
            if ( v165 != v166 )
              break;
LABEL_245:
            v164 += 112;
            if ( (_BYTE *)v164 == v107 )
              goto LABEL_246;
          }
          while ( 1 )
          {
            v167 = *(_QWORD *)(v165 + 8);
            v168 = v167 + 24LL * *(unsigned int *)(v165 + 16);
            if ( v167 != v168 )
              break;
LABEL_244:
            v165 += 80;
            if ( v166 == v165 )
              goto LABEL_245;
          }
          while ( !*(_DWORD *)v167 )
          {
            v169 = *(_BYTE *)(v167 + 16);
            if ( !v169 )
              goto LABEL_247;
            v167 += 24;
            if ( v168 == v167 )
              goto LABEL_244;
          }
          v169 = 0;
        }
LABEL_247:
        *(_BYTE *)(v204 + 89) = v169;
LABEL_152:
        if ( v107 != v106 )
        {
          v212 = v4;
          v111 = v106;
          do
          {
            v112 = *((unsigned int *)v107 - 22);
            v113 = *((_QWORD *)v107 - 12);
            v107 -= 112;
            v114 = v113 + 80 * v112;
            if ( v113 != v114 )
            {
              do
              {
                v114 -= 80LL;
                v115 = *(_QWORD *)(v114 + 8);
                if ( v115 != v114 + 24 )
                  _libc_free(v115);
              }
              while ( v113 != v114 );
              v113 = *((_QWORD *)v107 + 2);
            }
            if ( (_BYTE *)v113 != v107 + 32 )
              _libc_free(v113);
          }
          while ( v111 != v107 );
          v4 = v212;
          v106 = v226;
        }
      }
      if ( v106 != v228 )
        _libc_free((unsigned __int64)v106);
      v5 += 12;
      sub_372F970(v221);
      if ( v216 == v5 )
        break;
      goto LABEL_2;
    }
    if ( !*(_BYTE *)(a1 + 3724) )
      goto LABEL_322;
    v139 = *(__int64 **)(a1 + 3704);
    v136 = *(unsigned int *)(a1 + 3716);
    v135 = &v139[v136];
    if ( v139 == v135 )
    {
LABEL_323:
      if ( (unsigned int)v136 < *(_DWORD *)(a1 + 3712) )
      {
        *(_DWORD *)(a1 + 3716) = v136 + 1;
        *v135 = v204;
        ++*(_QWORD *)(a1 + 3696);
        goto LABEL_28;
      }
LABEL_322:
      sub_C8CC70(a1 + 3696, v204, (__int64)v135, v136, v137, v138);
      goto LABEL_28;
    }
    while ( v204 != *v139 )
    {
      if ( v135 == ++v139 )
        goto LABEL_323;
    }
LABEL_28:
    v5 += 12;
  }
  while ( v216 != v5 );
LABEL_29:
  v31 = *(_QWORD *)(a1 + 416);
  v217 = v31 + 24LL * *(unsigned int *)(a1 + 424);
  if ( v217 == v31 )
    goto LABEL_58;
  do
  {
    while ( 1 )
    {
      v32 = *(_QWORD *)(v31 + 16);
      if ( !v32 )
        goto LABEL_57;
      v33 = *(_BYTE **)v31;
      v34 = *(_BYTE *)(*(_QWORD *)v31 - 16LL);
      if ( (v34 & 2) != 0 )
        v35 = (_BYTE **)*((_QWORD *)v33 - 4);
      else
        v35 = (_BYTE **)&v33[-8 * ((v34 >> 2) & 0xF) - 16];
      v36 = *(_QWORD *)(v31 + 8);
      v226 = sub_AF3520(*v35);
      if ( v36 )
      {
        v227 = v36;
        v37 = sub_3223AD0((_QWORD *)(a1 + 136), &v226);
        if ( !v37 )
          goto LABEL_57;
        v38 = (_QWORD *)(v37 + 24);
        break;
      }
      v69 = sub_32239E0((_QWORD *)(a1 + 80), (__int64 *)&v226);
      v38 = v69 + 2;
      if ( v69 )
        break;
      v31 += 24;
      if ( v217 == v31 )
        goto LABEL_58;
    }
    v39 = *(_DWORD *)(a4 + 24);
    if ( !v39 )
    {
      ++*(_QWORD *)a4;
LABEL_46:
      v209 = v38;
      sub_3201030(a4, 2 * v39);
      v47 = *(_DWORD *)(a4 + 24);
      if ( !v47 )
        goto LABEL_357;
      v48 = v47 - 1;
      v49 = *(_QWORD *)(a4 + 8);
      v50 = 1;
      v51 = 0;
      v38 = v209;
      for ( m = v48
              & (((0xBF58476D1CE4E5B9LL
                 * (((unsigned int)v36 >> 9) ^ ((unsigned int)v36 >> 4)
                  | ((unsigned __int64)(((unsigned int)v33 >> 9) ^ ((unsigned int)v33 >> 4)) << 32))) >> 31)
               ^ (484763065 * (((unsigned int)v36 >> 9) ^ ((unsigned int)v36 >> 4)))); ; m = v48 & v172 )
      {
        v42 = (_QWORD *)(v49 + 16LL * m);
        v53 = (_BYTE *)*v42;
        if ( (_BYTE *)*v42 == v33 && v42[1] == v36 )
          break;
        if ( v53 == (_BYTE *)-4096LL )
        {
          if ( v42[1] == -4096 )
          {
            v54 = *(_DWORD *)(a4 + 16) + 1;
            if ( v51 )
              v42 = v51;
            goto LABEL_53;
          }
        }
        else if ( v53 == (_BYTE *)-8192LL && v42[1] == -8192 && !v51 )
        {
          v51 = (_QWORD *)(v49 + 16LL * m);
        }
        v172 = v50 + m;
        ++v50;
      }
LABEL_310:
      v54 = *(_DWORD *)(a4 + 16) + 1;
      goto LABEL_53;
    }
    v40 = 1;
    v41 = *(_QWORD *)(a4 + 8);
    v42 = 0;
    v43 = ((0xBF58476D1CE4E5B9LL
          * (((unsigned int)v36 >> 9) ^ ((unsigned int)v36 >> 4)
           | ((unsigned __int64)(((unsigned int)v33 >> 9) ^ ((unsigned int)v33 >> 4)) << 32))) >> 31)
        ^ (484763065 * (((unsigned int)v36 >> 9) ^ ((unsigned int)v36 >> 4)));
    for ( n = v43 & (v39 - 1); ; n = (v39 - 1) & v92 )
    {
      v45 = (_QWORD *)(v41 + 16LL * n);
      v46 = (_BYTE *)*v45;
      if ( (_BYTE *)*v45 == v33 && v45[1] == v36 )
        goto LABEL_56;
      if ( v46 == (_BYTE *)-4096LL )
        break;
      if ( v46 == (_BYTE *)-8192LL && v45[1] == -8192 && !v42 )
        v42 = (_QWORD *)(v41 + 16LL * n);
LABEL_136:
      v92 = v40 + n;
      ++v40;
    }
    if ( v45[1] != -4096 )
      goto LABEL_136;
    if ( !v42 )
      v42 = (_QWORD *)(v41 + 16LL * n);
    ++*(_QWORD *)a4;
    v54 = *(_DWORD *)(a4 + 16) + 1;
    if ( 4 * v54 >= 3 * v39 )
      goto LABEL_46;
    if ( v39 - *(_DWORD *)(a4 + 20) - v54 <= v39 >> 3 )
    {
      v214 = v38;
      sub_3201030(a4, v39);
      v182 = *(_DWORD *)(a4 + 24);
      if ( v182 )
      {
        v183 = v182 - 1;
        v184 = *(_QWORD *)(a4 + 8);
        v185 = 0;
        v38 = v214;
        v186 = v183 & v43;
        for ( ii = 1; ; ++ii )
        {
          v42 = (_QWORD *)(v184 + 16LL * v186);
          v188 = (_BYTE *)*v42;
          if ( (_BYTE *)*v42 == v33 && v42[1] == v36 )
            break;
          if ( v188 == (_BYTE *)-4096LL )
          {
            if ( v42[1] == -4096 )
            {
              v54 = *(_DWORD *)(a4 + 16) + 1;
              if ( v185 )
                v42 = v185;
              goto LABEL_53;
            }
          }
          else if ( v188 == (_BYTE *)-8192LL && v42[1] == -8192 && !v185 )
          {
            v185 = (_QWORD *)(v184 + 16LL * v186);
          }
          v189 = ii + v186;
          v186 = v183 & v189;
        }
        goto LABEL_310;
      }
LABEL_357:
      ++*(_DWORD *)(a4 + 16);
      BUG();
    }
LABEL_53:
    *(_DWORD *)(a4 + 16) = v54;
    if ( *v42 != -4096 || v42[1] != -4096 )
      --*(_DWORD *)(a4 + 20);
    *v42 = v33;
    v42[1] = v36;
LABEL_56:
    v210 = (__int64)v38;
    v55 = sub_3211F40(a1, v32);
    sub_3227220(a1, a2, v210, v33, v36, v55);
LABEL_57:
    v31 += 24;
  }
  while ( v217 != v31 );
LABEL_58:
  v56 = *(_BYTE *)(a3 - 16);
  if ( (v56 & 2) != 0 )
    v57 = *(_QWORD *)(a3 - 32);
  else
    v57 = a3 - 16 - 8LL * ((v56 >> 2) & 0xF);
  result = *(_QWORD *)(v57 + 56);
  if ( !result )
    return result;
  v59 = *(_BYTE *)(result - 16);
  if ( (v59 & 2) != 0 )
  {
    v60 = *(_BYTE ***)(result - 32);
    result = *(unsigned int *)(result - 24);
  }
  else
  {
    v60 = (_BYTE **)(result - 16 - 8LL * ((v59 >> 2) & 0xF));
    result = (*(_WORD *)(result - 16) >> 6) & 0xF;
  }
  if ( v60 == &v60[result] )
    return result;
  v218 = &v60[result];
  do
  {
    v61 = *v60;
    v62 = sub_321C590(*v60);
    if ( (unsigned __int8)(*v61 - 26) > 1u )
    {
      v70 = *(_DWORD *)(a1 + 2992);
      if ( v70 )
      {
        v71 = v70 - 1;
        v72 = 1;
        v73 = *(_QWORD *)(a1 + 2976);
        v74 = v71 & (((unsigned int)v62 >> 9) ^ ((unsigned int)v62 >> 4));
        jj = v73 + 88LL * v74;
        v76 = 0;
        v77 = *(_QWORD *)jj;
        if ( v62 == *(_BYTE **)jj )
        {
LABEL_81:
          v78 = jj + 8;
          if ( !*(_BYTE *)(jj + 36) )
            goto LABEL_82;
          goto LABEL_110;
        }
        while ( v77 != -4096 )
        {
          if ( !v76 && v77 == -8192 )
            v76 = jj;
          v74 = v71 & (v72 + v74);
          jj = v73 + 88LL * v74;
          v77 = *(_QWORD *)jj;
          if ( v62 == *(_BYTE **)jj )
            goto LABEL_81;
          ++v72;
        }
        if ( !v76 )
          v76 = jj;
        v80 = *(_DWORD *)(a1 + 2984);
        ++*(_QWORD *)(a1 + 2968);
        v81 = v80 + 1;
        if ( 4 * v81 < 3 * v70 )
        {
          if ( v70 - *(_DWORD *)(a1 + 2988) - v81 > v70 >> 3 )
          {
LABEL_107:
            *(_DWORD *)(a1 + 2984) = v81;
            if ( *(_QWORD *)v76 != -4096 )
              --*(_DWORD *)(a1 + 2988);
            *(_QWORD *)v76 = v62;
            v78 = v76 + 8;
            *(_OWORD *)(v76 + 8) = 0;
            *(_QWORD *)(v76 + 16) = v76 + 40;
            *(_OWORD *)(v76 + 24) = 0;
            *(_QWORD *)(v76 + 56) = v76 + 72;
            *(_QWORD *)(v76 + 24) = 2;
            *(_DWORD *)(v76 + 32) = 0;
            *(_BYTE *)(v76 + 36) = 1;
            *(_QWORD *)(v76 + 64) = 0x200000000LL;
            *(_OWORD *)(v76 + 40) = 0;
            *(_OWORD *)(v76 + 72) = 0;
LABEL_110:
            result = *(_QWORD *)(v78 + 8);
            v77 = *(unsigned int *)(v78 + 20);
            for ( jj = result + 8 * v77; jj != result; result += 8 )
            {
              if ( v61 == *(_BYTE **)result )
                goto LABEL_83;
            }
            if ( (unsigned int)v77 < *(_DWORD *)(v78 + 16) )
            {
              *(_DWORD *)(v78 + 20) = v77 + 1;
              *(_QWORD *)jj = v61;
              ++*(_QWORD *)v78;
LABEL_115:
              result = *(unsigned int *)(v78 + 56);
              if ( result + 1 > (unsigned __int64)*(unsigned int *)(v78 + 60) )
              {
                sub_C8D5F0(v78 + 48, (const void *)(v78 + 64), result + 1, 8u, v73, v71);
                result = *(unsigned int *)(v78 + 56);
              }
              *(_QWORD *)(*(_QWORD *)(v78 + 48) + 8 * result) = v61;
              ++*(_DWORD *)(v78 + 56);
              goto LABEL_83;
            }
LABEL_82:
            result = (__int64)sub_C8CC70(v78, (__int64)v61, jj, v77, v73, v71);
            if ( !v79 )
              goto LABEL_83;
            goto LABEL_115;
          }
          sub_3227C70(a1 + 2968, v70);
          v155 = *(_DWORD *)(a1 + 2992);
          if ( v155 )
          {
            v71 = (unsigned int)(v155 - 1);
            v156 = *(_QWORD *)(a1 + 2976);
            v157 = 1;
            LODWORD(v158) = v71 & (((unsigned int)v62 >> 9) ^ ((unsigned int)v62 >> 4));
            v81 = *(_DWORD *)(a1 + 2984) + 1;
            v159 = 0;
            v76 = v156 + 88LL * (unsigned int)v158;
            v160 = *(_QWORD *)v76;
            if ( v62 != *(_BYTE **)v76 )
            {
              while ( v160 != -4096 )
              {
                if ( v160 == -8192 && !v159 )
                  v159 = v76;
                v73 = (unsigned int)(v157 + 1);
                v158 = (unsigned int)v71 & ((_DWORD)v158 + v157);
                v76 = v156 + 88 * v158;
                v160 = *(_QWORD *)v76;
                if ( v62 == *(_BYTE **)v76 )
                  goto LABEL_107;
                ++v157;
              }
              if ( v159 )
                v76 = v159;
            }
            goto LABEL_107;
          }
LABEL_358:
          ++*(_DWORD *)(a1 + 2984);
          BUG();
        }
      }
      else
      {
        ++*(_QWORD *)(a1 + 2968);
      }
      sub_3227C70(a1 + 2968, 2 * v70);
      v149 = *(_DWORD *)(a1 + 2992);
      if ( v149 )
      {
        v150 = v149 - 1;
        v73 = *(_QWORD *)(a1 + 2976);
        LODWORD(v151) = v150 & (((unsigned int)v62 >> 9) ^ ((unsigned int)v62 >> 4));
        v76 = v73 + 88LL * (unsigned int)v151;
        v152 = *(_QWORD *)v76;
        v81 = *(_DWORD *)(a1 + 2984) + 1;
        if ( v62 != *(_BYTE **)v76 )
        {
          v153 = 1;
          v154 = 0;
          while ( v152 != -4096 )
          {
            if ( !v154 && v152 == -8192 )
              v154 = v76;
            v71 = (unsigned int)(v153 + 1);
            v151 = v150 & (unsigned int)(v151 + v153);
            v76 = v73 + 88 * v151;
            v152 = *(_QWORD *)v76;
            if ( v62 == *(_BYTE **)v76 )
              goto LABEL_107;
            ++v153;
          }
          if ( v154 )
            v76 = v154;
        }
        goto LABEL_107;
      }
      goto LABEL_358;
    }
    v63 = *(_DWORD *)(a4 + 24);
    if ( !v63 )
    {
      ++*(_QWORD *)a4;
LABEL_207:
      sub_3201030(a4, 2 * v63);
      v141 = *(_DWORD *)(a4 + 24);
      if ( !v141 )
        goto LABEL_359;
      v142 = v141 - 1;
      v144 = 1;
      v145 = 0;
      for ( kk = v142 & (969526130 * (((unsigned int)v61 >> 9) ^ ((unsigned int)v61 >> 4))); ; kk = v142 & v148 )
      {
        v143 = *(_QWORD *)(a4 + 8);
        result = v143 + 16LL * kk;
        v147 = *(_QWORD *)result;
        if ( v61 == *(_BYTE **)result && !*(_QWORD *)(result + 8) )
          break;
        if ( v147 == -4096 )
        {
          if ( *(_QWORD *)(result + 8) == -4096 )
          {
            if ( v145 )
              result = v145;
            v173 = *(_DWORD *)(a4 + 16) + 1;
            goto LABEL_265;
          }
        }
        else if ( v147 == -8192 && *(_QWORD *)(result + 8) == -8192 && !v145 )
        {
          v145 = v143 + 16LL * kk;
        }
        v148 = v144 + kk;
        ++v144;
      }
LABEL_280:
      v173 = *(_DWORD *)(a4 + 16) + 1;
      goto LABEL_265;
    }
    v64 = *(_QWORD *)(a4 + 8);
    v65 = 1;
    v66 = 0;
    for ( mm = (969526130 * (((unsigned int)v61 >> 9) ^ ((unsigned int)v61 >> 4))) & (v63 - 1); ; mm = (v63 - 1) & v163 )
    {
      result = v64 + 16LL * mm;
      v68 = *(_QWORD *)result;
      if ( v61 == *(_BYTE **)result && !*(_QWORD *)(result + 8) )
        goto LABEL_83;
      if ( v68 == -4096 )
        break;
      if ( v68 == -8192 && *(_QWORD *)(result + 8) == -8192 && !v66 )
        v66 = v64 + 16LL * mm;
LABEL_237:
      v163 = v65 + mm;
      ++v65;
    }
    if ( *(_QWORD *)(result + 8) != -4096 )
      goto LABEL_237;
    if ( v66 )
      result = v66;
    ++*(_QWORD *)a4;
    v173 = *(_DWORD *)(a4 + 16) + 1;
    if ( 4 * v173 >= 3 * v63 )
      goto LABEL_207;
    if ( v63 - *(_DWORD *)(a4 + 20) - v173 <= v63 >> 3 )
    {
      sub_3201030(a4, v63);
      v174 = *(_DWORD *)(a4 + 24);
      if ( v174 )
      {
        v175 = v174 - 1;
        v176 = *(_QWORD *)(a4 + 8);
        v177 = 1;
        v178 = 0;
        for ( nn = (v174 - 1) & (969526130 * (((unsigned int)v61 >> 9) ^ ((unsigned int)v61 >> 4))); ; nn = v175 & v181 )
        {
          result = v176 + 16LL * nn;
          v180 = *(_QWORD *)result;
          if ( v61 == *(_BYTE **)result && !*(_QWORD *)(result + 8) )
            break;
          if ( v180 == -4096 )
          {
            if ( *(_QWORD *)(result + 8) == -4096 )
            {
              if ( v178 )
                result = v178;
              v173 = *(_DWORD *)(a4 + 16) + 1;
              goto LABEL_265;
            }
          }
          else if ( v180 == -8192 && *(_QWORD *)(result + 8) == -8192 && !v178 )
          {
            v178 = v176 + 16LL * nn;
          }
          v181 = v177 + nn;
          ++v177;
        }
        goto LABEL_280;
      }
LABEL_359:
      ++*(_DWORD *)(a4 + 16);
      BUG();
    }
LABEL_265:
    *(_DWORD *)(a4 + 16) = v173;
    if ( *(_QWORD *)result != -4096 || *(_QWORD *)(result + 8) != -4096 )
      --*(_DWORD *)(a4 + 20);
    *(_QWORD *)result = v61;
    *(_QWORD *)(result + 8) = 0;
    v226 = v62;
    result = (__int64)sub_32239E0((_QWORD *)(a1 + 80), (__int64 *)&v226);
    if ( result )
      result = sub_3227220(a1, a2, result + 16, v61, 0, 0);
LABEL_83:
    ++v60;
  }
  while ( v218 != v60 );
  return result;
}
