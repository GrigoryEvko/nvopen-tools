// Function: sub_FB7100
// Address: 0xfb7100
//
__int64 __fastcall sub_FB7100(__int64 a1, __int64 a2, __int64 a3, _QWORD *a4, int a5)
{
  unsigned int v5; // r12d
  __int64 v7; // rbx
  __int64 v8; // r15
  __int64 v11; // rdi
  char v12; // al
  unsigned __int8 *v13; // r11
  int v14; // eax
  unsigned __int64 v15; // rax
  __int64 v16; // rdx
  __int64 v17; // rax
  __int64 v18; // rsi
  unsigned int v19; // eax
  __int64 v20; // rax
  unsigned __int64 *v21; // rdx
  __int64 v22; // r11
  unsigned __int64 *v23; // rbx
  __int64 v24; // r12
  unsigned __int64 v25; // rax
  __int64 v26; // r13
  __int64 v27; // rax
  int v28; // edx
  int v29; // r11d
  __int64 v30; // rdx
  __int64 v31; // rcx
  __int64 v32; // rax
  __int64 v33; // rcx
  int v34; // edx
  __int64 *v35; // rax
  __int64 v36; // r14
  __int64 v37; // r13
  char v38; // al
  __int64 v39; // rax
  char v40; // r15
  __int64 v41; // rax
  int v42; // edx
  __int64 v43; // rcx
  __int64 v44; // rbx
  bool v45; // al
  _QWORD *v46; // rdx
  int v47; // eax
  __int64 v48; // rax
  __int64 v49; // rax
  _QWORD *v50; // rax
  int v51; // eax
  unsigned __int64 v52; // rax
  __int64 v53; // r12
  _QWORD *v54; // rcx
  __int64 v55; // r13
  char v56; // bl
  unsigned __int64 v57; // rax
  __int64 v58; // rdi
  __int64 v59; // r8
  __int64 v60; // r9
  __int64 v61; // r12
  __int64 v62; // rsi
  __int64 v63; // rcx
  _BYTE *v64; // rdx
  __int64 v65; // rax
  __int64 v66; // rax
  __int64 v67; // r12
  char v68; // bl
  char v69; // al
  __int64 v70; // rax
  __int64 v71; // rdx
  __int64 v72; // rdx
  __int64 v73; // rdx
  __int64 v74; // rax
  _QWORD *v75; // r12
  _QWORD *v76; // rbx
  __int64 v77; // rax
  __int64 v78; // rdx
  unsigned __int64 **v79; // rdx
  unsigned __int64 v80; // rax
  unsigned __int64 v81; // rbx
  bool v82; // cf
  unsigned __int64 v83; // rax
  __int64 v84; // r13
  __int64 v85; // rbx
  __int64 v86; // rsi
  unsigned __int8 *v87; // rsi
  __int64 v88; // rax
  _QWORD *v89; // rax
  __int64 v90; // rdx
  const char *v91; // rax
  __int64 v92; // rdx
  int v93; // esi
  _QWORD *v94; // r12
  __int64 v95; // rax
  unsigned __int64 *v96; // r14
  __int64 v97; // rax
  bool v98; // zf
  unsigned __int64 **v99; // rax
  _QWORD *v100; // r12
  __int64 v101; // rcx
  __int64 v102; // rax
  __int64 v103; // rax
  __int64 v104; // rcx
  __int64 v105; // rsi
  __int64 v106; // rdx
  __int64 v107; // rax
  __int64 v108; // r12
  __int64 v109; // rax
  char v110; // al
  _QWORD *v111; // r12
  int v112; // esi
  _QWORD *v113; // r12
  __int64 v114; // rax
  unsigned __int64 *v115; // r13
  __int64 v116; // rax
  unsigned __int64 **v117; // rax
  __int64 v118; // rcx
  __int64 v119; // rax
  __int64 v120; // rdx
  __int64 v121; // rdx
  _QWORD *v122; // r13
  _QWORD *v123; // rbx
  __int64 v124; // rax
  __int64 v125; // rdx
  __int64 v126; // rax
  _QWORD *v127; // rdi
  int v128; // r8d
  unsigned int i; // edx
  unsigned __int64 v130; // rax
  __int64 v131; // r9
  __int64 v132; // rax
  __int64 v133; // r8
  __int64 v134; // rax
  __int64 v135; // r8
  __int64 v136; // r9
  const char **v137; // rdx
  __int64 v138; // rax
  unsigned int v139; // ebx
  __int64 v140; // rdx
  _QWORD *v141; // rax
  unsigned __int64 v142; // rax
  __int64 v143; // r13
  unsigned __int64 v144; // rax
  __int64 v145; // rdi
  _QWORD *v146; // rdx
  _QWORD *v147; // r13
  _QWORD *j; // r14
  _QWORD *v149; // r12
  _QWORD *v150; // rbx
  __int64 v151; // rsi
  unsigned int v152; // edx
  __int64 v153; // [rsp+8h] [rbp-278h]
  __int64 v154; // [rsp+10h] [rbp-270h]
  _QWORD *v155; // [rsp+10h] [rbp-270h]
  __int64 v156; // [rsp+18h] [rbp-268h]
  __int64 v157; // [rsp+18h] [rbp-268h]
  __int64 v158; // [rsp+20h] [rbp-260h]
  __int64 v159; // [rsp+20h] [rbp-260h]
  __int64 v160; // [rsp+20h] [rbp-260h]
  __int64 v161; // [rsp+28h] [rbp-258h]
  unsigned __int8 v162; // [rsp+40h] [rbp-240h]
  __int64 v163; // [rsp+40h] [rbp-240h]
  __int64 v164; // [rsp+48h] [rbp-238h]
  int v165; // [rsp+48h] [rbp-238h]
  unsigned int v166; // [rsp+48h] [rbp-238h]
  __int64 v167; // [rsp+48h] [rbp-238h]
  __int64 v168; // [rsp+50h] [rbp-230h]
  __int64 v169; // [rsp+60h] [rbp-220h]
  char v170; // [rsp+60h] [rbp-220h]
  __int64 v171; // [rsp+60h] [rbp-220h]
  unsigned int v172; // [rsp+60h] [rbp-220h]
  char v173; // [rsp+68h] [rbp-218h]
  int v174; // [rsp+68h] [rbp-218h]
  __int64 v175; // [rsp+68h] [rbp-218h]
  __int64 v176; // [rsp+68h] [rbp-218h]
  __int64 v177; // [rsp+70h] [rbp-210h]
  _QWORD *v178; // [rsp+70h] [rbp-210h]
  unsigned int v179; // [rsp+70h] [rbp-210h]
  __int64 v180; // [rsp+70h] [rbp-210h]
  unsigned int v181; // [rsp+78h] [rbp-208h]
  __int64 v182; // [rsp+78h] [rbp-208h]
  unsigned __int64 v184; // [rsp+80h] [rbp-200h]
  __int64 v186; // [rsp+88h] [rbp-1F8h]
  __int64 v187; // [rsp+90h] [rbp-1F0h] BYREF
  __int64 v188; // [rsp+98h] [rbp-1E8h] BYREF
  __int64 v189; // [rsp+A0h] [rbp-1E0h] BYREF
  __int64 v190; // [rsp+A8h] [rbp-1D8h] BYREF
  __int64 v191; // [rsp+B0h] [rbp-1D0h] BYREF
  _QWORD *v192; // [rsp+B8h] [rbp-1C8h] BYREF
  _QWORD *v193; // [rsp+C0h] [rbp-1C0h] BYREF
  _QWORD v194[2]; // [rsp+C8h] [rbp-1B8h] BYREF
  __int64 v195; // [rsp+D8h] [rbp-1A8h]
  __int64 v196; // [rsp+E0h] [rbp-1A0h]
  const char **v197; // [rsp+F0h] [rbp-190h] BYREF
  __int64 v198; // [rsp+F8h] [rbp-188h] BYREF
  const char *v199; // [rsp+100h] [rbp-180h] BYREF
  __int64 v200; // [rsp+108h] [rbp-178h]
  unsigned __int64 **v201; // [rsp+110h] [rbp-170h]
  __int64 *v202; // [rsp+120h] [rbp-160h] BYREF
  __int64 v203; // [rsp+128h] [rbp-158h]
  _BYTE v204[64]; // [rsp+130h] [rbp-150h] BYREF
  unsigned __int64 *v205; // [rsp+170h] [rbp-110h] BYREF
  unsigned __int64 v206; // [rsp+178h] [rbp-108h]
  __int64 v207; // [rsp+180h] [rbp-100h] BYREF
  __int64 v208; // [rsp+188h] [rbp-F8h]
  _QWORD *v209; // [rsp+198h] [rbp-E8h]
  unsigned int v210; // [rsp+1A8h] [rbp-D8h]
  char v211; // [rsp+1B0h] [rbp-D0h]
  _BYTE *v212; // [rsp+1C0h] [rbp-C0h] BYREF
  __int64 v213; // [rsp+1C8h] [rbp-B8h]
  _BYTE v214[32]; // [rsp+1D0h] [rbp-B0h] BYREF
  __int64 v215; // [rsp+1F0h] [rbp-90h]
  __int64 v216; // [rsp+1F8h] [rbp-88h]
  __int16 v217; // [rsp+200h] [rbp-80h]
  __int64 v218; // [rsp+208h] [rbp-78h]
  void **v219; // [rsp+210h] [rbp-70h]
  void **v220; // [rsp+218h] [rbp-68h]
  __int64 v221; // [rsp+220h] [rbp-60h]
  int v222; // [rsp+228h] [rbp-58h]
  __int16 v223; // [rsp+22Ch] [rbp-54h]
  char v224; // [rsp+22Eh] [rbp-52h]
  __int64 v225; // [rsp+230h] [rbp-50h]
  __int64 v226; // [rsp+238h] [rbp-48h]
  void *v227; // [rsp+240h] [rbp-40h] BYREF
  void *v228; // [rsp+248h] [rbp-38h] BYREF

  v5 = 0;
  if ( (*(_DWORD *)(a1 + 4) & 0x7FFFFFF) != 3 )
    return v5;
  v7 = *(_QWORD *)(a1 + 40);
  v8 = a1;
  v11 = *(_QWORD *)(v7 + 72);
  v187 = v7;
  v12 = sub_B2D610(v11, 18);
  v13 = *(unsigned __int8 **)(v8 - 96);
  v181 = (v12 == 0) + 2;
  v14 = *v13;
  if ( (unsigned __int8)v14 <= 0x1Cu )
    return 0;
  v15 = (unsigned int)(v14 - 42);
  if ( (unsigned __int8)v15 > 0x2Cu )
    return 0;
  v16 = 0x13000003FFFFLL;
  if ( !_bittest64(&v16, v15) )
    return 0;
  if ( v7 != *((_QWORD *)v13 + 5) )
    return 0;
  v17 = *((_QWORD *)v13 + 2);
  if ( !v17 )
    return 0;
  if ( *(_QWORD *)(v17 + 8) )
    return 0;
  v177 = *(_QWORD *)(v8 - 96);
  sub_F34070((__int64)&v212, v7);
  v18 = (__int64)&v187;
  LOBYTE(v19) = sub_F99F90((__int64)&v212, &v187);
  v5 = v19;
  if ( (_BYTE)v19 )
    return 0;
  v202 = (__int64 *)v204;
  v203 = 0x800000000LL;
  v20 = sub_F92F30(v7);
  v22 = v177;
  v205 = (unsigned __int64 *)v20;
  if ( (unsigned __int64 *)v20 != v21 )
  {
    v164 = v177;
    v162 = v5;
    v178 = a4;
    v169 = v7;
    v23 = v21;
    while ( 1 )
    {
      v24 = *(_QWORD *)(*(_QWORD *)(v20 + 24) + 40LL);
      v25 = sub_986580(v24);
      v26 = v25;
      if ( *(_BYTE *)v25 == 31 && (*(_DWORD *)(v25 + 4) & 0x7FFFFFF) != 1 && v8 != v25 )
      {
        v18 = v25;
        if ( sub_FB6C00(v8, (_QWORD *)v25, 0) )
        {
          v18 = v8;
          sub_F8F7C0((__int64)&v212, v8, v26, v178);
          if ( v214[0] )
          {
            v18 = HIDWORD(v212);
            v173 = (char)v212;
            if ( !v178 )
              goto LABEL_26;
            v156 = *(_QWORD *)(*(_QWORD *)(v8 - 96) + 8LL);
            v27 = sub_DFD800((__int64)v178, HIDWORD(v212), v156, v181, 0, 0, 0, 0, 0, 0);
            v154 = v27;
            v29 = v28;
            if ( v173 )
            {
              v30 = *(_QWORD *)(v26 - 96);
              v31 = *(_QWORD *)(v30 + 16);
              if ( !v31 || *(_QWORD *)(v31 + 8) || (unsigned __int8)(*(_BYTE *)v30 - 82) > 1u )
              {
                v18 = 30;
                v174 = v29;
                v32 = sub_DFD800((__int64)v178, 0x1Eu, v156, v181, 0, 0, 0, 0, 0, 0);
                v29 = v174;
                v33 = v32;
                if ( v34 == 1 )
                  v29 = 1;
                v27 = v32 + v154;
                if ( __OFADD__(v33, v154) )
                {
                  v27 = 0x8000000000000000LL;
                  if ( v33 > 0 )
                    v27 = 0x7FFFFFFFFFFFFFFFLL;
                }
              }
            }
            if ( v29 )
            {
              if ( v29 <= 0 )
                goto LABEL_26;
            }
            else if ( (unsigned int)qword_4F8C7E8 >= v27 )
            {
LABEL_26:
              if ( (unsigned int)v203 >= (unsigned __int64)HIDWORD(v203) )
              {
                v18 = v24;
                sub_B1A4E0((__int64)&v202, v24);
              }
              else
              {
                v35 = &v202[(unsigned int)v203];
                if ( v35 )
                  *v35 = v24;
                LODWORD(v203) = v203 + 1;
              }
            }
          }
        }
      }
      v205 = (unsigned __int64 *)v205[1];
      sub_D4B000((__int64 *)&v205);
      v20 = (__int64)v205;
      if ( v23 == v205 )
      {
        v7 = v169;
        v22 = v164;
        v5 = v162;
        a4 = v178;
        break;
      }
    }
  }
  v165 = v203;
  if ( !(_DWORD)v203 )
    goto LABEL_54;
  v170 = 0;
  v175 = v7 + 48;
  v179 = 0;
  if ( *(_QWORD *)(v7 + 56) == v7 + 48 )
    goto LABEL_78;
  v158 = a2;
  v36 = *(_QWORD *)(v7 + 56);
  v163 = (__int64)a4;
  v37 = v7;
  v168 = v22;
  v161 = v8;
  do
  {
    if ( !v36 )
      BUG();
    if ( v168 == v36 - 24 )
      goto LABEL_36;
    v38 = *(_BYTE *)(v36 - 24);
    if ( v38 == 85 )
    {
      v39 = *(_QWORD *)(v36 - 56);
      if ( v39
        && !*(_BYTE *)v39
        && *(_QWORD *)(v39 + 24) == *(_QWORD *)(v36 + 56)
        && (*(_BYTE *)(v39 + 33) & 0x20) != 0
        && (unsigned int)(*(_DWORD *)(v39 + 36) - 68) <= 3 )
      {
        goto LABEL_36;
      }
    }
    else if ( v38 == 31 )
    {
      goto LABEL_36;
    }
    v18 = 0;
    v40 = sub_991A70((unsigned __int8 *)(v36 - 24), 0, 0, 0, 0, 1u, 0);
    if ( !v40 )
      goto LABEL_54;
    if ( (unsigned int)*(unsigned __int8 *)(*(_QWORD *)(v36 - 16) + 8LL) - 17 > 1 )
    {
      if ( (*(_BYTE *)(v36 - 17) & 0x40) != 0 )
      {
        v46 = *(_QWORD **)(v36 - 32);
        v47 = *(_DWORD *)(v36 - 20);
      }
      else
      {
        v47 = *(_DWORD *)(v36 - 20);
        v46 = (_QWORD *)(v36 - 24 - 32LL * (v47 & 0x7FFFFFF));
      }
      v48 = 4LL * (v47 & 0x7FFFFFF);
      v18 = (__int64)&v46[v48];
      v49 = (v48 * 8) >> 7;
      if ( v49 )
      {
        v50 = &v46[16 * v49];
        while ( (unsigned int)*(unsigned __int8 *)(*(_QWORD *)(*v46 + 8LL) + 8LL) - 17 > 1 )
        {
          if ( (unsigned int)*(unsigned __int8 *)(*(_QWORD *)(v46[4] + 8LL) + 8LL) - 17 <= 1 )
          {
            v46 += 4;
            goto LABEL_64;
          }
          if ( (unsigned int)*(unsigned __int8 *)(*(_QWORD *)(v46[8] + 8LL) + 8LL) - 17 <= 1 )
          {
            v46 += 8;
            goto LABEL_64;
          }
          if ( (unsigned int)*(unsigned __int8 *)(*(_QWORD *)(v46[12] + 8LL) + 8LL) - 17 <= 1 )
          {
            v46 += 12;
            goto LABEL_64;
          }
          v46 += 16;
          if ( v50 == v46 )
            goto LABEL_241;
        }
        goto LABEL_64;
      }
LABEL_241:
      v126 = v18 - (_QWORD)v46;
      if ( v18 - (_QWORD)v46 != 64 )
      {
        if ( v126 != 96 )
        {
          if ( v126 != 32 )
          {
            v46 = (_QWORD *)v18;
LABEL_64:
            v40 = (v18 != (_QWORD)v46) | v170;
            goto LABEL_45;
          }
LABEL_297:
          v40 = v170;
          if ( (unsigned int)*(unsigned __int8 *)(*(_QWORD *)(*v46 + 8LL) + 8LL) - 17 > 1 )
            goto LABEL_45;
          goto LABEL_64;
        }
        if ( (unsigned int)*(unsigned __int8 *)(*(_QWORD *)(*v46 + 8LL) + 8LL) - 17 <= 1 )
          goto LABEL_64;
        v46 += 4;
      }
      if ( (unsigned int)*(unsigned __int8 *)(*(_QWORD *)(*v46 + 8LL) + 8LL) - 17 <= 1 )
        goto LABEL_64;
      v46 += 4;
      goto LABEL_297;
    }
LABEL_45:
    if ( !v163 || (v18 = v36 - 24, v41 = sub_F946A0(v163, v36 - 24, v181), v42) || v41 )
    {
      v179 += v165;
      if ( v179 > (int)qword_4F8C708 * a5 )
        goto LABEL_54;
    }
    if ( *(_QWORD *)(v36 - 8) )
    {
      v43 = v36 - 24;
      v44 = *(_QWORD *)(v36 - 8);
      do
      {
        v18 = *(_QWORD *)(v44 + 24);
        if ( *(_BYTE *)v18 == 84 )
        {
          if ( v37 != *(_QWORD *)(*(_QWORD *)(v18 - 8)
                                + 32LL * *(unsigned int *)(v18 + 72)
                                + 8LL * (unsigned int)((v44 - *(_QWORD *)(v18 - 8)) >> 5)) )
            goto LABEL_54;
        }
        else
        {
          if ( v37 != *(_QWORD *)(v18 + 40) )
            goto LABEL_54;
          v171 = v43;
          v45 = sub_B445A0(v43, v18);
          v43 = v171;
          if ( !v45 )
            goto LABEL_54;
        }
        v44 = *(_QWORD *)(v44 + 8);
      }
      while ( v44 );
    }
    v170 = v40;
LABEL_36:
    v36 = *(_QWORD *)(v36 + 8);
  }
  while ( v175 != v36 );
  v51 = 1;
  v8 = v161;
  if ( v170 )
    v51 = qword_4F8C708;
  a2 = v158;
  a4 = (_QWORD *)v163;
  if ( a5 * v51 >= v179 )
  {
LABEL_78:
    if ( (_DWORD)v203 )
    {
      v52 = sub_986580(*v202);
      v53 = *(_QWORD *)(v8 + 40);
      v54 = a4;
      v55 = v52;
      v186 = v52;
      v180 = *(_QWORD *)(v52 + 40);
      v182 = v53;
      sub_F8F7C0((__int64)&v212, v8, v52, v54);
      v56 = (char)v212;
      v172 = HIDWORD(v212);
      v218 = sub_BD5C60(v55);
      v219 = &v227;
      v220 = &v228;
      v212 = v214;
      v227 = &unk_49DA100;
      v213 = 0x200000000LL;
      v221 = 0;
      v228 = &unk_49DA0B0;
      v222 = 0;
      v223 = 512;
      v224 = 7;
      v225 = 0;
      v226 = 0;
      v215 = 0;
      v216 = 0;
      v217 = 0;
      sub_D5F1F0((__int64)&v212, v55);
      v176 = v53 + 48;
      v57 = *(_QWORD *)(v53 + 48) & 0xFFFFFFFFFFFFFFF8LL;
      if ( v53 + 48 == v57 )
      {
        v58 = 0;
      }
      else
      {
        if ( !v57 )
          BUG();
        v58 = v57 - 24;
        if ( (unsigned int)*(unsigned __int8 *)(v57 - 24) - 30 >= 0xB )
          v58 = 0;
      }
      if ( (*(_BYTE *)(v58 + 7) & 0x20) != 0 && (v61 = sub_B91C10(v58, 30)) != 0 )
      {
        v62 = (unsigned int)v213;
        v63 = (__int64)v212;
        v64 = &v212[16 * (unsigned int)v213];
        if ( v212 == v64 )
        {
LABEL_229:
          if ( (unsigned int)v213 >= (unsigned __int64)HIDWORD(v213) )
          {
            if ( HIDWORD(v213) < (unsigned __int64)(unsigned int)v213 + 1 )
            {
              sub_C8D5F0((__int64)&v212, v214, (unsigned int)v213 + 1LL, 0x10u, v59, v60);
              v63 = (__int64)v212;
              v62 = (unsigned int)v213;
            }
            v141 = (_QWORD *)(v63 + 16 * v62);
            *v141 = 30;
            v141[1] = v61;
            LODWORD(v213) = v213 + 1;
          }
          else
          {
            if ( v64 )
            {
              *(_DWORD *)v64 = 30;
              *((_QWORD *)v64 + 1) = v61;
            }
            LODWORD(v213) = v213 + 1;
          }
        }
        else
        {
          v65 = (__int64)v212;
          while ( *(_DWORD *)v65 != 30 )
          {
            v65 += 16;
            if ( v64 == (_BYTE *)v65 )
              goto LABEL_229;
          }
          *(_QWORD *)(v65 + 8) = v61;
        }
      }
      else
      {
        sub_93FB40((__int64)&v212, 30);
      }
      if ( v56 )
        sub_F35C60(v186, (__int64 *)&v212);
      v66 = *(_QWORD *)(v186 - 32);
      if ( v182 == v66 && v66 )
        v67 = *(_QWORD *)(v8 - 32);
      else
        v67 = *(_QWORD *)(v8 - 64);
      sub_F91F00(v67, v180, v182, a3);
      v68 = sub_BC8C50(v186, &v188, &v189);
      v69 = sub_BC8C50(v8, &v190, &v191);
      if ( v68 )
      {
        if ( !v69 )
        {
          v191 = 1;
          v190 = 1;
        }
      }
      else
      {
        if ( !v69 )
        {
          sub_B99FD0(v186, 2u, 0);
          goto LABEL_98;
        }
        v189 = 1;
        v188 = 1;
      }
      v205 = (unsigned __int64 *)&v207;
      v206 = 0x800000000LL;
      v133 = *(_QWORD *)(v186 - 32);
      v134 = v190 + v191;
      if ( v133 && v182 == v133 )
      {
        LODWORD(v206) = 2;
        v207 = v188 * v190;
        v208 = v188 * v191 + v189 * v134;
      }
      else
      {
        LODWORD(v206) = 2;
        v207 = v189 * v190 + v188 * v134;
        v208 = v191 * v189;
      }
      sub_F8E430((unsigned __int64 *)&v207, 2);
      v197 = &v199;
      v135 = (__int64)v205;
      v198 = 0x800000000LL;
      v136 = (unsigned int)v206;
      if ( (unsigned int)v206 > 8uLL )
      {
        v160 = (__int64)v205;
        v167 = (unsigned int)v206;
        sub_C8D5F0((__int64)&v197, &v199, (unsigned int)v206, 4u, (__int64)v205, (unsigned int)v206);
        v136 = v167;
        v135 = v160;
        v137 = (const char **)((char *)v197 + 4 * (unsigned int)v198);
        goto LABEL_263;
      }
      v137 = &v199;
      if ( 8LL * (unsigned int)v206 )
      {
LABEL_263:
        v138 = 0;
        do
        {
          *(_DWORD *)((char *)v137 + v138) = *(_QWORD *)(v135 + 2 * v138);
          v138 += 4;
        }
        while ( 4 * v136 != v138 );
      }
      LODWORD(v198) = v136 + v198;
      v139 = *((_DWORD *)v197 + 1);
      if ( *v197 )
      {
        v166 = *(_DWORD *)v197;
        v193 = (_QWORD *)sub_AA48A0(*(_QWORD *)(v186 + 40));
        v140 = sub_B8C2F0(&v193, v166, v139, 0);
      }
      else
      {
        v140 = 0;
      }
      sub_B99FD0(v186, 2u, v140);
      if ( v197 != &v199 )
        _libc_free(v197, 2);
      if ( v205 != (unsigned __int64 *)&v207 )
        _libc_free(v205, 2);
LABEL_98:
      v70 = v186 - 32LL * (*(_QWORD *)(v186 - 32) != v182) - 32;
      if ( *(_QWORD *)v70 )
      {
        v71 = *(_QWORD *)(v70 + 8);
        **(_QWORD **)(v70 + 16) = v71;
        if ( v71 )
          *(_QWORD *)(v71 + 16) = *(_QWORD *)(v70 + 16);
      }
      *(_QWORD *)v70 = v67;
      if ( v67 )
      {
        v72 = *(_QWORD *)(v67 + 16);
        *(_QWORD *)(v70 + 8) = v72;
        if ( v72 )
          *(_QWORD *)(v72 + 16) = v70 + 8;
        *(_QWORD *)(v70 + 16) = v67 + 16;
        *(_QWORD *)(v67 + 16) = v70;
      }
      if ( a2 )
      {
        v206 = v67 & 0xFFFFFFFFFFFFFFFBLL;
        v205 = (unsigned __int64 *)v180;
        v207 = v180;
        v208 = v182 | 4;
        sub_FFB3D0(a2, &v205, 2);
      }
      if ( (*(_BYTE *)(v8 + 7) & 0x20) != 0 )
      {
        v73 = sub_B91C10(v8, 18);
        if ( v73 )
          sub_B99FD0(v186, 0x12u, v73);
      }
      v205 = 0;
      LODWORD(v208) = 128;
      v74 = sub_C7D670(0x2000, 8);
      v207 = 0;
      v75 = (_QWORD *)v74;
      v206 = v74;
      v198 = 2;
      v76 = (_QWORD *)(v74 + ((unsigned __int64)(unsigned int)v208 << 6));
      v199 = 0;
      v77 = -4096;
      v200 = -4096;
      v197 = (const char **)&unk_49DD7B0;
      v201 = 0;
      while ( v76 != v75 )
      {
        v78 = v198;
        v75[3] = v77;
        v75[2] = 0;
        v75[1] = v78 & 6;
        if ( v77 != -4096 && v77 != 0 && v77 != -8192 )
        {
          sub_BD6050(v75 + 1, v78 & 0xFFFFFFFFFFFFFFF8LL);
          v77 = v200;
        }
        v79 = v201;
        *v75 = &unk_49DD7B0;
        v75 += 8;
        *(v75 - 4) = v79;
      }
      v197 = (const char **)&unk_49DB368;
      if ( v77 != 0 && v77 != -8192 && v77 != -4096 )
        sub_BD60C0(&v198);
      v211 = 0;
      v80 = *(_QWORD *)(v180 + 48) & 0xFFFFFFFFFFFFFFF8LL;
      if ( v80 == v180 + 48 )
      {
        v184 = 0;
      }
      else
      {
        if ( !v80 )
          BUG();
        v81 = v80 - 24;
        v82 = (unsigned int)*(unsigned __int8 *)(v80 - 24) - 30 < 0xB;
        v83 = 0;
        if ( v82 )
          v83 = v81;
        v184 = v83;
      }
      v84 = *(_QWORD *)(v182 + 56);
      if ( v176 != v84 )
      {
        while ( 2 )
        {
          if ( !v84 )
            BUG();
          if ( (unsigned int)*(unsigned __int8 *)(v84 - 24) - 30 <= 0xA )
            goto LABEL_179;
          v85 = sub_B47F80((_BYTE *)(v84 - 24));
          if ( *(_BYTE *)(v84 - 24) != 85
            || (v132 = *(_QWORD *)(v84 - 56)) == 0
            || *(_BYTE *)v132
            || *(_QWORD *)(v132 + 24) != *(_QWORD *)(v84 + 56)
            || (*(_BYTE *)(v132 + 33) & 0x20) == 0
            || (unsigned int)(*(_DWORD *)(v132 + 36) - 68) > 3 )
          {
            v86 = *(_QWORD *)(v85 + 48);
            if ( *(_QWORD *)(v184 + 48) != v86 )
            {
              v197 = 0;
              if ( (const char ***)(v85 + 48) != &v197 )
              {
                if ( v86 )
                {
                  sub_B91220(v85 + 48, v86);
                  v87 = (unsigned __int8 *)v197;
                  *(_QWORD *)(v85 + 48) = v197;
                  if ( v87 )
                    sub_B976B0((__int64)&v197, v87, v85 + 48);
                }
                else
                {
                  *(_QWORD *)(v85 + 48) = 0;
                }
              }
            }
          }
          sub_FC75A0(&v197, &v205, 3, 0, 0, 0);
          sub_FCD280(&v197, v85);
          sub_FC7680(&v197);
          sub_B44E20((unsigned __int8 *)v85);
          v88 = v153;
          LOWORD(v88) = 0;
          v153 = v88;
          sub_B44240((_QWORD *)v85, v180, (unsigned __int64 *)(v184 + 24), v88);
          LOBYTE(v198) = 0;
          v89 = sub_B43F50(v85, v84 - 24, (__int64)v197, 0, 0);
          v157 = v90;
          v155 = v89;
          v159 = sub_B43CA0(v85);
          sub_FC75A0(&v197, &v205, 3, 0, 0, 0);
          sub_FCD310(&v197, v159, v155, v157);
          sub_FC7680(&v197);
          if ( *(_BYTE *)(v84 - 24) == 85 )
          {
            v107 = *(_QWORD *)(v84 - 56);
            if ( v107 )
            {
              if ( !*(_BYTE *)v107
                && *(_QWORD *)(v107 + 24) == *(_QWORD *)(v84 + 56)
                && (*(_BYTE *)(v107 + 33) & 0x20) != 0
                && (unsigned int)(*(_DWORD *)(v107 + 36) - 68) <= 3 )
              {
                goto LABEL_179;
              }
            }
          }
          sub_BD6B90((unsigned __int8 *)v85, (unsigned __int8 *)(v84 - 24));
          v91 = sub_BD5D20(v85);
          LOWORD(v201) = 773;
          v197 = (const char **)v91;
          v198 = v92;
          v199 = ".old";
          sub_BD6B50((unsigned __int8 *)(v84 - 24), (const char **)&v197);
          v200 = v84 - 24;
          v198 = 2;
          v199 = 0;
          if ( v84 != -8168 && v84 != -4072 )
            sub_BD73F0((__int64)&v198);
          v93 = v208;
          v201 = &v205;
          v197 = (const char **)&unk_49DD7B0;
          if ( !(_DWORD)v208 )
          {
            v205 = (unsigned __int64 *)((char *)v205 + 1);
            v193 = 0;
            goto LABEL_139;
          }
          v101 = v200;
          v127 = 0;
          v128 = 1;
          for ( i = (v208 - 1) & (((unsigned int)v200 >> 9) ^ ((unsigned int)v200 >> 4)); ; i = (v208 - 1) & v152 )
          {
            v130 = v206 + ((unsigned __int64)i << 6);
            v131 = *(_QWORD *)(v130 + 24);
            if ( v200 == v131 )
            {
              v100 = (_QWORD *)(v130 + 40);
              goto LABEL_150;
            }
            if ( v131 == -4096 )
              break;
            if ( v127 || v131 != -8192 )
              v130 = (unsigned __int64)v127;
            v152 = v128 + i;
            v127 = (_QWORD *)v130;
            ++v128;
          }
          if ( !v127 )
            v127 = (_QWORD *)(v206 + ((unsigned __int64)i << 6));
          v205 = (unsigned __int64 *)((char *)v205 + 1);
          v193 = v127;
          if ( 4 * ((int)v207 + 1) >= (unsigned int)(3 * v208) )
          {
LABEL_139:
            v93 = 2 * v208;
            goto LABEL_140;
          }
          if ( (int)v208 - HIDWORD(v207) - ((int)v207 + 1) <= (unsigned int)v208 >> 3 )
          {
LABEL_140:
            sub_CF32C0((__int64)&v205, v93);
            sub_F9E960((__int64)&v205, (__int64)&v197, &v193);
          }
          v94 = v193;
          LODWORD(v207) = v207 + 1;
          v95 = v193[3];
          if ( v95 == -4096 )
          {
            v96 = v193 + 1;
            if ( v200 != -4096 )
              goto LABEL_146;
          }
          else
          {
            --HIDWORD(v207);
            if ( v200 != v95 )
            {
              v96 = v193 + 1;
              if ( v95 && v95 != -8192 )
                sub_BD60C0(v193 + 1);
LABEL_146:
              v97 = v200;
              v98 = v200 == -4096;
              v94[3] = v200;
              if ( v97 != 0 && !v98 && v97 != -8192 )
                sub_BD6050(v96, v198 & 0xFFFFFFFFFFFFFFF8LL);
            }
          }
          v99 = v201;
          v100 = v94 + 5;
          *v100 = 6;
          v100[1] = 0;
          *(v100 - 1) = v99;
          v100[2] = 0;
          v101 = v200;
LABEL_150:
          v197 = (const char **)&unk_49DB368;
          if ( v101 != 0 && v101 != -4096 && v101 != -8192 )
            sub_BD60C0(&v198);
          v102 = v100[2];
          if ( v85 != v102 )
          {
            if ( v102 != 0 && v102 != -4096 && v102 != -8192 )
              sub_BD60C0(v100);
            v100[2] = v85;
            if ( v85 != 0 && v85 != -4096 && v85 != -8192 )
              sub_BD73F0((__int64)v100);
          }
          v103 = *(_QWORD *)(v84 - 8);
          if ( !v103 )
          {
LABEL_179:
            v84 = *(_QWORD *)(v84 + 8);
            if ( v176 == v84 )
              goto LABEL_180;
            continue;
          }
          break;
        }
        while ( 2 )
        {
          v105 = *(_QWORD *)(v103 + 24);
          v106 = *(_QWORD *)(v103 + 8);
          if ( *(_BYTE *)v105 != 84
            || v182 == *(_QWORD *)(*(_QWORD *)(v105 - 8)
                                 + 32LL * *(unsigned int *)(v105 + 72)
                                 + 8LL * (unsigned int)((v103 - *(_QWORD *)(v105 - 8)) >> 5)) )
          {
LABEL_167:
            if ( !v106 )
              goto LABEL_179;
          }
          else
          {
            if ( !*(_QWORD *)v103 )
            {
              *(_QWORD *)v103 = v85;
              if ( !v85 )
                goto LABEL_167;
              goto LABEL_164;
            }
            **(_QWORD **)(v103 + 16) = v106;
            if ( !v106 )
            {
              *(_QWORD *)v103 = v85;
              if ( !v85 )
                goto LABEL_179;
              goto LABEL_164;
            }
            *(_QWORD *)(v106 + 16) = *(_QWORD *)(v103 + 16);
            *(_QWORD *)v103 = v85;
            if ( v85 )
            {
LABEL_164:
              v104 = *(_QWORD *)(v85 + 16);
              *(_QWORD *)(v103 + 8) = v104;
              if ( v104 )
                *(_QWORD *)(v104 + 16) = v103 + 8;
              *(_QWORD *)(v103 + 16) = v85 + 16;
              *(_QWORD *)(v85 + 16) = v103;
              goto LABEL_167;
            }
          }
          v103 = v106;
          continue;
        }
      }
LABEL_180:
      v108 = sub_AA4B30(v182);
      if ( *(_BYTE *)(v180 + 40) )
      {
        v142 = sub_986580(v180);
        LOBYTE(v198) = 0;
        v143 = v142;
        v144 = sub_986580(v182);
        sub_B43F50(v143, v144, (__int64)v197, v198, 0);
        v145 = *(_QWORD *)(sub_986580(v180) + 64);
        if ( v145 )
        {
          v147 = (_QWORD *)sub_B14240(v145);
          for ( j = v146; v146 != v147; v147 = (_QWORD *)v147[1] )
          {
            if ( !*((_BYTE *)v147 + 32) )
              break;
          }
        }
        else
        {
          j = &qword_4F81430[1];
          v147 = &qword_4F81430[1];
        }
LABEL_285:
        if ( j != v147 )
        {
          sub_FC75A0(&v197, &v205, 3, 0, 0, 0);
          sub_FCD2E0(&v197, v108, v147);
          sub_FC7680(&v197);
          while ( 1 )
          {
            v147 = (_QWORD *)v147[1];
            if ( j == v147 )
              break;
            if ( !*((_BYTE *)v147 + 32) )
              goto LABEL_285;
          }
        }
      }
      v198 = 2;
      v109 = *(_QWORD *)(v8 - 96);
      v199 = 0;
      v200 = v109;
      if ( v109 != 0 && v109 != -4096 && v109 != -8192 )
        sub_BD73F0((__int64)&v198);
      v201 = &v205;
      v197 = (const char **)&unk_49DD7B0;
      v110 = sub_F9E960((__int64)&v205, (__int64)&v197, &v192);
      v111 = v192 + 5;
      if ( !v110 )
      {
        v193 = v192;
        v112 = v208;
        v205 = (unsigned __int64 *)((char *)v205 + 1);
        if ( 4 * ((int)v207 + 1) >= (unsigned int)(3 * v208) )
        {
          v112 = 2 * v208;
        }
        else if ( (int)v208 - HIDWORD(v207) - ((int)v207 + 1) > (unsigned int)v208 >> 3 )
        {
          goto LABEL_187;
        }
        sub_CF32C0((__int64)&v205, v112);
        sub_F9E960((__int64)&v205, (__int64)&v197, &v193);
LABEL_187:
        v113 = v193;
        LODWORD(v207) = v207 + 1;
        v114 = v193[3];
        if ( v114 == -4096 )
        {
          v115 = v193 + 1;
          if ( v200 != -4096 )
            goto LABEL_192;
        }
        else
        {
          --HIDWORD(v207);
          if ( v200 != v114 )
          {
            v115 = v193 + 1;
            if ( v114 && v114 != -8192 )
              sub_BD60C0(v193 + 1);
LABEL_192:
            v116 = v200;
            v98 = v200 == -4096;
            v113[3] = v200;
            if ( v116 != 0 && !v98 && v116 != -8192 )
              sub_BD6050(v115, v198 & 0xFFFFFFFFFFFFFFF8LL);
          }
        }
        v117 = v201;
        v111 = v113 + 5;
        *v111 = 6;
        v111[1] = 0;
        *(v111 - 1) = v117;
        v111[2] = 0;
      }
      v197 = (const char **)&unk_49DB368;
      if ( v200 != -4096 && v200 != 0 && v200 != -8192 )
        sub_BD60C0(&v198);
      v118 = v111[2];
      v197 = (const char **)"or.cond";
      LOWORD(v201) = 259;
      v119 = sub_F942C0((__int64)&v212, v172, *(_QWORD *)(v186 - 96), v118, (__int64)&v197);
      if ( *(_QWORD *)(v186 - 96) )
      {
        v120 = *(_QWORD *)(v186 - 88);
        **(_QWORD **)(v186 - 80) = v120;
        if ( v120 )
          *(_QWORD *)(v120 + 16) = *(_QWORD *)(v186 - 80);
      }
      *(_QWORD *)(v186 - 96) = v119;
      if ( v119 )
      {
        v121 = *(_QWORD *)(v119 + 16);
        *(_QWORD *)(v186 - 88) = v121;
        if ( v121 )
          *(_QWORD *)(v121 + 16) = v186 - 88;
        *(_QWORD *)(v186 - 80) = v119 + 16;
        *(_QWORD *)(v119 + 16) = v186 - 96;
      }
      if ( v211 )
      {
        v211 = 0;
        if ( v210 )
        {
          v149 = v209;
          v150 = &v209[2 * v210];
          while ( v150 != v149 )
          {
            if ( *v149 != -8192 && *v149 != -4096 )
            {
              v151 = v149[1];
              if ( v151 )
                sub_B91220((__int64)(v149 + 1), v151);
            }
            v149 += 2;
          }
        }
        sub_C7D6A0((__int64)v209, 16LL * v210, 8);
      }
      if ( (_DWORD)v208 )
      {
        v122 = (_QWORD *)v206;
        v194[0] = 2;
        v194[1] = 0;
        v195 = -4096;
        v193 = &unk_49DD7B0;
        v196 = 0;
        v123 = (_QWORD *)(v206 + ((unsigned __int64)(unsigned int)v208 << 6));
        v198 = 2;
        v199 = 0;
        v200 = -8192;
        v197 = (const char **)&unk_49DD7B0;
        v201 = 0;
        do
        {
          v124 = v122[3];
          if ( v124 != v195 && v124 != v200 )
          {
            v125 = v122[7];
            if ( v125 != 0 && v125 != -4096 && v125 != -8192 )
            {
              sub_BD60C0(v122 + 5);
              v124 = v122[3];
            }
          }
          *v122 = &unk_49DB368;
          if ( v124 != 0 && v124 != -4096 && v124 != -8192 )
            sub_BD60C0(v122 + 1);
          v122 += 8;
        }
        while ( v123 != v122 );
        v197 = (const char **)&unk_49DB368;
        if ( v200 != -4096 && v200 != 0 && v200 != -8192 )
          sub_BD60C0(&v198);
        v193 = &unk_49DB368;
        if ( v195 != 0 && v195 != -4096 && v195 != -8192 )
          sub_BD60C0(v194);
      }
      v18 = (unsigned __int64)(unsigned int)v208 << 6;
      sub_C7D6A0(v206, v18, 8);
      nullsub_61();
      v227 = &unk_49DA100;
      nullsub_63();
      if ( v212 != v214 )
        _libc_free(v212, v18);
      v5 = 1;
    }
  }
LABEL_54:
  if ( v202 != (__int64 *)v204 )
    _libc_free(v202, v18);
  return v5;
}
