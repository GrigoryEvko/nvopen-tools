// Function: sub_6C6830
// Address: 0x6c6830
//
__int64 __fastcall sub_6C6830(__int64 a1, unsigned int *a2, __int64 a3, __int64 a4, __int64 a5, __int64 a6)
{
  unsigned int *v6; // r13
  __int64 v8; // rdx
  __int64 v9; // rdi
  __int16 v10; // ax
  unsigned int *v11; // r15
  __int64 v12; // rcx
  char v13; // dl
  __int64 v14; // rdx
  __int64 v15; // rcx
  __int64 v16; // rsi
  __int64 v17; // rdi
  __int64 i; // rax
  __int64 v19; // rdx
  __int64 v20; // rcx
  __int64 v21; // r8
  __int64 v22; // r9
  __int64 v23; // rax
  __int64 v24; // rdi
  bool v25; // zf
  __int64 v26; // rax
  __int64 v27; // rsi
  __int64 v28; // rdx
  __int64 v29; // rcx
  __int64 v30; // r8
  __int64 v31; // r9
  char j; // al
  char v33; // dl
  bool v34; // al
  _QWORD *v35; // rcx
  __int64 v36; // rax
  __int64 v37; // rdx
  _DWORD *v38; // rcx
  __int64 v39; // r8
  __int64 v40; // r9
  __int64 v41; // rax
  __int64 k; // rax
  __int64 v43; // rdi
  __int64 v44; // r14
  _BOOL4 v45; // r8d
  __int64 v46; // rdi
  __int64 *v47; // rdi
  __int64 v48; // rdx
  __int64 v49; // rax
  char v50; // al
  __int64 v51; // rdx
  char v52; // al
  __int64 v53; // rdi
  __int64 *v54; // r12
  __int64 v55; // rax
  __int64 v56; // rbx
  char v57; // cl
  char v58; // cl
  char v59; // al
  char v60; // dl
  char v61; // dl
  char v62; // al
  char v63; // al
  __int64 v64; // rdi
  __int64 v65; // rax
  __int64 v66; // rax
  char v68; // dl
  char v69; // dl
  __int64 v70; // rax
  __int64 v71; // rdx
  __int64 v72; // rcx
  unsigned __int64 v73; // rdx
  __int64 v74; // r9
  __int64 v75; // r8
  __int64 v76; // rdi
  char v77; // al
  __int64 v78; // rcx
  __int64 v79; // rdx
  __int64 v80; // rax
  __int64 v81; // rax
  int v82; // r14d
  char v83; // r12
  char v84; // al
  bool v85; // r12
  _BOOL8 v86; // rsi
  __int64 v87; // rdi
  __int64 v88; // rdx
  __int64 v89; // rcx
  __int64 v90; // r8
  __int64 v91; // r9
  __int64 *v92; // rcx
  __int64 v93; // rsi
  int v94; // r12d
  __int64 v95; // rdi
  _QWORD *v96; // rax
  char v97; // dl
  __int64 v98; // r14
  _QWORD *v99; // rax
  __int64 v100; // rdx
  __int64 v101; // rax
  __int64 v102; // rdi
  __int64 v103; // rdx
  __int64 v104; // rcx
  __int64 v105; // r9
  _QWORD *v106; // r10
  __int64 v107; // r8
  __int64 v108; // rdi
  unsigned int v109; // eax
  __int64 v110; // rax
  _QWORD *v111; // r10
  __int64 v112; // rdi
  __int64 v113; // rdx
  __int64 v114; // rsi
  _QWORD *v115; // r14
  __int64 v116; // rax
  int v117; // r14d
  unsigned int v118; // ecx
  char v119; // al
  __int64 v120; // rdx
  int v121; // eax
  __int64 v122; // rax
  bool v123; // r11
  __int64 v124; // rax
  __int64 v125; // rcx
  char v126; // dl
  __int64 v127; // rax
  __int64 v128; // rcx
  __int64 v129; // r14
  __int64 v130; // rdi
  int v131; // eax
  __int64 v132; // r8
  int v133; // r14d
  __int64 v134; // rdi
  __int64 v135; // rax
  char v136; // al
  char v137; // dl
  __int64 v138; // rdx
  char v139; // al
  __int64 v140; // rsi
  int v141; // eax
  int v142; // ecx
  __int64 v143; // rdi
  int v144; // eax
  __int64 v145; // r8
  __int64 v146; // r10
  __int64 v147; // rsi
  __int64 v148; // r8
  __int64 v149; // r9
  char v150; // al
  __int64 v151; // r9
  char v152; // al
  __int64 v153; // rdi
  char v154; // al
  __int64 v155; // r14
  __int64 v156; // rax
  __int64 v157; // rax
  __int64 v158; // rax
  __int64 v159; // rax
  __int64 v160; // rdx
  __int64 v161; // rcx
  __int64 v162; // r8
  __int64 v163; // r9
  __int64 v164; // rdx
  __int64 v165; // rcx
  __int64 v166; // r8
  __int64 v167; // r9
  __int64 v168; // rsi
  __int64 v169; // rax
  _QWORD *m; // rdx
  char v171; // al
  int v172; // edi
  char v173; // al
  __int64 v174; // rsi
  __int64 v175; // rdx
  __int64 v176; // r15
  __int64 v177; // rdx
  __int64 v178; // rcx
  __int64 v179; // r8
  __int64 v180; // r9
  _QWORD *v181; // r14
  _QWORD *v182; // rdx
  __int64 v183; // rax
  __int64 v184; // rcx
  __int64 v185; // rdx
  unsigned int v186; // r14d
  __int64 v187; // rax
  __int64 v188; // rdi
  __int64 v189; // rdx
  __int64 v190; // rcx
  __int64 v191; // r8
  __int64 v192; // r9
  int v193; // eax
  __int64 v194; // r14
  __int64 v195; // rax
  _QWORD *v196; // rax
  __int64 v197; // r15
  __int64 v198; // rdx
  __int64 v199; // rax
  int v200; // eax
  __int64 v201; // r10
  __int64 v202; // rdx
  __int64 v203; // rcx
  __int64 v204; // r8
  __int64 v205; // r9
  __int64 v206; // rax
  char *v207; // rdx
  int v208; // eax
  __int64 v209; // rax
  __int64 v210; // rax
  _QWORD *v211; // rdx
  unsigned int v212; // eax
  __int64 v213; // rdx
  __int64 v214; // rcx
  __int64 v215; // rax
  __int64 v216; // rax
  __int64 v217; // rax
  char *v218; // rdx
  __int64 v219; // rdi
  __int64 *v220; // rax
  __int64 v221; // rax
  __int64 v222; // rdi
  int v223; // r14d
  __int16 v224; // r15
  __int64 v225; // rdx
  char *v226; // rdx
  __int64 v227; // rax
  __int64 v228; // rax
  __int64 v229; // rax
  __int64 v230; // r14
  int v231; // eax
  int v232; // r8d
  __int64 v233; // [rsp-10h] [rbp-510h]
  __int64 v234; // [rsp-10h] [rbp-510h]
  __int64 v235; // [rsp-8h] [rbp-508h]
  __int64 v236; // [rsp-8h] [rbp-508h]
  __int64 v237; // [rsp+8h] [rbp-4F8h]
  bool v238; // [rsp+10h] [rbp-4F0h]
  __int64 v239; // [rsp+10h] [rbp-4F0h]
  __int64 v240; // [rsp+10h] [rbp-4F0h]
  _QWORD *v241; // [rsp+10h] [rbp-4F0h]
  __int64 v242; // [rsp+10h] [rbp-4F0h]
  _QWORD *v243; // [rsp+18h] [rbp-4E8h]
  _QWORD *v244; // [rsp+18h] [rbp-4E8h]
  __int16 v245; // [rsp+18h] [rbp-4E8h]
  __int64 v246; // [rsp+18h] [rbp-4E8h]
  __int64 v247; // [rsp+18h] [rbp-4E8h]
  _QWORD *v248; // [rsp+18h] [rbp-4E8h]
  unsigned int v249; // [rsp+18h] [rbp-4E8h]
  __int64 v250; // [rsp+28h] [rbp-4D8h]
  bool v251; // [rsp+3Fh] [rbp-4C1h]
  int v252; // [rsp+50h] [rbp-4B0h]
  __int64 v253; // [rsp+50h] [rbp-4B0h]
  __int64 v254; // [rsp+50h] [rbp-4B0h]
  __int64 v255; // [rsp+58h] [rbp-4A8h]
  __int64 v256; // [rsp+58h] [rbp-4A8h]
  __int64 v257; // [rsp+58h] [rbp-4A8h]
  __int64 v258; // [rsp+58h] [rbp-4A8h]
  unsigned int v259; // [rsp+58h] [rbp-4A8h]
  __int64 v260; // [rsp+58h] [rbp-4A8h]
  int v261; // [rsp+70h] [rbp-490h] BYREF
  int v262; // [rsp+74h] [rbp-48Ch] BYREF
  int v263; // [rsp+78h] [rbp-488h] BYREF
  int v264; // [rsp+7Ch] [rbp-484h] BYREF
  __int64 v265; // [rsp+80h] [rbp-480h] BYREF
  _QWORD *v266; // [rsp+88h] [rbp-478h] BYREF
  __int64 v267; // [rsp+90h] [rbp-470h] BYREF
  _BYTE v268[248]; // [rsp+98h] [rbp-468h] BYREF
  __int64 v269; // [rsp+190h] [rbp-370h] BYREF
  __int64 v270; // [rsp+198h] [rbp-368h]
  char v271; // [rsp+1A0h] [rbp-360h]
  __int64 v272; // [rsp+1B0h] [rbp-350h]
  unsigned int v273; // [rsp+1B8h] [rbp-348h]
  __int64 v274; // [rsp+220h] [rbp-2E0h]
  _QWORD v275[66]; // [rsp+2F0h] [rbp-210h] BYREF

  v6 = a2;
  v8 = qword_4D03C50;
  v251 = (*(_BYTE *)(qword_4D03C50 + 18LL) & 0x10) != 0;
  memset(v268, 0, sizeof(v268));
  v9 = (__int64)&v269;
  if ( a1 )
  {
    v10 = *(_WORD *)(a1 + 8);
    v11 = &dword_4F063F8;
    v275[0] = 0;
    *(_WORD *)&v268[224] = v10;
    v267 = *(_QWORD *)&dword_4F063F8;
    sub_6E43A0(a1, v275, &v267, &v268[40], &v268[8]);
    v12 = v275[0];
    v268[240] = ((*(_BYTE *)v275[0] & 0x10) != 0) | v268[240] & 0xFE;
    v268[241] = *(_BYTE *)v275[0] & 2 | v268[241] & 0xFD;
    v13 = *(_BYTE *)v275[0] & 0x20 | v268[240] & 0xDF;
    v268[240] = v13;
    v268[241] = (*(_BYTE *)(v275[0] + 1LL) << 7) | v268[241] & 0x7F;
    v9 = (2 * *(_BYTE *)(v275[0] + 1LL)) & 4;
    a2 = (unsigned int *)((unsigned int)v9 | v268[242] & 0xFB);
    v268[242] = v9 | v268[242] & 0xFB;
    if ( (v268[241] & 2) != 0 )
    {
      a2 = 0;
      v9 = 0;
      *(_QWORD *)(a1 + 16) = *(_QWORD *)(v275[0] + 24LL);
      sub_6C0910(0, 0, 1u, &v269, 1, 0, 0, 0, a1, 0, 0, &v268[160], 0, 0, 0);
      if ( (v268[240] & 0x20) == 0 )
        goto LABEL_4;
      v12 = v275[0];
    }
    else if ( (v13 & 0x20) == 0 )
    {
LABEL_4:
      *(_QWORD *)v268 = v267;
      *(_QWORD *)&v268[32] = *(_QWORD *)(*(_QWORD *)a1 + 44LL);
LABEL_5:
      v8 = qword_4D03C50;
      goto LABEL_6;
    }
    v9 = *(_QWORD *)(v12 + 32);
    if ( v9
      && (v135 = *(_QWORD *)(v9 + 120)) != 0
      && ((*(_BYTE *)(v9 + 50) & 0x40) != 0 && *(_BYTE *)(v135 + 16) == 5 || *(char *)v12 < 0) )
    {
      v268[240] |= 0x80u;
      a2 = (unsigned int *)a1;
      v9 = *(_QWORD *)(*(_QWORD *)(v9 + 120) + 144LL);
      *(_QWORD *)&v268[184] = sub_6FE2E0(v9, a1);
      v136 = v268[240];
      v137 = v268[240] & 0x20;
    }
    else
    {
      if ( *(_BYTE *)(v9 + 48) == 2 )
      {
        v9 = *(_QWORD *)(v9 + 56);
        v156 = sub_730690(v9);
      }
      else
      {
        v156 = sub_6E3F50();
      }
      *(_QWORD *)(a1 + 16) = v156;
      v136 = v268[240];
      v137 = v268[240] & 0x20;
    }
    *(_QWORD *)v268 = v267;
    v12 = *(_QWORD *)(*(_QWORD *)a1 + 44LL);
    *(_QWORD *)&v268[32] = v12;
    if ( !v137 )
      goto LABEL_5;
    if ( v136 < 0 )
    {
      v9 = *(_QWORD *)&v268[184];
      *(_QWORD *)&v268[16] = *(_QWORD *)sub_6E1A20(*(_QWORD *)&v268[184]);
      goto LABEL_5;
    }
    v157 = *(_QWORD *)(a1 + 16);
    v8 = qword_4D03C50;
    *(_QWORD *)&v268[168] = v157;
    if ( v157 && (v158 = *(_QWORD *)(v157 + 80)) != 0 )
      *(_QWORD *)&v268[16] = *(_QWORD *)(v158 + 68);
    else
      *(_QWORD *)&v268[16] = *(_QWORD *)&v268[8];
  }
  else
  {
    v11 = &dword_4F063F8;
    v12 = 155;
    *(_WORD *)&v268[224] = 155;
    v267 = *(_QWORD *)&dword_4F063F8;
  }
LABEL_6:
  if ( (*(_BYTE *)(v8 + 19) & 0x40) != 0 )
  {
    if ( (unsigned int)sub_6E5430(v9, a2, v8, v12, a5, a6) )
    {
      a2 = (unsigned int *)&v267;
      v9 = 57;
      sub_6851C0(0x39u, &v267);
    }
  }
  else
  {
    v9 = (__int64)&v267;
    if ( !(unsigned int)sub_6E9250(&v267) )
    {
      if ( a1 )
        goto LABEL_10;
      goto LABEL_113;
    }
  }
  v268[242] |= 0x10u;
  if ( a1 )
  {
LABEL_10:
    memset(v275, 0, 0x1D8u);
    v275[3] = *(_QWORD *)&dword_4F063F8;
    v275[19] = v275;
    v16 = dword_4F077BC;
    if ( dword_4F077BC && qword_4F077A8 <= 0x9F5Fu )
      BYTE2(v275[22]) |= 1u;
    if ( v268[241] >= 0 )
      goto LABEL_14;
    v130 = *(_QWORD *)(a1 + 16);
    if ( v130 )
    {
      sub_6F8800(v130, a1, &v269);
      if ( v271 != 5 )
      {
        v131 = sub_8D3F60(*(_QWORD *)&v268[40]);
        v132 = 0;
        v133 = v131;
        if ( v131 )
          goto LABEL_219;
        goto LABEL_293;
      }
      v254 = v274;
      v208 = sub_8D3F60(*(_QWORD *)&v268[40]);
      v132 = v254;
      v133 = v208;
      if ( v208 )
      {
        if ( !v254 )
        {
LABEL_219:
          v134 = sub_6E3060(&v269);
          v252 = sub_84CF20(*(_DWORD *)&v268[40], 1, 1, 1, v134, (unsigned int)&v268[8], (__int64)&v265, (__int64)&v264);
          sub_6E1990(v134);
          if ( v252 )
          {
            v268[241] &= ~0x80u;
          }
          else if ( v264 )
          {
            v265 = *(_QWORD *)&v268[40];
          }
          else
          {
            v215 = sub_72C930(v134);
            *(_BYTE *)(a1 + 56) = 1;
            v265 = v215;
          }
          goto LABEL_221;
        }
        v142 = 1;
        v133 = 0;
        goto LABEL_241;
      }
    }
    else
    {
      v133 = 1;
      v256 = *(_QWORD *)&v268[184];
      v141 = sub_8D3F60(*(_QWORD *)&v268[40]);
      v142 = 0;
      v132 = v256;
      if ( v141 )
      {
LABEL_241:
        v143 = *(_QWORD *)&v268[40];
        v16 = 1;
        v257 = v132;
        v144 = sub_84CF20(
                 *(_DWORD *)&v268[40],
                 1,
                 1,
                 v142,
                 v132,
                 (unsigned int)&v268[8],
                 (__int64)&v265,
                 (__int64)&v264);
        v145 = v257;
        goto LABEL_242;
      }
    }
LABEL_293:
    v16 = 0;
    v143 = *(_QWORD *)&v268[40];
    v253 = v132;
    v144 = sub_83D110(
             *(_DWORD *)&v268[40],
             0,
             1,
             (unsigned int)&v269,
             v132,
             (unsigned int)&v268[8],
             (__int64)&v265,
             (__int64)&v266,
             (__int64)&v264);
    v145 = v253;
LABEL_242:
    if ( v144 )
    {
      v268[241] &= ~0x80u;
    }
    else if ( v264 )
    {
      v265 = *(_QWORD *)&v268[40];
    }
    else
    {
      v260 = v145;
      v210 = sub_72C930(v143);
      *(_BYTE *)(a1 + 56) = 1;
      v145 = v260;
      v265 = v210;
    }
    if ( v133 )
      goto LABEL_245;
    if ( v145 )
    {
      v16 = 1;
      sub_6E1C20(v145, 1, &v275[41]);
      goto LABEL_245;
    }
LABEL_221:
    v16 = 1;
    sub_6E31E0(&v269, 1, 0, &v275[41]);
LABEL_245:
    v268[242] |= 1u;
    *(_QWORD *)&v268[40] = v265;
    goto LABEL_14;
  }
LABEL_113:
  if ( word_4F06418[0] == 146 )
  {
    v268[240] |= 1u;
    sub_7B8B50(v9, a2, v14, v15);
  }
  *(_QWORD *)v268 = *(_QWORD *)&dword_4F063F8;
  sub_7B8B50(v9, a2, v14, v15);
  if ( word_4F06418[0] == 27 )
  {
    sub_7B8B50(v9, a2, v71, v72);
    v188 = 5;
    if ( (unsigned int)sub_679C10(5u) )
    {
      v268[242] |= 4u;
    }
    else
    {
      v268[241] |= 2u;
      if ( word_4F06418[0] == 28 )
      {
        if ( (unsigned int)sub_6E5430(5, a2, v189, v190, v191, v192) )
        {
          a2 = &dword_4F063F8;
          v188 = 29;
          sub_6851C0(0x1Du, &dword_4F063F8);
        }
        sub_7B8B50(v188, a2, v213, v214);
      }
      else
      {
        sub_6C0910(0, 0, 1u, v275, 1, 0, 0, 0, 0, 0, 0, &v268[160], 0, 0, 0);
      }
    }
  }
  memset(v275, 0, 0x1D8u);
  v275[3] = *(_QWORD *)&dword_4F063F8;
  v275[19] = v275;
  if ( dword_4F077BC && qword_4F077A8 <= 0x9F5Fu )
    BYTE2(v275[22]) |= 1u;
  v275[6] = *(_QWORD *)&dword_4F063F8;
  *(_QWORD *)&v268[8] = *(_QWORD *)&dword_4F063F8;
  LODWORD(v269) = (v268[242] & 4) != 0;
  BYTE4(v275[16]) |= 0x80u;
  v73 = v275[15] & 0xFFFFFFBEF7FFFFFFLL;
  v275[15] = v275[15] & 0xFFFFFFBEF7FFFFFFLL
           | ((unsigned __int64)(dword_4F0775C & 1) << 38)
           | ((unsigned __int64)(word_4D04430 & 1) << 27)
           | 0x100000000LL;
  v16 = (__int64)&v269;
  sub_65D0E0((__int64)v275, &v269, v73, *(__int64 *)&dword_4F063F8);
  v75 = (unsigned int)v269;
  if ( (_DWORD)v269 )
    v268[242] |= 4u;
  v76 = v275[36];
  v77 = 1;
  v78 = 0x8000000000LL;
  *(_QWORD *)&v268[40] = v275[36];
  if ( (v275[15] & 0x8010000000LL) != 0x8000000000LL )
    v77 = (v275[15] & 0x40000000000LL) != 0;
  v79 = v268[241] & 0x7F;
  v268[241] = v79 | (v77 << 7);
  if ( v268[241] < 0 && (unsigned int)sub_8D3410(v275[36]) )
  {
    v76 = sub_8D40F0(*(_QWORD *)&v268[40]);
    if ( !(unsigned int)sub_8D3ED0(v76) && (unsigned int)sub_6E5430(v76, &v269, v202, v203, v204, v205) )
    {
      v76 = 1589;
      v16 = (__int64)&v268[8];
      sub_6851C0(0x635u, &v268[8]);
    }
    v206 = sub_72C930(v76);
    v268[241] &= ~0x80u;
    *(_QWORD *)&v268[40] = v206;
  }
  *(_QWORD *)&v268[32] = *(_QWORD *)&dword_4F061D8;
  if ( word_4F06418[0] == 27 )
  {
    v268[240] |= 0x20u;
    *(_QWORD *)&v268[16] = *(_QWORD *)&dword_4F063F8;
    sub_7B8B50(v76, v16, v79, v78);
  }
  else
  {
    v76 = dword_4D04428;
    if ( dword_4D04428 && word_4F06418[0] == 73 )
    {
      v268[240] |= 0xA0u;
      *(_QWORD *)&v268[16] = *(_QWORD *)&dword_4F063F8;
    }
  }
  if ( v268[241] < 0 )
  {
    v184 = v268[240] & 0x20;
    if ( (v275[15] & 0x40000000000LL) != 0 )
    {
      if ( !(_BYTE)v184 )
      {
        v76 = v275[38];
        LODWORD(v269) = 0;
        if ( (unsigned int)sub_8D3F60(v275[38]) )
        {
          v16 = 1;
          v76 = v275[36];
          if ( (unsigned int)sub_84CF20(
                               v275[36],
                               1,
                               0,
                               1,
                               0,
                               (unsigned int)&dword_4F063F8,
                               (__int64)&v268[40],
                               (__int64)&v269) )
          {
            if ( dword_4F077C4 == 2 )
            {
              v230 = *(_QWORD *)&v268[40];
              if ( (unsigned int)sub_8D23B0(*(_QWORD *)&v268[40]) )
                sub_8AE000(v230);
            }
            v268[241] &= ~0x80u;
            goto LABEL_14;
          }
        }
        if ( (_DWORD)v269 )
          goto LABEL_14;
LABEL_369:
        v187 = sub_72C930(v76);
        v268[241] &= ~0x80u;
        *(_QWORD *)&v268[40] = v187;
        goto LABEL_14;
      }
    }
    else
    {
      if ( !(_BYTE)v184 )
      {
        v185 = BYTE5(v275[15]) & 1;
        v186 = (_BYTE)v185 == 0 ? 2543 : 1593;
        if ( (unsigned int)sub_6E5430(v76, v16, v185, v184, v75, v74) )
        {
          v76 = v186;
          v16 = (__int64)&v268[8];
          sub_6851C0(v186, &v268[8]);
        }
        goto LABEL_369;
      }
      if ( v268[240] < 0 )
      {
        v16 = dword_4F077BC;
        if ( dword_4F077BC )
        {
          if ( !(_DWORD)qword_4F077B4 )
          {
            v211 = &qword_4F077A8;
            if ( qword_4F077A8 <= 0x9E97u )
              goto LABEL_469;
            goto LABEL_459;
          }
LABEL_539:
          v211 = &qword_4F077A0;
          if ( qword_4F077A0 <= 0xEA5Fu )
          {
LABEL_469:
            if ( (unsigned int)sub_6E5430(v76, dword_4F077BC, v211, &dword_4F077BC, v75, v74) )
            {
              v76 = 2347;
              v16 = (__int64)&v268[8];
              sub_6851C0(0x92Bu, &v268[8]);
            }
            goto LABEL_369;
          }
          goto LABEL_459;
        }
        if ( (_DWORD)qword_4F077B4 )
          goto LABEL_539;
      }
    }
LABEL_459:
    v76 = (__int64)v275;
    HIBYTE(v275[15]) |= 8u;
    v16 = v268[240] >= 0;
    sub_6BDE10((__int64)v275, v16);
    v268[242] |= 1u;
    if ( (v275[15] & 0x8000000000LL) != 0 )
    {
      if ( v275[39] && *(_BYTE *)(v275[39] + 140LL) != 21 )
      {
        v268[241] &= ~0x80u;
        *(_QWORD *)&v268[40] = v275[36];
      }
      goto LABEL_14;
    }
    goto LABEL_369;
  }
LABEL_14:
  v250 = 0;
  if ( (v268[242] & 1) != 0 )
  {
    v128 = *(_QWORD *)(qword_4D03C50 + 136LL);
    *(_QWORD *)(qword_4D03C50 + 136LL) = 0;
    v250 = v128;
    sub_6E2220(v275);
  }
  v17 = *(_QWORD *)&v268[40];
  for ( i = *(_QWORD *)&v268[40]; *(_BYTE *)(i + 140) == 12; i = *(_QWORD *)(i + 160) )
    ;
  *(_QWORD *)&v268[48] = i;
  *(_QWORD *)&v268[56] = *(_QWORD *)&v268[40];
  if ( dword_4F077C4 == 2 )
  {
    v255 = *(_QWORD *)&v268[40];
    if ( (unsigned int)sub_8D23B0(*(_QWORD *)&v268[40]) )
      sub_8AE000(v255);
    v17 = *(_QWORD *)&v268[40];
  }
  *(_QWORD *)&v268[96] = 0;
  if ( (unsigned int)sub_8D3410(v17) )
  {
    v127 = sub_8D4050(*(_QWORD *)&v268[40]);
    v17 = *(_QWORD *)&v268[48];
    v268[241] |= 4u;
    *(_QWORD *)&v268[56] = v127;
    if ( (*(_BYTE *)(*(_QWORD *)&v268[48] + 169LL) & 1) != 0 )
    {
      v268[240] |= 8u;
      *(_QWORD *)&v268[96] = *(_QWORD *)(*(_QWORD *)&v268[48] + 176LL);
      if ( (*(_BYTE *)(qword_4D03C50 + 19LL) & 2) == 0 )
      {
        *(_BYTE *)(*(_QWORD *)&v268[48] + 169LL) &= ~1u;
        *(_QWORD *)(v17 + 176) = 0;
        *(_QWORD *)(v17 + 128) = 0;
        sub_8D6090(v17);
      }
    }
    else
    {
      v17 = *(_QWORD *)&v268[40];
      if ( (unsigned int)sub_8D23B0(*(_QWORD *)&v268[40]) )
      {
        if ( dword_4D0478C && (v268[240] & 0x20) != 0 || dword_4F077C4 == 2 && unk_4F07778 > 202001 && v268[240] < 0 )
        {
          if ( (*(_BYTE *)(qword_4D03C50 + 19LL) & 2) == 0 )
          {
            v181 = *(_QWORD **)&v268[184];
            v268[241] |= 8u;
            if ( !*(_QWORD *)&v268[184] )
            {
              if ( v268[240] >= 0 )
              {
                v181 = (_QWORD *)sub_6E2F40(1);
                v181[4] = *(_QWORD *)&v268[16];
                v16 = 18;
                v181[3] = sub_6BDC10(0x1Cu, 0, 1u, 0);
                v181[5] = *(_QWORD *)&dword_4F063F8;
                BYTE3(v275[22]) |= 0x20u;
                *(_WORD *)&v268[240] |= 0x180u;
                sub_7BE280(28, 18, 0, 0);
                *(_QWORD *)&v268[184] = v181;
              }
              else if ( (v268[242] & 1) != 0 )
              {
                v217 = sub_6E1C80(&v275[41]);
                v268[242] &= ~1u;
                *(_QWORD *)&v268[184] = v217;
                v181 = (_QWORD *)v217;
              }
              else
              {
                v16 = 0;
                *(_QWORD *)&v268[184] = sub_6BA760(0, 0);
                v181 = *(_QWORD **)&v268[184];
              }
            }
            v17 = v181[3];
            if ( v17 )
            {
              v182 = *(_QWORD **)v17;
              v183 = 0;
              if ( *(_QWORD *)v17 )
              {
                while ( 1 )
                {
                  ++v183;
                  if ( !v182 )
                    break;
                  v182 = (_QWORD *)*v182;
                }
              }
              else
              {
                v16 = (__int64)&v269;
                v231 = sub_6E1AD0(v17, &v269);
                v232 = v231;
                v183 = 1;
                if ( v232 )
                  v183 = *(_QWORD *)(v269 + 176);
              }
              v17 = *(_QWORD *)&v268[48];
              *(_BYTE *)(*(_QWORD *)&v268[48] + 169LL) &= ~1u;
              *(_QWORD *)(v17 + 176) = v183;
              *(_QWORD *)(v17 + 128) = 0;
              sub_8D6090(v17);
            }
            else
            {
              v16 = 6;
              v268[240] |= 8u;
              *(_QWORD *)&v268[96] = sub_73A830(0, 6);
            }
          }
        }
        else
        {
          v16 = *(_QWORD *)&v268[40];
          v17 = (__int64)&v268[8];
          sub_6E5F60(&v268[8], *(_QWORD *)&v268[40], 8);
          v268[242] |= 0x30u;
        }
      }
    }
  }
  if ( (v268[242] & 0x20) != 0 )
  {
    sub_6E6000(v17, v16, v19, v20, v21, v22);
    goto LABEL_22;
  }
  if ( !(unsigned int)sub_8D25A0(*(_QWORD *)&v268[56]) )
  {
    v17 = *(_QWORD *)&v268[56];
    v69 = *(_BYTE *)(*(_QWORD *)&v268[56] + 140LL);
    if ( v69 == 12 )
    {
      v70 = *(_QWORD *)&v268[56];
      do
      {
        v70 = *(_QWORD *)(v70 + 160);
        v69 = *(_BYTE *)(v70 + 140);
      }
      while ( v69 == 12 );
    }
    if ( v69 )
    {
      if ( (unsigned int)sub_8D23B0(*(_QWORD *)&v268[56]) )
      {
        v17 = (__int64)&v268[8];
        sub_6E5F60(&v268[8], *(_QWORD *)&v268[56], 8);
      }
      else if ( (unsigned int)sub_6E5430(v17, v16, v177, v178, v179, v180) )
      {
        v17 = 356;
        sub_6851C0(0x164u, &v268[8]);
      }
    }
LABEL_110:
    v268[242] |= 0x30u;
    goto LABEL_22;
  }
  v17 = *(_QWORD *)&v268[40];
  if ( (unsigned int)sub_8D5830(*(_QWORD *)&v268[40]) )
  {
    if ( (unsigned int)sub_6E5430(v17, v16, v160, v161, v162, v163) )
    {
      v17 = 8;
      sub_5EB950(8u, 322, *(__int64 *)&v268[40], (__int64)&v268[8]);
    }
    goto LABEL_110;
  }
  if ( dword_4D047EC )
  {
    v17 = *(_QWORD *)&v268[40];
    if ( (unsigned int)sub_8DD010(*(_QWORD *)&v268[40]) )
    {
      if ( (unsigned int)sub_6E5430(v17, v16, v164, v165, v166, v167) )
      {
        v17 = 975;
        sub_6851C0(0x3CFu, &v268[8]);
      }
      goto LABEL_110;
    }
  }
  v17 = *(_QWORD *)&v268[56];
  if ( (unsigned int)sub_8D2BE0(*(_QWORD *)&v268[56]) )
  {
    v17 = 3414;
    sub_6E5E80(3414, &v268[8], *(_QWORD *)&v268[56]);
  }
LABEL_22:
  if ( (v268[241] & 4) != 0 )
    *(_QWORD *)&v268[80] = *(_QWORD *)&v268[56];
  if ( (v268[242] & 0x20) != 0 )
  {
    v23 = sub_72C930(v17);
    v268[241] &= ~4u;
    *(_QWORD *)&v268[56] = v23;
    v24 = v23;
    *(_QWORD *)&v268[40] = v23;
  }
  else
  {
    v23 = *(_QWORD *)&v268[40];
    v24 = *(_QWORD *)&v268[56];
  }
  while ( *(_BYTE *)(v23 + 140) == 12 )
    v23 = *(_QWORD *)(v23 + 160);
  v25 = *(_BYTE *)(v24 + 140) == 12;
  *(_QWORD *)&v268[48] = v23;
  v26 = v24;
  if ( v25 )
  {
    do
      v26 = *(_QWORD *)(v26 + 160);
    while ( *(_BYTE *)(v26 + 140) == 12 );
  }
  v27 = 0;
  *(_QWORD *)&v268[64] = v26;
  *(_QWORD *)&v268[72] = sub_72D2E0(v24, 0);
  if ( (v268[241] & 4) != 0 )
  {
    if ( *(_QWORD *)&v268[96] )
    {
      *(_QWORD *)&v268[232] = 0;
    }
    else
    {
      *(_QWORD *)&v268[232] = 1;
      v27 = (__int64)&v268[232];
      sub_6E32E0(*(_QWORD *)&v268[48], &v268[232]);
    }
    v24 = *(_QWORD *)&v268[64];
    if ( *(_BYTE *)(*(_QWORD *)&v268[64] + 140LL) == 8 )
    {
      do
      {
        v27 = (__int64)&v268[232];
        sub_6E32E0(v24, &v268[232]);
        v24 = *(_QWORD *)(*(_QWORD *)&v268[64] + 160LL);
        *(_QWORD *)&v268[56] = v24;
        for ( j = *(_BYTE *)(v24 + 140); j == 12; j = *(_BYTE *)(v24 + 140) )
          v24 = *(_QWORD *)(v24 + 160);
        *(_QWORD *)&v268[64] = v24;
      }
      while ( j == 8 );
    }
  }
  if ( (v268[242] & 0x10) == 0 )
  {
    v265 = sub_724DC0(v24, v27, v28, v29, v30, v31);
    v95 = v265;
    if ( !*(_QWORD *)&v268[96] )
    {
      v138 = unk_4F06A51;
      v139 = *(_BYTE *)(*(_QWORD *)&v268[40] + 140LL);
      if ( v139 == 12 )
      {
        v259 = unk_4F06A51;
        v209 = sub_8D4A00(*(_QWORD *)&v268[40]);
        v95 = v265;
        v138 = v259;
        v140 = v209;
      }
      else if ( dword_4F077C0 && (v139 == 1 || v139 == 7) )
      {
        v140 = 1;
      }
      else
      {
        v140 = *(_QWORD *)(*(_QWORD *)&v268[40] + 128LL);
      }
      sub_72BAF0(v95, v140, v138);
      v27 = (__int64)&v269;
      sub_6E6A50(v265, &v269);
LABEL_170:
      sub_724E30(&v265);
      v106 = (_QWORD *)sub_6E3060(&v269);
      v107 = dword_4D04818;
      if ( dword_4D04818
        && ((v108 = *(_QWORD *)&v268[40], *(char *)(*(_QWORD *)&v268[40] + 142LL) >= 0)
         && *(_BYTE *)(*(_QWORD *)&v268[40] + 140LL) == 12
          ? (v248 = v106, v109 = sub_8D4AB0(*(_QWORD *)&v268[40], &v269, v103), v106 = v248)
          : (_QWORD *)(v109 = *(_DWORD *)(*(_QWORD *)&v268[40] + 136LL)),
            dword_4F06980 < v109) )
      {
        v243 = v106;
        v110 = sub_724DC0(v108, &v269, &dword_4F06980, v104, v107, v105);
        v111 = v243;
        v266 = (_QWORD *)v110;
        v112 = v110;
        v113 = unk_4F06A51;
        if ( *(char *)(*(_QWORD *)&v268[40] + 142LL) >= 0 && *(_BYTE *)(*(_QWORD *)&v268[40] + 140LL) == 12 )
        {
          v241 = v243;
          v249 = unk_4F06A51;
          v212 = sub_8D4AB0(*(_QWORD *)&v268[40], &v269, unk_4F06A51);
          v112 = (__int64)v266;
          v111 = v241;
          v113 = v249;
          v114 = v212;
        }
        else
        {
          v114 = *(unsigned int *)(*(_QWORD *)&v268[40] + 136LL);
        }
        v244 = v111;
        sub_72BAF0(v112, v114, v113);
        sub_712540(v266, unk_4F06C60, 1, 0, &v265, &v268[8]);
        v27 = (__int64)&v269;
        sub_6E6A50(v266, &v269);
        v115 = (_QWORD *)sub_6E3060(&v269);
        sub_724E30(&v266);
        *(_QWORD *)&v268[176] = v115;
        v116 = *(_QWORD *)&v268[160];
        v106 = v244;
        if ( v115 )
        {
          v268[240] |= 0x40u;
          *v115 = *(_QWORD *)&v268[160];
          v116 = *(_QWORD *)&v268[176];
        }
      }
      else
      {
        *(_QWORD *)&v268[176] = 0;
        v116 = *(_QWORD *)&v268[160];
      }
      *v106 = v116;
      LOBYTE(v117) = 1;
      *(_QWORD *)&v268[160] = v106;
      if ( unk_4D04844 )
        v117 = (v268[241] & 4) == 0 ? 1 : 3;
      v118 = dword_4F077BC;
      if ( dword_4F077BC )
      {
        if ( qword_4F077A8 > 0x76BFu )
        {
          if ( dword_4F04C44 != -1
            || (v27 = (__int64)qword_4F04C68, (*(_BYTE *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 6) & 2) != 0) )
          {
            v268[241] |= 0x10u;
          }
        }
      }
      v119 = v268[241];
      if ( (v268[240] & 1) == 0 && (unk_4D04844 || (v268[241] & 4) == 0) )
      {
        if ( (v268[241] & 0x10) != 0 )
        {
          v120 = *(_QWORD *)&v268[112];
          goto LABEL_288;
        }
        if ( (unsigned int)sub_8DD3B0(*(_QWORD *)&v268[56]) )
        {
          v119 = v268[241] | 0x10;
          v268[241] |= 0x10u;
          v118 = dword_4F077BC;
        }
        else
        {
          if ( (unsigned int)sub_8D3A70(*(_QWORD *)&v268[56]) )
          {
            v27 = *(_QWORD *)&v268[56];
            *(_QWORD *)&v268[112] = sub_7D3790((unsigned __int8)v117, *(_QWORD *)&v268[56]);
            v120 = *(_QWORD *)&v268[112];
            v119 = v268[241];
            v118 = dword_4F077BC;
LABEL_187:
            v121 = v119 & 0x10;
            if ( !v121 )
            {
              if ( !v118 )
                goto LABEL_289;
LABEL_189:
              if ( qword_4F077A8 <= 0x9C3Fu )
              {
                if ( v120 )
                  goto LABEL_191;
                if ( !dword_4F04C34 )
                {
LABEL_290:
                  if ( (_BYTE)v121 )
                  {
                    v33 = v268[240];
                    goto LABEL_292;
                  }
                  *(_QWORD *)&v268[112] = sub_7D3810((unsigned __int8)v117);
                  LOBYTE(v121) = v268[241] & 0x10;
LABEL_191:
                  v33 = v268[240];
                  if ( !(_BYTE)v121 )
                  {
                    v245 = *(_WORD *)(qword_4D03C50 + 18LL);
                    v122 = qword_4F04C68[0] + 776LL * dword_4F04C64;
                    v123 = (*(_BYTE *)(v122 + 7) & 8) != 0;
                    LODWORD(v269) = (v268[241] & 0x10) != 0;
                    if ( (v268[240] & 0x40) != 0 )
                    {
                      *(_BYTE *)(qword_4D03C50 + 18LL) |= 0x80u;
                      *(_BYTE *)(v122 + 7) &= ~8u;
                    }
                    v238 = v123;
                    v124 = sub_84AC10(
                             *(_DWORD *)&v268[112],
                             0,
                             0,
                             0,
                             0,
                             *(_DWORD *)&v268[160],
                             0,
                             1024,
                             0,
                             0,
                             0,
                             3,
                             (__int64)v268,
                             0,
                             0,
                             0,
                             (__int64)&v269,
                             0,
                             0,
                             (__int64)&v268[200]);
                    *(_WORD *)(qword_4D03C50 + 18LL) = v245 & 0x180 | *(_WORD *)(qword_4D03C50 + 18LL) & 0xFE7F;
                    v125 = qword_4F04C68[0] + 776LL * dword_4F04C64;
                    v27 = *(_BYTE *)(v125 + 7) & 0xF7;
                    *(_BYTE *)(v125 + 7) = *(_BYTE *)(v125 + 7) & 0xF7 | (8 * v238);
                    if ( v124 )
                    {
                      *(_QWORD *)&v268[128] = v124;
                      v268[241] = (16 * (v269 & 1)) | v268[241] & 0xEF;
                      goto LABEL_196;
                    }
                    v33 = v268[240];
                    if ( (v268[240] & 0x40) != 0 )
                    {
                      **(_QWORD **)&v268[160] = **(_QWORD **)&v268[176];
                      **(_QWORD **)&v268[176] = 0;
                      sub_6E1990(*(_QWORD *)&v268[176]);
                      v27 = 0;
                      v268[240] &= ~0x40u;
                      *(_QWORD *)&v268[176] = 0;
                      v124 = sub_84AC10(
                               *(_DWORD *)&v268[112],
                               0,
                               0,
                               0,
                               0,
                               *(_DWORD *)&v268[160],
                               0,
                               1024,
                               0,
                               0,
                               0,
                               3,
                               (__int64)v268,
                               0,
                               0,
                               0,
                               (__int64)&v269,
                               0,
                               0,
                               (__int64)&v268[200]);
                      *(_QWORD *)&v268[128] = v124;
                      v268[241] = (16 * (v269 & 1)) | v268[241] & 0xEF;
                      if ( !v124 )
                      {
LABEL_201:
                        v33 = v268[240];
                        goto LABEL_39;
                      }
LABEL_196:
                      v126 = *(_BYTE *)(v124 + 80);
                      if ( v126 == 16 )
                      {
                        v124 = **(_QWORD **)(v124 + 88);
                        v126 = *(_BYTE *)(v124 + 80);
                      }
                      if ( v126 == 24 )
                        v124 = *(_QWORD *)(v124 + 88);
                      *(_QWORD *)&v268[120] = v124;
                      goto LABEL_201;
                    }
                    v268[241] = (16 * (v269 & 1)) | v268[241] & 0xEF;
                  }
LABEL_292:
                  *(_QWORD *)&v268[128] = 0;
                  goto LABEL_39;
                }
                v33 = v268[240];
                if ( (_BYTE)v121 )
                  goto LABEL_292;
                sub_87A720((unsigned __int8)v117, &v269, v268);
                v27 = 128;
                *(_QWORD *)&v268[112] = sub_7D5DD0(&v269, 128);
                v120 = *(_QWORD *)&v268[112];
                LOBYTE(v121) = v268[241] & 0x10;
              }
LABEL_289:
              if ( v120 )
                goto LABEL_191;
              goto LABEL_290;
            }
LABEL_288:
            v268[241] |= 0x20u;
            LOBYTE(v121) = v268[241] & 0x10;
            if ( !v118 )
              goto LABEL_289;
            goto LABEL_189;
          }
          v119 = v268[241];
          v118 = dword_4F077BC;
        }
      }
      v120 = *(_QWORD *)&v268[112];
      goto LABEL_187;
    }
    v96 = (_QWORD *)sub_73B8B0(*(_QWORD *)&v268[96], 128);
    v266 = v96;
    v97 = *(_BYTE *)(*(_QWORD *)&v268[80] + 140LL);
    if ( v97 == 12 )
    {
      v98 = sub_8D4A00(*(_QWORD *)&v268[80]);
      v96 = v266;
    }
    else
    {
      if ( dword_4F077C0 && (v97 == 1 || v97 == 7) )
      {
        if ( (unsigned int)sub_8D3D40(*v96) )
          goto LABEL_355;
        v98 = 1;
LABEL_377:
        v193 = sub_72BA30(unk_4F06A51);
        sub_6E8160((unsigned int)&v266, v193, 0, 0, 1, 0, 0, 1, (__int64)&v268[8]);
LABEL_167:
        if ( v98 != 1 )
        {
          v99 = (_QWORD *)sub_73A8E0(v98, unk_4F06A51);
          v100 = (__int64)v266;
          v266[2] = v99;
          v101 = sub_73DBF0(41, *v99, v100);
          *(_BYTE *)(v101 + 27) |= 2u;
          v102 = v101;
LABEL_169:
          v27 = (__int64)&v269;
          sub_6E70E0(v102, &v269);
          goto LABEL_170;
        }
LABEL_355:
        v102 = (__int64)v266;
        goto LABEL_169;
      }
      v98 = *(_QWORD *)(*(_QWORD *)&v268[80] + 128LL);
    }
    if ( (unsigned int)sub_8D3D40(*v96) )
      goto LABEL_167;
    goto LABEL_377;
  }
  v33 = v268[240];
LABEL_39:
  v34 = 0;
  if ( (v33 & 0x20) != 0 && (!qword_4D03C50 || (v35 = *(_QWORD **)(qword_4D03C50 + 136LL)) == 0 || !*v35) )
  {
    if ( a1 )
    {
      if ( v33 < 0 )
        v34 = *(_QWORD *)(*(_QWORD *)&v268[184] + 24LL) == 0;
      else
        v34 = *(_QWORD *)(a1 + 16) == 0;
    }
    else if ( v33 < 0 )
    {
      v27 = 0;
      v34 = (unsigned __int16)sub_7BE840(0, 0) == 74;
    }
    else
    {
      v34 = word_4F06418[0] == 28;
    }
  }
  v268[242] = (2 * v34) | v268[242] & 0xFD;
  if ( dword_4F04C44 != -1
    || (v36 = qword_4F04C68[0] + 776LL * dword_4F04C64, (*(_BYTE *)(v36 + 6) & 6) != 0)
    || *(_BYTE *)(v36 + 4) == 12 )
  {
    if ( (unsigned int)sub_8DBE70(*(_QWORD *)&v268[40]) )
    {
      v68 = v268[241];
      v268[241] |= 0x20u;
      if ( (unsigned __int8)(*(_BYTE *)(*(_QWORD *)&v268[64] + 140LL) - 9) <= 2u
        && (*(_BYTE *)(*(_QWORD *)&v268[64] + 177LL) & 0x20) != 0 )
      {
        v268[241] = v68 | 0x60;
      }
    }
  }
  v39 = (unsigned int)sub_8D3A70(*(_QWORD *)&v268[56]);
  v41 = 0;
  if ( (_DWORD)v39 && (v268[241] & 0x40) == 0 )
  {
    for ( k = *(_QWORD *)&v268[56]; *(_BYTE *)(k + 140) == 12; k = *(_QWORD *)(k + 160) )
      ;
    *(_QWORD *)&v268[88] = *(_QWORD *)(*(_QWORD *)k + 96LL);
    v41 = *(_QWORD *)(*(_QWORD *)&v268[88] + 8LL);
  }
  *(_QWORD *)&v268[136] = v41;
  if ( (v268[242] & 0x10) != 0 )
    goto LABEL_60;
  v43 = *(_QWORD *)&v268[120];
  if ( !*(_QWORD *)&v268[120] )
  {
LABEL_58:
    v27 = v268[241];
    if ( *(_QWORD *)&v268[128] || (v268[241] & 0x10) != 0 )
    {
      v27 = (v268[241] & 0x10) != 0;
      sub_84A700(
        *(_DWORD *)&v268[128],
        v27,
        0,
        0,
        0,
        *(_DWORD *)&v268[160],
        *(__int64 *)&v268[200],
        (__int64)&v268[168]);
      sub_6E1990(*(_QWORD *)&v268[160]);
      v39 = v233;
      *(_QWORD *)&v268[160] = 0;
      *(_QWORD *)&v268[200] = 0;
      v40 = v236;
      *(_QWORD *)&v268[168] = *(_QWORD *)(*(_QWORD *)&v268[168] + 16LL);
    }
    goto LABEL_60;
  }
  v44 = *(_QWORD *)(*(_QWORD *)&v268[120] + 88LL);
  if ( dword_4D048B8 )
  {
    v262 = 0;
    v146 = 0;
    if ( (v268[240] & 1) == 0 )
    {
      if ( (unsigned int)sub_8D3A70(*(_QWORD *)&v268[56]) )
      {
        v146 = *(_QWORD *)&v268[64];
        v43 = *(_QWORD *)&v268[120];
      }
      else
      {
        v43 = *(_QWORD *)&v268[120];
        v146 = 0;
      }
    }
    v147 = v146;
    v258 = v146;
    v148 = sub_87C590(v43, v146, *(_DWORD *)&v268[56], (v268[241] & 2) != 0, 0, (unsigned int)&v262, (__int64)&v266);
    v268[240] = (2 * (v262 & 1)) | v268[240] & 0xFD;
    if ( ((2 * (v262 & 1)) & 2) != 0 )
    {
      if ( (unsigned int)sub_6E5430(v43, v147, v234, v235, v148, v149) )
        sub_6854C0(0x10Au, (FILE *)v268, (__int64)v266);
    }
    else if ( v148 )
    {
      v150 = *(_BYTE *)(v148 + 80);
      v151 = v148;
      if ( v150 == 16 )
      {
        v151 = **(_QWORD **)(v148 + 88);
        v150 = *(_BYTE *)(v151 + 80);
      }
      if ( v150 == 24 )
        v151 = *(_QWORD *)(v151 + 88);
      v246 = *(_QWORD *)(v151 + 88);
      if ( (v268[241] & 2) == 0 )
        goto LABEL_255;
      v237 = v151;
      v239 = v148;
      v200 = sub_87ADD0(*(_QWORD *)(v151 + 88), &v261, &v264, &v265);
      v148 = v239;
      v151 = v237;
      if ( !v200
        || !v261
        || (v201 = v258, (*(_BYTE *)(v246 + 89) & 4) != 0)
        && (v229 = sub_87C270(v266, *(_QWORD *)&v268[56], &v263), v151 = v237, v201 = v258, v148 = v239, v237 != v229)
        && !v263 )
      {
LABEL_255:
        if ( (*(_BYTE *)(v148 + 81) & 0x10) != 0 )
        {
          v240 = v151;
          sub_878710(v148, &v269);
          v270 = *(_QWORD *)v268;
          sub_6E6370(&v269, v266);
          v151 = v240;
        }
        if ( dword_4F077BC
          && !(_DWORD)qword_4F077B4
          && qword_4F077A8
          && (v152 = *(_BYTE *)(v246 + 206), (v152 & 0x10) != 0) )
        {
          *(_BYTE *)(v246 + 206) = v152 & 0xEF;
          sub_8767A0(4, v151, v268, 0);
          *(_BYTE *)(v246 + 206) |= 0x10u;
        }
        else
        {
          sub_8767A0(4, v151, v268, 0);
        }
        goto LABEL_262;
      }
      if ( (_DWORD)qword_4F077B4 )
      {
        if ( dword_4F077C4 != 2 || unk_4F07778 <= 201102 && !dword_4F07774 )
          goto LABEL_262;
      }
      else if ( dword_4F077BC && qword_4F077A8 <= 0xEA5Fu )
      {
        v242 = v148;
        if ( !v201 )
          goto LABEL_262;
        v228 = sub_6EB2F0(v201, v201, v268, 1);
        if ( !v228 || (*(_BYTE *)(v228 + 192) & 2) == 0 )
          goto LABEL_262;
        v148 = v242;
      }
      sub_6854C0(0xA5Eu, (FILE *)v268, v148);
      v246 = 0;
LABEL_262:
      *(_QWORD *)&v268[152] = v246;
      goto LABEL_54;
    }
    v246 = 0;
    goto LABEL_262;
  }
LABEL_54:
  if ( (v268[241] & 4) != 0
    && (unsigned int)sub_691630(*(__int64 *)&v268[56], 1)
    && (v153 = sub_7D3810(unk_4D04844 == 0 ? 1 : 3)) != 0
    && (v247 = *(_QWORD *)&v268[120], v247 == sub_87AC70(v153, &v269))
    && *(char *)(v44 + 192) >= 0 )
  {
    *(_QWORD *)&v268[144] = 0;
    v45 = 1;
  }
  else
  {
    *(_QWORD *)&v268[144] = v44;
    v45 = v44 == 0;
    if ( v44 )
      *(_BYTE *)(v44 + 193) |= 0x40u;
  }
  v27 = *(_QWORD *)&v268[112];
  sub_82F430(*(_DWORD *)&v268[128], *(_DWORD *)&v268[112], 0, (unsigned int)v268, v45, 0, 0, 0, 0, (__int64)&v269, 1);
  if ( (v268[242] & 0x10) == 0 )
    goto LABEL_58;
LABEL_60:
  if ( *(_QWORD *)&v268[144] )
    *(_BYTE *)(qword_4D03C50 + 18LL) |= 0x10u;
  v46 = dword_4D0478C;
  if ( dword_4D0478C )
  {
    if ( (*(_DWORD *)&v268[240] & 0x1200A0) == 0x20 && !*(_QWORD *)&v268[184] )
    {
      v46 = *(_QWORD *)&v268[40];
      if ( (unsigned int)sub_8D3BB0(*(_QWORD *)&v268[40]) )
      {
        v46 = *(_QWORD *)&v268[40];
        v27 = a1;
        LODWORD(v266) = 0;
        v269 = 0;
        sub_6BE930(*(__int64 *)&v268[40], a1, 0, &v269, (unsigned int *)&v266);
        if ( a1 )
        {
          v159 = v269;
          if ( v269 )
            goto LABEL_300;
        }
        else
        {
          v38 = &dword_4F061D8;
          *(_QWORD *)&dword_4F061D8 = qword_4F063F0;
          if ( v269 )
          {
            v46 = 28;
            sub_7BE280(28, 18, 0, 0);
            v159 = v269;
LABEL_300:
            v27 = (unsigned int)v266;
            if ( (_DWORD)v266 )
            {
              *(_WORD *)&v268[240] |= 0x180u;
              BYTE3(v275[22]) |= 0x20u;
              *(_QWORD *)&v268[184] = v159;
            }
            else
            {
              *(_QWORD *)&v268[192] = v159;
            }
            goto LABEL_64;
          }
        }
        v268[242] |= 2u;
      }
    }
  }
LABEL_64:
  if ( (v268[240] & 0x20) != 0 )
  {
    if ( v268[240] >= 0 )
    {
      if ( (*(_DWORD *)&v268[240] & 0x20400) == 0x400 )
      {
        if ( a1 )
          v11 = (unsigned int *)&v268[16];
        if ( (unsigned int)sub_6E5430(v46, v27, v37, v38, v39, v40) )
          sub_6851C0(0x187u, v11);
        v47 = *(__int64 **)&v268[136];
        v268[242] |= 0x10u;
        if ( *(_QWORD *)&v268[136] )
          goto LABEL_68;
      }
      else
      {
        v47 = *(__int64 **)&v268[136];
        if ( *(_QWORD *)&v268[136] )
        {
LABEL_68:
          v48 = *(_QWORD *)&v268[144];
          if ( *(_QWORD *)&v268[152]
            && (*(_QWORD *)&v268[144] || (v268[241] & 4) != 0)
            && *(_BYTE *)(qword_4D03C50 + 16LL) > 3u )
          {
            v49 = sub_688F10(*(__int64 *)&v268[152], (v268[241] & 4) != 0);
            v48 = *(_QWORD *)&v268[144];
            v47 = *(__int64 **)&v268[136];
            *(_QWORD *)&v268[216] = v49;
          }
          sub_6C5750(
            (__int64)v47,
            (__int64)&v268[16],
            0,
            0,
            0,
            v48 != 0,
            0,
            1024,
            a1,
            *(_QWORD *)&v268[192] != 0,
            *(__int64 *)&v268[192],
            0,
            &v269,
            0,
            0,
            0,
            0,
            0,
            (__int64 *)&v268[208],
            0,
            0);
          sub_6E1990(*(_QWORD *)&v268[192]);
          *(_QWORD *)&v268[192] = 0;
          if ( !a1 )
            *(_QWORD *)&v268[32] = *(_QWORD *)&dword_4F061D8;
          if ( (_DWORD)v269 )
          {
            v268[240] &= ~4u;
          }
          else
          {
            if ( !*(_QWORD *)&v268[152]
              && dword_4D048B8
              && (v268[240] & 2) == 0
              && *(_QWORD *)&v268[120]
              && (unsigned int)sub_6E53E0(5, 830, v268) )
            {
              v207 = "[]";
              if ( (v268[241] & 4) == 0 )
                v207 = (char *)byte_3F871B3;
              sub_6869F0(0x33Eu, v268, (__int64)v207, *(__int64 *)&v268[120]);
            }
            v268[240] |= 4u;
            nullsub_4();
            if ( !*(_QWORD *)&v268[208] )
              v268[240] &= 0xDBu;
          }
          goto LABEL_78;
        }
      }
      v168 = v268[241];
      if ( (v268[241] & 0x20) != 0 )
      {
        v268[242] |= 8u;
        sub_6C0910(0, 0, 1u, &v269, 1, 0, 0, 0, a1, 0, 0, &v268[192], 0, 0, &v268[24]);
LABEL_331:
        if ( !a1 )
          *(_QWORD *)&v268[32] = *(_QWORD *)&dword_4F061D8;
        goto LABEL_333;
      }
      v169 = *(_QWORD *)&v268[56];
      for ( m = (_QWORD *)*(unsigned __int8 *)(*(_QWORD *)&v268[56] + 140LL);
            (_BYTE)m == 12;
            m = (_QWORD *)*(unsigned __int8 *)(v169 + 140) )
      {
        v169 = *(_QWORD *)(v169 + 160);
      }
      if ( !(_BYTE)m )
      {
        sub_6C0D90(a1, 0, 0);
        *(_QWORD *)&v268[208] = 0;
        *(_DWORD *)&v268[240] = *(_DWORD *)&v268[240] & 0xFFEFFFFB | 0x100000;
        goto LABEL_78;
      }
      v171 = v268[242];
      if ( (v268[242] & 2) != 0 )
      {
LABEL_410:
        if ( !a1 )
        {
          *(_QWORD *)&v268[32] = qword_4F063F0;
          sub_7B8B50(v47, v168, m, v38);
        }
        v268[240] |= 0x14u;
        goto LABEL_78;
      }
      if ( *(_QWORD *)&v268[152] && (*(_QWORD *)&v268[144] || (v268[241] & 4) != 0) )
      {
        m = (_QWORD *)qword_4D03C50;
        if ( *(_BYTE *)(qword_4D03C50 + 16LL) > 3u )
        {
          *(_QWORD *)&v268[216] = sub_688F10(*(__int64 *)&v268[152], (v268[241] & 4) != 0);
          v171 = v268[242];
        }
      }
      v172 = *(_DWORD *)&v268[192];
      v173 = v171 & 0x10;
      if ( *(_QWORD *)&v268[192] )
      {
        v174 = *(_QWORD *)&v268[40];
        if ( v173 )
        {
          v216 = sub_72C930(*(_QWORD *)&v268[192]);
          v172 = *(_DWORD *)&v268[192];
          v174 = v216;
        }
        sub_839D30(v172, v174, 1, 0, 0, 0, 1, 0, 0, (__int64)&v269, 0, 0);
        sub_6E1990(*(_QWORD *)&v268[192]);
        *(_QWORD *)&v268[192] = 0;
        *(_QWORD *)&v268[104] = sub_6F7150(&v269, v174, v175);
        v176 = *(_QWORD *)&v268[104];
        goto LABEL_328;
      }
      v194 = *(_QWORD *)&v268[40];
      if ( v173 )
        v194 = sub_72C930(0);
      LODWORD(v266) = 0;
      v195 = qword_4D03C50;
      if ( !a1 )
      {
        v47 = v275;
        v168 = 0;
        ++*(_BYTE *)(qword_4F061C8 + 36LL);
        ++*(_QWORD *)(v195 + 40);
        BYTE1(v275[16]) |= 6u;
        v176 = sub_6BB770((__int64)v275, 0, 1, &v266);
        if ( v176 )
        {
          v168 = v194;
          sub_839D30(v176, v194, 1, 0, 0, 0, 1, 0, 0, (__int64)&v269, 0, 0);
          v222 = v176;
          sub_6E1990(v176);
          v223 = qword_4F063F0;
          v224 = WORD2(qword_4F063F0);
          if ( dword_4F077BC )
            sub_690C20();
          sub_690B80(v222, v168);
          v47 = &v269;
          unk_4F061DC = v224;
          dword_4F061D8 = v223;
          v176 = sub_6F7150(&v269, v168, v225);
        }
        --*(_BYTE *)(qword_4F061C8 + 36LL);
        --*(_QWORD *)(qword_4D03C50 + 40LL);
LABEL_408:
        *(_QWORD *)&v268[104] = v176;
        if ( !(_DWORD)v266 )
        {
LABEL_328:
          if ( v176
            && (unsigned int)sub_731770(v176, 0)
            && !*(_QWORD *)&v268[152]
            && dword_4D048B8
            && (v268[240] & 2) == 0
            && *(_QWORD *)&v268[120]
            && (unsigned int)sub_6E53E0(5, 830, v268) )
          {
            v218 = "[]";
            if ( (v268[241] & 4) == 0 )
              v218 = (char *)byte_3F871B3;
            sub_6869F0(0x33Eu, v268, (__int64)v218, *(__int64 *)&v268[120]);
          }
          goto LABEL_331;
        }
        goto LABEL_409;
      }
      if ( qword_4D03C50 && (v196 = *(_QWORD **)(qword_4D03C50 + 136LL)) != 0 && *v196 )
      {
        v47 = v275;
        v168 = 0;
        BYTE1(v275[16]) |= 6u;
        v197 = sub_6BB770((__int64)v275, 0, 1, &v266);
        if ( v197 )
        {
LABEL_403:
          v168 = v194;
          sub_839D30(v197, v194, 1, 0, 0, 0, 1, 0, 0, (__int64)&v269, 0, 0);
          sub_6E1990(v197);
          goto LABEL_404;
        }
        *(_QWORD *)&v268[104] = 0;
        if ( (_DWORD)v266 )
        {
LABEL_409:
          v268[242] |= 2u;
          goto LABEL_410;
        }
      }
      else
      {
        v219 = *(_QWORD *)(a1 + 16);
        if ( (*(_BYTE *)(v219 + 26) & 4) == 0 )
        {
          sub_6F8800(v219, a1, &v269);
          v168 = v194;
          sub_843C40((unsigned int)&v269, v194, 0, 0, 0, 0, 144);
LABEL_404:
          v199 = *(_QWORD *)(a1 + 16);
          if ( v199 && *(_QWORD *)(v199 + 16) )
            *(_BYTE *)(a1 + 56) = 1;
          v47 = &v269;
          v176 = sub_6F7150(&v269, v168, v198);
          goto LABEL_408;
        }
        v168 = a1;
        v220 = (__int64 *)sub_690A60(v219, a1, m);
        v197 = (__int64)v220;
        if ( v220 )
        {
          v221 = *v220;
          if ( !v221 || (*(_BYTE *)(v221 + 10) & 1) != 0 )
            goto LABEL_403;
          *(_BYTE *)(a1 + 56) = 1;
        }
        else
        {
          LODWORD(v266) = 1;
        }
        v47 = (__int64 *)v197;
        sub_6E1990(v197);
        *(_QWORD *)&v268[104] = 0;
        if ( (_DWORD)v266 )
          goto LABEL_409;
      }
LABEL_333:
      v268[240] |= 4u;
      goto LABEL_78;
    }
    if ( *(_QWORD *)&v268[152]
      && (*(_QWORD *)&v268[144] || (v268[241] & 4) != 0)
      && *(_BYTE *)(qword_4D03C50 + 16LL) > 3u )
    {
      *(_QWORD *)&v268[216] = sub_688F10(*(__int64 *)&v268[152], (v268[241] & 4) != 0);
    }
    if ( a1 )
    {
      v129 = *(_QWORD *)&v268[184];
      *(_QWORD *)&v268[32] = *(_QWORD *)sub_6E1A60(*(_QWORD *)&v268[184]);
      sub_6E6990(&v269);
      v273 = v273 & 0xDFF3FFD7 | (((v275[22] & 0x20000000LL) != 0) << 29) | (((v268[240] & 8) != 0) << 18) | 0x80028;
      sub_839D30(v129, *(_DWORD *)&v268[40], 1, 1, 0, 0x4000, 0, 0, 0, 0, (__int64)&v269, 0);
      if ( (v273 & 0x200) != 0 )
      {
        v268[242] |= 0x10u;
        *(_BYTE *)(a1 + 56) = 1;
LABEL_213:
        sub_6E1990(v129);
        v50 = v268[242];
        goto LABEL_79;
      }
    }
    else
    {
      if ( BYTE3(v275[22]) & 0x20 | v268[241] & 8 )
      {
        v129 = *(_QWORD *)&v268[184];
      }
      else if ( (v268[242] & 1) != 0 )
      {
        v129 = sub_6E1C80(*(_QWORD *)(qword_4D03C50 + 136LL));
      }
      else
      {
        v129 = sub_6BA760(0, 0);
      }
      *(_QWORD *)&v268[32] = *(_QWORD *)sub_6E1A60(v129);
      sub_6E6990(&v269);
      v273 = v273 & 0xDFF3FFF7 | (((v275[22] & 0x20000000LL) != 0) << 29) | (((v268[240] & 8) != 0) << 18) | 0x80008;
      sub_839D30(v129, *(_DWORD *)&v268[40], 1, 1, 0, 0x4000, 0, 0, 0, 0, (__int64)&v269, 0);
      if ( (v273 & 0x200) != 0 )
      {
        v268[242] |= 0x10u;
        goto LABEL_213;
      }
    }
    v268[240] |= 4u;
    *(_QWORD *)&v268[208] = v270;
    goto LABEL_213;
  }
  if ( (unsigned int)sub_8D3A70(*(_QWORD *)&v268[56])
    && (v268[241] & 0x40) == 0
    && (!*(_QWORD *)&v268[88]
     || !(unsigned int)sub_8E4550(*(_QWORD *)&v268[64])
     || *(_QWORD *)(*(_QWORD *)&v268[88] + 8LL)
     || (v80 = *(_QWORD *)(*(_QWORD *)&v268[88] + 16LL)) != 0 && (*(_BYTE *)(*(_QWORD *)(v80 + 88) + 206LL) & 0x10) != 0) )
  {
    if ( (*(_BYTE *)(*(_QWORD *)&v268[64] + 177LL) & 0x20) != 0 )
    {
LABEL_78:
      v50 = v268[242];
      goto LABEL_79;
    }
    if ( *(_QWORD *)&v268[136] )
    {
      if ( *(_QWORD *)&v268[152]
        && (*(_QWORD *)&v268[144] || (v268[241] & 4) != 0)
        && *(_BYTE *)(qword_4D03C50 + 16LL) > 3u )
      {
        *(_QWORD *)&v268[216] = sub_688F10(*(__int64 *)&v268[152], (v268[241] & 4) != 0);
      }
      v81 = sub_6EB0E0(*(_QWORD *)&v268[56], &v268[8], &v269);
      v82 = v81;
      if ( (_DWORD)v269 )
        goto LABEL_78;
      if ( v81 )
      {
        v83 = *(_BYTE *)(v81 + 193);
        v84 = v268[240] | 4;
        v85 = (v83 & 0x10) != 0;
        v268[240] |= 4u;
        if ( !*(_QWORD *)&v268[152]
          && dword_4D048B8
          && (v84 & 2) == 0
          && *(_QWORD *)&v268[120]
          && (unsigned int)sub_6E53E0(5, 830, v268) )
        {
          v226 = "[]";
          if ( (v268[241] & 4) == 0 )
            v226 = (char *)byte_3F871B3;
          sub_6869F0(0x33Eu, v268, (__int64)v226, *(__int64 *)&v268[120]);
        }
        *(_QWORD *)&v268[208] = sub_6F5430(
                                  v82,
                                  0,
                                  *(_DWORD *)&v268[56],
                                  0,
                                  1,
                                  0,
                                  0,
                                  0,
                                  *(_QWORD *)&v268[144] != 0,
                                  0,
                                  (__int64)&v268[8]);
        nullsub_4();
        if ( qword_4D0495C || !v85 )
          goto LABEL_78;
      }
      else if ( qword_4D0495C )
      {
        goto LABEL_78;
      }
    }
    else if ( !(unsigned int)sub_6E6160(*(_QWORD *)&v268[56], &v268[8])
           && (!*(_QWORD *)&v268[88]
            || *(_QWORD *)(*(_QWORD *)&v268[88] + 16LL)
            || (*(_BYTE *)(*(_QWORD *)&v268[88] + 176LL) & 1) != 0
            || *(_QWORD *)(*(_QWORD *)&v268[88] + 8LL)
            || (*(_BYTE *)(*(_QWORD *)&v268[40] + 140LL) & 0xFB) == 8
            && (sub_8D4C10(*(_QWORD *)&v268[40], dword_4F077C4 != 2) & 1) != 0
            || (unsigned __int8)(*(_BYTE *)(*(_QWORD *)&v268[64] + 140LL) - 9) > 2u)
           || qword_4D0495C )
    {
      goto LABEL_78;
    }
    if ( (*(_BYTE *)(*(_QWORD *)&v268[40] + 140LL) & 0xFB) != 8 )
      goto LABEL_78;
    v86 = dword_4F077C4 != 2;
    if ( (sub_8D4C10(*(_QWORD *)&v268[40], v86) & 1) == 0 )
      goto LABEL_78;
    v87 = *(_QWORD *)&v268[40];
    if ( (unsigned int)sub_7A80B0(*(_QWORD *)&v268[40]) )
      goto LABEL_78;
    if ( (unsigned int)sub_6E5430(v87, v86, v88, v89, v90, v91) )
      sub_685380(0x32Cu, *(__int64 *)&v268[64]);
    v50 = v268[242] | 0x10;
    v268[242] |= 0x10u;
  }
  else
  {
    v50 = v268[242];
    if ( (*(_DWORD *)&v268[240] & 0x104000) == 0 )
    {
      v92 = 0;
      LODWORD(v269) = (v268[242] & 0x10) != 0;
      if ( *(char *)(qword_4D03C50 + 18LL) < 0 )
        v92 = &v269;
      v93 = *(_QWORD *)&v268[40];
      sub_640330(0, *(__int64 *)&v268[40], 0, v92);
      v50 = (16 * (v269 & 1)) | v268[242] & 0xEF;
      v268[242] = v50;
      if ( (v50 & 0x10) != 0 )
      {
        sub_6E50A0(0, v93);
        v50 = v268[242];
      }
    }
  }
LABEL_79:
  if ( (v50 & 8) != 0 )
  {
    sub_831320(0, 0, &v269);
    v271 = 1;
    sub_849040(*(_QWORD *)&v268[192], &v269);
    v94 = v272;
    sub_6E1990(*(_QWORD *)&v268[192]);
    *(_QWORD *)&v268[192] = 0;
    *(_QWORD *)&v268[208] = sub_6F5430(0, v94, *(_DWORD *)&v268[56], 0, 0, 0, 0, 0, 0, 0, (__int64)&v267);
  }
  v51 = qword_4D03C50;
  *(_BYTE *)(qword_4D03C50 + 18LL) = (16 * v251) | *(_BYTE *)(qword_4D03C50 + 18LL) & 0xEF;
  v52 = v268[242];
  if ( (v268[242] & 1) != 0 )
  {
    v53 = *(_QWORD *)(v51 + 136);
    if ( v53 )
    {
      sub_6E1BF0(v53);
      v51 = qword_4D03C50;
    }
    *(_QWORD *)(v51 + 136) = v250;
    v52 = v268[242];
  }
  if ( (v52 & 0x10) == 0 && (*(_QWORD *)&v268[120] || (v268[241] & 0x10) != 0 || *(_WORD *)&v268[224] != 155) )
  {
    v54 = (__int64 *)sub_726700(7);
    v55 = *(_QWORD *)&v268[72];
    if ( v268[241] < 0 )
      v55 = sub_72D2E0(*(_QWORD *)&dword_4D03B80, 0);
    v56 = v54[7];
    *v54 = v55;
    v57 = *(_BYTE *)v56 | 1;
    *(_BYTE *)v56 = v57;
    v58 = v268[241] & 2 | v57 & 0xFD;
    *(_BYTE *)v56 = v58;
    v59 = v58 & 0xFB | (v268[240] >> 4) & 4;
    *(_BYTE *)v56 = v59;
    v60 = (16 * (v268[240] & 1)) | v59 & 0xEF;
    *(_BYTE *)v56 = v60;
    v61 = v268[240] & 0x20 | v60 & 0xDF;
    *(_BYTE *)v56 = v61;
    v62 = v61 & 0xBF | (((*(_WORD *)&v268[240] & 0x180) == 128) << 6);
    *(_BYTE *)v56 = v62;
    *(_BYTE *)v56 = (v268[241] << 7) | v62 & 0x7F;
    v63 = (v268[241] >> 7) | *(_BYTE *)(v56 + 1) & 0xFE;
    *(_BYTE *)(v56 + 1) = v63;
    *(_BYTE *)(v56 + 1) = (v268[242] >> 1) & 2 | v63 & 0xFD;
    *(_QWORD *)(v56 + 8) = *(_QWORD *)&v268[40];
    *(_QWORD *)(v56 + 16) = *(_QWORD *)&v268[144];
    *(_QWORD *)(v56 + 24) = *(_QWORD *)&v268[168];
    *(_QWORD *)(v56 + 48) = *(_QWORD *)&v268[96];
    if ( (v268[240] & 4) != 0 )
    {
      v64 = *(_QWORD *)&v268[208];
      if ( *(_QWORD *)&v268[208] )
      {
        if ( (*(_WORD *)&v268[240] & 0x480) == 0x400 )
        {
          v154 = *(_BYTE *)(*(_QWORD *)&v268[208] + 48LL);
          if ( v154 == 2 || v154 == 5 )
          {
            v155 = 0;
            if ( dword_4D048B8 )
            {
              if ( (unsigned int)sub_8D3A70(*(_QWORD *)&v268[56]) )
              {
                v227 = sub_6EB2F0(*(_QWORD *)&v268[56], *(_QWORD *)&v268[56], &v268[8], 0);
                v64 = *(_QWORD *)&v268[208];
                v155 = v227;
              }
              else
              {
                v64 = *(_QWORD *)&v268[208];
              }
            }
            *(_QWORD *)&v268[208] = sub_6EAFD0(
                                      v64,
                                      *(_QWORD *)&v268[40],
                                      *(_QWORD *)&v268[56],
                                      v155,
                                      *(_QWORD *)&v268[232]);
            v64 = *(_QWORD *)&v268[208];
          }
        }
      }
      else
      {
        if ( (v268[240] & 0x10) != 0 )
        {
          *(_QWORD *)&v268[208] = sub_6EAFA0(1);
        }
        else
        {
          *(_QWORD *)&v268[208] = sub_6EAFA0(3);
          *(_QWORD *)(*(_QWORD *)&v268[208] + 56LL) = *(_QWORD *)&v268[104];
        }
        v64 = *(_QWORD *)&v268[208];
      }
      *(_QWORD *)(v56 + 32) = v64;
      v65 = *(_QWORD *)&v268[216];
      *(_QWORD *)(v56 + 40) = *(_QWORD *)&v268[216];
      if ( v65 )
        *(_QWORD *)(v65 + 96) = v56;
    }
    sub_6E3C60(v54, &v267, &v268[8], *(_QWORD *)&v268[40]);
    sub_6E70E0(v54, v6);
  }
  else
  {
    sub_6E6260(v6);
  }
  if ( *(_QWORD *)&v268[160] )
  {
    sub_6E5970();
    sub_6E1990(*(_QWORD *)&v268[160]);
  }
  sub_82D8A0(*(_QWORD *)&v268[200]);
  v6[17] = v267;
  *((_WORD *)v6 + 36) = WORD2(v267);
  *(_QWORD *)dword_4F07508 = *(_QWORD *)(v6 + 17);
  v66 = *(_QWORD *)&v268[32];
  *(_QWORD *)(v6 + 19) = *(_QWORD *)&v268[32];
  *(_QWORD *)&dword_4F061D8 = v66;
  sub_6E3280(v6, &v267);
  return sub_6E26D0(2, v6);
}
