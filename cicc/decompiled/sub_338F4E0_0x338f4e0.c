// Function: sub_338F4E0
// Address: 0x338f4e0
//
void __fastcall sub_338F4E0(__int64 a1, __int64 a2)
{
  __int64 v2; // r15
  __int64 v3; // rax
  __int64 *v4; // rdi
  __int64 v5; // rdx
  __int64 v6; // rcx
  __int64 v7; // r8
  __int64 v8; // r9
  __int64 v9; // rax
  __int64 v10; // rdi
  unsigned __int64 v11; // rdx
  __int64 v12; // rax
  unsigned int v13; // r13d
  unsigned int v14; // esi
  __int64 (__fastcall *v15)(__int64, __int64, unsigned int); // rax
  unsigned __int16 v16; // r12
  int v17; // eax
  int v18; // edx
  __int64 v19; // rax
  __int64 v20; // r14
  __int64 v21; // rsi
  int v22; // r12d
  __int64 v23; // rdx
  __int64 v24; // rdx
  int v25; // r9d
  int v26; // edx
  int v27; // r13d
  __int64 v28; // rax
  __int64 v29; // rdx
  __int64 v30; // r8
  __int64 v31; // r9
  __int64 v32; // rbx
  __int64 *v33; // rax
  __int64 *v34; // rdx
  __int32 v35; // r14d
  __int64 *i; // rdx
  __int64 v37; // rbx
  char v38; // cl
  __int64 v39; // r10
  unsigned __int64 v40; // rax
  __int64 *v41; // rsi
  __int64 v42; // rax
  int v43; // edx
  int v44; // r10d
  char v45; // cl
  int v46; // r8d
  int v47; // r9d
  __int64 v48; // rsi
  __int64 v49; // rax
  int v50; // r9d
  __int64 v51; // rdx
  __int64 v52; // rdi
  __int64 v53; // rdx
  unsigned __int64 v54; // rax
  __int64 v55; // r12
  __int64 v56; // rcx
  __int64 v57; // rax
  __int64 v58; // rsi
  __int64 v59; // rdx
  __int64 v60; // r10
  __int64 v61; // r8
  unsigned int *v62; // rcx
  __int64 v63; // rdx
  __int64 v64; // r9
  int v65; // edx
  __int64 v66; // rax
  __int64 v67; // r11
  __int64 v68; // rsi
  __int64 v69; // rax
  __int64 v70; // rdx
  __int64 (*v71)(); // rax
  _WORD *v72; // rcx
  __int64 v73; // r12
  __int64 v74; // rax
  char v75; // r8
  unsigned int v76; // r10d
  __int64 (__fastcall *v77)(__int64, __int64, unsigned __int64, _QWORD, _QWORD, unsigned __int64 *, _BYTE **, unsigned __int64 *, _WORD *); // r14
  __int64 v78; // rax
  __int64 v79; // rsi
  unsigned __int64 v80; // r13
  __int64 v81; // r12
  __int64 v82; // rdx
  unsigned __int64 v83; // rbx
  __int64 v84; // r13
  unsigned __int64 v85; // rdi
  __int64 v86; // rdx
  unsigned int v87; // ebx
  unsigned __int64 v88; // rdi
  int v89; // edx
  __int64 v90; // rax
  __int64 v91; // r14
  unsigned __int64 v92; // r12
  __int64 v93; // r13
  __int64 v94; // rsi
  __int64 v95; // rax
  __int64 v96; // rdx
  __int64 v97; // rbx
  __int64 (__fastcall *v98)(__int64, __int64, unsigned int); // rax
  __int16 v99; // r12
  int v100; // eax
  __int64 (__fastcall *v101)(__int64, __int64, unsigned int); // rax
  int v102; // edx
  __int64 v103; // r8
  __int64 v104; // r9
  __int16 v105; // ax
  __int64 v106; // rax
  unsigned __int64 v107; // rdx
  unsigned __int64 v108; // rcx
  const __m128i *v109; // r12
  __m128i *v110; // rax
  __m128i v111; // xmm7
  __int64 v112; // r12
  __int64 (__fastcall *v113)(__int64, __int64, unsigned int); // rax
  int v114; // edx
  unsigned __int16 v115; // ax
  unsigned int v116; // ebx
  unsigned int v117; // eax
  _WORD *v118; // r8
  __int64 v119; // rax
  __int64 v120; // rdx
  __int64 v121; // r9
  unsigned __int64 v122; // rdx
  _QWORD *v123; // rax
  int v124; // edx
  __int64 (*v125)(); // rax
  _QWORD *v126; // rbx
  unsigned __int16 v127; // r12
  __int64 (__fastcall *v128)(__int64, __int64, __int64, __int64); // rax
  __int16 v129; // r14
  __int64 v130; // rax
  __int64 (__fastcall *v131)(__int64, __int64, __int64, __int64, unsigned __int64); // rax
  unsigned int v132; // r15d
  __int64 (__fastcall *v133)(_WORD *, __int64, __int64, __int64, unsigned __int64); // rax
  unsigned int v134; // r12d
  __int64 v135; // rbx
  __int64 (__fastcall *v136)(__int64, __int64, __int64, __int64, unsigned __int64); // rax
  unsigned __int64 v137; // r14
  __int64 v138; // r9
  __int64 *v139; // r14
  __m128i *v140; // r8
  __int64 *v141; // rax
  __m128i *v142; // rdx
  __int32 v143; // edx
  __m128i *v144; // rax
  unsigned __int64 v145; // r15
  __int64 v146; // rsi
  __int32 v147; // r15d
  __int64 v148; // r9
  __int64 v149; // rax
  unsigned __int8 v150; // cl
  unsigned __int8 v151; // al
  __int64 v152; // rdi
  unsigned __int8 v153; // dl
  __int64 v154; // rsi
  __int64 v155; // r10
  __int64 v156; // r8
  __int64 v157; // r12
  int v158; // eax
  __int64 v159; // r14
  unsigned __int64 v160; // r9
  __m128i *v161; // rbx
  unsigned __int64 v162; // rsi
  __int16 v163; // cx
  __int64 v164; // rcx
  unsigned __int64 v165; // rdx
  __m128i *v166; // rdx
  __m128i v167; // xmm2
  __m128i v168; // xmm0
  __int64 v169; // rdx
  __int8 *v170; // rbx
  _QWORD *v171; // rbx
  __int32 v172; // eax
  __int64 v173; // rdx
  __int64 (__fastcall *v174)(__int64, __int64, unsigned int, __int64); // rax
  __int64 v175; // rax
  unsigned __int64 v176; // rcx
  __int64 v177; // rdx
  unsigned __int64 v178; // r15
  __int8 v179; // cl
  __int64 v180; // rax
  __int64 v181; // rdx
  __int64 v182; // rdi
  unsigned __int64 v183; // rdx
  char v184; // al
  __int64 v185; // rdx
  unsigned __int64 v186; // rdx
  char *v187; // r12
  __int128 v188; // [rsp-10h] [rbp-570h]
  __int128 v189; // [rsp-10h] [rbp-570h]
  __int64 v190; // [rsp+0h] [rbp-560h]
  unsigned int v191; // [rsp+8h] [rbp-558h]
  unsigned __int8 v192; // [rsp+10h] [rbp-550h]
  int v193; // [rsp+18h] [rbp-548h]
  __int64 v194; // [rsp+20h] [rbp-540h]
  __int64 v195; // [rsp+28h] [rbp-538h]
  __int64 v196; // [rsp+38h] [rbp-528h]
  char v197; // [rsp+50h] [rbp-510h]
  unsigned __int64 v198; // [rsp+58h] [rbp-508h]
  __int64 v199; // [rsp+60h] [rbp-500h]
  int v200; // [rsp+60h] [rbp-500h]
  unsigned __int64 v201; // [rsp+60h] [rbp-500h]
  __int64 v202; // [rsp+68h] [rbp-4F8h]
  __int16 v203; // [rsp+68h] [rbp-4F8h]
  __int64 v204; // [rsp+68h] [rbp-4F8h]
  int v205; // [rsp+68h] [rbp-4F8h]
  unsigned __int8 v206; // [rsp+78h] [rbp-4E8h]
  int v207; // [rsp+78h] [rbp-4E8h]
  unsigned __int64 v209; // [rsp+88h] [rbp-4D8h]
  __int64 v210; // [rsp+88h] [rbp-4D8h]
  __m128i v211; // [rsp+90h] [rbp-4D0h] BYREF
  __int64 v212; // [rsp+A0h] [rbp-4C0h]
  __int64 v213; // [rsp+A8h] [rbp-4B8h]
  __int64 v214; // [rsp+B0h] [rbp-4B0h]
  __int64 v215; // [rsp+B8h] [rbp-4A8h]
  __int64 v216; // [rsp+C0h] [rbp-4A0h]
  __int64 v217; // [rsp+C8h] [rbp-498h]
  unsigned __int64 v218; // [rsp+D0h] [rbp-490h]
  __int64 v219; // [rsp+D8h] [rbp-488h]
  _WORD *v220; // [rsp+E0h] [rbp-480h]
  __int64 v221; // [rsp+E8h] [rbp-478h]
  __int64 v222; // [rsp+F0h] [rbp-470h]
  unsigned __int64 v223; // [rsp+F8h] [rbp-468h]
  __int64 v224; // [rsp+100h] [rbp-460h]
  unsigned __int64 v225; // [rsp+108h] [rbp-458h]
  __int64 v226; // [rsp+110h] [rbp-450h]
  __int64 v227; // [rsp+118h] [rbp-448h]
  __int64 v228; // [rsp+120h] [rbp-440h]
  __int64 v229; // [rsp+128h] [rbp-438h]
  __int64 v230; // [rsp+130h] [rbp-430h]
  __int64 v231; // [rsp+138h] [rbp-428h]
  __int64 v232; // [rsp+140h] [rbp-420h]
  __int64 v233; // [rsp+148h] [rbp-418h]
  unsigned __int16 v234; // [rsp+15Eh] [rbp-402h] BYREF
  __int64 v235; // [rsp+160h] [rbp-400h] BYREF
  int v236; // [rsp+168h] [rbp-3F8h]
  __m128i v237; // [rsp+170h] [rbp-3F0h] BYREF
  __int64 v238; // [rsp+180h] [rbp-3E0h]
  __int64 v239; // [rsp+190h] [rbp-3D0h] BYREF
  __int64 v240; // [rsp+198h] [rbp-3C8h]
  __int64 v241; // [rsp+1A0h] [rbp-3C0h]
  __int64 v242; // [rsp+1A8h] [rbp-3B8h]
  _BYTE *v243; // [rsp+1B0h] [rbp-3B0h] BYREF
  __int64 v244; // [rsp+1B8h] [rbp-3A8h]
  _BYTE v245[32]; // [rsp+1C0h] [rbp-3A0h] BYREF
  __m128i v246; // [rsp+1E0h] [rbp-380h] BYREF
  _WORD v247[8]; // [rsp+1F0h] [rbp-370h] BYREF
  __int64 v248; // [rsp+200h] [rbp-360h]
  char v249; // [rsp+208h] [rbp-358h]
  __int64 v250; // [rsp+20Ch] [rbp-354h]
  _BYTE *v251; // [rsp+230h] [rbp-330h] BYREF
  __int64 v252; // [rsp+238h] [rbp-328h]
  _BYTE v253[64]; // [rsp+240h] [rbp-320h] BYREF
  unsigned __int64 v254; // [rsp+280h] [rbp-2E0h] BYREF
  __int64 v255; // [rsp+288h] [rbp-2D8h]
  __int64 v256; // [rsp+290h] [rbp-2D0h] BYREF
  __int64 v257; // [rsp+298h] [rbp-2C8h]
  __int64 v258; // [rsp+2A0h] [rbp-2C0h]
  __int64 v259; // [rsp+2A8h] [rbp-2B8h]
  int v260; // [rsp+2B0h] [rbp-2B0h]
  _BYTE *v261; // [rsp+2D0h] [rbp-290h] BYREF
  __int64 v262; // [rsp+2D8h] [rbp-288h]
  _BYTE v263[128]; // [rsp+2E0h] [rbp-280h] BYREF
  unsigned __int64 v264; // [rsp+360h] [rbp-200h] BYREF
  __int64 v265; // [rsp+368h] [rbp-1F8h]
  _BYTE v266[496]; // [rsp+370h] [rbp-1F0h] BYREF

  v2 = a1;
  v3 = *(_QWORD *)(a1 + 864);
  v4 = *(__int64 **)(v3 + 40);
  v220 = *(_WORD **)(v3 + 16);
  v196 = sub_2E79000(v4);
  v9 = sub_3373A60(v2, a2, v5, v6, v7, v8);
  v10 = *(_QWORD *)(a2 + 40);
  v209 = v9;
  v215 = v9;
  v264 = (unsigned __int64)v266;
  v218 = v11;
  v265 = 0x800000000LL;
  v261 = v263;
  v262 = 0x800000000LL;
  if ( sub_AA4F10(v10) )
  {
    sub_3434410(v2);
    v85 = (unsigned __int64)v261;
    if ( v261 != v263 )
      goto LABEL_60;
    goto LABEL_61;
  }
  v12 = *(_QWORD *)(v2 + 960);
  v206 = *(_BYTE *)(v12 + 48);
  if ( !v206 )
  {
    v13 = *(_DWORD *)(v12 + 52);
    v14 = *(_DWORD *)(v196 + 4);
    v15 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int))(*(_QWORD *)v220 + 32LL);
    if ( v15 == sub_2D42F30 )
    {
      v16 = 2;
      v17 = sub_AE2980(v196, v14)[1];
      if ( v17 != 1 )
      {
        v16 = 3;
        if ( v17 != 2 )
        {
          v16 = 4;
          if ( v17 != 4 )
          {
            v16 = 5;
            if ( v17 != 8 )
            {
              v16 = 6;
              if ( v17 != 16 )
              {
                v16 = 7;
                if ( v17 != 32 )
                {
                  v16 = 8;
                  if ( v17 != 64 )
                    v16 = 9 * (v17 == 128);
                }
              }
            }
          }
        }
      }
    }
    else
    {
      v16 = v15((__int64)v220, v196, v14);
    }
    v18 = *(_DWORD *)(v2 + 848);
    v19 = *(_QWORD *)v2;
    v251 = 0;
    v20 = *(_QWORD *)(v2 + 864);
    LODWORD(v252) = v18;
    if ( v19 )
    {
      if ( &v251 != (_BYTE **)(v19 + 48) )
      {
        v21 = *(_QWORD *)(v19 + 48);
        v251 = (_BYTE *)v21;
        if ( v21 )
          sub_B96E90((__int64)&v251, v21, 1);
      }
    }
    v216 = v16;
    v22 = sub_33E5110(v20, v16, 0, 1, 0);
    v219 = v23;
    v254 = v209;
    v255 = v218;
    v256 = sub_33F0B60(v20, v13, (unsigned int)v216, 0);
    v257 = v24;
    *((_QWORD *)&v188 + 1) = 2;
    *(_QWORD *)&v188 = &v254;
    v207 = sub_3411630(v20, 50, (unsigned int)&v251, v22, v219, v25, v188);
    v27 = v26;
    if ( v251 )
      sub_B91220((__int64)&v251, (__int64)v251);
    v28 = sub_338B750(v2, *(_QWORD *)(a2 - 32LL * (*(_DWORD *)(a2 + 4) & 0x7FFFFFF)));
    v246.m128i_i64[1] = 0x400000000LL;
    v211.m128i_i64[0] = v28;
    v246.m128i_i64[0] = (__int64)v247;
    v251 = v253;
    v243 = v245;
    LODWORD(v28) = *(_DWORD *)(a2 + 4);
    v219 = v29;
    v252 = 0x400000000LL;
    v244 = 0x400000000LL;
    sub_34B8FD0(
      (_DWORD)v220,
      v196,
      *(_QWORD *)(*(_QWORD *)(a2 - 32 * (v28 & 0x7FFFFFF)) + 8LL),
      (unsigned int)&v246,
      (unsigned int)&v251,
      (unsigned int)&v243,
      0);
    v32 = v246.m128i_u32[2];
    v33 = &v256;
    v34 = &v256;
    v254 = (unsigned __int64)&v256;
    v35 = v246.m128i_i32[2];
    v255 = 0x400000000LL;
    if ( v246.m128i_i32[2] )
    {
      if ( v246.m128i_u32[2] > 4uLL )
      {
        sub_C8D5F0((__int64)&v254, &v256, v246.m128i_u32[2], 0x10u, v30, v31);
        v34 = (__int64 *)v254;
        v33 = (__int64 *)(v254 + 16LL * (unsigned int)v255);
      }
      for ( i = &v34[2 * v32]; i != v33; v33 += 2 )
      {
        if ( v33 )
        {
          *v33 = 0;
          *((_DWORD *)v33 + 2) = 0;
        }
      }
      LODWORD(v255) = v35;
      v199 = 8 * v32;
      v37 = 0;
      v202 = 1LL << sub_AE5260(v196, *(_QWORD *)(*(_QWORD *)(a2 - 32LL * (*(_DWORD *)(a2 + 4) & 0x7FFFFFF)) + 8LL));
      do
      {
        v55 = *(_QWORD *)(v2 + 864);
        v56 = *(_QWORD *)&v243[v37];
        v57 = *(_QWORD *)v2;
        v236 = *(_DWORD *)(v2 + 848);
        v235 = 0;
        if ( v57 )
        {
          if ( &v235 != (__int64 *)(v57 + 48) )
          {
            v58 = *(_QWORD *)(v57 + 48);
            v235 = v58;
            if ( v58 )
            {
              v216 = v56;
              sub_B96E90((__int64)&v235, v58, 1);
              v56 = v216;
            }
          }
        }
        LOBYTE(v240) = 0;
        v239 = v56;
        v216 = sub_3409320(v55, v207, v27, v56, v240, (unsigned int)&v235, 1);
        v217 = v59;
        if ( v235 )
          sub_B91220((__int64)&v235, v235);
        v60 = (unsigned int)v219;
        v61 = v211.m128i_i64[0];
        v62 = (unsigned int *)&v251[2 * v37];
        v63 = 2 * v37 + v246.m128i_i64[0];
        v64 = (unsigned int)v219;
        if ( *(_WORD *)v63 != *(_WORD *)v62 || !*(_WORD *)v62 && *((_QWORD *)v62 + 1) != *(_QWORD *)(v63 + 8) )
        {
          v65 = *(_DWORD *)(v2 + 848);
          v66 = *(_QWORD *)v2;
          v239 = 0;
          v67 = *(_QWORD *)(v2 + 864);
          LODWORD(v240) = v65;
          if ( v66 )
          {
            if ( &v239 != (__int64 *)(v66 + 48) )
            {
              v68 = *(_QWORD *)(v66 + 48);
              v239 = v68;
              if ( v68 )
              {
                v213 = (unsigned int)v219;
                v214 = (__int64)&v251[2 * v37];
                v215 = v67;
                sub_B96E90((__int64)&v239, v68, 1);
                v60 = (unsigned int)v219;
                v62 = (unsigned int *)v214;
                v67 = v215;
              }
            }
          }
          v69 = sub_33FB4C0(v67, v211.m128i_i64[0], v60, &v239, *v62, *((_QWORD *)v62 + 1));
          v232 = v69;
          v61 = v69;
          v233 = v70;
          v64 = (unsigned int)v70;
          if ( v239 )
          {
            v214 = (unsigned int)v70;
            v215 = v69;
            sub_B91220((__int64)&v239, v239);
            v64 = v214;
            v61 = v215;
          }
        }
        v38 = -1;
        v239 = 0;
        v39 = *(_QWORD *)(v2 + 864);
        v240 = 0;
        v241 = 0;
        v242 = 0;
        v40 = (*(_QWORD *)&v243[v37] | v202) & -(*(_QWORD *)&v243[v37] | v202);
        if ( v40 )
        {
          _BitScanReverse64(&v40, v40);
          v38 = 63 - (v40 ^ 0x3F);
        }
        v41 = *(__int64 **)(v39 + 40);
        v212 = v64;
        v213 = v61;
        LOBYTE(v214) = v38;
        v215 = v39;
        sub_2EAC3A0((__int64)&v237, v41);
        v42 = *(_QWORD *)v2;
        v43 = *(_DWORD *)(v2 + 848);
        v235 = 0;
        v44 = v215;
        v45 = v214;
        v236 = v43;
        v46 = v213;
        v47 = v212;
        if ( v42 )
        {
          if ( &v235 != (__int64 *)(v42 + 48) )
          {
            v48 = *(_QWORD *)(v42 + 48);
            v235 = v48;
            if ( v48 )
            {
              sub_B96E90((__int64)&v235, v48, 1);
              v47 = v212;
              v46 = v213;
              v45 = v214;
              v44 = v215;
            }
          }
        }
        v49 = sub_33F4560(
                v44,
                v209,
                v218,
                (unsigned int)&v235,
                v46,
                v47,
                v216,
                v217,
                *(_OWORD *)&v237,
                v238,
                v45,
                0,
                (__int64)&v239);
        v52 = v51;
        v53 = v49;
        v54 = v254;
        v230 = v53;
        v231 = v52;
        *(_QWORD *)(v254 + 2 * v37) = v53;
        *(_DWORD *)(v54 + 2 * v37 + 8) = v231;
        if ( v235 )
          sub_B91220((__int64)&v235, v235);
        LODWORD(v219) = v219 + 1;
        v37 += 8;
      }
      while ( v37 != v199 );
    }
    else
    {
      sub_AE5260(v196, *(_QWORD *)(*(_QWORD *)(a2 - 32LL * (*(_DWORD *)(a2 + 4) & 0x7FFFFFF)) + 8LL));
    }
    v89 = *(_DWORD *)(v2 + 848);
    v90 = *(_QWORD *)v2;
    v239 = 0;
    v91 = *(_QWORD *)(v2 + 864);
    v92 = v254;
    LODWORD(v240) = v89;
    v93 = (unsigned int)v255;
    if ( v90 )
    {
      if ( &v239 != (__int64 *)(v90 + 48) )
      {
        v94 = *(_QWORD *)(v90 + 48);
        v239 = v94;
        if ( v94 )
          sub_B96E90((__int64)&v239, v94, 1);
      }
    }
    *((_QWORD *)&v189 + 1) = v93;
    *(_QWORD *)&v189 = v92;
    v95 = sub_33FC220(v91, 2, (unsigned int)&v239, 1, 0, v50, v189);
    v229 = v96;
    v228 = v95;
    v218 = (unsigned int)v96 | v218 & 0xFFFFFFFF00000000LL;
    v215 = v95;
    if ( v239 )
      sub_B91220((__int64)&v239, v239);
    if ( (__int64 *)v254 != &v256 )
      _libc_free(v254);
    if ( v243 != v245 )
      _libc_free((unsigned __int64)v243);
    if ( v251 != v253 )
      _libc_free((unsigned __int64)v251);
    v88 = v246.m128i_i64[0];
    if ( (_WORD *)v246.m128i_i64[0] != v247 )
      goto LABEL_68;
    goto LABEL_50;
  }
  LODWORD(v219) = *(_DWORD *)(a2 + 4);
  if ( (v219 & 0x7FFFFFF) == 0 )
    goto LABEL_50;
  v251 = v253;
  v252 = 0x400000000LL;
  v86 = *(_QWORD *)(*(_QWORD *)(a2 - 32 * (v219 & 0x7FFFFFF)) + 8LL);
  LOBYTE(v255) = 0;
  v254 = 0;
  sub_34B8C80((_DWORD)v220, v196, v86, (unsigned int)&v251, 0, 0, __PAIR128__(v255, 0));
  v87 = v252;
  if ( !(_DWORD)v252 )
    goto LABEL_67;
  v197 = 0;
  v194 = sub_338B750(v2, *(_QWORD *)(a2 - 32LL * (*(_DWORD *)(a2 + 4) & 0x7FFFFFF)));
  v193 = v124;
  v210 = *(_QWORD *)(*(_QWORD *)(a2 + 40) + 72LL);
  v125 = *(__int64 (**)())(*(_QWORD *)v220 + 2368LL);
  if ( v125 != sub_302E240 )
  {
    LOWORD(v219) = *(_WORD *)(v210 + 2);
    v197 = ((__int64 (__fastcall *)(_WORD *, _QWORD, _QWORD, _QWORD, __int64))v125)(
             v220,
             *(_QWORD *)(*(_QWORD *)(a2 - 32LL * (*(_DWORD *)(a2 + 4) & 0x7FFFFFF)) + 8LL),
             ((unsigned __int16)v219 >> 4) & 0x3FF,
             0,
             v196);
  }
  v254 = *(_QWORD *)(v210 + 120);
  LODWORD(v216) = 213;
  if ( !(unsigned __int8)sub_A74710(&v254, 0, 54) )
  {
    v254 = *(_QWORD *)(v210 + 120);
    LODWORD(v216) = ((unsigned __int8)sub_A74710(&v254, 0, 79) == 0) + 214;
  }
  v212 = sub_B2BE50(v210);
  v254 = *(_QWORD *)(v210 + 120);
  v219 = 0;
  v192 = sub_A74710(&v254, 0, 15);
  v213 = v2;
  v191 = v87 - 1;
  v195 = v87;
  do
  {
    LODWORD(v214) = v219;
    v237 = _mm_loadu_si128((const __m128i *)&v251[16 * v219]);
    v126 = *(_QWORD **)v220;
    if ( (_DWORD)v216 != 215 )
    {
      v127 = v237.m128i_i16[0];
      if ( v237.m128i_i16[0] )
      {
        if ( (unsigned __int16)(v237.m128i_i16[0] - 2) > 7u
          && (unsigned __int16)(v237.m128i_i16[0] - 17) > 0x6Cu
          && (unsigned __int16)(v237.m128i_i16[0] - 176) > 0x1Fu )
        {
          goto LABEL_135;
        }
      }
      else if ( !sub_3007070((__int64)&v237) )
      {
        goto LABEL_135;
      }
      v128 = (__int64 (__fastcall *)(__int64, __int64, __int64, __int64))v126[295];
      if ( v128 == sub_2FE53A0 )
      {
        v246 = _mm_load_si128(&v237);
        v129 = v220[1433];
        if ( v127 == v129 )
        {
          v130 = v246.m128i_i64[1];
          if ( v127 || !v246.m128i_i64[1] )
            goto LABEL_133;
          v255 = 0;
          LOWORD(v254) = 0;
        }
        else
        {
          LOWORD(v254) = v220[1433];
          v255 = 0;
          if ( v129 )
          {
            v243 = (_BYTE *)sub_3368600(&v254);
            v244 = v185;
            goto LABEL_192;
          }
        }
        v243 = (_BYTE *)sub_3007260((__int64)&v254);
        v244 = v177;
LABEL_192:
        v178 = (unsigned __int64)v243;
        v179 = v244;
        if ( v127 )
        {
          if ( v127 == 1 || (unsigned __int16)(v127 - 504) <= 7u )
            BUG();
          v183 = *(_QWORD *)&byte_444C4A0[16 * v127 - 16];
          v184 = byte_444C4A0[16 * v127 - 8];
        }
        else
        {
          v211.m128i_i8[0] = v244;
          v180 = sub_3007260((__int64)&v246);
          v179 = v211.m128i_i8[0];
          v182 = v181;
          v239 = v180;
          v183 = v180;
          v240 = v182;
          v184 = v182;
        }
        if ( (!v184 || v179) && v178 > v183 )
        {
          v130 = 0;
          goto LABEL_134;
        }
        v130 = v246.m128i_i64[1];
LABEL_133:
        v129 = v127;
LABEL_134:
        v237.m128i_i16[0] = v129;
        v237.m128i_i64[1] = v130;
        goto LABEL_135;
      }
      v171 = v220;
      v172 = ((__int64 (__fastcall *)(_WORD *, __int64, _QWORD, __int64, _QWORD))v128)(
               v220,
               v212,
               v237.m128i_u32[0],
               v237.m128i_i64[1],
               (unsigned int)v216);
      v126 = (_QWORD *)*v171;
      v237.m128i_i32[0] = v172;
      v237.m128i_i64[1] = v173;
    }
LABEL_135:
    v211.m128i_i16[0] = *(_WORD *)(v210 + 2);
    v131 = (__int64 (__fastcall *)(__int64, __int64, __int64, __int64, unsigned __int64))v126[94];
    v132 = ((unsigned __int16)v211.m128i_i16[0] >> 4) & 0x3FF;
    if ( v131 == sub_2FEA530 )
    {
      v133 = (__int64 (__fastcall *)(_WORD *, __int64, __int64, __int64, unsigned __int64))v126[92];
      BYTE2(v254) = 0;
      v134 = v133(v220, v212, v237.m128i_i64[0], v237.m128i_i64[1], v254);
    }
    else
    {
      v134 = v131(
               (__int64)v220,
               v212,
               ((unsigned __int16)v211.m128i_i16[0] >> 4) & 0x3FF,
               v237.m128i_u32[0],
               v237.m128i_u64[1]);
    }
    v135 = *(_QWORD *)v220;
    v136 = *(__int64 (__fastcall **)(__int64, __int64, __int64, __int64, unsigned __int64))(*(_QWORD *)v220 + 744LL);
    if ( v136 == sub_2FE9BB0 )
    {
      v137 = v237.m128i_u64[1];
      v246.m128i_i16[0] = v237.m128i_i16[0];
      v246.m128i_i64[1] = v237.m128i_i64[1];
      if ( v237.m128i_i16[0] )
      {
        v138 = (unsigned __int16)v220[v237.m128i_u16[0] + 1426];
      }
      else if ( sub_30070B0((__int64)&v246) )
      {
        LOWORD(v254) = 0;
        v234 = 0;
        v255 = 0;
        sub_2FE8D10((__int64)v220, v212, v246.m128i_u32[0], v137, (__int64 *)&v254, (unsigned int *)&v235, &v234);
        v138 = v234;
      }
      else
      {
        if ( !sub_3007070((__int64)&v246) )
          BUG();
        v174 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int, __int64))(v135 + 592);
        if ( v174 == sub_2D56A50 )
        {
          sub_2FE6CC0((__int64)&v254, (__int64)v220, v212, v246.m128i_i64[0], v246.m128i_i64[1]);
          v175 = v190;
          LOWORD(v175) = v255;
          v176 = v256;
          v190 = v175;
        }
        else
        {
          v190 = v174((__int64)v220, v212, v246.m128i_u32[0], v137);
          v176 = v186;
        }
        v138 = (unsigned int)sub_2FE98B0((__int64)v220, v212, (unsigned int)v190, v176);
      }
    }
    else
    {
      v138 = (unsigned int)v136((__int64)v220, v212, v132, v237.m128i_u32[0], v237.m128i_u64[1]);
    }
    v139 = &v256;
    v254 = (unsigned __int64)&v256;
    v140 = (__m128i *)&v256;
    v255 = 0x400000000LL;
    if ( v134 )
    {
      v141 = &v256;
      if ( v134 > 4uLL )
      {
        v211.m128i_i32[0] = v138;
        sub_C8D5F0((__int64)&v254, &v256, v134, 0x10u, (__int64)&v256, v138);
        v140 = (__m128i *)v254;
        LOWORD(v138) = v211.m128i_i16[0];
        v141 = (__int64 *)(v254 + 16LL * (unsigned int)v255);
      }
      v142 = &v140[v134];
      if ( v142 != (__m128i *)v141 )
      {
        do
        {
          if ( v141 )
          {
            *v141 = 0;
            *((_DWORD *)v141 + 2) = 0;
          }
          v141 += 2;
        }
        while ( v142 != (__m128i *)v141 );
        v140 = (__m128i *)v254;
      }
      LODWORD(v255) = v134;
    }
    LODWORD(v235) = v132;
    BYTE4(v235) = 1;
    v143 = *(_DWORD *)(v213 + 848);
    v144 = *(__m128i **)v213;
    v246.m128i_i64[0] = 0;
    v145 = (unsigned int)(v193 + v214);
    v246.m128i_i32[2] = v143;
    if ( v144 )
    {
      if ( &v246 != &v144[3] )
      {
        v146 = v144[3].m128i_i64[0];
        v246.m128i_i64[0] = v146;
        if ( v146 )
        {
          v203 = v138;
          v211.m128i_i64[0] = (__int64)v140;
          sub_B96E90((__int64)&v246, v146, 1);
          LOWORD(v138) = v203;
          v140 = (__m128i *)v211.m128i_i64[0];
        }
      }
    }
    sub_33695F0(*(_QWORD *)(v213 + 864), (__int64)&v246, v194, v145, v140, v134, v138, (_BYTE *)a2, v235, v216);
    if ( v246.m128i_i64[0] )
      sub_B91220((__int64)&v246, v246.m128i_i64[0]);
    v147 = 0;
    v148 = 0;
    v149 = *(_QWORD *)(*(_QWORD *)(a2 - 32LL * (*(_DWORD *)(a2 + 4) & 0x7FFFFFF)) + 8LL);
    if ( *(_BYTE *)(v149 + 8) == 14 )
    {
      v148 = v206;
      v147 = *(_DWORD *)(v149 + 8) >> 8;
    }
    v150 = 0;
    if ( v197 )
      v150 = (_DWORD)v214 == v191;
    if ( (_DWORD)v216 == 213 )
    {
      v152 = v206;
      v154 = 0;
      v153 = 0;
    }
    else if ( (_DWORD)v216 == 214 )
    {
      v153 = v206;
      v154 = 0;
      v152 = 0;
    }
    else
    {
      v211.m128i_i8[0] = v150;
      LOBYTE(v214) = v148;
      v246.m128i_i64[0] = *(_QWORD *)(v210 + 120);
      v151 = sub_A74710(&v246, 0, 28);
      v150 = v211.m128i_i8[0];
      v152 = 0;
      v153 = 0;
      v148 = (unsigned __int8)v214;
      v154 = v151;
    }
    if ( v134 )
    {
      v155 = 16LL * v134;
      v156 = v237.m128i_i64[1];
      v157 = 0;
      v158 = v237.m128i_u16[0];
      v214 = (__int64)&v256;
      v159 = v155;
      v160 = (((unsigned __int64)(v197 != 0) << 32)
            | ((unsigned __int64)v150 << 31)
            | (4 * v154)
            | v153
            | (unsigned __int64)(2 * v152)
            | (8LL * v192)
            | (v148 << 34))
           & 0x7FFFFFFFFLL;
      do
      {
        v161 = &v246;
        v162 = v264;
        v163 = *(_WORD *)(*(_QWORD *)(*(_QWORD *)(v157 + v254) + 48LL) + 16LL * *(unsigned int *)(v157 + v254 + 8));
        v246.m128i_i32[2] = 0;
        v246.m128i_i32[3] = v147;
        v247[0] = v163;
        v164 = (unsigned int)v265;
        v249 = 1;
        v246.m128i_i64[0] = v160 | v246.m128i_i64[0] & 0xFFFFFFF800000000LL;
        v165 = (unsigned int)v265 + 1LL;
        v250 = 0;
        v247[4] = v158;
        v248 = v156;
        if ( v165 > HIDWORD(v265) )
        {
          v201 = v160;
          v205 = v158;
          v211.m128i_i64[0] = v156;
          if ( v264 > (unsigned __int64)&v246 || (unsigned __int64)&v246 >= v264 + 56LL * (unsigned int)v265 )
          {
            v161 = &v246;
            sub_C8D5F0((__int64)&v264, v266, v165, 0x38u, v156, v160);
            v162 = v264;
            v164 = (unsigned int)v265;
            v160 = v201;
            v158 = v205;
            v156 = v211.m128i_i64[0];
          }
          else
          {
            v170 = &v246.m128i_i8[-v264];
            sub_C8D5F0((__int64)&v264, v266, v165, 0x38u, v156, v160);
            v162 = v264;
            v164 = (unsigned int)v265;
            v156 = v211.m128i_i64[0];
            v158 = v205;
            v160 = v201;
            v161 = (__m128i *)&v170[v264];
          }
        }
        v166 = (__m128i *)(v162 + 56 * v164);
        *v166 = _mm_loadu_si128(v161);
        v167 = _mm_loadu_si128(v161 + 1);
        LODWORD(v265) = v265 + 1;
        v166[1] = v167;
        v166[2] = _mm_loadu_si128(v161 + 2);
        v166[3].m128i_i64[0] = v161[3].m128i_i64[0];
        v168 = _mm_loadu_si128((const __m128i *)(v254 + v157));
        v169 = (unsigned int)v262;
        if ( (unsigned __int64)(unsigned int)v262 + 1 > HIDWORD(v262) )
        {
          v198 = v160;
          v200 = v158;
          v204 = v156;
          v211 = v168;
          sub_C8D5F0((__int64)&v261, v263, (unsigned int)v262 + 1LL, 0x10u, v156, v160);
          v169 = (unsigned int)v262;
          v160 = v198;
          v158 = v200;
          v156 = v204;
          v168 = _mm_load_si128(&v211);
        }
        v157 += 16;
        *(__m128i *)&v261[16 * v169] = v168;
        LODWORD(v262) = v262 + 1;
      }
      while ( v159 != v157 );
      v139 = (__int64 *)v214;
    }
    if ( (__int64 *)v254 != v139 )
      _libc_free(v254);
    ++v219;
  }
  while ( v195 != v219 );
  v2 = v213;
LABEL_67:
  v88 = (unsigned __int64)v251;
  if ( v251 != v253 )
LABEL_68:
    _libc_free(v88);
LABEL_50:
  v71 = *(__int64 (**)())(*(_QWORD *)v220 + 2216LL);
  if ( v71 != sub_302E1B0 )
  {
    v97 = *(_QWORD *)(*(_QWORD *)(a2 + 40) + 72LL);
    if ( ((unsigned __int8 (__fastcall *)(_WORD *))v71)(v220) )
    {
      v254 = *(_QWORD *)(v97 + 120);
      if ( (unsigned __int8)sub_A74390((__int64 *)&v254, 74, 0) )
      {
        v98 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int))(*(_QWORD *)v220 + 32LL);
        if ( v98 == sub_2D42F30 )
        {
          v99 = 2;
          v100 = sub_AE2980(v196, 0)[1];
          if ( v100 != 1 )
          {
            v99 = 3;
            if ( v100 != 2 )
            {
              v99 = 4;
              if ( v100 != 4 )
              {
                v99 = 5;
                if ( v100 != 8 )
                {
                  v99 = 6;
                  if ( v100 != 16 )
                  {
                    v99 = 7;
                    if ( v100 != 32 )
                    {
                      v99 = 8;
                      if ( v100 != 64 )
                        v99 = 9 * (v100 == 128);
                    }
                  }
                }
              }
            }
          }
        }
        else
        {
          v99 = v98((__int64)v220, v196, 0);
        }
        v101 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int))(*(_QWORD *)v220 + 32LL);
        if ( v101 == sub_2D42F30 )
        {
          v102 = sub_AE2980(v196, 0)[1];
          v105 = 2;
          if ( v102 != 1 )
          {
            v105 = 3;
            if ( v102 != 2 )
            {
              v105 = 4;
              if ( v102 != 4 )
              {
                v105 = 5;
                if ( v102 != 8 )
                {
                  v105 = 6;
                  if ( v102 != 16 )
                  {
                    v105 = 7;
                    if ( v102 != 32 )
                    {
                      v105 = 8;
                      if ( v102 != 64 )
                        v105 = 9 * (v102 == 128);
                    }
                  }
                }
              }
            }
          }
        }
        else
        {
          v105 = v101((__int64)v220, v196, 0);
        }
        LOWORD(v256) = v105;
        v106 = (unsigned int)v265;
        LOWORD(v257) = v99;
        v107 = (unsigned int)v265 + 1LL;
        v259 = 0x100000001LL;
        v108 = v264;
        v254 = 0x8000;
        v109 = (const __m128i *)&v254;
        v255 = 0;
        v260 = 0;
        v258 = 0;
        if ( v107 > HIDWORD(v265) )
        {
          if ( v264 > (unsigned __int64)&v254 || (unsigned __int64)&v254 >= v264 + 56LL * (unsigned int)v265 )
          {
            sub_C8D5F0((__int64)&v264, v266, v107, 0x38u, v103, v104);
            v108 = v264;
            v106 = (unsigned int)v265;
            v109 = (const __m128i *)&v254;
          }
          else
          {
            v187 = (char *)&v254 - v264;
            sub_C8D5F0((__int64)&v264, v266, v107, 0x38u, v103, v104);
            v108 = v264;
            v106 = (unsigned int)v265;
            v109 = (const __m128i *)&v187[v264];
          }
        }
        v110 = (__m128i *)(v108 + 56 * v106);
        *v110 = _mm_loadu_si128(v109);
        v111 = _mm_loadu_si128(v109 + 1);
        LODWORD(v265) = v265 + 1;
        v110[1] = v111;
        v110[2] = _mm_loadu_si128(v109 + 2);
        v110[3].m128i_i64[0] = v109[3].m128i_i64[0];
        v112 = *(_QWORD *)(v2 + 864);
        v113 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int))(*(_QWORD *)v220 + 32LL);
        if ( v113 == sub_2D42F30 )
        {
          v114 = sub_AE2980(v196, 0)[1];
          v115 = 2;
          if ( v114 != 1 )
          {
            v115 = 3;
            if ( v114 != 2 )
            {
              v115 = 4;
              if ( v114 != 4 )
              {
                v115 = 5;
                if ( v114 != 8 )
                {
                  v115 = 6;
                  if ( v114 != 16 )
                  {
                    v115 = 7;
                    if ( v114 != 32 )
                    {
                      v115 = 8;
                      if ( v114 != 64 )
                        v115 = 9 * (v114 == 128);
                    }
                  }
                }
              }
            }
          }
        }
        else
        {
          v115 = v113((__int64)v220, v196, 0);
        }
        v116 = v115;
        v117 = sub_35D5F90(
                 *(_QWORD *)(v2 + 968),
                 a2,
                 *(_QWORD *)(*(_QWORD *)(v2 + 960) + 744LL),
                 *(_QWORD *)(*(_QWORD *)(v2 + 968) + 128LL));
        v118 = (_WORD *)sub_33F0B60(v112, v117, v116, 0);
        v119 = (unsigned int)v262;
        v121 = v120;
        v122 = (unsigned int)v262 + 1LL;
        if ( v122 > HIDWORD(v262) )
        {
          v220 = v118;
          v221 = v121;
          sub_C8D5F0((__int64)&v261, v263, v122, 0x10u, (__int64)v118, v121);
          v119 = (unsigned int)v262;
          v118 = v220;
          v121 = v221;
        }
        v123 = &v261[16 * v119];
        *v123 = v118;
        v123[1] = v121;
        LODWORD(v262) = v262 + 1;
      }
    }
  }
  v72 = *(_WORD **)(v2 + 864);
  v73 = *((_QWORD *)v72 + 2);
  v74 = **((_QWORD **)v72 + 5);
  v75 = *(_DWORD *)(*(_QWORD *)(v74 + 24) + 8LL) >> 8 != 0;
  v76 = (*(_WORD *)(v74 + 2) >> 4) & 0x3FF;
  v77 = *(__int64 (__fastcall **)(__int64, __int64, unsigned __int64, _QWORD, _QWORD, unsigned __int64 *, _BYTE **, unsigned __int64 *, _WORD *))(*(_QWORD *)v73 + 2328LL);
  v78 = *(_QWORD *)v2;
  LODWORD(v255) = *(_DWORD *)(v2 + 848);
  v254 = 0;
  if ( v78 )
  {
    if ( &v254 != (unsigned __int64 *)(v78 + 48) )
    {
      v79 = *(_QWORD *)(v78 + 48);
      v254 = v79;
      if ( v79 )
      {
        LOBYTE(v216) = v75;
        LODWORD(v219) = v76;
        v220 = v72;
        sub_B96E90((__int64)&v254, v79, 1);
        v75 = v216;
        v76 = v219;
        v72 = v220;
      }
    }
  }
  v80 = v218;
  v226 = v77(v73, v215, v218, v76, v75 & 1, &v264, &v261, &v254, v72);
  v81 = v226;
  v227 = v82;
  v83 = (unsigned int)v82 | v80 & 0xFFFFFFFF00000000LL;
  if ( v254 )
    sub_B91220((__int64)&v254, v254);
  v84 = *(_QWORD *)(v2 + 864);
  if ( v81 )
  {
    nullsub_1875(v81, *(_QWORD *)(v2 + 864), 0);
    v225 = v83;
    v224 = v81;
    *(_QWORD *)(v84 + 384) = v81;
    *(_DWORD *)(v84 + 392) = v225;
    sub_33E2B60(v84, 0);
  }
  else
  {
    v223 = v83;
    v222 = 0;
    *(_QWORD *)(v84 + 384) = 0;
    *(_DWORD *)(v84 + 392) = v223;
  }
  v85 = (unsigned __int64)v261;
  if ( v261 != v263 )
LABEL_60:
    _libc_free(v85);
LABEL_61:
  if ( (_BYTE *)v264 != v266 )
    _libc_free(v264);
}
