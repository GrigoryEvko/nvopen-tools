// Function: sub_372E050
// Address: 0x372e050
//
void __fastcall sub_372E050(__int64 a1, _QWORD *a2, __int64 a3, __int64 a4)
{
  __int64 v4; // rax
  __int64 (*v5)(); // rax
  int v6; // eax
  __int64 v7; // r8
  const __m128i *v8; // rax
  const __m128i *v9; // r14
  __int16 v10; // ax
  __int64 v11; // r12
  __int64 v12; // rax
  unsigned __int8 v13; // dl
  __int64 v14; // rdx
  int *v15; // rdi
  __int64 v16; // rax
  __int64 v17; // r12
  __int64 v18; // rax
  unsigned __int8 v19; // dl
  __int64 v20; // rdx
  const __m128i *v21; // rbx
  __int64 *v22; // r12
  unsigned int v23; // esi
  __int64 v24; // r14
  int v25; // edx
  unsigned int v26; // eax
  __int64 v27; // r9
  _DWORD *v28; // rdi
  size_t v29; // rdx
  __int64 v30; // rax
  unsigned __int64 v31; // r15
  unsigned int *v32; // r13
  __int64 *v33; // rbx
  unsigned int *v34; // r12
  __int64 v35; // r15
  _QWORD *v36; // rax
  unsigned int v37; // esi
  __int64 v38; // r10
  __int64 v39; // rcx
  __int64 v40; // rdx
  __int64 v41; // rdx
  unsigned __int64 v42; // r9
  __int32 v43; // eax
  char v44; // al
  char *v45; // rax
  __int64 v46; // rdx
  char *v47; // r13
  char *v48; // r15
  __int64 v49; // rbx
  _QWORD *v50; // rax
  unsigned int v51; // esi
  __int64 v52; // r10
  __int64 v53; // rcx
  __int64 v54; // rdx
  __int64 *v55; // rax
  __int64 v56; // r13
  int *v57; // rax
  int *v58; // rsi
  __int64 v59; // rax
  __int64 *v60; // rax
  __int64 v61; // rbx
  _QWORD *v62; // r14
  unsigned __int64 v63; // rbx
  __int64 v64; // r12
  __int64 v65; // r8
  __int64 v66; // r9
  char v67; // r12
  __int64 v68; // r8
  __int64 v69; // rbx
  __int64 v70; // r13
  unsigned int v71; // r14d
  __int64 *v72; // r10
  int v73; // esi
  int v74; // r9d
  __int64 v75; // r8
  unsigned int v76; // eax
  __int64 *v77; // rdx
  int v78; // edi
  int *v79; // rax
  __int64 v80; // rcx
  int *v81; // rsi
  char v82; // dl
  __m128i *v83; // r12
  __int64 *v84; // rbx
  __int64 *v85; // r13
  __int64 v86; // rax
  __int64 v87; // rax
  __int64 *v88; // r13
  int *v89; // rax
  __int64 v90; // rcx
  int *v91; // r13
  int *v92; // r12
  int *v93; // r14
  unsigned __int64 v94; // rax
  _QWORD *v95; // rdi
  __int64 v96; // rsi
  _QWORD *v97; // rdx
  __int64 v98; // rax
  unsigned __int64 v99; // rdx
  __int64 v100; // rax
  __int64 v101; // r14
  __int64 v102; // rbx
  char v103; // r11
  int v104; // r12d
  __int64 *v105; // r8
  int v106; // eax
  unsigned int v107; // esi
  __int64 *v108; // rdi
  int v109; // r9d
  char v110; // al
  _BYTE *v111; // rdx
  unsigned int v112; // eax
  unsigned int v113; // esi
  __int64 *v114; // rdx
  unsigned int v115; // edi
  unsigned int v116; // r8d
  int *v117; // r13
  int *v118; // rbx
  int *v119; // rdx
  bool v120; // al
  int *v121; // rsi
  __int64 v122; // rdi
  int *v123; // rdi
  int *v124; // rax
  __int64 v125; // r15
  int v126; // r10d
  _QWORD *v127; // rax
  __int64 v128; // r9
  __int64 v129; // rcx
  __int64 v130; // rdx
  __int64 *v131; // rbx
  __int64 v132; // rax
  __int64 *v133; // r9
  int v134; // ecx
  __int64 v135; // rax
  int v136; // r8d
  int v137; // edi
  __int64 *v138; // rsi
  __int64 *v139; // r9
  int v140; // ecx
  __int64 v141; // rax
  int v142; // r8d
  int v143; // edi
  const __m128i *v144; // r15
  __int64 v145; // r14
  unsigned __int64 v146; // rdx
  unsigned __int64 v147; // rcx
  __int64 i; // rcx
  __int64 v149; // r12
  const __m128i *v150; // r13
  __int64 v151; // rax
  __int64 v152; // rax
  const __m128i *v153; // r14
  const __m128i *v154; // r15
  __int64 v155; // r13
  __int64 v156; // r12
  __int64 v157; // rax
  __int64 v158; // r12
  __int64 v159; // r13
  __int64 v160; // rbx
  _QWORD *v161; // rax
  __int64 v162; // rbx
  _QWORD *v163; // rax
  _DWORD *v164; // rax
  __int64 v165; // r9
  __int32 v166; // edx
  __int64 *v167; // r12
  _QWORD *v168; // rax
  __int64 v169; // rcx
  __int64 v170; // rdx
  __int64 v171; // rax
  __int64 v172; // rax
  __int64 v173; // rdx
  char v174; // di
  __int64 v175; // rax
  const __m128i *v179; // [rsp+18h] [rbp-238h]
  int v180; // [rsp+24h] [rbp-22Ch]
  const __m128i *v181; // [rsp+30h] [rbp-220h]
  const __m128i *v182; // [rsp+50h] [rbp-200h]
  const __m128i *v183; // [rsp+68h] [rbp-1E8h]
  __m128i v184; // [rsp+78h] [rbp-1D8h]
  int v185; // [rsp+88h] [rbp-1C8h]
  int v186; // [rsp+88h] [rbp-1C8h]
  _DWORD *v187; // [rsp+88h] [rbp-1C8h]
  const __m128i *v188; // [rsp+88h] [rbp-1C8h]
  unsigned int v189; // [rsp+88h] [rbp-1C8h]
  const __m128i *v190; // [rsp+90h] [rbp-1C0h]
  const __m128i *v191; // [rsp+90h] [rbp-1C0h]
  __int64 v192; // [rsp+90h] [rbp-1C0h]
  __int64 v193; // [rsp+90h] [rbp-1C0h]
  char v194; // [rsp+90h] [rbp-1C0h]
  char v195; // [rsp+90h] [rbp-1C0h]
  const __m128i *v196; // [rsp+90h] [rbp-1C0h]
  __int64 v197; // [rsp+90h] [rbp-1C0h]
  __int64 *v198; // [rsp+90h] [rbp-1C0h]
  char v199; // [rsp+9Bh] [rbp-1B5h]
  int v200; // [rsp+9Ch] [rbp-1B4h]
  __m128i v201; // [rsp+A0h] [rbp-1B0h] BYREF
  __int64 v202; // [rsp+B0h] [rbp-1A0h]
  const __m128i *v203; // [rsp+B8h] [rbp-198h]
  __int64 v204; // [rsp+C8h] [rbp-188h] BYREF
  __m128i v205; // [rsp+D0h] [rbp-180h] BYREF
  __m128i v206; // [rsp+E0h] [rbp-170h] BYREF
  char v207; // [rsp+F0h] [rbp-160h]
  __int64 v208; // [rsp+100h] [rbp-150h] BYREF
  __int64 v209; // [rsp+108h] [rbp-148h] BYREF
  _QWORD *v210; // [rsp+110h] [rbp-140h]
  __int64 *v211; // [rsp+118h] [rbp-138h]
  __int64 *v212; // [rsp+120h] [rbp-130h]
  __int64 v213; // [rsp+128h] [rbp-128h]
  __int64 v214; // [rsp+130h] [rbp-120h] BYREF
  int v215; // [rsp+138h] [rbp-118h] BYREF
  int *v216; // [rsp+140h] [rbp-110h]
  const __m128i *v217; // [rsp+148h] [rbp-108h]
  int *v218; // [rsp+150h] [rbp-100h]
  __int64 v219; // [rsp+158h] [rbp-F8h]
  __int64 v220; // [rsp+160h] [rbp-F0h] BYREF
  unsigned __int64 v221; // [rsp+168h] [rbp-E8h] BYREF
  __int64 v222; // [rsp+170h] [rbp-E0h] BYREF
  _DWORD dest[6]; // [rsp+178h] [rbp-D8h] BYREF
  __m128i v224; // [rsp+190h] [rbp-C0h] BYREF
  _BYTE v225[176]; // [rsp+1A0h] [rbp-B0h] BYREF

  v4 = **(_QWORD **)(a1 + 16);
  v202 = a3;
  v5 = *(__int64 (**)())(v4 + 144);
  if ( v5 == sub_2C8F680 )
    BUG();
  v200 = *(_DWORD *)(v5() + 104);
  v6 = (*(__int64 (__fastcall **)(_QWORD *, __int64))(*a2 + 680LL))(a2, a1);
  LODWORD(v209) = 0;
  v180 = v6;
  v211 = &v209;
  v212 = &v209;
  v217 = (const __m128i *)&v215;
  v218 = &v215;
  v8 = *(const __m128i **)(a1 + 328);
  v210 = 0;
  v213 = 0;
  v215 = 0;
  v216 = 0;
  v219 = 0;
  v182 = v8;
  v179 = (const __m128i *)(a1 + 320);
  if ( v8 == (const __m128i *)(a1 + 320) )
  {
    v15 = 0;
    goto LABEL_17;
  }
  do
  {
    v183 = v182 + 3;
    v9 = (const __m128i *)v182[3].m128i_i64[1];
    if ( v9 == &v182[3] )
      goto LABEL_12;
    do
    {
      v10 = v9[4].m128i_i16[2];
      if ( (unsigned __int16)(v10 - 14) > 1u )
      {
        if ( v10 != 18 )
          goto LABEL_9;
        v17 = sub_2E89120((__int64)v9);
        v18 = sub_B10CD0((__int64)&v9[3].m128i_i64[1]);
        v19 = *(_BYTE *)(v18 - 16);
        if ( (v19 & 2) != 0 )
        {
          if ( *(_DWORD *)(v18 - 24) != 2 )
          {
LABEL_26:
            v20 = 0;
            goto LABEL_27;
          }
          v30 = *(_QWORD *)(v18 - 32);
        }
        else
        {
          if ( ((*(_WORD *)(v18 - 16) >> 6) & 0xF) != 2 )
            goto LABEL_26;
          v30 = v18 - 16 - 8LL * ((v19 >> 2) & 0xF);
        }
        v20 = *(_QWORD *)(v30 + 8);
LABEL_27:
        sub_372DCC0(a4, v17, v20, (__int64)v9);
        if ( (*(_BYTE *)(v9[1].m128i_i64[0] + 24) & 0x10) != 0 )
          goto LABEL_10;
LABEL_28:
        v21 = (const __m128i *)v9[2].m128i_i64[0];
        v203 = (const __m128i *)((char *)v21 + 40 * (v9[2].m128i_i32[2] & 0xFFFFFF));
        if ( v203 == v21 )
          goto LABEL_10;
        v22 = &v209;
LABEL_33:
        if ( !v21->m128i_i8[0] )
        {
          if ( (v21->m128i_i8[3] & 0x10) == 0 )
            goto LABEL_32;
          v23 = v21->m128i_u32[2];
          if ( !v23 )
            goto LABEL_32;
          v43 = v9[2].m128i_i32[3];
          if ( (v43 & 4) != 0 || (v43 & 8) == 0 )
          {
            v44 = (unsigned __int8)*(_QWORD *)(v9[1].m128i_i64[0] + 24) >> 7;
          }
          else
          {
            v44 = sub_2E88A90((__int64)v9, 128, 1);
            v23 = v21->m128i_u32[2];
          }
          if ( v44 && v200 == v23 )
            goto LABEL_32;
          if ( (v23 & 0x80000000) == 0 )
          {
            if ( v180 == v23 && (v9[2].m128i_i8[12] & 3) != 0 )
              goto LABEL_32;
            v45 = sub_E922F0(a2, v23);
            v47 = &v45[2 * v46];
            v48 = v45;
            if ( v45 == v47 )
              goto LABEL_32;
            v201.m128i_i64[0] = (__int64)v21;
            v49 = v202;
            while ( 1 )
            {
              v50 = v210;
              v51 = *(unsigned __int16 *)v48;
              if ( v210 )
              {
                v52 = (__int64)v22;
                do
                {
                  while ( 1 )
                  {
                    v53 = v50[2];
                    v54 = v50[3];
                    if ( v51 <= *((_DWORD *)v50 + 8) )
                      break;
                    v50 = (_QWORD *)v50[3];
                    if ( !v54 )
                      goto LABEL_85;
                  }
                  v52 = (__int64)v50;
                  v50 = (_QWORD *)v50[2];
                }
                while ( v53 );
LABEL_85:
                if ( (__int64 *)v52 != v22 && v51 >= *(_DWORD *)(v52 + 32) )
                  sub_372DBA0(&v208, v52, v49, &v214, (__int64)v9);
              }
              v48 += 2;
              if ( v47 == v48 )
              {
                v21 = (const __m128i *)v201.m128i_i64[0];
                goto LABEL_32;
              }
            }
          }
          v127 = v210;
          if ( !v210 )
            goto LABEL_32;
          v128 = (__int64)v22;
          while ( 1 )
          {
            v129 = v127[2];
            v130 = v127[3];
            if ( *((_DWORD *)v127 + 8) < v23 )
            {
              v127 = (_QWORD *)v127[3];
              if ( !v130 )
                goto LABEL_254;
            }
            else
            {
              v128 = (__int64)v127;
              v127 = (_QWORD *)v127[2];
              if ( !v129 )
              {
LABEL_254:
                if ( (__int64 *)v128 != v22 && *(_DWORD *)(v128 + 32) <= v23 )
                  sub_372DBA0(&v208, v128, v202, &v214, (__int64)v9);
                goto LABEL_32;
              }
            }
          }
        }
        if ( v21->m128i_i8[0] != 12 )
          goto LABEL_32;
        v201.m128i_i64[0] = (__int64)v225;
        v224.m128i_i64[0] = (__int64)v225;
        v224.m128i_i64[1] = 0x2000000000LL;
        if ( v211 == v22 )
          goto LABEL_32;
        v190 = v9;
        v24 = (__int64)v211;
        while ( 1 )
        {
          v26 = *(_DWORD *)(v24 + 32);
          v221 = (unsigned __int64)dest;
          v222 = 0x100000000LL;
          LODWORD(v220) = v26;
          v27 = *(unsigned int *)(v24 + 48);
          if ( &v221 != (unsigned __int64 *)(v24 + 40) )
          {
            if ( (_DWORD)v27 )
              break;
          }
          if ( v200 != v26 )
            goto LABEL_38;
LABEL_42:
          v24 = sub_220EEE0(v24);
          if ( (__int64 *)v24 == v22 )
          {
            v31 = v224.m128i_i64[0];
            v9 = v190;
            v32 = (unsigned int *)(v224.m128i_i64[0] + 4LL * v224.m128i_u32[2]);
            if ( v32 != (unsigned int *)v224.m128i_i64[0] )
            {
              v191 = v21;
              v33 = v22;
              v34 = (unsigned int *)v224.m128i_i64[0];
              v35 = v202;
              do
              {
                v36 = v210;
                v37 = *v34;
                if ( v210 )
                {
                  v38 = (__int64)v33;
                  do
                  {
                    while ( 1 )
                    {
                      v39 = v36[2];
                      v40 = v36[3];
                      if ( v37 <= *((_DWORD *)v36 + 8) )
                        break;
                      v36 = (_QWORD *)v36[3];
                      if ( !v40 )
                        goto LABEL_58;
                    }
                    v38 = (__int64)v36;
                    v36 = (_QWORD *)v36[2];
                  }
                  while ( v39 );
LABEL_58:
                  if ( (__int64 *)v38 != v33 && v37 >= *(_DWORD *)(v38 + 32) )
                    sub_372DBA0(&v208, v38, v35, &v214, (__int64)v9);
                }
                ++v34;
              }
              while ( v32 != v34 );
              v22 = v33;
              v31 = v224.m128i_i64[0];
              v21 = v191;
            }
            if ( v31 != v201.m128i_i64[0] )
              _libc_free(v31);
LABEL_32:
            v21 = (const __m128i *)((char *)v21 + 40);
            if ( v203 == v21 )
              goto LABEL_10;
            goto LABEL_33;
          }
        }
        v28 = dest;
        v29 = 16;
        if ( (_DWORD)v27 == 1
          || (v186 = *(_DWORD *)(v24 + 48),
              sub_C8D5F0((__int64)&v221, dest, (unsigned int)v27, 0x10u, v7, v27),
              v28 = (_DWORD *)v221,
              LODWORD(v27) = v186,
              (v29 = 16LL * *(unsigned int *)(v24 + 48)) != 0) )
        {
          v185 = v27;
          memcpy(v28, *(const void **)(v24 + 40), v29);
          LODWORD(v27) = v185;
        }
        LODWORD(v222) = v27;
        v26 = v220;
        if ( v200 != (_DWORD)v220 )
        {
LABEL_38:
          if ( v26 - 1 <= 0x3FFFFFFE )
          {
            v25 = *(_DWORD *)(v21[1].m128i_i64[1] + 4LL * (v26 >> 5));
            if ( !_bittest(&v25, v26) )
            {
              v41 = v224.m128i_u32[2];
              v42 = v224.m128i_u32[2] + 1LL;
              if ( v42 > v224.m128i_u32[3] )
              {
                v189 = v26;
                sub_C8D5F0((__int64)&v224, (const void *)v201.m128i_i64[0], v224.m128i_u32[2] + 1LL, 4u, v7, v42);
                v41 = v224.m128i_u32[2];
                v26 = v189;
              }
              *(_DWORD *)(v224.m128i_i64[0] + 4 * v41) = v26;
              ++v224.m128i_i32[2];
            }
          }
        }
        if ( (_DWORD *)v221 != dest )
          _libc_free(v221);
        goto LABEL_42;
      }
      v11 = sub_2E89170((__int64)v9);
      v12 = sub_B10CD0((__int64)&v9[3].m128i_i64[1]);
      v13 = *(_BYTE *)(v12 - 16);
      if ( (v13 & 2) != 0 )
      {
        if ( *(_DWORD *)(v12 - 24) != 2 )
          goto LABEL_7;
        v16 = *(_QWORD *)(v12 - 32);
      }
      else
      {
        if ( ((*(_WORD *)(v12 - 16) >> 6) & 0xF) != 2 )
        {
LABEL_7:
          v14 = 0;
          goto LABEL_8;
        }
        v16 = v12 - 16 - 8LL * ((v13 >> 2) & 0xF);
      }
      v14 = *(_QWORD *)(v16 + 8);
LABEL_8:
      v205.m128i_i64[0] = v11;
      v205.m128i_i64[1] = v14;
      v199 = sub_372CFA0(v202, v11, v14, (__int64)v9, &v204);
      if ( !v199 )
        goto LABEL_9;
      v55 = &v222;
      v220 = 0;
      v221 = 1;
      do
        *(_DWORD *)v55++ = -1;
      while ( v55 != (__int64 *)&v224 );
      v224.m128i_i64[0] = (__int64)v225;
      v224.m128i_i64[1] = 0x400000000LL;
      v56 = sub_2E891C0((__int64)v9);
      v57 = v216;
      if ( !v216 )
      {
        v58 = &v215;
LABEL_106:
        v206.m128i_i64[0] = (__int64)&v205;
        v58 = (int *)sub_372B810(&v214, v58, (const __m128i **)&v206);
        goto LABEL_107;
      }
      v58 = &v215;
      do
      {
        while ( *((_QWORD *)v57 + 4) >= v205.m128i_i64[0]
             && (*((_QWORD *)v57 + 4) != v205.m128i_i64[0] || *((_QWORD *)v57 + 5) >= v205.m128i_i64[1]) )
        {
          v58 = v57;
          v57 = (int *)*((_QWORD *)v57 + 2);
          if ( !v57 )
            goto LABEL_102;
        }
        v57 = (int *)*((_QWORD *)v57 + 3);
      }
      while ( v57 );
LABEL_102:
      if ( v58 == &v215
        || *((_QWORD *)v58 + 4) > v205.m128i_i64[0]
        || *((_QWORD *)v58 + 4) == v205.m128i_i64[0] && *((_QWORD *)v58 + 5) > v205.m128i_i64[1] )
      {
        goto LABEL_106;
      }
LABEL_107:
      if ( *((_QWORD *)v58 + 14) )
      {
        v125 = *((_QWORD *)v58 + 12);
        LOBYTE(v203) = 0;
        v187 = v58 + 20;
        v201.m128i_i64[0] = v125;
        v181 = v9;
      }
      else
      {
        v181 = v9;
        v59 = *((_QWORD *)v58 + 6) + 8LL * (unsigned int)v58[14];
        v201.m128i_i64[0] = *((_QWORD *)v58 + 6);
        v187 = (_DWORD *)v59;
        LOBYTE(v203) = v199;
      }
      if ( (_BYTE)v203 )
      {
        while ( 1 )
        {
          v60 = (__int64 *)v201.m128i_i64[0];
          if ( v187 == (_DWORD *)v201.m128i_i64[0] )
            goto LABEL_120;
LABEL_112:
          v61 = *v60;
          v206 = _mm_load_si128(&v205);
          v192 = v61;
          v62 = (_QWORD *)(16 * v61 + *(_QWORD *)sub_372CB80(v202, &v206));
          v63 = *v62 & 0xFFFFFFFFFFFFFFF8LL;
          v64 = sub_2E891C0(v63);
          sub_AF47B0((__int64)&v206, *(unsigned __int64 **)(v56 + 16), *(unsigned __int64 **)(v56 + 24));
          if ( v207 )
          {
            sub_AF47B0((__int64)&v206, *(unsigned __int64 **)(v64 + 16), *(unsigned __int64 **)(v64 + 24));
            if ( v207 )
            {
              sub_AF47B0((__int64)&v206, *(unsigned __int64 **)(v56 + 16), *(unsigned __int64 **)(v56 + 24));
              v184 = v206;
              sub_AF47B0((__int64)&v206, *(unsigned __int64 **)(v64 + 16), *(unsigned __int64 **)(v64 + 24));
              if ( v184.m128i_i64[1] >= (unsigned __int64)(v206.m128i_i64[1] + v206.m128i_i64[0])
                || v206.m128i_i64[1] >= (unsigned __int64)(v184.m128i_i64[1] + v184.m128i_i64[0]) )
              {
                break;
              }
            }
          }
          v98 = v224.m128i_u32[2];
          v99 = v224.m128i_u32[2] + 1LL;
          if ( v99 > v224.m128i_u32[3] )
          {
            sub_C8D5F0((__int64)&v224, v225, v99, 8u, v65, v66);
            v98 = v224.m128i_u32[2];
          }
          *(_QWORD *)(v224.m128i_i64[0] + 8 * v98) = v192;
          ++v224.m128i_i32[2];
          sub_372AB10((__int64)v62, v204);
          v67 = v199;
          if ( !sub_2E89C10(v63) )
            goto LABEL_191;
LABEL_117:
          if ( !(_BYTE)v203 )
          {
            v201.m128i_i64[0] = sub_220EF30(v201.m128i_i64[0]);
            goto LABEL_110;
          }
          v201.m128i_i64[0] += 8;
        }
        v67 = 0;
        if ( sub_2E89C10(v63) )
          goto LABEL_117;
LABEL_191:
        v100 = *(_QWORD *)(v63 + 32);
        v101 = v100 + 40;
        if ( *(_WORD *)(v63 + 68) != 14 )
        {
          v101 = v100 + 40LL * (*(_DWORD *)(v63 + 40) & 0xFFFFFF);
          v100 += 80;
        }
        v102 = v100;
        v103 = v67 ^ 1;
        if ( v101 == v100 )
          goto LABEL_117;
        while ( 1 )
        {
          if ( *(_BYTE *)v102 )
            goto LABEL_195;
          v104 = *(_DWORD *)(v102 + 8);
          if ( !v104 )
            goto LABEL_195;
          if ( (v221 & 1) != 0 )
          {
            v105 = &v222;
            v106 = 3;
          }
          else
          {
            v112 = dest[0];
            v105 = (__int64 *)v222;
            if ( !dest[0] )
            {
              v113 = v221;
              ++v220;
              v114 = 0;
              v115 = ((unsigned int)v221 >> 1) + 1;
              goto LABEL_207;
            }
            v106 = dest[0] - 1;
          }
          v107 = v106 & (37 * v104);
          v108 = &v105[v107];
          v109 = *(_DWORD *)v108;
          if ( v104 != *(_DWORD *)v108 )
            break;
LABEL_201:
          v110 = *((_BYTE *)v108 + 4);
          v111 = (char *)v108 + 4;
LABEL_202:
          *v111 = v103 | v110;
LABEL_195:
          v102 += 40;
          if ( v101 == v102 )
            goto LABEL_117;
        }
        v126 = 1;
        v114 = 0;
        while ( v109 != -1 )
        {
          if ( v109 == -2 && !v114 )
            v114 = v108;
          v107 = v106 & (v126 + v107);
          v108 = &v105[v107];
          v109 = *(_DWORD *)v108;
          if ( v104 == *(_DWORD *)v108 )
            goto LABEL_201;
          ++v126;
        }
        v113 = v221;
        v116 = 12;
        v112 = 4;
        if ( !v114 )
          v114 = v108;
        ++v220;
        v115 = ((unsigned int)v221 >> 1) + 1;
        if ( (v221 & 1) == 0 )
        {
          v112 = dest[0];
LABEL_207:
          v116 = 3 * v112;
        }
        if ( 4 * v115 >= v116 )
        {
          v194 = v103;
          sub_372BF10((__int64)&v220, 2 * v112);
          v103 = v194;
          if ( (v221 & 1) != 0 )
          {
            v133 = &v222;
            v134 = 3;
          }
          else
          {
            v133 = (__int64 *)v222;
            if ( !dest[0] )
              goto LABEL_352;
            v134 = dest[0] - 1;
          }
          v113 = v221;
          LODWORD(v135) = v134 & (37 * v104);
          v114 = &v133[(unsigned int)v135];
          v136 = *(_DWORD *)v114;
          if ( v104 == *(_DWORD *)v114 )
            goto LABEL_210;
          v137 = 1;
          v138 = 0;
          while ( v136 != -1 )
          {
            if ( !v138 && v136 == -2 )
              v138 = v114;
            v135 = v134 & (unsigned int)(v135 + v137);
            v114 = &v133[v135];
            v136 = *(_DWORD *)v114;
            if ( v104 == *(_DWORD *)v114 )
              goto LABEL_277;
            ++v137;
          }
        }
        else
        {
          if ( v112 - HIDWORD(v221) - v115 > v112 >> 3 )
            goto LABEL_210;
          v195 = v103;
          sub_372BF10((__int64)&v220, v112);
          v103 = v195;
          if ( (v221 & 1) != 0 )
          {
            v139 = &v222;
            v140 = 3;
          }
          else
          {
            v139 = (__int64 *)v222;
            if ( !dest[0] )
            {
LABEL_352:
              LODWORD(v221) = (2 * ((unsigned int)v221 >> 1) + 2) | v221 & 1;
              BUG();
            }
            v140 = dest[0] - 1;
          }
          v113 = v221;
          LODWORD(v141) = v140 & (37 * v104);
          v114 = &v139[(unsigned int)v141];
          v142 = *(_DWORD *)v114;
          if ( v104 == *(_DWORD *)v114 )
            goto LABEL_210;
          v143 = 1;
          v138 = 0;
          while ( v142 != -1 )
          {
            if ( !v138 && v142 == -2 )
              v138 = v114;
            v141 = v140 & (unsigned int)(v141 + v143);
            v114 = &v139[v141];
            v142 = *(_DWORD *)v114;
            if ( v104 == *(_DWORD *)v114 )
              goto LABEL_277;
            ++v143;
          }
        }
        if ( v138 )
          v114 = v138;
LABEL_277:
        v113 = v221;
LABEL_210:
        LODWORD(v221) = (2 * (v113 >> 1) + 2) | v113 & 1;
        if ( *(_DWORD *)v114 != -1 )
          --HIDWORD(v221);
        *(_DWORD *)v114 = v104;
        v110 = 0;
        v111 = (char *)v114 + 4;
        *v111 = 0;
        goto LABEL_202;
      }
LABEL_110:
      if ( v187 != (_DWORD *)v201.m128i_i64[0] )
      {
        v60 = (__int64 *)(v201.m128i_i64[0] + 32);
        goto LABEL_112;
      }
LABEL_120:
      v9 = v181;
      if ( !sub_2E89C10((__int64)v181) )
      {
        v69 = v181[2].m128i_i64[0];
        v70 = v69 + 40;
        if ( v181[4].m128i_i16[2] != 14 )
        {
          v70 = v69 + 40LL * (v181[2].m128i_i32[2] & 0xFFFFFF);
          v69 += 80;
        }
        if ( v70 != v69 )
        {
          v203 = v181;
          while ( 1 )
          {
            while ( 1 )
            {
              if ( !*(_BYTE *)v69 )
              {
                v71 = *(_DWORD *)(v69 + 8);
                if ( v71 )
                  break;
              }
              v69 += 40;
              if ( v70 == v69 )
                goto LABEL_144;
            }
            v206.m128i_i32[0] = *(_DWORD *)(v69 + 8);
            if ( (v221 & 1) != 0 )
            {
              v72 = &v222;
              v73 = 3;
            }
            else
            {
              v72 = (__int64 *)v222;
              if ( !dest[0] )
              {
                v77 = 0;
                goto LABEL_309;
              }
              v73 = dest[0] - 1;
            }
            v74 = 1;
            v75 = 0;
            v76 = v73 & (37 * v71);
            v77 = &v72[v76];
            v78 = *(_DWORD *)v77;
            if ( v71 == *(_DWORD *)v77 )
            {
LABEL_131:
              *((_BYTE *)v77 + 4) = 1;
              v79 = v216;
              if ( v216 )
                goto LABEL_132;
              goto LABEL_324;
            }
            while ( v78 != -1 )
            {
              if ( v78 == -2 && !v75 )
                v75 = (__int64)v77;
              v76 = v73 & (v74 + v76);
              v77 = &v72[v76];
              v78 = *(_DWORD *)v77;
              if ( v71 == *(_DWORD *)v77 )
                goto LABEL_131;
              ++v74;
            }
            if ( v75 )
              v77 = (__int64 *)v75;
LABEL_309:
            v164 = sub_372C300((__int64)&v220, &v206, v77);
            v166 = v206.m128i_i32[0];
            v167 = &v209;
            *((_BYTE *)v164 + 4) = 1;
            *v164 = v166;
            v168 = v210;
            v201 = _mm_load_si128(&v205);
            if ( !v210 )
              goto LABEL_316;
            do
            {
              while ( 1 )
              {
                v169 = v168[2];
                v170 = v168[3];
                if ( v71 <= *((_DWORD *)v168 + 8) )
                  break;
                v168 = (_QWORD *)v168[3];
                if ( !v170 )
                  goto LABEL_314;
              }
              v167 = v168;
              v168 = (_QWORD *)v168[2];
            }
            while ( v169 );
LABEL_314:
            if ( v167 == &v209 || v71 < *((_DWORD *)v167 + 8) )
            {
LABEL_316:
              v197 = (__int64)v167;
              v171 = sub_22077B0(0x48u);
              *(_DWORD *)(v171 + 32) = v71;
              v167 = (__int64 *)v171;
              *(_QWORD *)(v171 + 40) = v171 + 56;
              *(_QWORD *)(v171 + 48) = 0x100000000LL;
              v172 = sub_372B500(&v208, v197, (unsigned int *)(v171 + 32));
              if ( v173 )
              {
                v174 = v172 || &v209 == (__int64 *)v173 || v71 < *(_DWORD *)(v173 + 32);
                sub_220F040(v174, (__int64)v167, (_QWORD *)v173, &v209);
                ++v213;
              }
              else
              {
                v198 = (__int64 *)v172;
                j_j___libc_free_0((unsigned __int64)v167);
                v167 = v198;
              }
            }
            v175 = *((unsigned int *)v167 + 12);
            if ( v175 + 1 > (unsigned __int64)*((unsigned int *)v167 + 13) )
            {
              sub_C8D5F0((__int64)(v167 + 5), v167 + 7, v175 + 1, 0x10u, v75, v165);
              v175 = *((unsigned int *)v167 + 12);
            }
            *(__m128i *)(v167[5] + 16 * v175) = _mm_load_si128(&v201);
            v79 = v216;
            ++*((_DWORD *)v167 + 12);
            if ( v79 )
            {
LABEL_132:
              v80 = v205.m128i_i64[1];
              v81 = &v215;
              do
              {
                while ( *((_QWORD *)v79 + 4) >= v205.m128i_i64[0]
                     && (*((_QWORD *)v79 + 4) != v205.m128i_i64[0] || *((_QWORD *)v79 + 5) >= v205.m128i_i64[1]) )
                {
                  v81 = v79;
                  v79 = (int *)*((_QWORD *)v79 + 2);
                  if ( !v79 )
                    goto LABEL_138;
                }
                v79 = (int *)*((_QWORD *)v79 + 3);
              }
              while ( v79 );
LABEL_138:
              if ( v81 != &v215
                && *((_QWORD *)v81 + 4) <= v205.m128i_i64[0]
                && (*((_QWORD *)v81 + 4) != v205.m128i_i64[0] || *((_QWORD *)v81 + 5) <= v205.m128i_i64[1]) )
              {
                goto LABEL_143;
              }
              goto LABEL_142;
            }
LABEL_324:
            v81 = &v215;
LABEL_142:
            v206.m128i_i64[0] = (__int64)&v205;
            v81 = (int *)sub_372B810(&v214, v81, (const __m128i **)&v206);
LABEL_143:
            v69 += 40;
            sub_372C6D0((__int64)&v206, (__int64)(v81 + 12), (unsigned __int64 *)&v204, v80, v75);
            if ( v70 == v69 )
            {
LABEL_144:
              v9 = v203;
              break;
            }
          }
        }
      }
      v82 = v221 & 1;
      if ( (unsigned int)v221 >> 1 )
      {
        if ( v82 )
        {
          v83 = &v224;
          v84 = &v222;
        }
        else
        {
          v85 = (__int64 *)v222;
          v86 = dest[0];
          v83 = (__m128i *)(v222 + 8LL * dest[0]);
          v84 = (__int64 *)v222;
          if ( (__m128i *)v222 == v83 )
            goto LABEL_152;
        }
        do
        {
          if ( *(_DWORD *)v84 <= 0xFFFFFFFD )
            break;
          ++v84;
        }
        while ( v84 != (__int64 *)v83 );
      }
      else
      {
        if ( v82 )
        {
          v131 = &v222;
          v132 = 4;
        }
        else
        {
          v131 = (__int64 *)v222;
          v132 = dest[0];
        }
        v84 = &v131[v132];
        v83 = (__m128i *)v84;
      }
      if ( !v82 )
      {
        v85 = (__int64 *)v222;
        v86 = dest[0];
LABEL_152:
        v87 = v86;
        goto LABEL_153;
      }
      v85 = &v222;
      v87 = 4;
LABEL_153:
      v88 = &v85[v87];
      while ( v88 != v84 )
      {
        if ( !*((_BYTE *)v84 + 4) )
          sub_372A170(&v208, *(_DWORD *)v84, v205.m128i_i64[0], v205.m128i_i64[1]);
        do
          ++v84;
        while ( v84 != (__int64 *)v83 && *(_DWORD *)v84 > 0xFFFFFFFD );
      }
      v89 = v216;
      if ( v216 )
      {
        v90 = v205.m128i_i64[1];
        v91 = &v215;
        do
        {
          while ( *((_QWORD *)v89 + 4) >= v205.m128i_i64[0]
               && (*((_QWORD *)v89 + 4) != v205.m128i_i64[0] || *((_QWORD *)v89 + 5) >= v205.m128i_i64[1]) )
          {
            v91 = v89;
            v89 = (int *)*((_QWORD *)v89 + 2);
            if ( !v89 )
              goto LABEL_166;
          }
          v89 = (int *)*((_QWORD *)v89 + 3);
        }
        while ( v89 );
LABEL_166:
        if ( v91 != &v215
          && *((_QWORD *)v91 + 4) <= v205.m128i_i64[0]
          && (*((_QWORD *)v91 + 4) != v205.m128i_i64[0] || *((_QWORD *)v91 + 5) <= v205.m128i_i64[1]) )
        {
          goto LABEL_171;
        }
      }
      else
      {
        v91 = &v215;
      }
      v206.m128i_i64[0] = (__int64)&v205;
      v91 = (int *)sub_372B810(&v214, v91, (const __m128i **)&v206);
LABEL_171:
      v92 = v91 + 20;
      v193 = (__int64)(v91 + 12);
      v203 = (const __m128i *)v224.m128i_i64[0];
      v201.m128i_i64[0] = v224.m128i_i64[0] + 8LL * v224.m128i_u32[2];
      if ( v224.m128i_i64[0] == v201.m128i_i64[0] )
        goto LABEL_184;
      v188 = v9;
      v93 = v91;
      do
      {
        v94 = v203->m128i_i64[0];
        if ( *((_QWORD *)v93 + 14) )
        {
          if ( *((_QWORD *)v93 + 11) )
          {
            v117 = v92;
            v118 = (int *)*((_QWORD *)v93 + 11);
            while ( 1 )
            {
              while ( v94 > *((_QWORD *)v118 + 4) )
              {
                v118 = (int *)*((_QWORD *)v118 + 3);
                if ( !v118 )
                  goto LABEL_219;
              }
              v119 = (int *)*((_QWORD *)v118 + 2);
              if ( v94 >= *((_QWORD *)v118 + 4) )
                break;
              v117 = v118;
              v118 = (int *)*((_QWORD *)v118 + 2);
              if ( !v119 )
              {
LABEL_219:
                v120 = v117 == v92;
                goto LABEL_220;
              }
            }
            v121 = (int *)*((_QWORD *)v118 + 3);
            if ( v121 )
            {
              do
              {
                while ( 1 )
                {
                  v122 = *((_QWORD *)v121 + 2);
                  v90 = *((_QWORD *)v121 + 3);
                  if ( v94 < *((_QWORD *)v121 + 4) )
                    break;
                  v121 = (int *)*((_QWORD *)v121 + 3);
                  if ( !v90 )
                    goto LABEL_228;
                }
                v117 = v121;
                v121 = (int *)*((_QWORD *)v121 + 2);
              }
              while ( v122 );
            }
LABEL_228:
            while ( v119 )
            {
              while ( 1 )
              {
                v90 = *((_QWORD *)v119 + 3);
                if ( v94 <= *((_QWORD *)v119 + 4) )
                  break;
                v119 = (int *)*((_QWORD *)v119 + 3);
                if ( !v90 )
                  goto LABEL_231;
              }
              v118 = v119;
              v119 = (int *)*((_QWORD *)v119 + 2);
            }
LABEL_231:
            if ( *((int **)v93 + 12) == v118 && v92 == v117 )
            {
LABEL_222:
              sub_372A530(*((_QWORD *)v93 + 11));
              *((_QWORD *)v93 + 11) = 0;
              *((_QWORD *)v93 + 12) = v92;
              *((_QWORD *)v93 + 13) = v92;
              *((_QWORD *)v93 + 14) = 0;
              goto LABEL_182;
            }
            for ( ; v118 != v117; --*((_QWORD *)v93 + 14) )
            {
              v123 = v118;
              v118 = (int *)sub_220EF30((__int64)v118);
              v124 = sub_220F330(v123, v92);
              j_j___libc_free_0((unsigned __int64)v124);
            }
          }
          else
          {
            v120 = v199;
            v117 = v92;
LABEL_220:
            if ( *((int **)v93 + 12) == v117 && v120 )
              goto LABEL_222;
          }
        }
        else
        {
          v95 = (_QWORD *)*((_QWORD *)v93 + 6);
          v96 = (unsigned int)v93[14];
          v97 = &v95[v96];
          if ( v95 != v97 )
          {
            while ( v94 != *v95 )
            {
              if ( v97 == ++v95 )
                goto LABEL_182;
            }
            if ( v97 != v95 )
            {
              v68 = (__int64)(v95 + 1);
              if ( v97 != v95 + 1 )
              {
                memmove(v95, v95 + 1, (size_t)v97 - v68);
                LODWORD(v96) = v93[14];
              }
              v93[14] = v96 - 1;
            }
          }
        }
LABEL_182:
        v203 = (const __m128i *)((char *)v203 + 8);
      }
      while ( (const __m128i *)v201.m128i_i64[0] != v203 );
      v9 = v188;
LABEL_184:
      sub_372C6D0((__int64)&v206, v193, (unsigned __int64 *)&v204, v90, v68);
      if ( (_BYTE *)v224.m128i_i64[0] != v225 )
        _libc_free(v224.m128i_u64[0]);
      if ( (v221 & 1) == 0 )
        sub_C7D6A0(v222, 8LL * dest[0], 4);
LABEL_9:
      if ( (*(_BYTE *)(v9[1].m128i_i64[0] + 24) & 0x10) == 0 )
        goto LABEL_28;
LABEL_10:
      if ( (v9->m128i_i8[0] & 4) == 0 )
      {
        while ( (v9[2].m128i_i8[12] & 8) != 0 )
          v9 = (const __m128i *)v9->m128i_i64[1];
      }
      v9 = (const __m128i *)v9->m128i_i64[1];
    }
    while ( v183 != v9 );
LABEL_12:
    v203 = (const __m128i *)v182[3].m128i_i64[0];
    if ( v183 != (const __m128i *)((unsigned __int64)v203 & 0xFFFFFFFFFFFFFFF8LL) )
    {
      v203 = *(const __m128i **)(a1 + 320);
      if ( v182 != (const __m128i *)((unsigned __int64)v203 & 0xFFFFFFFFFFFFFFF8LL)
        && (unsigned int)(*(_DWORD *)(*(_QWORD *)(a1 + 8) + 544LL) - 42) > 1 )
      {
        v144 = v217;
        if ( v217 != (const __m128i *)&v215 )
        {
          v203 = &v224;
          v145 = v202;
          do
          {
            if ( v144[3].m128i_i32[2] || v144[7].m128i_i64[0] )
            {
              v201.m128i_i64[0] = v182[3].m128i_i64[0];
              v146 = v201.m128i_i64[0] & 0xFFFFFFFFFFFFFFF8LL;
              if ( (v201.m128i_i64[0] & 0xFFFFFFFFFFFFFFF8LL) == 0 )
                BUG();
              v147 = v201.m128i_i64[0] & 0xFFFFFFFFFFFFFFF8LL;
              if ( (*(_QWORD *)v146 & 4) == 0 && (*(_BYTE *)(v146 + 44) & 4) != 0 )
              {
                for ( i = *(_QWORD *)v146; ; i = *(_QWORD *)v147 )
                {
                  v147 = i & 0xFFFFFFFFFFFFFFF8LL;
                  if ( (*(_BYTE *)(v147 + 44) & 4) == 0 )
                    break;
                }
              }
              v149 = sub_372D0C0(v145, v144[2].m128i_i64[0], v144[2].m128i_i64[1], v147);
              if ( v144[7].m128i_i64[0] )
              {
                v201.m128i_i8[0] = 0;
                v150 = (const __m128i *)v144[6].m128i_i64[0];
                v196 = v144 + 5;
              }
              else
              {
                v150 = (const __m128i *)v144[3].m128i_i64[0];
                v151 = v144[3].m128i_u32[2];
                v201.m128i_i8[0] = 1;
                v196 = (const __m128i *)((char *)v150 + 8 * v151);
              }
              v152 = v145;
              v153 = v144;
              v154 = v150;
              v155 = v149;
              v156 = v152;
              while ( v201.m128i_i8[0] )
              {
                if ( v196 == v154 )
                {
                  v144 = v153;
                  v145 = v156;
                  goto LABEL_302;
                }
                v162 = v154->m128i_i64[0];
                v154 = (const __m128i *)((char *)v154 + 8);
                v224 = _mm_loadu_si128(v153 + 2);
                v163 = (_QWORD *)sub_372CB80(v156, v203);
                sub_372AB10(*v163 + 16 * v162, v155);
              }
              v157 = v156;
              v158 = v155;
              v159 = (__int64)v154;
              v144 = v153;
              v145 = v157;
              while ( v196 != (const __m128i *)v159 )
              {
                v160 = *(_QWORD *)(v159 + 32);
                v224 = _mm_loadu_si128(v144 + 2);
                v161 = (_QWORD *)sub_372CB80(v145, v203);
                sub_372AB10(*v161 + 16 * v160, v158);
                v159 = sub_220EF30(v159);
              }
            }
LABEL_302:
            v144 = (const __m128i *)sub_220EEE0((__int64)v144);
          }
          while ( v144 != (const __m128i *)&v215 );
        }
        sub_372A700(v216);
        v216 = 0;
        v219 = 0;
        v217 = (const __m128i *)&v215;
        v218 = &v215;
        sub_372A790(v210);
        v210 = 0;
        v213 = 0;
        v211 = &v209;
        v212 = &v209;
      }
    }
    v182 = (const __m128i *)v182->m128i_i64[1];
  }
  while ( v179 != v182 );
  v15 = v216;
LABEL_17:
  sub_372A700(v15);
  sub_372A790(v210);
}
