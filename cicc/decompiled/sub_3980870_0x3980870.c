// Function: sub_3980870
// Address: 0x3980870
//
void (*__fastcall sub_3980870(__int64 a1, __int64 *a2))()
{
  _QWORD *v2; // r13
  bool v3; // zf
  void (*result)(); // rax
  __int64 v5; // rax
  __int64 v6; // rdx
  __int64 v7; // rcx
  _QWORD *v8; // r8
  _QWORD *v9; // r9
  __int64 v10; // rdx
  __int64 v11; // rcx
  __int64 v12; // rsi
  __int64 v13; // rdi
  __int64 (*v14)(); // rax
  _QWORD *v15; // r15
  __int64 v16; // rbx
  __int64 v17; // rax
  __int64 v18; // rax
  __int64 v19; // rax
  __int64 *v20; // rbx
  __int64 v21; // r8
  unsigned int v22; // edi
  __int64 *v23; // rax
  __int64 v24; // rcx
  __int64 v25; // r12
  unsigned int v26; // esi
  __int64 v27; // r8
  unsigned int v28; // edi
  __int64 *v29; // rax
  __int64 v30; // rcx
  unsigned int v31; // esi
  __int64 v32; // r12
  int v33; // eax
  int v34; // esi
  __int64 v35; // rdi
  unsigned int v36; // eax
  int v37; // ecx
  __int64 *v38; // rdx
  __int64 v39; // r8
  __int64 v40; // rsi
  unsigned __int8 *v41; // rsi
  int v42; // r10d
  int v43; // eax
  int v44; // eax
  int v45; // eax
  __int64 v46; // rdi
  __int64 *v47; // r8
  unsigned int v48; // r13d
  int v49; // r9d
  __int64 v50; // rsi
  int v51; // r10d
  __int64 *v52; // rdx
  int v53; // eax
  int v54; // ecx
  int v55; // r10d
  __int64 *v56; // r9
  unsigned int v57; // esi
  __int64 v58; // r12
  __int64 *v59; // rbx
  __int64 v60; // r8
  __int64 v61; // rdx
  _QWORD *v62; // rax
  __int64 v63; // rdi
  __int64 v64; // rax
  unsigned int v65; // esi
  __int64 v66; // rbx
  __int64 v67; // r8
  unsigned int v68; // edx
  __int64 *v69; // rax
  __int64 v70; // rdi
  __int64 v71; // rbx
  __int64 *v72; // r15
  signed __int64 v73; // rdx
  __int64 v74; // rax
  __int64 v75; // r12
  unsigned int v76; // r14d
  __int64 *v77; // r14
  __int64 v78; // r12
  __int64 v79; // r12
  __int64 v80; // r12
  signed __int64 v81; // rax
  __int64 v82; // r12
  unsigned int v83; // r14d
  unsigned int v84; // ebx
  int v85; // eax
  int v86; // esi
  __int64 v87; // rdi
  unsigned int v88; // eax
  __int64 v89; // r8
  int v90; // r10d
  __int64 *v91; // r9
  int v92; // eax
  int v93; // eax
  __int64 v94; // rdi
  __int64 *v95; // r8
  unsigned int v96; // r13d
  int v97; // r9d
  __int64 v98; // rsi
  __int64 v99; // rax
  __int64 v100; // r14
  int v101; // r12d
  __int64 v102; // r12
  unsigned int v103; // r14d
  int v104; // r12d
  __int64 *v105; // r10
  int v106; // edx
  __int64 v107; // rdx
  int v108; // r12d
  int v109; // r12d
  __int64 v110; // r10
  __int64 v111; // r9
  unsigned int v112; // ecx
  __int64 v113; // r8
  int v114; // edi
  __int64 *v115; // rsi
  int v116; // r12d
  int v117; // r12d
  int v118; // edi
  __int64 v119; // r10
  __int64 v120; // r9
  unsigned int v121; // ecx
  __int64 v122; // r8
  int v123; // r13d
  _QWORD *v124; // r11
  int v125; // ecx
  int v126; // edx
  __int64 v127; // rdx
  int v128; // r13d
  int v129; // r13d
  __int64 v130; // r11
  __int64 v131; // rcx
  __int64 v132; // r8
  int v133; // edi
  _QWORD *v134; // rsi
  int v135; // r13d
  int v136; // r13d
  __int64 v137; // r11
  int v138; // edi
  __int64 v139; // rcx
  __int64 v140; // r8
  __int64 v141; // [rsp+0h] [rbp-A0h]
  _QWORD *v142; // [rsp+8h] [rbp-98h]
  __int64 v143; // [rsp+10h] [rbp-90h]
  int v144; // [rsp+18h] [rbp-88h]
  int v145; // [rsp+18h] [rbp-88h]
  int v146; // [rsp+20h] [rbp-80h]
  int v147; // [rsp+20h] [rbp-80h]
  int v148; // [rsp+20h] [rbp-80h]
  unsigned int v149; // [rsp+20h] [rbp-80h]
  __int64 *v150; // [rsp+28h] [rbp-78h]
  unsigned int v151; // [rsp+28h] [rbp-78h]
  int v152; // [rsp+28h] [rbp-78h]
  __int64 v153; // [rsp+30h] [rbp-70h]
  __int64 *v154; // [rsp+38h] [rbp-68h]
  __int64 v156; // [rsp+48h] [rbp-58h]
  _BOOL4 v157; // [rsp+48h] [rbp-58h]
  unsigned __int8 *v158; // [rsp+50h] [rbp-50h] BYREF
  __int64 v159; // [rsp+58h] [rbp-48h]
  char v160; // [rsp+60h] [rbp-40h]

  v2 = (_QWORD *)a1;
  v3 = *(_QWORD *)(a1 + 8) == 0;
  *(_QWORD *)(a1 + 40) = 0;
  if ( v3
    || !*(_BYTE *)(*(_QWORD *)(a1 + 16) + 1744LL)
    || (v5 = sub_1626D20(*a2)) == 0
    || !*(_DWORD *)(*(_QWORD *)(v5 + 8 * (5LL - *(unsigned int *)(v5 + 8))) + 36LL) )
  {
    result = *(void (**)())(*(_QWORD *)a1 + 120LL);
    if ( result != nullsub_1978 )
      return (void (*)())((__int64 (__fastcall *)(__int64))result)(a1);
    return result;
  }
  sub_20FC0D0((__int64 **)(a1 + 64), a2);
  if ( !*(_QWORD *)(a1 + 288) )
    return (void (*)())(*(__int64 (__fastcall **)(_QWORD *, __int64 *))(*v2 + 104LL))(v2, a2);
  sub_3980260(a1, (__int64)a2, v6, v7, v8, v9);
  v10 = *(_QWORD *)(a1 + 8);
  v11 = (unsigned int)(*(_DWORD *)(*(_QWORD *)(v10 + 232) + 504LL) - 34) <= 1;
  v12 = 0;
  v13 = *(_QWORD *)(*(_QWORD *)(v10 + 264) + 16LL);
  v14 = *(__int64 (**)())(*(_QWORD *)v13 + 112LL);
  if ( v14 != sub_1D00B10 )
  {
    v157 = (unsigned int)(*(_DWORD *)(*(_QWORD *)(v10 + 232) + 504LL) - 34) <= 1;
    v99 = ((__int64 (__fastcall *)(__int64, _QWORD))v14)(v13, 0);
    v11 = v157;
    v12 = v99;
  }
  v15 = v2;
  sub_39C1C70(a2, v12, v2 + 37, v11);
  v143 = (__int64)(v2 + 44);
  v156 = v2[41];
  v153 = v2[42];
  v141 = (__int64)(v2 + 48);
  if ( v156 == v153 )
    goto LABEL_33;
  while ( 2 )
  {
    if ( !*(_DWORD *)(v156 + 24) )
      goto LABEL_12;
    v16 = v156;
    v17 = sub_1E16500(**(_QWORD **)(v156 + 16));
    if ( !*(_WORD *)(v17 + 32) )
    {
LABEL_52:
      v19 = v156;
      goto LABEL_17;
    }
    v18 = sub_15AB1E0(*(_BYTE **)(v17 - 8LL * *(unsigned int *)(v17 + 8)));
    if ( !sub_15B1050(v18, *a2) )
    {
LABEL_16:
      v19 = v16;
LABEL_17:
      v20 = *(__int64 **)(v19 + 16);
      v154 = &v20[2 * *(unsigned int *)(v19 + 24)];
      goto LABEL_18;
    }
    v57 = *((_DWORD *)v15 + 94);
    v58 = v15[1];
    v59 = *(__int64 **)(v156 + 16);
    if ( !v57 )
    {
      ++v15[44];
      goto LABEL_174;
    }
    v60 = v15[45];
    LODWORD(v61) = (v57 - 1) & (((unsigned int)*v59 >> 9) ^ ((unsigned int)*v59 >> 4));
    v62 = (_QWORD *)(v60 + 16LL * (unsigned int)v61);
    v63 = *v62;
    if ( *v59 != *v62 )
    {
      v123 = 1;
      v124 = 0;
      while ( v63 != -8 )
      {
        if ( !v124 && v63 == -16 )
          v124 = v62;
        v61 = (v57 - 1) & ((_DWORD)v61 + v123);
        v62 = (_QWORD *)(v60 + 16 * v61);
        v63 = *v62;
        if ( *v59 == *v62 )
          goto LABEL_69;
        ++v123;
      }
      v125 = *((_DWORD *)v15 + 92);
      if ( v124 )
        v62 = v124;
      ++v15[44];
      v126 = v125 + 1;
      if ( 4 * (v125 + 1) < 3 * v57 )
      {
        if ( v57 - *((_DWORD *)v15 + 93) - v126 > v57 >> 3 )
        {
LABEL_166:
          *((_DWORD *)v15 + 92) = v126;
          if ( *v62 != -8 )
            --*((_DWORD *)v15 + 93);
          v127 = *v59;
          v62[1] = 0;
          *v62 = v127;
          goto LABEL_69;
        }
        sub_39800A0(v143, v57);
        v135 = *((_DWORD *)v15 + 94);
        if ( v135 )
        {
          v136 = v135 - 1;
          v137 = v15[45];
          v134 = 0;
          v138 = 1;
          v126 = *((_DWORD *)v15 + 92) + 1;
          LODWORD(v139) = v136 & (((unsigned int)*v59 >> 9) ^ ((unsigned int)*v59 >> 4));
          v62 = (_QWORD *)(v137 + 16LL * (unsigned int)v139);
          v140 = *v62;
          if ( *v59 == *v62 )
            goto LABEL_166;
          while ( v140 != -8 )
          {
            if ( v140 == -16 && !v134 )
              v134 = v62;
            v139 = v136 & (unsigned int)(v139 + v138);
            v62 = (_QWORD *)(v137 + 16 * v139);
            v140 = *v62;
            if ( *v59 == *v62 )
              goto LABEL_166;
            ++v138;
          }
          goto LABEL_178;
        }
        goto LABEL_232;
      }
LABEL_174:
      sub_39800A0(v143, 2 * v57);
      v128 = *((_DWORD *)v15 + 94);
      if ( v128 )
      {
        v129 = v128 - 1;
        v130 = v15[45];
        v126 = *((_DWORD *)v15 + 92) + 1;
        LODWORD(v131) = v129 & (((unsigned int)*v59 >> 9) ^ ((unsigned int)*v59 >> 4));
        v62 = (_QWORD *)(v130 + 16LL * (unsigned int)v131);
        v132 = *v62;
        if ( *v59 == *v62 )
          goto LABEL_166;
        v133 = 1;
        v134 = 0;
        while ( v132 != -8 )
        {
          if ( v132 == -16 && !v134 )
            v134 = v62;
          v131 = v129 & (unsigned int)(v131 + v133);
          v62 = (_QWORD *)(v130 + 16 * v131);
          v132 = *v62;
          if ( *v59 == *v62 )
            goto LABEL_166;
          ++v133;
        }
LABEL_178:
        if ( v134 )
          v62 = v134;
        goto LABEL_166;
      }
LABEL_232:
      ++*((_DWORD *)v15 + 92);
      BUG();
    }
LABEL_69:
    v16 = v156;
    v62[1] = *(_QWORD *)(v58 + 384);
    v64 = sub_1E16510(**(_QWORD **)(v156 + 16));
    sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v64 + 24), *(unsigned __int64 **)(v64 + 32));
    if ( !v160 )
      goto LABEL_16;
    v154 = *(__int64 **)(v156 + 16);
    if ( !*(_DWORD *)(v156 + 24) )
      goto LABEL_12;
    v142 = v15;
    do
    {
      v71 = sub_1E16510(*v154);
      v72 = *(__int64 **)(v156 + 16);
      v73 = (char *)v154 - (char *)v72;
      v74 = ((char *)v154 - (char *)v72) >> 6;
      if ( v74 <= 0 )
      {
        if ( v73 != 32 )
        {
          if ( v73 != 48 )
          {
            if ( v73 == 16 )
              goto LABEL_95;
            goto LABEL_73;
          }
LABEL_119:
          v100 = sub_1E16510(*v72);
          sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
          if ( !v160
            || (sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v100 + 24), *(unsigned __int64 **)(v100 + 32)), !v160)
            || (sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32)),
                v101 = (int)v158,
                v151 = v159,
                sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v100 + 24), *(unsigned __int64 **)(v100 + 32)),
                v151 + v101 > (unsigned int)v159)
            && (int)v158 + (int)v159 > v151 )
          {
LABEL_72:
            if ( v72 != v154 )
            {
              v15 = v142;
              goto LABEL_52;
            }
            goto LABEL_73;
          }
          v72 += 2;
        }
LABEL_124:
        v102 = sub_1E16510(*v72);
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
        if ( v160 )
        {
          sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v102 + 24), *(unsigned __int64 **)(v102 + 32));
          if ( v160 )
          {
            sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
            v103 = v159;
            v152 = (int)v158;
            sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v102 + 24), *(unsigned __int64 **)(v102 + 32));
            if ( (int)v159 + (int)v158 <= v103 || v152 + v103 <= (unsigned int)v159 )
            {
              v72 += 2;
              goto LABEL_95;
            }
          }
        }
        goto LABEL_72;
      }
      v150 = &v72[8 * v74];
      do
      {
        v75 = sub_1E16510(*v72);
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
        if ( !v160 )
          goto LABEL_72;
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v75 + 24), *(unsigned __int64 **)(v75 + 32));
        if ( !v160 )
          goto LABEL_72;
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
        v76 = v159;
        v146 = (int)v158;
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v75 + 24), *(unsigned __int64 **)(v75 + 32));
        if ( (int)v159 + (int)v158 > v76 && v76 + v146 > (unsigned int)v159 )
          goto LABEL_72;
        v77 = v72 + 2;
        v78 = sub_1E16510(v72[2]);
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
        if ( !v160 )
          goto LABEL_100;
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v78 + 24), *(unsigned __int64 **)(v78 + 32));
        if ( !v160 )
          goto LABEL_100;
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
        v147 = (int)v158;
        v144 = v159;
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v78 + 24), *(unsigned __int64 **)(v78 + 32));
        if ( v144 + v147 > (unsigned int)v159 )
          goto LABEL_100;
        v77 = v72 + 4;
        v79 = sub_1E16510(v72[4]);
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
        if ( !v160 )
          goto LABEL_100;
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v79 + 24), *(unsigned __int64 **)(v79 + 32));
        if ( !v160 )
          goto LABEL_100;
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
        v148 = (int)v158;
        v145 = v159;
        sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v79 + 24), *(unsigned __int64 **)(v79 + 32));
        if ( v145 + v148 > (unsigned int)v159
          || (v77 = v72 + 6,
              v80 = sub_1E16510(v72[6]),
              sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32)),
              !v160)
          || (sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v80 + 24), *(unsigned __int64 **)(v80 + 32)), !v160)
          || (sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32)),
              v149 = v159,
              sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v80 + 24), *(unsigned __int64 **)(v80 + 32)),
              (int)v159 + (int)v158 > v149) )
        {
LABEL_100:
          v72 = v77;
          goto LABEL_72;
        }
        v72 += 8;
      }
      while ( v150 != v72 );
      v81 = (char *)v154 - (char *)v72;
      if ( (char *)v154 - (char *)v72 == 32 )
        goto LABEL_124;
      if ( v81 == 48 )
        goto LABEL_119;
      if ( v81 != 16 )
        goto LABEL_73;
LABEL_95:
      v82 = sub_1E16510(*v72);
      sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
      if ( !v160 )
        goto LABEL_72;
      sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v82 + 24), *(unsigned __int64 **)(v82 + 32));
      if ( !v160 )
        goto LABEL_72;
      sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v71 + 24), *(unsigned __int64 **)(v71 + 32));
      v83 = v159;
      v84 = v159 + (_DWORD)v158;
      sub_15B1350((__int64)&v158, *(unsigned __int64 **)(v82 + 24), *(unsigned __int64 **)(v82 + 32));
      if ( v84 > (unsigned int)v159 && (int)v158 + (int)v159 > v83 )
        goto LABEL_72;
LABEL_73:
      v65 = *((_DWORD *)v142 + 94);
      v66 = v142[1];
      if ( v65 )
      {
        v67 = v142[45];
        v68 = (v65 - 1) & (((unsigned int)*v154 >> 9) ^ ((unsigned int)*v154 >> 4));
        v69 = (__int64 *)(v67 + 16LL * v68);
        v70 = *v69;
        if ( *v154 == *v69 )
          goto LABEL_75;
        v104 = 1;
        v105 = 0;
        while ( v70 != -8 )
        {
          if ( !v105 && v70 == -16 )
            v105 = v69;
          v68 = (v65 - 1) & (v104 + v68);
          v69 = (__int64 *)(v67 + 16LL * v68);
          v70 = *v69;
          if ( *v154 == *v69 )
            goto LABEL_75;
          ++v104;
        }
        if ( v105 )
          v69 = v105;
        ++v142[44];
        v106 = *((_DWORD *)v142 + 92) + 1;
        if ( 4 * v106 < 3 * v65 )
        {
          if ( v65 - *((_DWORD *)v142 + 93) - v106 > v65 >> 3 )
            goto LABEL_139;
          sub_39800A0(v143, v65);
          v116 = *((_DWORD *)v142 + 94);
          if ( !v116 )
          {
LABEL_230:
            ++*((_DWORD *)v142 + 92);
            BUG();
          }
          v117 = v116 - 1;
          v118 = 1;
          v115 = 0;
          v119 = v142[45];
          v120 = *v154;
          v106 = *((_DWORD *)v142 + 92) + 1;
          v121 = v117 & (((unsigned int)v120 >> 9) ^ ((unsigned int)v120 >> 4));
          v69 = (__int64 *)(v119 + 16LL * v121);
          v122 = *v69;
          if ( *v154 == *v69 )
            goto LABEL_139;
          while ( v122 != -8 )
          {
            if ( v122 == -16 && !v115 )
              v115 = v69;
            v121 = v117 & (v118 + v121);
            v69 = (__int64 *)(v119 + 16LL * v121);
            v122 = *v69;
            if ( v120 == *v69 )
              goto LABEL_139;
            ++v118;
          }
          goto LABEL_148;
        }
      }
      else
      {
        ++v142[44];
      }
      sub_39800A0(v143, 2 * v65);
      v108 = *((_DWORD *)v142 + 94);
      if ( !v108 )
        goto LABEL_230;
      v109 = v108 - 1;
      v110 = v142[45];
      v111 = *v154;
      v106 = *((_DWORD *)v142 + 92) + 1;
      v112 = v109 & (((unsigned int)v111 >> 9) ^ ((unsigned int)v111 >> 4));
      v69 = (__int64 *)(v110 + 16LL * v112);
      v113 = *v69;
      if ( *v154 == *v69 )
        goto LABEL_139;
      v114 = 1;
      v115 = 0;
      while ( v113 != -8 )
      {
        if ( !v115 && v113 == -16 )
          v115 = v69;
        v112 = v109 & (v114 + v112);
        v69 = (__int64 *)(v110 + 16LL * v112);
        v113 = *v69;
        if ( v111 == *v69 )
          goto LABEL_139;
        ++v114;
      }
LABEL_148:
      if ( v115 )
        v69 = v115;
LABEL_139:
      *((_DWORD *)v142 + 92) = v106;
      if ( *v69 != -8 )
        --*((_DWORD *)v142 + 93);
      v107 = *v154;
      v69[1] = 0;
      *v69 = v107;
LABEL_75:
      v154 += 2;
      v69[1] = *(_QWORD *)(v66 + 384);
      v20 = *(__int64 **)(v156 + 16);
    }
    while ( v154 != &v20[2 * *(unsigned int *)(v156 + 24)] );
    v15 = v142;
LABEL_18:
    while ( v154 != v20 )
    {
      v31 = *((_DWORD *)v15 + 94);
      v32 = *v20;
      if ( v31 )
      {
        v21 = v15[45];
        v22 = (v31 - 1) & (((unsigned int)v32 >> 9) ^ ((unsigned int)v32 >> 4));
        v23 = (__int64 *)(v21 + 16LL * v22);
        v24 = *v23;
        if ( v32 == *v23 )
          goto LABEL_21;
        v42 = 1;
        v38 = 0;
        while ( v24 != -8 )
        {
          if ( v24 != -16 || v38 )
            v23 = v38;
          v22 = (v31 - 1) & (v42 + v22);
          v24 = *(_QWORD *)(v21 + 16LL * v22);
          if ( v32 == v24 )
            goto LABEL_21;
          ++v42;
          v38 = v23;
          v23 = (__int64 *)(v21 + 16LL * v22);
        }
        if ( !v38 )
          v38 = v23;
        v43 = *((_DWORD *)v15 + 92);
        ++v15[44];
        v37 = v43 + 1;
        if ( 4 * (v43 + 1) < 3 * v31 )
        {
          if ( v31 - *((_DWORD *)v15 + 93) - v37 <= v31 >> 3 )
          {
            sub_39800A0(v143, v31);
            v44 = *((_DWORD *)v15 + 94);
            if ( !v44 )
              goto LABEL_232;
            v45 = v44 - 1;
            v46 = v15[45];
            v47 = 0;
            v48 = v45 & (((unsigned int)v32 >> 9) ^ ((unsigned int)v32 >> 4));
            v49 = 1;
            v37 = *((_DWORD *)v15 + 92) + 1;
            v38 = (__int64 *)(v46 + 16LL * v48);
            v50 = *v38;
            if ( v32 != *v38 )
            {
              while ( v50 != -8 )
              {
                if ( !v47 && v50 == -16 )
                  v47 = v38;
                v48 = v45 & (v48 + v49);
                v38 = (__int64 *)(v46 + 16LL * v48);
                v50 = *v38;
                if ( v32 == *v38 )
                  goto LABEL_29;
                ++v49;
              }
              if ( v47 )
                v38 = v47;
            }
          }
          goto LABEL_29;
        }
      }
      else
      {
        ++v15[44];
      }
      sub_39800A0(v143, 2 * v31);
      v33 = *((_DWORD *)v15 + 94);
      if ( !v33 )
        goto LABEL_232;
      v34 = v33 - 1;
      v35 = v15[45];
      v36 = (v33 - 1) & (((unsigned int)v32 >> 9) ^ ((unsigned int)v32 >> 4));
      v37 = *((_DWORD *)v15 + 92) + 1;
      v38 = (__int64 *)(v35 + 16LL * v36);
      v39 = *v38;
      if ( v32 != *v38 )
      {
        v55 = 1;
        v56 = 0;
        while ( v39 != -8 )
        {
          if ( !v56 && v39 == -16 )
            v56 = v38;
          v36 = v34 & (v36 + v55);
          v38 = (__int64 *)(v35 + 16LL * v36);
          v39 = *v38;
          if ( v32 == *v38 )
            goto LABEL_29;
          ++v55;
        }
        if ( v56 )
          v38 = v56;
      }
LABEL_29:
      *((_DWORD *)v15 + 92) = v37;
      if ( *v38 != -8 )
        --*((_DWORD *)v15 + 93);
      *v38 = v32;
      v38[1] = 0;
LABEL_21:
      v25 = v20[1];
      if ( v25 )
      {
        v26 = *((_DWORD *)v15 + 102);
        if ( !v26 )
        {
          ++v15[48];
          goto LABEL_102;
        }
        v27 = v15[49];
        v28 = (v26 - 1) & (((unsigned int)v25 >> 9) ^ ((unsigned int)v25 >> 4));
        v29 = (__int64 *)(v27 + 16LL * v28);
        v30 = *v29;
        if ( v25 != *v29 )
        {
          v51 = 1;
          v52 = 0;
          while ( v30 != -8 )
          {
            if ( v52 || v30 != -16 )
              v29 = v52;
            v28 = (v26 - 1) & (v51 + v28);
            v30 = *(_QWORD *)(v27 + 16LL * v28);
            if ( v25 == v30 )
              goto LABEL_24;
            ++v51;
            v52 = v29;
            v29 = (__int64 *)(v27 + 16LL * v28);
          }
          if ( !v52 )
            v52 = v29;
          v53 = *((_DWORD *)v15 + 100);
          ++v15[48];
          v54 = v53 + 1;
          if ( 4 * (v53 + 1) < 3 * v26 )
          {
            if ( v26 - *((_DWORD *)v15 + 101) - v54 <= v26 >> 3 )
            {
              sub_39800A0(v141, v26);
              v92 = *((_DWORD *)v15 + 102);
              if ( !v92 )
              {
LABEL_231:
                ++*((_DWORD *)v15 + 100);
                BUG();
              }
              v93 = v92 - 1;
              v94 = v15[49];
              v95 = 0;
              v96 = v93 & (((unsigned int)v25 >> 9) ^ ((unsigned int)v25 >> 4));
              v97 = 1;
              v54 = *((_DWORD *)v15 + 100) + 1;
              v52 = (__int64 *)(v94 + 16LL * v96);
              v98 = *v52;
              if ( v25 != *v52 )
              {
                while ( v98 != -8 )
                {
                  if ( !v95 && v98 == -16 )
                    v95 = v52;
                  v96 = v93 & (v96 + v97);
                  v52 = (__int64 *)(v94 + 16LL * v96);
                  v98 = *v52;
                  if ( v25 == *v52 )
                    goto LABEL_59;
                  ++v97;
                }
                if ( v95 )
                  v52 = v95;
              }
            }
            goto LABEL_59;
          }
LABEL_102:
          sub_39800A0(v141, 2 * v26);
          v85 = *((_DWORD *)v15 + 102);
          if ( !v85 )
            goto LABEL_231;
          v86 = v85 - 1;
          v87 = v15[49];
          v88 = (v85 - 1) & (((unsigned int)v25 >> 9) ^ ((unsigned int)v25 >> 4));
          v54 = *((_DWORD *)v15 + 100) + 1;
          v52 = (__int64 *)(v87 + 16LL * v88);
          v89 = *v52;
          if ( v25 != *v52 )
          {
            v90 = 1;
            v91 = 0;
            while ( v89 != -8 )
            {
              if ( v89 == -16 && !v91 )
                v91 = v52;
              v88 = v86 & (v88 + v90);
              v52 = (__int64 *)(v87 + 16LL * v88);
              v89 = *v52;
              if ( v25 == *v52 )
                goto LABEL_59;
              ++v90;
            }
            if ( v91 )
              v52 = v91;
          }
LABEL_59:
          *((_DWORD *)v15 + 100) = v54;
          if ( *v52 != -8 )
            --*((_DWORD *)v15 + 101);
          *v52 = v25;
          v52[1] = 0;
        }
      }
LABEL_24:
      v20 += 2;
    }
LABEL_12:
    v156 += 96;
    if ( v153 != v156 )
      continue;
    break;
  }
  v2 = v15;
LABEL_33:
  v40 = v2[3];
  v158 = 0;
  if ( v40 )
  {
    sub_161E7C0((__int64)(v2 + 3), v40);
    v41 = v158;
    v2[3] = v158;
    if ( v41 )
      sub_1623210((__int64)&v158, v41, (__int64)(v2 + 3));
  }
  v2[4] = *(_QWORD *)(v2[1] + 384LL);
  return (void (*)())(*(__int64 (__fastcall **)(_QWORD *, __int64 *))(*v2 + 104LL))(v2, a2);
}
