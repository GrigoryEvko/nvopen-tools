// Function: sub_343D170
// Address: 0x343d170
//
void __fastcall sub_343D170(__int64 a1, unsigned __int8 *a2, __int64 a3, __m128i a4)
{
  unsigned __int8 *v4; // r15
  __int64 v5; // rbx
  unsigned int v6; // edx
  __int64 v7; // rsi
  __int64 v8; // rax
  bool v9; // cc
  _QWORD *v10; // rax
  _QWORD *v11; // r12
  __int64 v12; // r13
  __int64 v13; // rax
  __int64 v14; // rsi
  __int64 v15; // rcx
  __int64 v16; // rdx
  __int64 v17; // rdi
  __int64 v18; // r14
  __int64 v19; // rdx
  __int64 v20; // r9
  __int64 v21; // rax
  __int64 v22; // r8
  __int64 v23; // r8
  __int64 v24; // r9
  __int64 v25; // r12
  __int64 v26; // rax
  __int64 v27; // rdx
  __m128i *v28; // rsi
  __int64 v29; // rax
  __m128i *v30; // r14
  __int64 v31; // r12
  __m128i *v32; // rsi
  __int64 v33; // rax
  __int64 v34; // rdx
  __int64 *v35; // r12
  __int64 v36; // rax
  __int64 v37; // r13
  unsigned __int64 v38; // rdx
  __int64 v39; // rax
  __m128i v40; // rax
  __m128 *v41; // r15
  unsigned __int64 v42; // rax
  __int64 v43; // rax
  __int64 v44; // rdx
  __int64 v45; // r12
  __int64 v46; // r12
  __int64 v47; // r13
  __int64 v48; // r12
  __int64 v49; // rax
  unsigned int *v50; // rax
  unsigned __int64 v51; // r13
  char v52; // al
  unsigned __int8 *v53; // r13
  __int64 v54; // rax
  __int64 v55; // rdx
  __int64 v56; // r12
  __int64 v57; // r12
  __int64 v58; // r14
  __int64 v59; // r12
  __int64 v60; // rax
  unsigned int *v61; // rax
  unsigned __int8 *v62; // r14
  __int64 v63; // r15
  __m128i v64; // rax
  __int64 v65; // rcx
  __int64 v66; // r8
  __int64 v67; // r9
  __int64 v68; // rax
  unsigned __int64 v69; // rdx
  __int64 v70; // rax
  unsigned __int64 v71; // rdx
  __int64 v72; // rax
  __int64 v73; // rdx
  __int64 v74; // r12
  __int64 v75; // r12
  __int64 v76; // r13
  __int64 v77; // r12
  __int64 v78; // rax
  unsigned int *v79; // rax
  unsigned __int64 v80; // r13
  char v81; // al
  unsigned __int8 *v82; // r13
  __int64 v83; // rax
  __int64 v84; // rdx
  __int64 v85; // r12
  __int64 v86; // r12
  __int64 v87; // r14
  __int64 v88; // r12
  __int64 v89; // rax
  unsigned int *v90; // rax
  __int64 v91; // rcx
  __int64 v92; // rdx
  unsigned __int8 *v93; // rax
  __int64 v94; // r13
  __int64 v95; // rax
  _QWORD *v96; // rax
  __int64 v97; // rax
  __int64 v98; // rdx
  __int64 v99; // r12
  __int64 v100; // r12
  __int64 v101; // r13
  __int64 v102; // r12
  __int64 v103; // rax
  unsigned int *v104; // rax
  unsigned __int64 v105; // r13
  char v106; // al
  unsigned __int8 *v107; // r13
  __int64 v108; // rax
  __int64 v109; // rdx
  __int64 v110; // r12
  __int64 v111; // r12
  __int64 v112; // r14
  __int64 v113; // r12
  __int64 v114; // rax
  unsigned int *v115; // rax
  char v116; // dl
  unsigned __int8 *v117; // rax
  __int64 v118; // rax
  __int64 v119; // rdx
  __int64 v120; // r12
  __int64 v121; // r12
  __int64 v122; // r13
  __int64 v123; // r12
  __int64 v124; // rax
  unsigned int *v125; // rax
  unsigned __int8 *v126; // r13
  __int64 v127; // rax
  __int64 v128; // rdx
  __int64 v129; // r12
  __int64 v130; // r12
  __int64 v131; // r14
  __int64 v132; // r12
  __int64 v133; // rax
  unsigned int *v134; // rax
  __int64 v135; // rdx
  unsigned __int8 *v136; // rax
  __int64 v137; // rax
  _QWORD *v138; // rax
  __int64 v139; // rax
  _QWORD *v140; // rax
  __int64 v141; // rax
  __int64 v142; // rdx
  __int64 v143; // r14
  _QWORD *v144; // rax
  bool v145; // zf
  __int64 v146; // rdi
  int v147; // eax
  int v148; // r13d
  int v149; // eax
  __int64 v150; // rcx
  __int32 v151; // edx
  __m128i *v152; // r8
  __m128i *v153; // rax
  __int64 v154; // rsi
  unsigned __int64 v155; // rdx
  __int64 v156; // r8
  __int64 v157; // r9
  __int64 v158; // rax
  __m128i v159; // xmm0
  __int64 v160; // rbx
  unsigned int v161; // esi
  int v162; // r10d
  __int64 v163; // r8
  unsigned __int8 **v164; // rax
  unsigned int v165; // ecx
  _QWORD *v166; // rdx
  unsigned __int8 *v167; // rdi
  int *v168; // rax
  unsigned __int64 v169; // rbx
  unsigned __int64 v170; // rdi
  char v171; // dl
  __int64 v172; // rax
  __int64 v173; // r9
  __int64 v174; // rdx
  unsigned __int64 v175; // r8
  __int64 v176; // r13
  __int64 v177; // rax
  unsigned __int64 v178; // rdx
  __int64 v179; // rbx
  const __m128i *v180; // r12
  __int64 v181; // rdx
  __int64 v182; // rsi
  int v183; // edx
  __int64 v184; // r13
  char v185; // al
  __int64 v186; // rax
  __int64 v187; // rdx
  __int64 v188; // r12
  int v189; // r12d
  __int64 v190; // rax
  __int64 v191; // rdx
  int v192; // edx
  __int64 v193; // r14
  __int64 v194; // rax
  __int64 v195; // rdx
  __int64 v196; // r12
  int v197; // r12d
  __int64 v198; // rax
  __int64 v199; // rdx
  int v200; // edx
  __int64 v201; // r14
  __int64 v202; // rax
  __int64 v203; // rdx
  __int64 v204; // r12
  __int64 v205; // rax
  int v206; // r12d
  __int64 v207; // rax
  __int64 v208; // rdx
  int v209; // edx
  __int64 v210; // r14
  __int64 v211; // rax
  __int64 v212; // rdx
  __int64 v213; // r12
  int v214; // r12d
  __int64 v215; // rax
  __int64 v216; // rdx
  int v217; // edx
  __int64 v218; // r13
  __int64 v219; // rax
  __int64 v220; // rdx
  __int64 v221; // r12
  int v222; // r12d
  __int64 v223; // rax
  __int64 v224; // rdx
  int v225; // edx
  __int64 v226; // r14
  __int64 v227; // rax
  __int64 v228; // rdx
  __int64 v229; // r12
  __int64 v230; // rax
  int v231; // r12d
  __int64 v232; // rax
  __int64 v233; // rdx
  int v234; // edx
  __int64 v235; // r13
  __int64 v236; // rax
  __int64 v237; // rdx
  __int64 v238; // r12
  int v239; // r12d
  __int64 v240; // rax
  __int64 v241; // rdx
  int v242; // edx
  __int64 v243; // r13
  __int64 v244; // rax
  __int64 v245; // rdx
  __int64 v246; // r12
  int v247; // r12d
  __int64 v248; // rax
  __int64 v249; // rdx
  int v250; // edx
  __m128i *v251; // rax
  __int64 v252; // r13
  __int64 *v253; // rsi
  unsigned __int8 *v254; // rax
  unsigned __int8 *v255; // r14
  __int64 v256; // rdx
  __int64 v257; // r13
  _QWORD *v258; // rax
  unsigned __int64 v259; // rbx
  unsigned __int64 v260; // rdi
  _QWORD *v261; // rdi
  unsigned __int16 *v262; // rdx
  __int64 v263; // r8
  unsigned int v264; // ecx
  _QWORD *v265; // rax
  __m128i *v266; // rdx
  int v267; // r12d
  int v268; // r12d
  __int64 v269; // r11
  int v270; // edx
  unsigned int v271; // ecx
  unsigned __int8 *v272; // r8
  int v273; // ecx
  int v274; // r11d
  int v275; // r11d
  int v276; // esi
  __int64 v277; // r9
  unsigned int v278; // r12d
  unsigned __int8 **v279; // rcx
  unsigned __int8 *v280; // rdi
  int v281; // edi
  unsigned __int8 **v282; // rsi
  __int128 v283; // [rsp-20h] [rbp-15E0h]
  __m128i v284; // [rsp+0h] [rbp-15C0h] BYREF
  _BYTE **v285; // [rsp+18h] [rbp-15A8h]
  int *v286; // [rsp+20h] [rbp-15A0h]
  unsigned __int8 *v287; // [rsp+28h] [rbp-1598h]
  _BYTE *v288; // [rsp+30h] [rbp-1590h]
  _BYTE *v289; // [rsp+38h] [rbp-1588h]
  _BYTE *v290; // [rsp+40h] [rbp-1580h]
  _BYTE *v291; // [rsp+48h] [rbp-1578h]
  __int64 v292; // [rsp+50h] [rbp-1570h]
  const __m128i *v293; // [rsp+58h] [rbp-1568h]
  _BYTE *v294; // [rsp+60h] [rbp-1560h]
  _BYTE *v295; // [rsp+68h] [rbp-1558h]
  __int64 v296; // [rsp+70h] [rbp-1550h]
  _BYTE *v297; // [rsp+78h] [rbp-1548h]
  __int64 v298; // [rsp+80h] [rbp-1540h]
  __m128i *v299; // [rsp+88h] [rbp-1538h]
  __m128i v300; // [rsp+90h] [rbp-1530h] BYREF
  __int64 v301; // [rsp+A0h] [rbp-1520h]
  __int64 v302; // [rsp+A8h] [rbp-1518h]
  unsigned __int8 *v303; // [rsp+B0h] [rbp-1510h]
  __int64 v304; // [rsp+B8h] [rbp-1508h]
  __m128i v305; // [rsp+C0h] [rbp-1500h] BYREF
  __m128i v306; // [rsp+D0h] [rbp-14F0h] BYREF
  __int64 *v307; // [rsp+E0h] [rbp-14E0h] BYREF
  __m128i *v308; // [rsp+E8h] [rbp-14D8h]
  __m128i *v309; // [rsp+F0h] [rbp-14D0h] BYREF
  char *v310; // [rsp+130h] [rbp-1490h]
  char v311; // [rsp+148h] [rbp-1478h] BYREF
  char *v312; // [rsp+150h] [rbp-1470h]
  char v313; // [rsp+160h] [rbp-1460h] BYREF
  char *v314; // [rsp+170h] [rbp-1450h]
  char v315; // [rsp+180h] [rbp-1440h] BYREF
  const __m128i *v316; // [rsp+1A0h] [rbp-1420h] BYREF
  __int64 v317; // [rsp+1A8h] [rbp-1418h]
  _BYTE v318[128]; // [rsp+1B0h] [rbp-1410h] BYREF
  __int64 v319; // [rsp+230h] [rbp-1390h] BYREF
  int v320; // [rsp+238h] [rbp-1388h] BYREF
  unsigned __int64 v321; // [rsp+240h] [rbp-1380h]
  int *v322; // [rsp+248h] [rbp-1378h]
  int *v323; // [rsp+250h] [rbp-1370h]
  __int64 v324; // [rsp+258h] [rbp-1368h]
  _BYTE *v325; // [rsp+260h] [rbp-1360h] BYREF
  __int64 v326; // [rsp+268h] [rbp-1358h]
  _BYTE v327[128]; // [rsp+270h] [rbp-1350h] BYREF
  _BYTE *v328; // [rsp+2F0h] [rbp-12D0h] BYREF
  __int64 v329; // [rsp+2F8h] [rbp-12C8h]
  _BYTE v330[128]; // [rsp+300h] [rbp-12C0h] BYREF
  _BYTE *v331; // [rsp+380h] [rbp-1240h] BYREF
  __int64 v332; // [rsp+388h] [rbp-1238h]
  _BYTE v333[128]; // [rsp+390h] [rbp-1230h] BYREF
  unsigned __int8 *v334; // [rsp+410h] [rbp-11B0h]
  __int64 v335; // [rsp+418h] [rbp-11A8h]
  unsigned __int8 *v336; // [rsp+420h] [rbp-11A0h]
  unsigned __int8 *v337; // [rsp+428h] [rbp-1198h]
  __int64 v338; // [rsp+430h] [rbp-1190h]
  __int64 v339; // [rsp+438h] [rbp-1188h]
  _QWORD v340[7]; // [rsp+440h] [rbp-1180h] BYREF
  unsigned __int64 v341; // [rsp+478h] [rbp-1148h]
  __int64 v342; // [rsp+480h] [rbp-1140h]
  __int64 v343; // [rsp+488h] [rbp-1138h]
  __int64 v344; // [rsp+490h] [rbp-1130h]
  __int64 v345; // [rsp+498h] [rbp-1128h] BYREF
  int v346; // [rsp+4A0h] [rbp-1120h]
  __int64 v347; // [rsp+4A8h] [rbp-1118h]
  _BYTE *v348; // [rsp+4B0h] [rbp-1110h]
  __int64 v349; // [rsp+4B8h] [rbp-1108h]
  _BYTE v350[1792]; // [rsp+4C0h] [rbp-1100h] BYREF
  _BYTE *v351; // [rsp+BC0h] [rbp-A00h]
  __int64 v352; // [rsp+BC8h] [rbp-9F8h]
  _BYTE v353[512]; // [rsp+BD0h] [rbp-9F0h] BYREF
  _BYTE *v354; // [rsp+DD0h] [rbp-7F0h]
  __int64 v355; // [rsp+DD8h] [rbp-7E8h]
  _BYTE v356[1792]; // [rsp+DE0h] [rbp-7E0h] BYREF
  _BYTE *v357; // [rsp+14E0h] [rbp-E0h]
  __int64 v358; // [rsp+14E8h] [rbp-D8h]
  _BYTE v359[64]; // [rsp+14F0h] [rbp-D0h] BYREF
  __int64 v360; // [rsp+1530h] [rbp-90h]
  __int64 v361; // [rsp+1538h] [rbp-88h]
  int v362; // [rsp+1540h] [rbp-80h]
  char v363; // [rsp+1560h] [rbp-60h]
  unsigned __int8 *v364; // [rsp+1568h] [rbp-58h]
  __int64 v365; // [rsp+1570h] [rbp-50h]
  __int64 v366; // [rsp+1578h] [rbp-48h]
  int v367; // [rsp+1580h] [rbp-40h]
  __int64 v368; // [rsp+1588h] [rbp-38h]

  v4 = a2;
  v5 = a1;
  v292 = a3;
  v7 = sub_338B750(a1, *(_QWORD *)&a2[32 * (2LL - (*((_DWORD *)a2 + 1) & 0x7FFFFFF))]);
  v8 = *(_QWORD *)&v4[32 * (1LL - (*((_DWORD *)v4 + 1) & 0x7FFFFFF))];
  v9 = *(_DWORD *)(v8 + 32) <= 0x40u;
  v10 = *(_QWORD **)(v8 + 24);
  if ( !v9 )
    v10 = (_QWORD *)*v10;
  if ( !(_DWORD)v10 )
  {
    v11 = (_QWORD *)v7;
    v12 = v6;
    v13 = *((_QWORD *)v4 + 2);
    if ( v13 )
      goto LABEL_5;
LABEL_324:
    v296 = 0;
    v18 = 0;
    v298 = 0;
    goto LABEL_19;
  }
  v261 = *(_QWORD **)(a1 + 864);
  v262 = (unsigned __int16 *)(*(_QWORD *)(v7 + 48) + 16LL * v6);
  v263 = *((_QWORD *)v262 + 1);
  v264 = *v262;
  v325 = 0;
  LODWORD(v326) = 0;
  v265 = sub_33F17F0(v261, 51, (__int64)&v325, v264, v263);
  if ( v325 )
  {
    v299 = v266;
    v300.m128i_i64[0] = (__int64)v265;
    sub_B91220((__int64)&v325, (__int64)v325);
    LODWORD(v266) = (_DWORD)v299;
    v265 = (_QWORD *)v300.m128i_i64[0];
  }
  v11 = v265;
  v12 = (unsigned int)v266;
  v13 = *((_QWORD *)v4 + 2);
  if ( !v13 )
    goto LABEL_324;
LABEL_5:
  v14 = 0;
  v15 = 0;
  do
  {
    while ( 1 )
    {
      v16 = *(_QWORD *)(v13 + 24);
      if ( *(_BYTE *)v16 == 85 )
      {
        v17 = *(_QWORD *)(v16 - 32);
        if ( v17 )
        {
          if ( !*(_BYTE *)v17
            && *(_QWORD *)(v17 + 24) == *(_QWORD *)(v16 + 80)
            && (*(_BYTE *)(v17 + 33) & 0x20) != 0
            && *(_DWORD *)(v17 + 36) == 150 )
          {
            break;
          }
        }
      }
      v13 = *(_QWORD *)(v13 + 8);
      if ( !v13 )
        goto LABEL_17;
    }
    v13 = *(_QWORD *)(v13 + 8);
    if ( *(_QWORD *)(v16 + 40) == *((_QWORD *)v4 + 5) )
      v15 = v16;
    else
      v14 = v16;
  }
  while ( v13 );
LABEL_17:
  v298 = v15;
  v18 = 0;
  v296 = v14;
  if ( v15 )
  {
    v325 = *(_BYTE **)(v15 + 72);
    v18 = sub_A74610(&v325);
  }
LABEL_19:
  v19 = *(_QWORD *)(v5 + 864);
  v334 = 0;
  v295 = v327;
  v325 = v327;
  v326 = 0x1000000000LL;
  v329 = 0x1000000000LL;
  v332 = 0x1000000000LL;
  v340[3] = 0xFFFFFFFF00000020LL;
  v294 = v330;
  v328 = v330;
  v291 = v350;
  v348 = v350;
  v344 = v19;
  v297 = v333;
  v331 = v333;
  v335 = 0;
  v336 = 0;
  v337 = 0;
  v338 = 0;
  v339 = -1;
  memset(v340, 0, 24);
  memset(&v340[4], 0, 24);
  v341 = 0;
  v342 = 0;
  v343 = 0;
  v345 = 0;
  v346 = 0;
  v347 = 0;
  v349 = 0x2000000000LL;
  v352 = 0x2000000000LL;
  v355 = 0x2000000000LL;
  v290 = v353;
  v351 = v353;
  v288 = v359;
  v357 = v359;
  v289 = v356;
  v354 = v356;
  v358 = 0x400000000LL;
  v360 = 0;
  v361 = 0;
  v362 = 0;
  v363 = 0;
  v364 = 0;
  v365 = 0;
  v366 = -1;
  v367 = -1;
  v368 = 0;
  v20 = **(_QWORD **)(sub_A74920((_QWORD *)v4 + 9, 2) + 16);
  v21 = *(_QWORD *)&v4[32 * (3LL - (*((_DWORD *)v4 + 1) & 0x7FFFFFF))];
  if ( *(_DWORD *)(v21 + 32) <= 0x40u )
    v22 = *(_QWORD *)(v21 + 24);
  else
    v22 = **(_QWORD **)(v21 + 24);
  *((_QWORD *)&v283 + 1) = v12;
  *(_QWORD *)&v283 = v11;
  sub_33AC4A0(v5, (__int64)v340, (__int64)v4, 5u, v22, v20, v283, v18, 0);
  v25 = *((_QWORD *)v4 + 2);
  v320 = 0;
  v293 = (const __m128i *)v318;
  v316 = (const __m128i *)v318;
  v317 = 0x800000000LL;
  v321 = 0;
  v286 = &v320;
  v322 = &v320;
  v323 = &v320;
  v324 = 0;
  v307 = 0;
  v308 = 0;
  v309 = 0;
  if ( !v25 )
  {
    if ( *v4 != 34 )
      goto LABEL_64;
LABEL_35:
    v29 = sub_B4B0F0((__int64)v4);
    v30 = v308;
    v31 = *(_QWORD *)(v29 + 16);
    if ( !v31 )
      goto LABEL_49;
    v32 = v308;
    while ( 1 )
    {
      v33 = *(_QWORD *)(v31 + 24);
      if ( *(_BYTE *)v33 != 85 )
        goto LABEL_37;
      v34 = *(_QWORD *)(v33 - 32);
      if ( !v34
        || *(_BYTE *)v34
        || *(_QWORD *)(v34 + 24) != *(_QWORD *)(v33 + 80)
        || (*(_BYTE *)(v34 + 33) & 0x20) == 0
        || *(_DWORD *)(v34 + 36) != 149 )
      {
        goto LABEL_37;
      }
      v306.m128i_i64[0] = *(_QWORD *)(v31 + 24);
      if ( v309 == v32 )
      {
        sub_10E22C0((__int64)&v307, v32, &v306);
        v32 = v308;
LABEL_37:
        v31 = *(_QWORD *)(v31 + 8);
        if ( !v31 )
          goto LABEL_48;
      }
      else
      {
        if ( v32 )
        {
          v32->m128i_i64[0] = v33;
          v32 = v308;
        }
        v32 = (__m128i *)((char *)v32 + 8);
        v308 = v32;
        v31 = *(_QWORD *)(v31 + 8);
        if ( !v31 )
        {
LABEL_48:
          v30 = v32;
          goto LABEL_49;
        }
      }
    }
  }
  do
  {
    while ( 1 )
    {
      v26 = *(_QWORD *)(v25 + 24);
      if ( *(_BYTE *)v26 != 85 )
        goto LABEL_23;
      v27 = *(_QWORD *)(v26 - 32);
      if ( !v27
        || *(_BYTE *)v27
        || *(_QWORD *)(v27 + 24) != *(_QWORD *)(v26 + 80)
        || (*(_BYTE *)(v27 + 33) & 0x20) == 0
        || *(_DWORD *)(v27 + 36) != 149 )
      {
        goto LABEL_23;
      }
      v306.m128i_i64[0] = *(_QWORD *)(v25 + 24);
      v28 = v308;
      if ( v308 != v309 )
        break;
      sub_10E22C0((__int64)&v307, v308, &v306);
LABEL_23:
      v25 = *(_QWORD *)(v25 + 8);
      if ( !v25 )
        goto LABEL_34;
    }
    if ( v308 )
    {
      v308->m128i_i64[0] = v26;
      v28 = v308;
    }
    v308 = (__m128i *)&v28->m128i_u64[1];
    v25 = *(_QWORD *)(v25 + 8);
  }
  while ( v25 );
LABEL_34:
  if ( *v4 == 34 )
    goto LABEL_35;
  v30 = v308;
LABEL_49:
  v35 = v307;
  if ( v307 == (__int64 *)v30 )
    goto LABEL_62;
  v299 = v30;
  v285 = &v331;
  v300.m128i_i64[0] = v5;
  v287 = v4;
  while ( 2 )
  {
    v36 = (unsigned int)v332;
    v37 = *v35;
    v38 = (unsigned int)v332 + 1LL;
    if ( v38 > HIDWORD(v332) )
    {
      sub_C8D5F0((__int64)v285, v297, v38, 8u, v23, v24);
      v36 = (unsigned int)v332;
    }
    *(_QWORD *)&v331[8 * v36] = v37;
    LODWORD(v332) = v332 + 1;
    v39 = sub_B5B890(v37);
    v40.m128i_i64[0] = sub_338B750(v300.m128i_i64[0], v39);
    v306 = v40;
    if ( v324 )
    {
      sub_3055130((__int64)&v319, &v306);
      if ( v171 )
        goto LABEL_205;
      goto LABEL_60;
    }
    v23 = 16LL * (unsigned int)v317;
    v41 = (__m128 *)&v316->m128i_i8[v23];
    if ( v316 == (const __m128i *)&v316->m128i_i8[v23] )
    {
      if ( (unsigned int)v317 > 7uLL )
        goto LABEL_216;
      goto LABEL_218;
    }
    v42 = (unsigned __int64)v316;
    while ( *(_QWORD *)v42 != v306.m128i_i64[0] || *(_DWORD *)(v42 + 8) != v306.m128i_i32[2] )
    {
      v42 += 16LL;
      if ( v41 == (__m128 *)v42 )
        goto LABEL_210;
    }
    if ( v41 != (__m128 *)v42 )
      goto LABEL_60;
LABEL_210:
    if ( (unsigned int)v317 <= 7uLL )
    {
LABEL_218:
      a4 = _mm_load_si128(&v306);
      if ( (unsigned __int64)(unsigned int)v317 + 1 > HIDWORD(v317) )
      {
        v284 = a4;
        sub_C8D5F0((__int64)&v316, v293, (unsigned int)v317 + 1LL, 0x10u, v23, v24);
        a4 = _mm_load_si128(&v284);
        v41 = (__m128 *)&v316[(unsigned int)v317];
      }
      *v41 = (__m128)a4;
      LODWORD(v317) = v317 + 1;
      goto LABEL_205;
    }
    v179 = (__int64)v286;
    v284.m128i_i64[0] = (__int64)v35;
    v180 = v316;
    do
    {
      v182 = sub_3055200(&v319, v179, (__int64)v180);
      if ( v181 )
        sub_3433AF0((__int64)&v319, v182, v181, v180);
      ++v180;
    }
    while ( v41 != (__m128 *)v180 );
    v35 = (__int64 *)v284.m128i_i64[0];
LABEL_216:
    LODWORD(v317) = 0;
    sub_3055130((__int64)&v319, &v306);
LABEL_205:
    v172 = sub_B5B740(v37);
    v174 = (unsigned int)v326;
    v175 = (unsigned int)v326 + 1LL;
    if ( v175 > HIDWORD(v326) )
    {
      v284.m128i_i64[0] = v172;
      sub_C8D5F0((__int64)&v325, v295, (unsigned int)v326 + 1LL, 8u, v175, v173);
      v174 = (unsigned int)v326;
      v172 = v284.m128i_i64[0];
    }
    *(_QWORD *)&v325[8 * v174] = v172;
    LODWORD(v326) = v326 + 1;
    v176 = sub_B5B890(v37);
    v177 = (unsigned int)v329;
    v178 = (unsigned int)v329 + 1LL;
    if ( v178 > HIDWORD(v329) )
    {
      sub_C8D5F0((__int64)&v328, v294, v178, 8u, v23, v24);
      v177 = (unsigned int)v329;
    }
    *(_QWORD *)&v328[8 * v177] = v176;
    LODWORD(v329) = v329 + 1;
LABEL_60:
    if ( v299 != (__m128i *)++v35 )
      continue;
    break;
  }
  v30 = (__m128i *)v307;
  v5 = v300.m128i_i64[0];
  v4 = v287;
LABEL_62:
  if ( v30 )
    j_j___libc_free_0((unsigned __int64)v30);
LABEL_64:
  if ( (v4[7] & 0x80u) == 0 )
    goto LABEL_298;
  v43 = sub_BD2BC0((__int64)v4);
  v45 = v43 + v44;
  if ( (v4[7] & 0x80u) != 0 )
    v45 -= sub_BD2BC0((__int64)v4);
  v46 = v45 >> 4;
  if ( !(_DWORD)v46 )
  {
LABEL_298:
    v242 = *v4;
    if ( v242 == 40 )
    {
      v243 = -32 - 32LL * (unsigned int)sub_B491D0((__int64)v4);
    }
    else
    {
      v243 = -32;
      if ( v242 != 85 )
      {
        v243 = -96;
        if ( v242 != 34 )
LABEL_393:
          BUG();
      }
    }
    v52 = v4[7];
    if ( v52 < 0 )
    {
      v244 = sub_BD2BC0((__int64)v4);
      v246 = v244 + v245;
      v52 = v4[7];
      if ( v52 >= 0 )
      {
        if ( (unsigned int)(v246 >> 4) )
          goto LABEL_397;
      }
      else
      {
        v23 = sub_BD2BC0((__int64)v4);
        v52 = v4[7];
        if ( (unsigned int)((v246 - v23) >> 4) )
        {
          if ( v52 < 0 )
          {
            v247 = *(_DWORD *)(sub_BD2BC0((__int64)v4) + 8);
            if ( (v4[7] & 0x80u) == 0 )
              BUG();
            v248 = sub_BD2BC0((__int64)v4);
            v243 -= 32LL * (unsigned int)(*(_DWORD *)(v248 + v249 - 4) - v247);
            v52 = v4[7];
            goto LABEL_306;
          }
LABEL_397:
          BUG();
        }
      }
    }
LABEL_306:
    v53 = &v4[v243];
    goto LABEL_74;
  }
  v47 = 0;
  v48 = 16LL * (unsigned int)v46;
  while ( 1 )
  {
    v49 = 0;
    if ( (v4[7] & 0x80u) != 0 )
      v49 = sub_BD2BC0((__int64)v4);
    v50 = (unsigned int *)(v47 + v49);
    if ( !*(_DWORD *)(*(_QWORD *)v50 + 8LL) )
      break;
    v47 += 16;
    if ( v47 == v48 )
      goto LABEL_298;
  }
  v51 = v50[3] - (unsigned __int64)(*((_DWORD *)v4 + 1) & 0x7FFFFFF);
  v52 = v4[7];
  v53 = &v4[32 * v51];
LABEL_74:
  if ( v52 >= 0 )
    goto LABEL_254;
  v54 = sub_BD2BC0((__int64)v4);
  v56 = v54 + v55;
  if ( (v4[7] & 0x80u) != 0 )
    v56 -= sub_BD2BC0((__int64)v4);
  v57 = v56 >> 4;
  if ( !(_DWORD)v57 )
  {
LABEL_254:
    v209 = *v4;
    if ( v209 == 40 )
    {
      v210 = -32 - 32LL * (unsigned int)sub_B491D0((__int64)v4);
    }
    else
    {
      v210 = -32;
      if ( v209 != 85 )
      {
        v210 = -96;
        if ( v209 != 34 )
          goto LABEL_393;
      }
    }
    if ( (v4[7] & 0x80u) != 0 )
    {
      v211 = sub_BD2BC0((__int64)v4);
      v213 = v211 + v212;
      if ( (v4[7] & 0x80u) == 0 )
      {
        if ( (unsigned int)(v213 >> 4) )
          goto LABEL_407;
      }
      else if ( (unsigned int)((v213 - sub_BD2BC0((__int64)v4)) >> 4) )
      {
        if ( (v4[7] & 0x80u) != 0 )
        {
          v214 = *(_DWORD *)(sub_BD2BC0((__int64)v4) + 8);
          if ( (v4[7] & 0x80u) == 0 )
            BUG();
          v215 = sub_BD2BC0((__int64)v4);
          v210 -= 32LL * (unsigned int)(*(_DWORD *)(v215 + v216 - 4) - v214);
          goto LABEL_262;
        }
LABEL_407:
        BUG();
      }
    }
LABEL_262:
    v62 = &v4[v210];
    goto LABEL_84;
  }
  v58 = 0;
  v59 = 16LL * (unsigned int)v57;
  while ( 1 )
  {
    v60 = 0;
    if ( (v4[7] & 0x80u) != 0 )
      v60 = sub_BD2BC0((__int64)v4);
    v61 = (unsigned int *)(v58 + v60);
    v24 = *(unsigned int *)(*(_QWORD *)v61 + 8LL);
    if ( !(_DWORD)v24 )
      break;
    v58 += 16;
    if ( v58 == v59 )
      goto LABEL_254;
  }
  v62 = &v4[32 * (v61[2] - (unsigned __int64)(*((_DWORD *)v4 + 1) & 0x7FFFFFF))];
LABEL_84:
  if ( v53 != v62 )
  {
    v300.m128i_i64[0] = (__int64)v4;
    do
    {
      while ( 1 )
      {
        v63 = *(_QWORD *)v62;
        if ( (unsigned __int8)sub_34337D0(*(_QWORD *)(*(_QWORD *)v62 + 8LL), v5) )
        {
          v64.m128i_i64[0] = sub_338B750(v5, v63);
          v306 = v64;
          sub_3437920((__int64)&v307, (__int64)&v316, &v306, v65, v66, v67);
          if ( (_BYTE)v309 )
            break;
        }
        v62 += 32;
        if ( v53 == v62 )
          goto LABEL_94;
      }
      v68 = (unsigned int)v326;
      v69 = (unsigned int)v326 + 1LL;
      if ( v69 > HIDWORD(v326) )
      {
        sub_C8D5F0((__int64)&v325, v295, v69, 8u, v23, v24);
        v68 = (unsigned int)v326;
      }
      *(_QWORD *)&v325[8 * v68] = v63;
      v70 = (unsigned int)v329;
      LODWORD(v326) = v326 + 1;
      v71 = (unsigned int)v329 + 1LL;
      if ( v71 > HIDWORD(v329) )
      {
        sub_C8D5F0((__int64)&v328, v294, v71, 8u, v23, v24);
        v70 = (unsigned int)v329;
      }
      v62 += 32;
      *(_QWORD *)&v328[8 * v70] = v63;
      LODWORD(v329) = v329 + 1;
    }
    while ( v53 != v62 );
LABEL_94:
    v4 = (unsigned __int8 *)v300.m128i_i64[0];
  }
  if ( (v4[7] & 0x80u) == 0 )
    goto LABEL_287;
  v72 = sub_BD2BC0((__int64)v4);
  v74 = v72 + v73;
  if ( (v4[7] & 0x80u) != 0 )
    v74 -= sub_BD2BC0((__int64)v4);
  v75 = v74 >> 4;
  if ( !(_DWORD)v75 )
  {
LABEL_287:
    v234 = *v4;
    if ( v234 == 40 )
    {
      v235 = -32 - 32LL * (unsigned int)sub_B491D0((__int64)v4);
    }
    else
    {
      v235 = -32;
      if ( v234 != 85 )
      {
        v235 = -96;
        if ( v234 != 34 )
          goto LABEL_393;
      }
    }
    v81 = v4[7];
    if ( v81 < 0 )
    {
      v236 = sub_BD2BC0((__int64)v4);
      v238 = v236 + v237;
      v81 = v4[7];
      if ( v81 >= 0 )
      {
        if ( (unsigned int)(v238 >> 4) )
          goto LABEL_409;
      }
      else
      {
        v23 = sub_BD2BC0((__int64)v4);
        v81 = v4[7];
        if ( (unsigned int)((v238 - v23) >> 4) )
        {
          if ( v81 < 0 )
          {
            v239 = *(_DWORD *)(sub_BD2BC0((__int64)v4) + 8);
            if ( (v4[7] & 0x80u) == 0 )
              BUG();
            v240 = sub_BD2BC0((__int64)v4);
            v235 -= 32LL * (unsigned int)(*(_DWORD *)(v240 + v241 - 4) - v239);
            v81 = v4[7];
            goto LABEL_295;
          }
LABEL_409:
          BUG();
        }
      }
    }
LABEL_295:
    v82 = &v4[v235];
    goto LABEL_105;
  }
  v76 = 0;
  v77 = 16LL * (unsigned int)v75;
  while ( 1 )
  {
    v78 = 0;
    if ( (v4[7] & 0x80u) != 0 )
      v78 = sub_BD2BC0((__int64)v4);
    v79 = (unsigned int *)(v76 + v78);
    if ( *(_DWORD *)(*(_QWORD *)v79 + 8LL) == 5 )
      break;
    v76 += 16;
    if ( v76 == v77 )
      goto LABEL_287;
  }
  v80 = v79[3] - (unsigned __int64)(*((_DWORD *)v4 + 1) & 0x7FFFFFF);
  v81 = v4[7];
  v82 = &v4[32 * v80];
LABEL_105:
  if ( v81 >= 0 )
    goto LABEL_276;
  v83 = sub_BD2BC0((__int64)v4);
  v85 = v83 + v84;
  if ( (v4[7] & 0x80u) != 0 )
    v85 -= sub_BD2BC0((__int64)v4);
  v86 = v85 >> 4;
  if ( !(_DWORD)v86 )
  {
LABEL_276:
    v225 = *v4;
    if ( v225 == 40 )
    {
      v226 = -32 - 32LL * (unsigned int)sub_B491D0((__int64)v4);
    }
    else
    {
      v226 = -32;
      if ( v225 != 85 )
      {
        v226 = -96;
        if ( v225 != 34 )
          goto LABEL_393;
      }
    }
    v91 = v4[7];
    if ( (v91 & 0x80u) != 0LL )
    {
      v227 = sub_BD2BC0((__int64)v4);
      v91 = v4[7];
      v229 = v227 + v228;
      if ( (v91 & 0x80u) == 0LL )
      {
        if ( (unsigned int)(v229 >> 4) )
          goto LABEL_395;
      }
      else
      {
        v230 = sub_BD2BC0((__int64)v4);
        v91 = v4[7];
        if ( (unsigned int)((v229 - v230) >> 4) )
        {
          if ( (v91 & 0x80u) != 0LL )
          {
            v231 = *(_DWORD *)(sub_BD2BC0((__int64)v4) + 8);
            if ( (v4[7] & 0x80u) == 0 )
              BUG();
            v232 = sub_BD2BC0((__int64)v4);
            v91 = v4[7];
            v226 -= 32LL * (unsigned int)(*(_DWORD *)(v232 + v233 - 4) - v231);
            goto LABEL_284;
          }
LABEL_395:
          BUG();
        }
      }
    }
LABEL_284:
    v93 = &v4[v226];
    v92 = *((_DWORD *)v4 + 1) & 0x7FFFFFF;
    goto LABEL_115;
  }
  v87 = 0;
  v88 = 16LL * (unsigned int)v86;
  while ( 1 )
  {
    v89 = 0;
    if ( (v4[7] & 0x80u) != 0 )
      v89 = sub_BD2BC0((__int64)v4);
    v90 = (unsigned int *)(v87 + v89);
    if ( *(_DWORD *)(*(_QWORD *)v90 + 8LL) == 5 )
      break;
    v87 += 16;
    if ( v87 == v88 )
      goto LABEL_276;
  }
  v91 = v4[7];
  v92 = *((_DWORD *)v4 + 1) & 0x7FFFFFF;
  v93 = &v4[32 * (v90[2] - v92)];
LABEL_115:
  v334 = v93;
  v94 = (v82 - v93) >> 5;
  v336 = v4;
  v95 = *(_QWORD *)&v4[-32 * v92];
  v335 = v94;
  v9 = *(_DWORD *)(v95 + 32) <= 0x40u;
  v96 = *(_QWORD **)(v95 + 24);
  if ( !v9 )
    v96 = (_QWORD *)*v96;
  v339 = (__int64)v96;
  if ( (v91 & 0x80u) == 0LL )
    goto LABEL_265;
  v97 = sub_BD2BC0((__int64)v4);
  v99 = v97 + v98;
  if ( (v4[7] & 0x80u) != 0 )
    v99 -= sub_BD2BC0((__int64)v4);
  v100 = v99 >> 4;
  if ( !(_DWORD)v100 )
  {
LABEL_265:
    v217 = *v4;
    if ( v217 == 40 )
    {
      v218 = -32 - 32LL * (unsigned int)sub_B491D0((__int64)v4);
    }
    else
    {
      v218 = -32;
      if ( v217 != 85 )
      {
        v218 = -96;
        if ( v217 != 34 )
          goto LABEL_393;
      }
    }
    v106 = v4[7];
    if ( v106 < 0 )
    {
      v219 = sub_BD2BC0((__int64)v4);
      v221 = v219 + v220;
      v106 = v4[7];
      if ( v106 >= 0 )
      {
        if ( (unsigned int)(v221 >> 4) )
          goto LABEL_399;
      }
      else
      {
        v23 = sub_BD2BC0((__int64)v4);
        v106 = v4[7];
        if ( (unsigned int)((v221 - v23) >> 4) )
        {
          if ( v106 < 0 )
          {
            v222 = *(_DWORD *)(sub_BD2BC0((__int64)v4) + 8);
            if ( (v4[7] & 0x80u) == 0 )
              BUG();
            v223 = sub_BD2BC0((__int64)v4);
            v218 -= 32LL * (unsigned int)(*(_DWORD *)(v223 + v224 - 4) - v222);
            v106 = v4[7];
            goto LABEL_273;
          }
LABEL_399:
          BUG();
        }
      }
    }
LABEL_273:
    v107 = &v4[v218];
    goto LABEL_127;
  }
  v101 = 0;
  v102 = 16LL * (unsigned int)v100;
  while ( 1 )
  {
    v103 = 0;
    if ( (v4[7] & 0x80u) != 0 )
      v103 = sub_BD2BC0((__int64)v4);
    v104 = (unsigned int *)(v101 + v103);
    v23 = *(unsigned int *)(*(_QWORD *)v104 + 8LL);
    if ( !(_DWORD)v23 )
      break;
    v101 += 16;
    if ( v101 == v102 )
      goto LABEL_265;
  }
  v105 = v104[3] - (unsigned __int64)(*((_DWORD *)v4 + 1) & 0x7FFFFFF);
  v106 = v4[7];
  v107 = &v4[32 * v105];
LABEL_127:
  if ( v106 >= 0 )
    goto LABEL_241;
  v108 = sub_BD2BC0((__int64)v4);
  v110 = v108 + v109;
  if ( (v4[7] & 0x80u) != 0 )
    v110 -= sub_BD2BC0((__int64)v4);
  v111 = v110 >> 4;
  if ( !(_DWORD)v111 )
  {
LABEL_241:
    v200 = *v4;
    if ( v200 == 40 )
    {
      v201 = -32 - 32LL * (unsigned int)sub_B491D0((__int64)v4);
    }
    else
    {
      v201 = -32;
      if ( v200 != 85 )
      {
        v201 = -96;
        if ( v200 != 34 )
          goto LABEL_393;
      }
    }
    v116 = v4[7];
    if ( v116 < 0 )
    {
      v202 = sub_BD2BC0((__int64)v4);
      v204 = v202 + v203;
      v116 = v4[7];
      if ( v116 >= 0 )
      {
        if ( (unsigned int)(v204 >> 4) )
          goto LABEL_405;
      }
      else
      {
        v205 = sub_BD2BC0((__int64)v4);
        v116 = v4[7];
        if ( (unsigned int)((v204 - v205) >> 4) )
        {
          if ( v116 < 0 )
          {
            v206 = *(_DWORD *)(sub_BD2BC0((__int64)v4) + 8);
            if ( (v4[7] & 0x80u) == 0 )
              BUG();
            v207 = sub_BD2BC0((__int64)v4);
            LODWORD(v207) = *(_DWORD *)(v207 + v208 - 4);
            v116 = v4[7];
            v201 -= 32LL * (unsigned int)(v207 - v206);
            goto LABEL_249;
          }
LABEL_405:
          BUG();
        }
      }
    }
LABEL_249:
    v117 = &v4[v201];
    goto LABEL_137;
  }
  v112 = 0;
  v113 = 16LL * (unsigned int)v111;
  while ( 1 )
  {
    v114 = 0;
    if ( (v4[7] & 0x80u) != 0 )
      v114 = sub_BD2BC0((__int64)v4);
    v115 = (unsigned int *)(v112 + v114);
    if ( !*(_DWORD *)(*(_QWORD *)v115 + 8LL) )
      break;
    v112 += 16;
    if ( v113 == v112 )
      goto LABEL_241;
  }
  v116 = v4[7];
  v117 = &v4[32 * (v115[2] - (unsigned __int64)(*((_DWORD *)v4 + 1) & 0x7FFFFFF))];
LABEL_137:
  v364 = v117;
  v365 = (v107 - v117) >> 5;
  if ( v116 >= 0 )
    goto LABEL_221;
  v118 = sub_BD2BC0((__int64)v4);
  v120 = v118 + v119;
  if ( (v4[7] & 0x80u) != 0 )
    v120 -= sub_BD2BC0((__int64)v4);
  v121 = v120 >> 4;
  if ( !(_DWORD)v121 )
  {
LABEL_221:
    v183 = *v4;
    if ( v183 == 40 )
    {
      v184 = -32 - 32LL * (unsigned int)sub_B491D0((__int64)v4);
    }
    else
    {
      v184 = -32;
      if ( v183 != 85 )
      {
        v184 = -96;
        if ( v183 != 34 )
          goto LABEL_393;
      }
    }
    v185 = v4[7];
    if ( v185 < 0 )
    {
      v186 = sub_BD2BC0((__int64)v4);
      v188 = v186 + v187;
      v185 = v4[7];
      if ( v185 >= 0 )
      {
        if ( !(unsigned int)(v188 >> 4) )
          goto LABEL_229;
      }
      else
      {
        v23 = sub_BD2BC0((__int64)v4);
        v185 = v4[7];
        if ( !(unsigned int)((v188 - v23) >> 4) )
          goto LABEL_229;
        if ( v185 < 0 )
        {
          v189 = *(_DWORD *)(sub_BD2BC0((__int64)v4) + 8);
          if ( (v4[7] & 0x80u) == 0 )
            BUG();
          v190 = sub_BD2BC0((__int64)v4);
          v184 -= 32LL * (unsigned int)(*(_DWORD *)(v190 + v191 - 4) - v189);
          v185 = v4[7];
          goto LABEL_229;
        }
      }
      BUG();
    }
LABEL_229:
    v126 = &v4[v184];
    if ( v185 < 0 )
      goto LABEL_147;
LABEL_230:
    v192 = *v4;
    if ( v192 == 40 )
    {
      v193 = -32 - 32LL * (unsigned int)sub_B491D0((__int64)v4);
    }
    else
    {
      v193 = -32;
      if ( v192 != 85 )
      {
        v193 = -96;
        if ( v192 != 34 )
          goto LABEL_393;
      }
    }
    if ( (v4[7] & 0x80u) != 0 )
    {
      v194 = sub_BD2BC0((__int64)v4);
      v196 = v194 + v195;
      if ( (v4[7] & 0x80u) == 0 )
      {
        if ( (unsigned int)(v196 >> 4) )
          goto LABEL_403;
      }
      else if ( (unsigned int)((v196 - sub_BD2BC0((__int64)v4)) >> 4) )
      {
        if ( (v4[7] & 0x80u) != 0 )
        {
          v197 = *(_DWORD *)(sub_BD2BC0((__int64)v4) + 8);
          if ( (v4[7] & 0x80u) == 0 )
            BUG();
          v198 = sub_BD2BC0((__int64)v4);
          v193 -= 32LL * (unsigned int)(*(_DWORD *)(v198 + v199 - 4) - v197);
          goto LABEL_238;
        }
LABEL_403:
        BUG();
      }
    }
LABEL_238:
    v136 = &v4[v193];
    v135 = *((_DWORD *)v4 + 1) & 0x7FFFFFF;
    goto LABEL_156;
  }
  v122 = 0;
  v123 = 16LL * (unsigned int)v121;
  while ( 1 )
  {
    v124 = 0;
    if ( (v4[7] & 0x80u) != 0 )
      v124 = sub_BD2BC0((__int64)v4);
    v125 = (unsigned int *)(v122 + v124);
    if ( *(_DWORD *)(*(_QWORD *)v125 + 8LL) == 2 )
      break;
    v122 += 16;
    if ( v122 == v123 )
      goto LABEL_221;
  }
  v126 = &v4[32 * (v125[3] - (unsigned __int64)(*((_DWORD *)v4 + 1) & 0x7FFFFFF))];
  if ( (v4[7] & 0x80u) == 0 )
    goto LABEL_230;
LABEL_147:
  v127 = sub_BD2BC0((__int64)v4);
  v129 = v127 + v128;
  if ( (v4[7] & 0x80u) != 0 )
    v129 -= sub_BD2BC0((__int64)v4);
  v130 = v129 >> 4;
  if ( !(_DWORD)v130 )
    goto LABEL_230;
  v131 = 0;
  v132 = 16LL * (unsigned int)v130;
  while ( 1 )
  {
    v133 = 0;
    if ( (v4[7] & 0x80u) != 0 )
      v133 = sub_BD2BC0((__int64)v4);
    v134 = (unsigned int *)(v131 + v133);
    if ( *(_DWORD *)(*(_QWORD *)v134 + 8LL) == 2 )
      break;
    v131 += 16;
    if ( v131 == v132 )
      goto LABEL_230;
  }
  v135 = *((_DWORD *)v4 + 1) & 0x7FFFFFF;
  v136 = &v4[32 * (v134[2] - v135)];
LABEL_156:
  v337 = v136;
  v338 = (v126 - v136) >> 5;
  v137 = *(_QWORD *)&v4[32 * (4 - v135)];
  v9 = *(_DWORD *)(v137 + 32) <= 0x40u;
  v138 = *(_QWORD **)(v137 + 24);
  if ( !v9 )
    v138 = (_QWORD *)*v138;
  v366 = (__int64)v138;
  v139 = *(_QWORD *)&v4[32 * (1 - v135)];
  v9 = *(_DWORD *)(v139 + 32) <= 0x40u;
  v140 = *(_QWORD **)(v139 + 24);
  if ( !v9 )
    v140 = (_QWORD *)*v140;
  v367 = (int)v140;
  v368 = v292;
  v141 = sub_343A2E0(v5, (__int64)&v325, v135, v91, v23, v24, a4);
  v300.m128i_i64[0] = v142;
  v143 = v141;
  if ( !v298 )
  {
    if ( v296 )
      goto LABEL_162;
    v250 = *(_DWORD *)(v5 + 848);
    v251 = *(__m128i **)v5;
    v307 = 0;
    v252 = *(_QWORD *)(v5 + 864);
    LODWORD(v308) = v250;
    if ( v251 )
    {
      if ( &v307 != (__int64 **)&v251[3] )
      {
        v253 = (__int64 *)v251[3].m128i_i64[0];
        v307 = v253;
        if ( v253 )
          sub_B96E90((__int64)&v307, (__int64)v253, 1);
      }
    }
    v254 = sub_3400D50(v252, -1, (__int64)&v307, 0, a4);
    v306.m128i_i64[0] = (__int64)v4;
    v255 = v254;
    v257 = v256;
    v258 = sub_337DC20(v5 + 8, v306.m128i_i64);
    v304 = v257;
    v303 = v255;
    *v258 = v255;
    *((_DWORD *)v258 + 2) = v304;
    if ( v307 )
      sub_B91220((__int64)&v307, (__int64)v307);
    goto LABEL_316;
  }
  v307 = (__int64 *)v4;
  v144 = sub_337DC20(v5 + 8, (__int64 *)&v307);
  v301 = v143;
  v145 = v296 == 0;
  v302 = v300.m128i_i64[0];
  *v144 = v143;
  *((_DWORD *)v144 + 2) = v302;
  if ( v145 )
  {
LABEL_316:
    v259 = v321;
    while ( v259 )
    {
      sub_3433920(*(_QWORD *)(v259 + 24));
      v260 = v259;
      v259 = *(_QWORD *)(v259 + 16);
      j_j___libc_free_0(v260);
    }
    goto LABEL_183;
  }
LABEL_162:
  v146 = *(_QWORD *)(v5 + 960);
  v299 = *(__m128i **)(v296 + 8);
  v147 = sub_374C960(v146, v299, 0);
  v306.m128i_i8[4] = 1;
  v148 = v147;
  v306.m128i_i32[0] = (*((_WORD *)v4 + 1) >> 2) & 0x3FF;
  v149 = sub_2E79000(*(__int64 **)(*(_QWORD *)(v5 + 864) + 40LL));
  sub_336FEE0(
    (__int64)&v307,
    *(_QWORD *)(*(_QWORD *)(v5 + 864) + 64LL),
    *(_QWORD *)(*(_QWORD *)(v5 + 864) + 16LL),
    v149,
    v148,
    (int)v299,
    v306.m128i_i64[0]);
  v150 = *(_QWORD *)(v5 + 864);
  v151 = *(_DWORD *)(v5 + 848);
  v305.m128i_i32[2] = 0;
  v306.m128i_i64[0] = 0;
  v152 = &v306;
  v306.m128i_i32[2] = v151;
  v305.m128i_i64[0] = v150 + 288;
  v153 = *(__m128i **)v5;
  if ( *(_QWORD *)v5 )
  {
    if ( &v306 != &v153[3] )
    {
      v154 = v153[3].m128i_i64[0];
      v306.m128i_i64[0] = v154;
      if ( v154 )
      {
        v299 = &v306;
        sub_B96E90((__int64)&v306, v154, 1);
        v150 = *(_QWORD *)(v5 + 864);
        v152 = v299;
      }
    }
  }
  v155 = v300.m128i_i64[0];
  v300.m128i_i64[0] = (__int64)v152;
  sub_3371E20((__int64)&v307, v143, v155, v150, (__int64)v152, (__int64)&v305, 0, 0, 215);
  if ( v306.m128i_i64[0] )
    sub_B91220(v300.m128i_i64[0], v306.m128i_i64[0]);
  v158 = *(unsigned int *)(v5 + 424);
  v159 = _mm_load_si128(&v305);
  if ( v158 + 1 > (unsigned __int64)*(unsigned int *)(v5 + 428) )
  {
    v300 = v159;
    sub_C8D5F0(v5 + 416, (const void *)(v5 + 432), v158 + 1, 0x10u, v156, v157);
    v158 = *(unsigned int *)(v5 + 424);
    v159 = _mm_load_si128(&v300);
  }
  *(__m128i *)(*(_QWORD *)(v5 + 416) + 16 * v158) = v159;
  ++*(_DWORD *)(v5 + 424);
  v160 = *(_QWORD *)(v5 + 960);
  v161 = *(_DWORD *)(v160 + 144);
  if ( !v161 )
  {
    ++*(_QWORD *)(v160 + 120);
    goto LABEL_356;
  }
  v162 = 1;
  v163 = *(_QWORD *)(v160 + 128);
  v164 = 0;
  v165 = (v161 - 1) & (((unsigned int)v4 >> 9) ^ ((unsigned int)v4 >> 4));
  v166 = (_QWORD *)(v163 + 16LL * v165);
  v167 = (unsigned __int8 *)*v166;
  if ( v4 == (unsigned __int8 *)*v166 )
  {
LABEL_172:
    v168 = (int *)(v166 + 1);
    goto LABEL_173;
  }
  while ( v167 != (unsigned __int8 *)-4096LL )
  {
    if ( !v164 && v167 == (unsigned __int8 *)-8192LL )
      v164 = (unsigned __int8 **)v166;
    v165 = (v161 - 1) & (v162 + v165);
    v166 = (_QWORD *)(v163 + 16LL * v165);
    v167 = (unsigned __int8 *)*v166;
    if ( v4 == (unsigned __int8 *)*v166 )
      goto LABEL_172;
    ++v162;
  }
  v273 = *(_DWORD *)(v160 + 136);
  if ( !v164 )
    v164 = (unsigned __int8 **)v166;
  ++*(_QWORD *)(v160 + 120);
  v270 = v273 + 1;
  if ( 4 * (v273 + 1) >= 3 * v161 )
  {
LABEL_356:
    sub_3384500(v160 + 120, 2 * v161);
    v267 = *(_DWORD *)(v160 + 144);
    if ( v267 )
    {
      v268 = v267 - 1;
      v269 = *(_QWORD *)(v160 + 128);
      v270 = *(_DWORD *)(v160 + 136) + 1;
      v271 = v268 & (((unsigned int)v4 >> 9) ^ ((unsigned int)v4 >> 4));
      v164 = (unsigned __int8 **)(v269 + 16LL * v271);
      v272 = *v164;
      if ( v4 != *v164 )
      {
        v281 = 1;
        v282 = 0;
        while ( v272 != (unsigned __int8 *)-4096LL )
        {
          if ( v272 == (unsigned __int8 *)-8192LL && !v282 )
            v282 = v164;
          v271 = v268 & (v281 + v271);
          v164 = (unsigned __int8 **)(v269 + 16LL * v271);
          v272 = *v164;
          if ( v4 == *v164 )
            goto LABEL_358;
          ++v281;
        }
        if ( v282 )
          v164 = v282;
      }
      goto LABEL_358;
    }
    goto LABEL_392;
  }
  if ( v161 - *(_DWORD *)(v160 + 140) - v270 <= v161 >> 3 )
  {
    sub_3384500(v160 + 120, v161);
    v274 = *(_DWORD *)(v160 + 144);
    if ( v274 )
    {
      v275 = v274 - 1;
      v276 = 1;
      v277 = *(_QWORD *)(v160 + 128);
      v278 = v275 & (((unsigned int)v4 >> 9) ^ ((unsigned int)v4 >> 4));
      v270 = *(_DWORD *)(v160 + 136) + 1;
      v279 = 0;
      v164 = (unsigned __int8 **)(v277 + 16LL * v278);
      v280 = *v164;
      if ( v4 != *v164 )
      {
        while ( v280 != (unsigned __int8 *)-4096LL )
        {
          if ( v280 == (unsigned __int8 *)-8192LL && !v279 )
            v279 = v164;
          v278 = v275 & (v276 + v278);
          v164 = (unsigned __int8 **)(v277 + 16LL * v278);
          v280 = *v164;
          if ( v4 == *v164 )
            goto LABEL_358;
          ++v276;
        }
        if ( v279 )
          v164 = v279;
      }
      goto LABEL_358;
    }
LABEL_392:
    ++*(_DWORD *)(v160 + 136);
    BUG();
  }
LABEL_358:
  *(_DWORD *)(v160 + 136) = v270;
  if ( *v164 != (unsigned __int8 *)-4096LL )
    --*(_DWORD *)(v160 + 140);
  *v164 = v4;
  v168 = (int *)(v164 + 1);
  *v168 = 0;
LABEL_173:
  *v168 = v148;
  if ( v314 != &v315 )
    _libc_free((unsigned __int64)v314);
  if ( v312 != &v313 )
    _libc_free((unsigned __int64)v312);
  if ( v310 != &v311 )
    _libc_free((unsigned __int64)v310);
  if ( v307 != (__int64 *)&v309 )
    _libc_free((unsigned __int64)v307);
  v169 = v321;
  while ( v169 )
  {
    sub_3433920(*(_QWORD *)(v169 + 24));
    v170 = v169;
    v169 = *(_QWORD *)(v169 + 16);
    j_j___libc_free_0(v170);
  }
LABEL_183:
  if ( v316 != v293 )
    _libc_free((unsigned __int64)v316);
  if ( v357 != v288 )
    _libc_free((unsigned __int64)v357);
  if ( v354 != v289 )
    _libc_free((unsigned __int64)v354);
  if ( v351 != v290 )
    _libc_free((unsigned __int64)v351);
  if ( v348 != v291 )
    _libc_free((unsigned __int64)v348);
  if ( v345 )
    sub_B91220((__int64)&v345, v345);
  if ( v341 )
    j_j___libc_free_0(v341);
  if ( v331 != v297 )
    _libc_free((unsigned __int64)v331);
  if ( v328 != v294 )
    _libc_free((unsigned __int64)v328);
  if ( v325 != v295 )
    _libc_free((unsigned __int64)v325);
}
