// Function: sub_24EA1C0
// Address: 0x24ea1c0
//
void __fastcall sub_24EA1C0(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int64 v4; // r14
  __int64 v5; // r13
  __int64 v6; // rbx
  __int64 v7; // r14
  _QWORD *v8; // rax
  __int64 v9; // r9
  _QWORD *v10; // r12
  __int64 v11; // rdx
  unsigned __int64 v12; // r8
  __int64 v13; // r12
  _QWORD *v14; // r14
  __int64 v15; // rax
  __int64 v16; // rdx
  unsigned __int8 v17; // al
  char v18; // cl
  char v19; // bl
  __int64 v20; // rax
  __int64 v21; // r8
  __int64 v22; // r9
  __m128i *v23; // r13
  __int64 v24; // r15
  __int64 v25; // rax
  __int64 v26; // rdi
  __int64 v27; // rax
  __int64 v28; // r13
  __int64 *v29; // rsi
  unsigned __int8 v30; // al
  __m128i **v31; // rdx
  __int64 v32; // rax
  unsigned __int8 v33; // dl
  __m128i **v34; // rax
  __m128i *v35; // rax
  unsigned __int8 v36; // dl
  __m128i **v37; // rax
  __int64 *v38; // rsi
  __m128i *v39; // r12
  unsigned __int8 v40; // al
  __m128i **v41; // rdx
  __int64 v42; // rax
  unsigned __int8 v43; // dl
  __m128i **v44; // rax
  __m128i *v45; // rax
  unsigned __int8 v46; // dl
  __m128i **v47; // rax
  unsigned __int8 v48; // al
  __int8 *v49; // rdx
  __int64 v50; // rax
  const char *v51; // rax
  size_t v52; // rdx
  unsigned __int8 *v53; // rax
  __int64 v54; // r15
  unsigned int v55; // eax
  __int64 v56; // r12
  __int64 v57; // rax
  size_t v58; // rdx
  unsigned int v59; // esi
  __int64 *v60; // rdx
  unsigned __int8 v61; // al
  size_t v62; // rdx
  __int64 v63; // rdx
  __int64 v64; // r8
  __int64 v65; // rax
  size_t v66; // rdx
  _BYTE *v67; // rax
  const void *v68; // r8
  __int64 *v69; // r12
  size_t v70; // rdx
  __int64 v71; // rax
  __int64 v72; // r15
  __int64 v73; // rax
  __int64 v74; // rdx
  unsigned __int8 *v75; // rax
  __int64 v76; // rax
  __int64 v77; // rdx
  char v78; // bl
  __int64 v79; // rdx
  int v80; // eax
  __int64 v81; // rcx
  __int64 v82; // rax
  __int64 v83; // rdx
  int v84; // eax
  __int16 v85; // dx
  __int64 v86; // rdx
  __int64 v87; // rbx
  _QWORD *v88; // r13
  _QWORD *v89; // rsi
  _QWORD *v90; // rsi
  __int64 v91; // rax
  unsigned __int64 v92; // rsi
  int v93; // eax
  __int64 v94; // rsi
  __int64 v95; // r15
  _QWORD *v96; // rax
  __int64 v97; // r12
  __int64 v98; // r15
  __int64 v99; // rbx
  __int64 v100; // rdx
  unsigned int v101; // esi
  unsigned __int64 v102; // rdi
  int v103; // eax
  _QWORD *v104; // rdi
  __int64 v105; // rax
  __int64 v106; // rsi
  __int64 v107; // rdx
  __int64 v108; // rcx
  unsigned __int8 *v109; // r12
  __int64 *v110; // rdi
  __int64 **v111; // rax
  const char **v112; // rsi
  unsigned __int64 v113; // r12
  __int64 v114; // rdi
  __int64 *v115; // rbx
  __int64 *v116; // r12
  __int64 v117; // r13
  __int64 v118; // rdx
  int v119; // eax
  __int64 v120; // rdx
  __int64 v121; // rcx
  unsigned __int64 v122; // r8
  __int64 v123; // r9
  __int64 v124; // rbx
  __int64 v125; // rax
  __int64 *v126; // r12
  __int64 *v127; // rbx
  __int64 v128; // rdi
  __int64 v129; // rdi
  __int64 v130; // rdx
  __int64 v131; // rcx
  __int64 v132; // rcx
  __int64 v133; // rax
  __int64 v134; // rdx
  bool v135; // cc
  unsigned __int64 v136; // rdx
  char v137; // r8
  __int64 v138; // rax
  _QWORD *v139; // rcx
  __int64 v140; // rax
  _QWORD *v141; // r13
  size_t v142; // [rsp+8h] [rbp-208h]
  const char *v143; // [rsp+10h] [rbp-200h]
  __int64 v144; // [rsp+18h] [rbp-1F8h]
  __int64 *v145; // [rsp+20h] [rbp-1F0h]
  int v146; // [rsp+28h] [rbp-1E8h]
  int v147; // [rsp+2Ch] [rbp-1E4h]
  unsigned __int64 v148; // [rsp+30h] [rbp-1E0h]
  __int64 v149; // [rsp+38h] [rbp-1D8h]
  const void *v150; // [rsp+40h] [rbp-1D0h]
  __int64 v151; // [rsp+40h] [rbp-1D0h]
  unsigned __int8 v152; // [rsp+48h] [rbp-1C8h]
  __int64 v153; // [rsp+48h] [rbp-1C8h]
  unsigned int v154; // [rsp+50h] [rbp-1C0h]
  int v155; // [rsp+54h] [rbp-1BCh]
  int v156; // [rsp+58h] [rbp-1B8h]
  int v157; // [rsp+5Ch] [rbp-1B4h]
  __int64 v158; // [rsp+60h] [rbp-1B0h]
  __int64 v159; // [rsp+68h] [rbp-1A8h]
  const void *v160; // [rsp+70h] [rbp-1A0h]
  bool v161; // [rsp+78h] [rbp-198h]
  size_t v162; // [rsp+78h] [rbp-198h]
  size_t v163; // [rsp+80h] [rbp-190h]
  const void *v164; // [rsp+80h] [rbp-190h]
  const void *v165; // [rsp+80h] [rbp-190h]
  __m128i *v166; // [rsp+88h] [rbp-188h]
  __int64 v167; // [rsp+88h] [rbp-188h]
  __int64 v168; // [rsp+90h] [rbp-180h]
  __m128i *v169; // [rsp+90h] [rbp-180h]
  __int64 v170; // [rsp+90h] [rbp-180h]
  char v171; // [rsp+A8h] [rbp-168h]
  const char **i; // [rsp+A8h] [rbp-168h]
  __int64 v173; // [rsp+B0h] [rbp-160h]
  __int64 v174; // [rsp+B8h] [rbp-158h]
  char v175; // [rsp+C0h] [rbp-150h]
  __int64 *v176; // [rsp+C0h] [rbp-150h]
  char v177; // [rsp+C8h] [rbp-148h]
  _QWORD *v178; // [rsp+C8h] [rbp-148h]
  __int64 *v179; // [rsp+D0h] [rbp-140h]
  __int64 v180; // [rsp+D8h] [rbp-138h]
  int v181; // [rsp+D8h] [rbp-138h]
  const char **v182; // [rsp+D8h] [rbp-138h]
  __int64 v183; // [rsp+F8h] [rbp-118h] BYREF
  unsigned __int64 v184; // [rsp+100h] [rbp-110h] BYREF
  int v185; // [rsp+108h] [rbp-108h]
  __int64 *v186; // [rsp+110h] [rbp-100h] BYREF
  __int64 v187; // [rsp+118h] [rbp-F8h]
  _BYTE v188[32]; // [rsp+120h] [rbp-F0h] BYREF
  __int64 *v189; // [rsp+140h] [rbp-D0h] BYREF
  __int64 v190; // [rsp+148h] [rbp-C8h]
  _BYTE v191[48]; // [rsp+150h] [rbp-C0h] BYREF
  const char *v192; // [rsp+180h] [rbp-90h] BYREF
  char *v193; // [rsp+188h] [rbp-88h]
  __int64 v194; // [rsp+190h] [rbp-80h]
  char v195; // [rsp+198h] [rbp-78h] BYREF
  __int16 v196; // [rsp+1A0h] [rbp-70h]

  v4 = a1;
  v5 = *(_QWORD *)(a1 + 8);
  v189 = (__int64 *)v191;
  v190 = 0x600000000LL;
  if ( (*(_BYTE *)(v5 + 2) & 1) != 0 )
  {
    sub_B2C6D0(v5, a2, a3, a4);
    v6 = *(_QWORD *)(v5 + 96);
    v180 = v6 + 40LL * *(_QWORD *)(v5 + 104);
    if ( (*(_BYTE *)(v5 + 2) & 1) != 0 )
    {
      sub_B2C6D0(v5, a2, v130, v131);
      v6 = *(_QWORD *)(v5 + 96);
    }
  }
  else
  {
    v6 = *(_QWORD *)(v5 + 96);
    v180 = v6 + 40LL * *(_QWORD *)(v5 + 104);
  }
  v173 = a1 + 200;
  if ( v6 != v180 )
  {
    do
    {
      v7 = sub_ACADE0(*(__int64 ***)(v6 + 8));
      v196 = 257;
      v8 = sub_BD2C40(72, unk_3F10A14);
      v10 = v8;
      if ( v8 )
        sub_B549F0((__int64)v8, v7, (__int64)&v192, 0, 0);
      v11 = (unsigned int)v190;
      v12 = (unsigned int)v190 + 1LL;
      if ( v12 > HIDWORD(v190) )
      {
        sub_C8D5F0((__int64)&v189, v191, (unsigned int)v190 + 1LL, 8u, v12, v9);
        v11 = (unsigned int)v190;
      }
      v189[v11] = (__int64)v10;
      LODWORD(v190) = v190 + 1;
      v13 = v189[(unsigned int)v190 - 1];
      v192 = (const char *)v6;
      v14 = sub_24E84F0(a1 + 200, (__int64 *)&v192);
      v15 = v14[2];
      if ( v13 != v15 )
      {
        if ( v15 != -4096 && v15 != 0 && v15 != -8192 )
          sub_BD60C0(v14);
        v14[2] = v13;
        if ( v13 != 0 && v13 != -4096 && v13 != -8192 )
          sub_BD73F0((__int64)v14);
      }
      v6 += 40;
    }
    while ( v6 != v180 );
    v4 = a1;
  }
  v16 = *(_QWORD *)(v4 + 280);
  v186 = (__int64 *)v188;
  v187 = 0x400000000LL;
  v17 = *(_BYTE *)(v16 + 32);
  v175 = v17 >> 6;
  v18 = *(_BYTE *)(v16 + 33);
  v19 = (v17 >> 4) & 3;
  v171 = v18 & 3;
  v177 = v17 & 0xF;
  v181 = v17 & 0xF;
  *(_BYTE *)(v16 + 32) = v17 & 0xF0;
  if ( (v17 & 0x30) != 0 )
    *(_BYTE *)(v16 + 33) = v18 | 0x40;
  sub_F4B000(*(_QWORD *)(v4 + 280), *(_QWORD **)(v4 + 8), v173, 0, 0, 0);
  sub_F45E60(*(_QWORD *)(v4 + 280), *(_QWORD *)(v4 + 8), v173, 0, 0, 0, *(_QWORD *)(v4 + 192));
  sub_F4B700(
    *(_QWORD *)(v4 + 280),
    *(_QWORD *)(v4 + 8),
    v173,
    0,
    (__int64)&v186,
    byte_3F871B3,
    0,
    0,
    0,
    *(_QWORD *)(v4 + 192));
  v179 = (__int64 *)sub_B2BE50(*(_QWORD *)(v4 + 280));
  v20 = sub_B92180(*(_QWORD *)(v4 + 280));
  v23 = (__m128i *)v20;
  if ( !v20 )
    goto LABEL_96;
  v24 = *(_QWORD *)(v4 + 296);
  if ( !v24 )
  {
    v169 = (__m128i *)(v20 - 16);
    goto LABEL_61;
  }
  if ( !sub_B46B10(*(_QWORD *)(v4 + 296), 0) )
  {
    v38 = *(__int64 **)(v24 + 48);
    v169 = v23 - 1;
    v192 = (const char *)v38;
    if ( v38 )
      goto LABEL_44;
    goto LABEL_61;
  }
  v25 = sub_B46B10(v24, 0);
  v26 = v25 + 24;
  if ( *(_BYTE *)v25 == 31 && (*(_DWORD *)(v25 + 4) & 0x7FFFFFF) == 1 )
  {
    v26 = sub_AA5030(*(_QWORD *)(v25 - 32), 1);
    if ( !v26 )
      BUG();
  }
  v168 = *(_QWORD *)(v26 + 16) + 48LL;
  if ( v26 == v168 )
  {
LABEL_197:
    v169 = v23 - 1;
    goto LABEL_43;
  }
  v166 = v23;
  while ( 1 )
  {
    v27 = sub_AA5FF0(v26);
    v28 = v27;
    if ( !v27 )
      goto LABEL_230;
    v29 = *(__int64 **)(v27 + 24);
    v192 = (const char *)v29;
    if ( !v29 )
      goto LABEL_195;
    sub_B96E90((__int64)&v192, (__int64)v29, 1);
    if ( !v192 )
      goto LABEL_195;
    if ( (unsigned int)sub_B10CE0((__int64)&v192) )
      break;
    if ( v192 )
      sub_B91220((__int64)&v192, (__int64)v192);
LABEL_195:
    v26 = *(_QWORD *)(v28 + 8);
    if ( v26 == v168 )
    {
      v23 = v166;
      goto LABEL_197;
    }
  }
  v23 = v166;
  v169 = v166 - 1;
  if ( v166->m128i_i8[0] != 16 )
  {
    v30 = v166[-1].m128i_u8[0];
    if ( (v30 & 2) != 0 )
      v31 = (__m128i **)v166[-2].m128i_i64[0];
    else
      v31 = (__m128i **)v169 - ((v30 >> 2) & 0xF);
    v166 = *v31;
  }
  v32 = sub_B10CD0((__int64)&v192);
  v33 = *(_BYTE *)(v32 - 16);
  if ( (v33 & 2) != 0 )
    v34 = *(__m128i ***)(v32 - 32);
  else
    v34 = (__m128i **)(v32 - 16 - 8LL * ((v33 >> 2) & 0xF));
  v35 = *v34;
  if ( v35->m128i_i8[0] != 16 )
  {
    v36 = v35[-1].m128i_u8[0];
    if ( (v36 & 2) != 0 )
      v37 = (__m128i **)v35[-2].m128i_i64[0];
    else
      v37 = (__m128i **)&v35[-1] - ((v36 >> 2) & 0xF);
    v35 = *v37;
  }
  if ( v166 == v35 )
  {
    v23[1].m128i_i32[1] = sub_B10CE0((__int64)&v192);
    if ( v192 )
      sub_B91220((__int64)&v192, (__int64)v192);
  }
  else
  {
    if ( v192 )
      sub_B91220((__int64)&v192, (__int64)v192);
LABEL_43:
    v38 = *(__int64 **)(v24 + 48);
    v192 = (const char *)v38;
    if ( v38 )
    {
LABEL_44:
      sub_B96E90((__int64)&v192, (__int64)v38, 1);
      if ( v192 )
      {
        v39 = v23;
        if ( v23->m128i_i8[0] != 16 )
        {
          v40 = v23[-1].m128i_u8[0];
          if ( (v40 & 2) != 0 )
            v41 = (__m128i **)v23[-2].m128i_i64[0];
          else
            v41 = (__m128i **)v169 - ((v40 >> 2) & 0xF);
          v39 = *v41;
        }
        v42 = sub_B10CD0((__int64)&v192);
        v43 = *(_BYTE *)(v42 - 16);
        if ( (v43 & 2) != 0 )
          v44 = *(__m128i ***)(v42 - 32);
        else
          v44 = (__m128i **)(v42 - 16 - 8LL * ((v43 >> 2) & 0xF));
        v45 = *v44;
        if ( v45->m128i_i8[0] != 16 )
        {
          v46 = v45[-1].m128i_u8[0];
          if ( (v46 & 2) != 0 )
            v47 = (__m128i **)v45[-2].m128i_i64[0];
          else
            v47 = (__m128i **)&v45[-1] - ((v46 >> 2) & 0xF);
          v45 = *v47;
        }
        if ( v39 == v45 )
          v23[1].m128i_i32[1] = *(_DWORD *)(sub_B10CD0((__int64)&v192) + 4);
        if ( v192 )
        {
          sub_B91220((__int64)&v192, (__int64)v192);
          v48 = v23[-1].m128i_u8[0];
          if ( (v48 & 2) == 0 )
            goto LABEL_59;
LABEL_62:
          v49 = (__int8 *)v23[-2].m128i_i64[0];
          goto LABEL_63;
        }
      }
    }
  }
LABEL_61:
  v48 = v23[-1].m128i_u8[0];
  if ( (v48 & 2) != 0 )
    goto LABEL_62;
LABEL_59:
  v49 = &v169->m128i_i8[-8 * ((v48 >> 2) & 0xF)];
LABEL_63:
  v50 = *((_QWORD *)v49 + 5);
  if ( !v50 )
    goto LABEL_96;
  if ( *(_DWORD *)(v50 + 16) != 30 )
    goto LABEL_96;
  v51 = sub_BD5D20(*(_QWORD *)(v4 + 280));
  v53 = (unsigned __int8 *)sub_B9B140(v179, v51, v52);
  sub_BA6610(v23, 3u, v53);
  v54 = *((_QWORD *)sub_A17150(v169) + 6);
  if ( !v54 )
    goto LABEL_96;
  v152 = *(_BYTE *)(v54 - 16);
  v161 = (v152 & 2) != 0;
  if ( (v152 & 2) != 0 )
    v55 = *(_DWORD *)(v54 - 24);
  else
    v55 = (*(_WORD *)(v54 - 16) >> 6) & 0xF;
  v56 = v54 - 16;
  if ( v55 > 0xC && *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 12) )
  {
    v57 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 12);
    v160 = (const void *)v57;
    if ( v57 )
    {
      v160 = (const void *)sub_B91420(v57);
      v163 = v58;
      v152 = *(_BYTE *)(v54 - 16);
      v161 = (v152 & 2) != 0;
    }
    else
    {
      v163 = 0;
    }
  }
  else
  {
    v163 = 0;
    v160 = 0;
  }
  if ( v161 )
    v59 = *(_DWORD *)(v54 - 24);
  else
    v59 = (*(_WORD *)(v54 - 16) >> 6) & 0xF;
  if ( v59 > 0xB )
  {
    v170 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 11);
    goto LABEL_76;
  }
  if ( v59 == 11 )
  {
    v170 = 0;
LABEL_76:
    v167 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 10);
    v148 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 7);
    goto LABEL_77;
  }
  v148 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 7);
  if ( v59 == 10 )
  {
    v170 = 0;
    v167 = 0;
LABEL_77:
    v159 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 9);
    v149 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 5);
    v154 = *(_DWORD *)(v54 + 36);
    v155 = *(_DWORD *)(v54 + 32);
    v156 = *(_DWORD *)(v54 + 28);
    v157 = *(_DWORD *)(v54 + 24);
LABEL_78:
    v158 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 8);
    goto LABEL_79;
  }
  v167 = 0;
  v170 = 0;
  v159 = 0;
  v149 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 5);
  v154 = *(_DWORD *)(v54 + 36);
  v155 = *(_DWORD *)(v54 + 32);
  v156 = *(_DWORD *)(v54 + 28);
  v157 = *(_DWORD *)(v54 + 24);
  if ( v59 == 9 )
    goto LABEL_78;
  v158 = 0;
LABEL_79:
  v147 = *(_DWORD *)(v54 + 20);
  v144 = *((_QWORD *)sub_A17150((_BYTE *)(v54 - 16)) + 4);
  v146 = *(_DWORD *)(v54 + 16);
  if ( *(_BYTE *)v54 == 16 )
  {
    v153 = v54;
  }
  else
  {
    if ( v161 )
      v60 = *(__int64 **)(v54 - 32);
    else
      v60 = (__int64 *)(v56 - 8LL * ((v152 >> 2) & 0xF));
    v153 = *v60;
  }
  v143 = sub_BD5D20(*(_QWORD *)(v4 + 280));
  v61 = *(_BYTE *)(v54 - 16);
  v142 = v62;
  if ( (v61 & 2) != 0 )
    v63 = *(_QWORD *)(v54 - 32);
  else
    v63 = v56 - 8LL * ((v61 >> 2) & 0xF);
  v64 = *(_QWORD *)(v63 + 16);
  if ( v64 )
  {
    v65 = sub_B91420(*(_QWORD *)(v63 + 16));
    v162 = v66;
    v64 = v65;
  }
  else
  {
    v162 = 0;
  }
  v150 = (const void *)v64;
  v67 = sub_A17150((_BYTE *)(v54 - 16));
  v68 = v150;
  v145 = (__int64 *)*((_QWORD *)v67 + 1);
  v69 = (__int64 *)(*(_QWORD *)(v54 + 8) & 0xFFFFFFFFFFFFFFF8LL);
  if ( (*(_QWORD *)(v54 + 8) & 4) != 0 )
    v69 = (__int64 *)*v69;
  v70 = v163;
  v151 = 0;
  if ( v163 )
  {
    v164 = v68;
    v71 = sub_B9B140(v69, v160, v70);
    v68 = v164;
    v151 = v71;
  }
  v72 = 0;
  if ( v142 )
  {
    v165 = v68;
    v73 = sub_B9B140(v69, v143, v142);
    v68 = v165;
    v72 = v73;
  }
  v74 = 0;
  if ( v162 )
    v74 = sub_B9B140(v69, v68, v162);
  v75 = (unsigned __int8 *)sub_B07EA0(
                             v69,
                             v145,
                             v74,
                             v72,
                             v153,
                             v146,
                             v144,
                             v147,
                             v158,
                             v157,
                             v156,
                             v155,
                             v154,
                             v149,
                             v159,
                             0,
                             v148,
                             v167,
                             v170,
                             v151,
                             0,
                             1);
  sub_BA6610(v23, 6u, v75);
LABEL_96:
  v76 = *(_QWORD *)(v4 + 280);
  if ( (unsigned int)(v181 - 7) > 1 )
  {
    *(_BYTE *)(v76 + 32) = v177 | *(_BYTE *)(v76 + 32) & 0xF0;
  }
  else
  {
    *(_WORD *)(v76 + 32) = v177 & 0xF | *(_WORD *)(v76 + 32) & 0xFCC0;
    if ( v181 == 7 )
      goto LABEL_98;
  }
  if ( v181 == 8 || (*(_BYTE *)(v76 + 32) & 0x30) != 0 && v177 != 9 )
LABEL_98:
    *(_BYTE *)(v76 + 33) |= 0x40u;
  v77 = *(_QWORD *)(v4 + 280);
  v78 = (16 * (v19 & 3)) | *(_BYTE *)(v77 + 32) & 0xCF;
  *(_BYTE *)(v77 + 32) = v78;
  if ( (v78 & 0xFu) - 7 <= 1 || (v78 & 0x30) != 0 && (v78 & 0xF) != 9 )
    *(_BYTE *)(v77 + 33) |= 0x40u;
  *(_BYTE *)(*(_QWORD *)(v4 + 280) + 32LL) = (v175 << 6) | *(_BYTE *)(*(_QWORD *)(v4 + 280) + 32LL) & 0x3F;
  *(_BYTE *)(*(_QWORD *)(v4 + 280) + 33LL) = v171 | *(_BYTE *)(*(_QWORD *)(v4 + 280) + 33LL) & 0xFC;
  v79 = *(_QWORD *)(v4 + 24);
  v80 = *(_DWORD *)(v79 + 280);
  if ( v80 )
  {
    v81 = *(_QWORD *)(v4 + 280);
    goto LABEL_103;
  }
  v129 = *(_QWORD *)(v4 + 280);
  if ( (*(_BYTE *)(v129 + 7) & 0x20) != 0 )
  {
    if ( sub_B91C10(v129, 32) )
      sub_B98000(*(_QWORD *)(v4 + 280), 32);
    v79 = *(_QWORD *)(v4 + 24);
    v81 = *(_QWORD *)(v4 + 280);
    v80 = *(_DWORD *)(v79 + 280);
LABEL_103:
    v184 = 0;
    v183 = *(_QWORD *)(v81 + 120);
    if ( v80 > 2 )
    {
      if ( v80 != 3 )
        goto LABEL_109;
      v124 = *(_QWORD *)(v4 + 296);
      if ( (unsigned __int8)sub_B2D640(*(_QWORD *)(v4 + 8), *(_DWORD *)(v79 + 340), 73) )
      {
        v140 = *(_QWORD *)(v124 - 32LL * (*(_DWORD *)(v124 + 4) & 0x7FFFFFF));
        v141 = *(_QWORD **)(v140 + 24);
        if ( *(_DWORD *)(v140 + 32) > 0x40u )
          v141 = (_QWORD *)*v141;
        v194 = 0x800000000LL;
        v192 = (const char *)v179;
        v193 = &v195;
        sub_A77B20((__int64 **)&v192, 73);
        v184 = sub_A7B2C0((__int64 *)&v184, v179, (unsigned int)(unsigned __int8)v141 + 1, (__int64)&v192);
        if ( v193 != &v195 )
          _libc_free((unsigned __int64)v193);
        if ( (unsigned int)v141 >> 8 )
        {
          v194 = 0x800000000LL;
          v192 = (const char *)v179;
          v193 = &v195;
          sub_A77B20((__int64 **)&v192, 75);
          v184 = sub_A7B2C0((__int64 *)&v184, v179, ((unsigned int)v141 >> 8) + 1, (__int64)&v192);
          if ( v193 != &v195 )
            _libc_free((unsigned __int64)v193);
        }
      }
      v192 = *(const char **)(*(_QWORD *)(v4 + 8) + 120LL);
      v125 = sub_A74680(&v192);
      sub_A74940((__int64)&v192, (__int64)v179, v125);
      v184 = sub_A7B2C0((__int64 *)&v184, v179, -1, (__int64)&v192);
      if ( v193 != &v195 )
        _libc_free((unsigned __int64)v193);
    }
    else
    {
      if ( v80 <= 0 )
      {
        if ( !v80 )
          goto LABEL_106;
        goto LABEL_109;
      }
      v184 = *(_QWORD *)(*(_QWORD *)(v79 + 328) + 120LL);
      v132 = *(_QWORD *)(*(_QWORD *)v79 - 32LL * (*(_DWORD *)(*(_QWORD *)v79 + 4LL) & 0x7FFFFFF));
      v133 = *(_DWORD *)(v132 + 4) & 0x7FFFFFF;
      v134 = *(_QWORD *)(v132 + 32 * (1 - v133));
      v135 = *(_DWORD *)(v134 + 32) <= 0x40u;
      v136 = *(_QWORD *)(v134 + 24);
      if ( !v135 )
        v136 = *(_QWORD *)v136;
      v137 = 0;
      if ( v136 )
      {
        _BitScanReverse64(&v136, v136);
        v137 = 63 - (v136 ^ 0x3F);
      }
      v138 = *(_QWORD *)(v132 - 32 * v133);
      v139 = *(_QWORD **)(v138 + 24);
      if ( *(_DWORD *)(v138 + 32) > 0x40u )
        v139 = (_QWORD *)*v139;
      sub_24E3D70((__int64 *)&v184, v179, 0, (__int64)v139, v137, 1);
    }
    v80 = *(_DWORD *)(*(_QWORD *)(v4 + 24) + 280LL);
    goto LABEL_109;
  }
  v184 = 0;
  v183 = *(_QWORD *)(v129 + 120);
LABEL_106:
  v82 = sub_A74680(&v183);
  sub_A74940((__int64)&v192, (__int64)v179, v82);
  v184 = sub_A7B2C0((__int64 *)&v184, v179, -1, (__int64)&v192);
  if ( v193 != &v195 )
    _libc_free((unsigned __int64)v193);
  sub_24E3D70(
    (__int64 *)&v184,
    v179,
    0,
    *(_QWORD *)(*(_QWORD *)(v4 + 24) + 304LL),
    *(_BYTE *)(*(_QWORD *)(v4 + 24) + 296LL),
    0);
  v80 = *(_DWORD *)(*(_QWORD *)(v4 + 24) + 280LL);
LABEL_109:
  if ( (v80 & 0xFFFFFFFD) == 0 )
  {
    v126 = v186;
    v127 = &v186[(unsigned int)v187];
    if ( v127 != v186 )
    {
      do
      {
        v128 = *v126++;
        sub_F55BE0(v128, 0, 0, 0, v21, v22);
      }
      while ( v127 != v126 );
    }
  }
  *(_QWORD *)(*(_QWORD *)(v4 + 280) + 120LL) = v184;
  v83 = *(_QWORD *)(v4 + 24);
  v84 = *(_DWORD *)(v83 + 280);
  if ( v84 > 2 )
  {
    if ( v84 != 3 )
      goto LABEL_230;
    v85 = 16 * *(_DWORD *)(v83 + 336);
  }
  else
  {
    if ( v84 <= 0 )
    {
      if ( !v84 )
      {
        v85 = 128;
        goto LABEL_114;
      }
LABEL_230:
      BUG();
    }
    v85 = *(_WORD *)(*(_QWORD *)(v83 + 328) + 2LL) & 0x3FF0;
  }
LABEL_114:
  *(_WORD *)(*(_QWORD *)(v4 + 280) + 2LL) = v85 | *(_WORD *)(*(_QWORD *)(v4 + 280) + 2LL) & 0xC00F;
  sub_24E9130((_QWORD *)v4);
  v86 = *(_QWORD *)(v4 + 24);
  v176 = (__int64 *)(v4 + 40);
  v182 = *(const char ***)(v86 + 216);
  for ( i = &v182[*(unsigned int *)(v86 + 224)]; i != v182; ++v182 )
  {
    v192 = *v182;
    v87 = sub_24E84F0(v173, (__int64 *)&v192)[2];
    if ( (unsigned __int8)sub_DFAB60(*(_QWORD *)(v4 + 184)) )
      *(_WORD *)(v87 + 2) = *(_WORD *)(v87 + 2) & 0xFFFC | 2;
    v88 = *(_QWORD **)(v87 + 40);
    v196 = 257;
    v89 = *(_QWORD **)(v87 + 32);
    v178 = v88 + 6;
    if ( v88 + 6 == v89 || !v89 )
      v90 = 0;
    else
      v90 = v89 - 3;
    v91 = v174;
    LOWORD(v91) = 0;
    v174 = v91;
    sub_AA8550(v88, v90 + 3, v91, (__int64)&v192, 0);
    v92 = v88[6] & 0xFFFFFFFFFFFFFFF8LL;
    if ( v178 == (_QWORD *)v92 )
    {
      v94 = 0;
    }
    else
    {
      if ( !v92 )
        goto LABEL_229;
      v93 = *(unsigned __int8 *)(v92 - 24);
      v94 = v92 - 24;
      if ( (unsigned int)(v93 - 30) >= 0xB )
        v94 = 0;
    }
    sub_D5F1F0((__int64)v176, v94);
    v95 = *(_QWORD *)(v4 + 112);
    v196 = 257;
    v96 = sub_BD2C40(72, 0);
    v97 = (__int64)v96;
    if ( v96 )
      sub_B4BB80((__int64)v96, v95, 0, 0, 0, 0);
    (*(void (__fastcall **)(_QWORD, __int64, const char **, _QWORD, _QWORD))(**(_QWORD **)(v4 + 128) + 16LL))(
      *(_QWORD *)(v4 + 128),
      v97,
      &v192,
      *(_QWORD *)(v4 + 96),
      *(_QWORD *)(v4 + 104));
    v98 = *(_QWORD *)(v4 + 40);
    v99 = v98 + 16LL * *(unsigned int *)(v4 + 48);
    while ( v99 != v98 )
    {
      v100 = *(_QWORD *)(v98 + 8);
      v101 = *(_DWORD *)v98;
      v98 += 16;
      sub_B99FD0(v97, v101, v100);
    }
    v102 = v88[6] & 0xFFFFFFFFFFFFFFF8LL;
    if ( v178 == (_QWORD *)v102 )
    {
      v104 = 0;
    }
    else
    {
      if ( !v102 )
LABEL_229:
        BUG();
      v103 = *(unsigned __int8 *)(v102 - 24);
      v104 = (_QWORD *)(v102 - 24);
      if ( (unsigned int)(v103 - 30) >= 0xB )
        v104 = 0;
    }
    sub_B43D60(v104);
  }
  v105 = *(_QWORD *)(*(_QWORD *)(v4 + 280) + 80LL);
  if ( !v105 )
    BUG();
  v106 = *(_QWORD *)(v105 + 32);
  if ( v106 )
    v106 -= 24;
  sub_D5F1F0((__int64)v176, v106);
  *(_QWORD *)(v4 + 288) = sub_24E9680(v4, v106, v107, v108);
  v109 = (unsigned __int8 *)sub_24E84F0(v173, (__int64 *)(*(_QWORD *)(v4 + 24) + 312LL))[2];
  sub_BD6B90(*(unsigned __int8 **)(v4 + 288), v109);
  sub_BD84D0((__int64)v109, *(_QWORD *)(v4 + 288));
  v110 = *(__int64 **)(v4 + 112);
  v196 = 259;
  v192 = "vFrame";
  v111 = (__int64 **)sub_BCE3C0(v110, 0);
  v112 = &v192;
  v113 = sub_24E55A0(v176, 0x31u, *(_QWORD *)(v4 + 288), v111, (__int64)&v192, 0, v185, 0);
  v192 = **(const char ***)(v4 + 24);
  v114 = sub_24E84F0(v173, (__int64 *)&v192)[2];
  if ( v114 != v113 )
  {
    v112 = (const char **)v113;
    sub_BD84D0(v114, v113);
  }
  v115 = v189;
  v116 = &v189[(unsigned int)v190];
  if ( v116 != v189 )
  {
    do
    {
      v117 = *v115++;
      v112 = (const char **)sub_ACADE0(*(__int64 ***)(v117 + 8));
      sub_BD84D0(v117, (__int64)v112);
      sub_BD72D0(v117, (__int64)v112);
    }
    while ( v116 != v115 );
  }
  v118 = *(_QWORD *)(v4 + 24);
  v119 = *(_DWORD *)(v118 + 280);
  if ( v119 )
  {
    if ( (unsigned int)(v119 - 1) <= 2 )
      sub_24E8CC0((_QWORD *)v4);
  }
  else if ( *(_BYTE *)(v118 + 364) )
  {
    sub_24E8700(v4);
  }
  sub_24E9010(v4);
  sub_24EA1A0(v4);
  sub_24E81D0(v4);
  sub_24E5A70(v4, (__int64)v112, v120, v121, v122, v123);
  if ( v186 != (__int64 *)v188 )
    _libc_free((unsigned __int64)v186);
  if ( v189 != (__int64 *)v191 )
    _libc_free((unsigned __int64)v189);
}
