// Function: sub_20EC410
// Address: 0x20ec410
//
unsigned __int64 __fastcall sub_20EC410(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  unsigned __int64 *v5; // rax
  __int64 v6; // rdx
  unsigned __int64 *v7; // r11
  unsigned __int64 v8; // r12
  unsigned __int64 *v9; // rbx
  __int64 *v10; // rbx
  unsigned __int64 result; // rax
  __int64 v12; // r13
  __int64 v13; // r14
  _QWORD *v14; // rdx
  __int64 v15; // rdx
  __int64 v16; // rcx
  unsigned __int64 *v17; // r13
  __int64 v18; // r14
  __int64 v19; // rdx
  __int64 v20; // r14
  __int64 v21; // rax
  __int64 v22; // rsi
  unsigned int v23; // ecx
  __int64 *v24; // rdx
  __int64 v25; // r8
  unsigned int v26; // esi
  __int64 v27; // r9
  unsigned int v28; // r8d
  _QWORD *v29; // rax
  __int64 v30; // rdi
  unsigned __int64 v31; // r14
  __int64 v32; // rcx
  unsigned __int64 v33; // rax
  unsigned int v34; // esi
  __int64 v35; // r8
  unsigned int v36; // ecx
  __int64 *v37; // rdx
  __int64 v38; // rdi
  __int64 v39; // rdx
  unsigned __int64 v40; // rax
  unsigned int v41; // edi
  __int64 *v42; // rcx
  __int64 v43; // r10
  unsigned __int64 v44; // rax
  __int64 v45; // rax
  __int64 v46; // r12
  __int64 v47; // rdx
  __int64 v48; // r12
  __int64 v49; // rax
  __int64 v50; // rsi
  unsigned int v51; // ecx
  __int64 *v52; // rdx
  __int64 v53; // r8
  unsigned int v54; // esi
  __int64 v55; // r8
  unsigned int v56; // edi
  _QWORD *v57; // rax
  __int64 v58; // rcx
  unsigned __int64 *v59; // rax
  int v60; // ecx
  int v61; // r11d
  _QWORD *v62; // rcx
  int v63; // eax
  int v64; // eax
  __int64 v65; // r14
  __int64 v66; // rdx
  __int64 v67; // r14
  __int64 v68; // rax
  __int64 v69; // rsi
  unsigned int v70; // ecx
  __int64 *v71; // rdx
  __int64 v72; // r8
  unsigned int v73; // esi
  __int64 v74; // r8
  unsigned int v75; // ecx
  _QWORD *v76; // rax
  __int64 v77; // rdi
  __int64 v78; // rax
  __int64 v79; // r8
  __int64 v80; // rdx
  __int64 v81; // rbx
  _QWORD *v82; // r12
  __int64 v83; // r13
  __int64 v84; // rdi
  unsigned __int64 *v85; // r8
  __int64 v86; // rax
  __int64 v87; // r8
  unsigned int v88; // edx
  _QWORD *v89; // r12
  _QWORD *v90; // rbx
  __int64 v91; // r13
  __int64 v92; // rdi
  unsigned __int64 *v93; // r8
  int v94; // edx
  int v95; // r10d
  int v96; // r10d
  __int64 v97; // r9
  unsigned int v98; // edx
  __int64 v99; // rsi
  int v100; // r11d
  _QWORD *v101; // rdi
  __int64 v102; // rax
  __int64 v103; // r8
  unsigned int v104; // edx
  _QWORD *v105; // r12
  _QWORD *v106; // rbx
  __int64 v107; // r8
  __int64 v108; // rdi
  unsigned __int64 *v109; // r8
  int v110; // edx
  int v111; // r10d
  _QWORD *v112; // r11
  int v113; // edi
  int v114; // ecx
  int v115; // edx
  int v116; // r10d
  int v117; // r10d
  __int64 v118; // r8
  unsigned int v119; // edx
  __int64 v120; // rsi
  int v121; // r11d
  _QWORD *v122; // rdi
  int v123; // r10d
  int v124; // r10d
  __int64 v125; // r9
  int v126; // r11d
  unsigned int v127; // edx
  __int64 v128; // rsi
  int v129; // r11d
  int v130; // r11d
  __int64 v131; // r10
  int v132; // edi
  unsigned int v133; // edx
  _QWORD *v134; // rsi
  __int64 v135; // r8
  int v136; // r9d
  int v137; // edx
  int v138; // r11d
  int v139; // r11d
  __int64 v140; // r10
  unsigned int v141; // edx
  int v142; // ecx
  __int64 v143; // r8
  int v144; // edi
  _QWORD *v145; // rsi
  int v146; // r10d
  _QWORD *v147; // r11
  int v148; // edi
  int v149; // r11d
  int v150; // r11d
  __int64 v151; // r10
  int v152; // edi
  unsigned int v153; // edx
  __int64 v154; // r8
  int v155; // r11d
  int v156; // r10d
  int v157; // r9d
  int v158; // r9d
  unsigned __int64 v159; // [rsp+0h] [rbp-70h]
  __int64 v160; // [rsp+0h] [rbp-70h]
  __int64 v161; // [rsp+0h] [rbp-70h]
  __int64 v162; // [rsp+8h] [rbp-68h]
  unsigned __int64 *v163; // [rsp+8h] [rbp-68h]
  __int64 v164; // [rsp+8h] [rbp-68h]
  unsigned __int64 *v165; // [rsp+10h] [rbp-60h]
  unsigned __int64 *v166; // [rsp+10h] [rbp-60h]
  unsigned __int64 v167; // [rsp+10h] [rbp-60h]
  unsigned __int64 *v168; // [rsp+18h] [rbp-58h]
  unsigned __int64 *v169; // [rsp+18h] [rbp-58h]
  __int64 v170; // [rsp+18h] [rbp-58h]
  unsigned __int64 *v171; // [rsp+18h] [rbp-58h]
  unsigned __int64 *v172; // [rsp+18h] [rbp-58h]
  unsigned __int64 *v173; // [rsp+18h] [rbp-58h]
  unsigned int v174; // [rsp+18h] [rbp-58h]
  __int64 v177; // [rsp+30h] [rbp-40h]
  unsigned int v178; // [rsp+30h] [rbp-40h]
  unsigned int v179; // [rsp+30h] [rbp-40h]

  v5 = *(unsigned __int64 **)(a2 + 16);
  if ( v5 == *(unsigned __int64 **)(a2 + 8) )
    v6 = *(unsigned int *)(a2 + 28);
  else
    v6 = *(unsigned int *)(a2 + 24);
  v7 = &v5[v6];
  if ( v5 != v7 )
  {
    while ( 1 )
    {
      v8 = *v5;
      v9 = v5;
      if ( *v5 < 0xFFFFFFFFFFFFFFFELL )
        break;
      if ( v7 == ++v5 )
        goto LABEL_6;
    }
    if ( v7 != v5 )
    {
      v17 = v7;
      do
      {
        v177 = *(_QWORD *)(v8 + 24);
        v18 = *(_QWORD *)(a1 + 40);
        if ( !*(_QWORD *)(v18 + 1312) )
        {
          v78 = sub_22077B0(80);
          if ( v78 )
          {
            *(_QWORD *)(v78 + 24) = 0;
            *(_QWORD *)v78 = v78 + 16;
            *(_QWORD *)(v78 + 8) = 0x100000000LL;
            *(_QWORD *)(v78 + 32) = 0;
            *(_QWORD *)(v78 + 40) = 0;
            *(_DWORD *)(v78 + 48) = 0;
            *(_QWORD *)(v78 + 64) = 0;
            *(_BYTE *)(v78 + 72) = 0;
            *(_DWORD *)(v78 + 76) = 0;
          }
          v79 = *(_QWORD *)(v18 + 1312);
          *(_QWORD *)(v18 + 1312) = v78;
          if ( v79 )
          {
            v80 = *(unsigned int *)(v79 + 48);
            if ( (_DWORD)v80 )
            {
              v165 = v17;
              v162 = v79;
              v168 = v9;
              v159 = v8;
              v81 = *(_QWORD *)(v79 + 32) + 16 * v80;
              v82 = *(_QWORD **)(v79 + 32);
              do
              {
                if ( *v82 != -16 && *v82 != -8 )
                {
                  v83 = v82[1];
                  if ( v83 )
                  {
                    v84 = *(_QWORD *)(v83 + 24);
                    if ( v84 )
                      j_j___libc_free_0(v84, *(_QWORD *)(v83 + 40) - v84);
                    j_j___libc_free_0(v83, 56);
                  }
                }
                v82 += 2;
              }
              while ( (_QWORD *)v81 != v82 );
              v9 = v168;
              v17 = v165;
              v79 = v162;
              v8 = v159;
            }
            v169 = (unsigned __int64 *)v79;
            j___libc_free_0(*(_QWORD *)(v79 + 32));
            v85 = v169;
            if ( (unsigned __int64 *)*v169 != v169 + 2 )
            {
              _libc_free(*v169);
              v85 = v169;
            }
            j_j___libc_free_0(v85, 80);
          }
        }
        sub_1E06620(v18);
        v19 = *(_QWORD *)(v18 + 1312);
        v20 = 0;
        v21 = *(unsigned int *)(v19 + 48);
        if ( !(_DWORD)v21 )
          goto LABEL_31;
        v22 = *(_QWORD *)(v19 + 32);
        v23 = (v21 - 1) & (((unsigned int)v177 >> 9) ^ ((unsigned int)v177 >> 4));
        v24 = (__int64 *)(v22 + 16LL * v23);
        v25 = *v24;
        if ( v177 == *v24 )
        {
LABEL_29:
          if ( v24 != (__int64 *)(v22 + 16 * v21) )
          {
            v20 = v24[1];
LABEL_31:
            v26 = *(_DWORD *)(a4 + 24);
            if ( !v26 )
              goto LABEL_118;
            goto LABEL_32;
          }
        }
        else
        {
          v94 = 1;
          while ( v25 != -8 )
          {
            v136 = v94 + 1;
            v23 = (v21 - 1) & (v94 + v23);
            v24 = (__int64 *)(v22 + 16LL * v23);
            v25 = *v24;
            if ( v177 == *v24 )
              goto LABEL_29;
            v94 = v136;
          }
        }
        v26 = *(_DWORD *)(a4 + 24);
        v20 = 0;
        if ( !v26 )
        {
LABEL_118:
          ++*(_QWORD *)a4;
          goto LABEL_119;
        }
LABEL_32:
        v27 = *(_QWORD *)(a4 + 8);
        v28 = (v26 - 1) & (((unsigned int)v20 >> 9) ^ ((unsigned int)v20 >> 4));
        v29 = (_QWORD *)(v27 + 16LL * v28);
        v30 = *v29;
        if ( v20 != *v29 )
        {
          v61 = 1;
          v62 = 0;
          while ( v30 != -8 )
          {
            if ( v30 == -16 && !v62 )
              v62 = v29;
            v28 = (v26 - 1) & (v61 + v28);
            v29 = (_QWORD *)(v27 + 16LL * v28);
            v30 = *v29;
            if ( v20 == *v29 )
              goto LABEL_33;
            ++v61;
          }
          if ( !v62 )
            v62 = v29;
          v63 = *(_DWORD *)(a4 + 16);
          ++*(_QWORD *)a4;
          v64 = v63 + 1;
          if ( 4 * v64 >= 3 * v26 )
          {
LABEL_119:
            sub_20EC250(a4, 2 * v26);
            v95 = *(_DWORD *)(a4 + 24);
            if ( !v95 )
              goto LABEL_256;
            v96 = v95 - 1;
            v97 = *(_QWORD *)(a4 + 8);
            v98 = v96 & (((unsigned int)v20 >> 9) ^ ((unsigned int)v20 >> 4));
            v64 = *(_DWORD *)(a4 + 16) + 1;
            v62 = (_QWORD *)(v97 + 16LL * v98);
            v99 = *v62;
            if ( v20 != *v62 )
            {
              v100 = 1;
              v101 = 0;
              while ( v99 != -8 )
              {
                if ( !v101 && v99 == -16 )
                  v101 = v62;
                v98 = v96 & (v100 + v98);
                v62 = (_QWORD *)(v97 + 16LL * v98);
                v99 = *v62;
                if ( v20 == *v62 )
                  goto LABEL_70;
                ++v100;
              }
LABEL_171:
              if ( v101 )
                v62 = v101;
            }
          }
          else if ( v26 - *(_DWORD *)(a4 + 20) - v64 <= v26 >> 3 )
          {
            v174 = ((unsigned int)v20 >> 9) ^ ((unsigned int)v20 >> 4);
            sub_20EC250(a4, v26);
            v123 = *(_DWORD *)(a4 + 24);
            if ( !v123 )
            {
LABEL_256:
              ++*(_DWORD *)(a4 + 16);
              BUG();
            }
            v124 = v123 - 1;
            v125 = *(_QWORD *)(a4 + 8);
            v101 = 0;
            v126 = 1;
            v127 = v124 & v174;
            v64 = *(_DWORD *)(a4 + 16) + 1;
            v62 = (_QWORD *)(v125 + 16LL * (v124 & v174));
            v128 = *v62;
            if ( v20 != *v62 )
            {
              while ( v128 != -8 )
              {
                if ( v128 == -16 && !v101 )
                  v101 = v62;
                v127 = v124 & (v126 + v127);
                v62 = (_QWORD *)(v125 + 16LL * v127);
                v128 = *v62;
                if ( v20 == *v62 )
                  goto LABEL_70;
                ++v126;
              }
              goto LABEL_171;
            }
          }
LABEL_70:
          *(_DWORD *)(a4 + 16) = v64;
          if ( *v62 != -8 )
            --*(_DWORD *)(a4 + 20);
          *v62 = v20;
          v62[1] = 0;
          goto LABEL_73;
        }
LABEL_33:
        v31 = v29[1];
        if ( v31 )
        {
          v32 = *(_QWORD *)(*(_QWORD *)(a1 + 16) + 272LL);
          v33 = v29[1];
          if ( (*(_BYTE *)(v31 + 46) & 4) != 0 )
          {
            do
              v33 = *(_QWORD *)v33 & 0xFFFFFFFFFFFFFFF8LL;
            while ( (*(_BYTE *)(v33 + 46) & 4) != 0 );
          }
          v34 = *(_DWORD *)(v32 + 384);
          v35 = *(_QWORD *)(v32 + 368);
          if ( v34 )
          {
            LODWORD(v27) = v34 - 1;
            v36 = (v34 - 1) & (((unsigned int)v33 >> 9) ^ ((unsigned int)v33 >> 4));
            v37 = (__int64 *)(v35 + 16LL * v36);
            v38 = *v37;
            if ( v33 == *v37 )
            {
LABEL_38:
              v39 = v37[1];
              v40 = v8;
              if ( (*(_BYTE *)(v8 + 46) & 4) != 0 )
                goto LABEL_39;
LABEL_42:
              v41 = v27 & (((unsigned int)v40 >> 9) ^ ((unsigned int)v40 >> 4));
              v42 = (__int64 *)(v35 + 16LL * v41);
              v43 = *v42;
              if ( v40 == *v42 )
              {
LABEL_43:
                if ( (*(_DWORD *)((v42[1] & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(v42[1] >> 1) & 3) <= (*(_DWORD *)((v39 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(v39 >> 1) & 3) )
                {
                  v44 = v31;
                  v31 = v8;
                  v8 = v44;
                }
                v45 = *(unsigned int *)(a3 + 8);
                if ( (unsigned int)v45 >= *(_DWORD *)(a3 + 12) )
                {
                  sub_16CD150(a3, (const void *)(a3 + 16), 0, 8, v35, v27);
                  v45 = *(unsigned int *)(a3 + 8);
                }
                *(_QWORD *)(*(_QWORD *)a3 + 8 * v45) = v8;
                ++*(_DWORD *)(a3 + 8);
                v46 = *(_QWORD *)(a1 + 40);
                if ( !*(_QWORD *)(v46 + 1312) )
                {
                  v86 = sub_22077B0(80);
                  if ( v86 )
                  {
                    *(_QWORD *)(v86 + 24) = 0;
                    *(_QWORD *)v86 = v86 + 16;
                    *(_QWORD *)(v86 + 8) = 0x100000000LL;
                    *(_QWORD *)(v86 + 32) = 0;
                    *(_QWORD *)(v86 + 40) = 0;
                    *(_DWORD *)(v86 + 48) = 0;
                    *(_QWORD *)(v86 + 64) = 0;
                    *(_BYTE *)(v86 + 72) = 0;
                    *(_DWORD *)(v86 + 76) = 0;
                  }
                  v87 = *(_QWORD *)(v46 + 1312);
                  *(_QWORD *)(v46 + 1312) = v86;
                  if ( v87 )
                  {
                    v88 = *(_DWORD *)(v87 + 48);
                    if ( v88 )
                    {
                      v163 = v17;
                      v160 = v87;
                      v170 = v46;
                      v89 = *(_QWORD **)(v87 + 32);
                      v166 = v9;
                      v90 = &v89[2 * v88];
                      do
                      {
                        if ( *v89 != -16 && *v89 != -8 )
                        {
                          v91 = v89[1];
                          if ( v91 )
                          {
                            v92 = *(_QWORD *)(v91 + 24);
                            if ( v92 )
                              j_j___libc_free_0(v92, *(_QWORD *)(v91 + 40) - v92);
                            j_j___libc_free_0(v91, 56);
                          }
                        }
                        v89 += 2;
                      }
                      while ( v90 != v89 );
                      v46 = v170;
                      v9 = v166;
                      v17 = v163;
                      v87 = v160;
                    }
                    v171 = (unsigned __int64 *)v87;
                    j___libc_free_0(*(_QWORD *)(v87 + 32));
                    v93 = v171;
                    if ( (unsigned __int64 *)*v171 != v171 + 2 )
                    {
                      _libc_free(*v171);
                      v93 = v171;
                    }
                    j_j___libc_free_0(v93, 80);
                  }
                }
                sub_1E06620(v46);
                v47 = *(_QWORD *)(v46 + 1312);
                v48 = 0;
                v49 = *(unsigned int *)(v47 + 48);
                if ( (_DWORD)v49 )
                {
                  v50 = *(_QWORD *)(v47 + 32);
                  v51 = (v49 - 1) & (((unsigned int)v177 >> 9) ^ ((unsigned int)v177 >> 4));
                  v52 = (__int64 *)(v50 + 16LL * v51);
                  v53 = *v52;
                  if ( v177 == *v52 )
                  {
LABEL_50:
                    if ( v52 != (__int64 *)(v50 + 16 * v49) )
                    {
                      v48 = v52[1];
                      goto LABEL_52;
                    }
                  }
                  else
                  {
                    v115 = 1;
                    while ( v53 != -8 )
                    {
                      v157 = v115 + 1;
                      v51 = (v49 - 1) & (v115 + v51);
                      v52 = (__int64 *)(v50 + 16LL * v51);
                      v53 = *v52;
                      if ( v177 == *v52 )
                        goto LABEL_50;
                      v115 = v157;
                    }
                  }
                  v54 = *(_DWORD *)(a4 + 24);
                  v48 = 0;
                  if ( !v54 )
                  {
LABEL_160:
                    ++*(_QWORD *)a4;
                    goto LABEL_161;
                  }
                }
                else
                {
LABEL_52:
                  v54 = *(_DWORD *)(a4 + 24);
                  if ( !v54 )
                    goto LABEL_160;
                }
                v55 = *(_QWORD *)(a4 + 8);
                v56 = (v54 - 1) & (((unsigned int)v48 >> 9) ^ ((unsigned int)v48 >> 4));
                v57 = (_QWORD *)(v55 + 16LL * v56);
                v58 = *v57;
                if ( v48 != *v57 )
                {
                  v111 = 1;
                  v112 = 0;
                  while ( v58 != -8 )
                  {
                    if ( v58 == -16 && !v112 )
                      v112 = v57;
                    v56 = (v54 - 1) & (v111 + v56);
                    v57 = (_QWORD *)(v55 + 16LL * v56);
                    v58 = *v57;
                    if ( v48 == *v57 )
                      goto LABEL_54;
                    ++v111;
                  }
                  v113 = *(_DWORD *)(a4 + 16);
                  if ( v112 )
                    v57 = v112;
                  ++*(_QWORD *)a4;
                  v114 = v113 + 1;
                  if ( 4 * (v113 + 1) >= 3 * v54 )
                  {
LABEL_161:
                    sub_20EC250(a4, 2 * v54);
                    v116 = *(_DWORD *)(a4 + 24);
                    if ( !v116 )
                      goto LABEL_257;
                    v117 = v116 - 1;
                    v118 = *(_QWORD *)(a4 + 8);
                    v119 = v117 & (((unsigned int)v48 >> 9) ^ ((unsigned int)v48 >> 4));
                    v114 = *(_DWORD *)(a4 + 16) + 1;
                    v57 = (_QWORD *)(v118 + 16LL * v119);
                    v120 = *v57;
                    if ( *v57 != v48 )
                    {
                      v121 = 1;
                      v122 = 0;
                      while ( v120 != -8 )
                      {
                        if ( v120 == -16 && !v122 )
                          v122 = v57;
                        v119 = v117 & (v121 + v119);
                        v57 = (_QWORD *)(v118 + 16LL * v119);
                        v120 = *v57;
                        if ( v48 == *v57 )
                          goto LABEL_154;
                        ++v121;
                      }
                      if ( v122 )
                        v57 = v122;
                    }
                  }
                  else if ( v54 - *(_DWORD *)(a4 + 20) - v114 <= v54 >> 3 )
                  {
                    v178 = ((unsigned int)v48 >> 9) ^ ((unsigned int)v48 >> 4);
                    sub_20EC250(a4, v54);
                    v129 = *(_DWORD *)(a4 + 24);
                    if ( !v129 )
                    {
LABEL_257:
                      ++*(_DWORD *)(a4 + 16);
                      BUG();
                    }
                    v130 = v129 - 1;
                    v131 = *(_QWORD *)(a4 + 8);
                    v132 = 1;
                    v133 = v130 & v178;
                    v114 = *(_DWORD *)(a4 + 16) + 1;
                    v134 = 0;
                    v57 = (_QWORD *)(v131 + 16LL * (v130 & v178));
                    v135 = *v57;
                    if ( v48 != *v57 )
                    {
                      while ( v135 != -8 )
                      {
                        if ( !v134 && v135 == -16 )
                          v134 = v57;
                        v133 = v130 & (v132 + v133);
                        v57 = (_QWORD *)(v131 + 16LL * v133);
                        v135 = *v57;
                        if ( v48 == *v57 )
                          goto LABEL_154;
                        ++v132;
                      }
                      if ( v134 )
                        v57 = v134;
                    }
                  }
LABEL_154:
                  *(_DWORD *)(a4 + 16) = v114;
                  if ( *v57 != -8 )
                    --*(_DWORD *)(a4 + 20);
                  *v57 = v48;
                  v57[1] = 0;
                }
LABEL_54:
                v57[1] = v31;
                goto LABEL_55;
              }
              v60 = 1;
              while ( v43 != -8 )
              {
                v155 = v60 + 1;
                v41 = v27 & (v60 + v41);
                v42 = (__int64 *)(v35 + 16LL * v41);
                v43 = *v42;
                if ( v40 == *v42 )
                  goto LABEL_43;
                v60 = v155;
              }
LABEL_63:
              v42 = (__int64 *)(v35 + 16LL * v34);
              goto LABEL_43;
            }
            v110 = 1;
            while ( v38 != -8 )
            {
              v156 = v110 + 1;
              v36 = v27 & (v110 + v36);
              v37 = (__int64 *)(v35 + 16LL * v36);
              v38 = *v37;
              if ( v33 == *v37 )
                goto LABEL_38;
              v110 = v156;
            }
            v39 = *(_QWORD *)(v35 + 16LL * v34 + 8);
            v40 = v8;
            if ( (*(_BYTE *)(v8 + 46) & 4) == 0 )
              goto LABEL_42;
          }
          else
          {
            v39 = *(_QWORD *)(v35 + 8);
            v40 = v8;
            if ( (*(_BYTE *)(v8 + 46) & 4) == 0 )
            {
              v42 = *(__int64 **)(v32 + 368);
              goto LABEL_43;
            }
          }
          do
LABEL_39:
            v40 = *(_QWORD *)v40 & 0xFFFFFFFFFFFFFFF8LL;
          while ( (*(_BYTE *)(v40 + 46) & 4) != 0 );
          if ( v34 )
          {
            LODWORD(v27) = v34 - 1;
            goto LABEL_42;
          }
          goto LABEL_63;
        }
LABEL_73:
        v65 = *(_QWORD *)(a1 + 40);
        if ( !*(_QWORD *)(v65 + 1312) )
        {
          v102 = sub_22077B0(80);
          if ( v102 )
          {
            *(_QWORD *)(v102 + 24) = 0;
            *(_QWORD *)v102 = v102 + 16;
            *(_QWORD *)(v102 + 8) = 0x100000000LL;
            *(_QWORD *)(v102 + 32) = 0;
            *(_QWORD *)(v102 + 40) = 0;
            *(_DWORD *)(v102 + 48) = 0;
            *(_QWORD *)(v102 + 64) = 0;
            *(_BYTE *)(v102 + 72) = 0;
            *(_DWORD *)(v102 + 76) = 0;
          }
          v103 = *(_QWORD *)(v65 + 1312);
          *(_QWORD *)(v65 + 1312) = v102;
          if ( v103 )
          {
            v104 = *(_DWORD *)(v103 + 48);
            if ( v104 )
            {
              v164 = v103;
              v172 = v9;
              v167 = v8;
              v105 = *(_QWORD **)(v103 + 32);
              v106 = &v105[2 * v104];
              do
              {
                if ( *v105 != -16 && *v105 != -8 )
                {
                  v107 = v105[1];
                  if ( v107 )
                  {
                    v108 = *(_QWORD *)(v107 + 24);
                    if ( v108 )
                    {
                      v161 = v105[1];
                      j_j___libc_free_0(v108, *(_QWORD *)(v107 + 40) - v108);
                      v107 = v161;
                    }
                    j_j___libc_free_0(v107, 56);
                  }
                }
                v105 += 2;
              }
              while ( v106 != v105 );
              v9 = v172;
              v8 = v167;
              v103 = v164;
            }
            v173 = (unsigned __int64 *)v103;
            j___libc_free_0(*(_QWORD *)(v103 + 32));
            v109 = v173;
            if ( (unsigned __int64 *)*v173 != v173 + 2 )
            {
              _libc_free(*v173);
              v109 = v173;
            }
            j_j___libc_free_0(v109, 80);
          }
        }
        sub_1E06620(v65);
        v66 = *(_QWORD *)(v65 + 1312);
        v67 = 0;
        v68 = *(unsigned int *)(v66 + 48);
        if ( !(_DWORD)v68 )
          goto LABEL_78;
        v69 = *(_QWORD *)(v66 + 32);
        v70 = (v68 - 1) & (((unsigned int)v177 >> 9) ^ ((unsigned int)v177 >> 4));
        v71 = (__int64 *)(v69 + 16LL * v70);
        v72 = *v71;
        if ( v177 == *v71 )
        {
LABEL_76:
          if ( v71 != (__int64 *)(v69 + 16 * v68) )
          {
            v67 = v71[1];
LABEL_78:
            v73 = *(_DWORD *)(a4 + 24);
            if ( !v73 )
              goto LABEL_191;
            goto LABEL_79;
          }
        }
        else
        {
          v137 = 1;
          while ( v72 != -8 )
          {
            v158 = v137 + 1;
            v70 = (v68 - 1) & (v137 + v70);
            v71 = (__int64 *)(v69 + 16LL * v70);
            v72 = *v71;
            if ( v177 == *v71 )
              goto LABEL_76;
            v137 = v158;
          }
        }
        v73 = *(_DWORD *)(a4 + 24);
        v67 = 0;
        if ( !v73 )
        {
LABEL_191:
          ++*(_QWORD *)a4;
          goto LABEL_192;
        }
LABEL_79:
        v74 = *(_QWORD *)(a4 + 8);
        v75 = (v73 - 1) & (((unsigned int)v67 >> 9) ^ ((unsigned int)v67 >> 4));
        v76 = (_QWORD *)(v74 + 16LL * v75);
        v77 = *v76;
        if ( v67 != *v76 )
        {
          v146 = 1;
          v147 = 0;
          while ( v77 != -8 )
          {
            if ( !v147 && v77 == -16 )
              v147 = v76;
            v75 = (v73 - 1) & (v146 + v75);
            v76 = (_QWORD *)(v74 + 16LL * v75);
            v77 = *v76;
            if ( v67 == *v76 )
              goto LABEL_80;
            ++v146;
          }
          v148 = *(_DWORD *)(a4 + 16);
          if ( v147 )
            v76 = v147;
          ++*(_QWORD *)a4;
          v142 = v148 + 1;
          if ( 4 * (v148 + 1) >= 3 * v73 )
          {
LABEL_192:
            sub_20EC250(a4, 2 * v73);
            v138 = *(_DWORD *)(a4 + 24);
            if ( !v138 )
              goto LABEL_255;
            v139 = v138 - 1;
            v140 = *(_QWORD *)(a4 + 8);
            v141 = v139 & (((unsigned int)v67 >> 9) ^ ((unsigned int)v67 >> 4));
            v142 = *(_DWORD *)(a4 + 16) + 1;
            v76 = (_QWORD *)(v140 + 16LL * v141);
            v143 = *v76;
            if ( *v76 != v67 )
            {
              v144 = 1;
              v145 = 0;
              while ( v143 != -8 )
              {
                if ( !v145 && v143 == -16 )
                  v145 = v76;
                v141 = v139 & (v144 + v141);
                v76 = (_QWORD *)(v140 + 16LL * v141);
                v143 = *v76;
                if ( v67 == *v76 )
                  goto LABEL_207;
                ++v144;
              }
LABEL_213:
              if ( v145 )
                v76 = v145;
            }
          }
          else if ( v73 - *(_DWORD *)(a4 + 20) - v142 <= v73 >> 3 )
          {
            v179 = ((unsigned int)v67 >> 9) ^ ((unsigned int)v67 >> 4);
            sub_20EC250(a4, v73);
            v149 = *(_DWORD *)(a4 + 24);
            if ( !v149 )
            {
LABEL_255:
              ++*(_DWORD *)(a4 + 16);
              BUG();
            }
            v150 = v149 - 1;
            v151 = *(_QWORD *)(a4 + 8);
            v152 = 1;
            v153 = v150 & v179;
            v142 = *(_DWORD *)(a4 + 16) + 1;
            v145 = 0;
            v76 = (_QWORD *)(v151 + 16LL * (v150 & v179));
            v154 = *v76;
            if ( v67 != *v76 )
            {
              while ( v154 != -8 )
              {
                if ( !v145 && v154 == -16 )
                  v145 = v76;
                v153 = v150 & (v152 + v153);
                v76 = (_QWORD *)(v151 + 16LL * v153);
                v154 = *v76;
                if ( v67 == *v76 )
                  goto LABEL_207;
                ++v152;
              }
              goto LABEL_213;
            }
          }
LABEL_207:
          *(_DWORD *)(a4 + 16) = v142;
          if ( *v76 != -8 )
            --*(_DWORD *)(a4 + 20);
          *v76 = v67;
          v76[1] = 0;
        }
LABEL_80:
        v76[1] = v8;
LABEL_55:
        v59 = v9 + 1;
        if ( v9 + 1 == v17 )
          break;
        v8 = *v59;
        for ( ++v9; *v59 >= 0xFFFFFFFFFFFFFFFELL; v9 = v59 )
        {
          if ( v17 == ++v59 )
            goto LABEL_6;
          v8 = *v59;
        }
      }
      while ( v17 != v9 );
    }
  }
LABEL_6:
  v10 = *(__int64 **)a3;
  result = *(unsigned int *)(a3 + 8);
  v12 = *(_QWORD *)a3 + 8 * result;
  if ( *(_QWORD *)a3 != v12 )
  {
    do
    {
      while ( 1 )
      {
        v13 = *v10;
        result = *(_QWORD *)(a2 + 8);
        if ( *(_QWORD *)(a2 + 16) != result )
          break;
        v14 = (_QWORD *)(result + 8LL * *(unsigned int *)(a2 + 28));
        if ( (_QWORD *)result == v14 )
        {
LABEL_22:
          result = (unsigned __int64)v14;
        }
        else
        {
          while ( v13 != *(_QWORD *)result )
          {
            result += 8LL;
            if ( v14 == (_QWORD *)result )
              goto LABEL_22;
          }
        }
LABEL_16:
        if ( v14 == (_QWORD *)result )
          goto LABEL_10;
        ++v10;
        *(_QWORD *)result = -2;
        ++*(_DWORD *)(a2 + 32);
        if ( (__int64 *)v12 == v10 )
          return result;
      }
      result = (unsigned __int64)sub_16CC9F0(a2, *v10);
      if ( v13 == *(_QWORD *)result )
      {
        v15 = *(_QWORD *)(a2 + 16);
        if ( v15 == *(_QWORD *)(a2 + 8) )
          v16 = *(unsigned int *)(a2 + 28);
        else
          v16 = *(unsigned int *)(a2 + 24);
        v14 = (_QWORD *)(v15 + 8 * v16);
        goto LABEL_16;
      }
      result = *(_QWORD *)(a2 + 16);
      if ( result == *(_QWORD *)(a2 + 8) )
      {
        result += 8LL * *(unsigned int *)(a2 + 28);
        v14 = (_QWORD *)result;
        goto LABEL_16;
      }
LABEL_10:
      ++v10;
    }
    while ( (__int64 *)v12 != v10 );
  }
  return result;
}
