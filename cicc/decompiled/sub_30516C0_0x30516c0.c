// Function: sub_30516C0
// Address: 0x30516c0
//
__int64 __fastcall sub_30516C0(
        _QWORD *a1,
        __int64 a2,
        __int64 a3,
        __int64 a4,
        __int64 a5,
        _QWORD *a6,
        __int64 a7,
        __int64 a8,
        __int64 a9)
{
  __int64 v9; // rbx
  __int64 *v10; // r14
  __int64 (__fastcall *v11)(__int64, __int64, unsigned int); // r15
  __int64 v12; // rax
  __int64 v13; // rsi
  int v14; // eax
  __int64 v15; // rdx
  __int64 v16; // rcx
  __int64 v17; // rdi
  __int64 (*v18)(void); // rax
  __int64 v19; // rdx
  __int64 v20; // rcx
  __int64 *v21; // r15
  __int64 v22; // r14
  _BYTE *v23; // rsi
  __int64 *v24; // rax
  _BYTE *v25; // rsi
  size_t v26; // rdx
  char *v27; // r14
  __int64 v28; // rax
  unsigned __int8 v29; // dl
  __int64 v30; // rax
  __int64 v31; // rax
  unsigned __int64 v32; // rdi
  __int64 v33; // r15
  char v34; // al
  char v35; // al
  unsigned int v36; // eax
  __int128 v37; // rax
  __int64 *v38; // rdi
  int v39; // ebx
  int v40; // eax
  unsigned int v41; // r15d
  int v42; // r14d
  __m128i v43; // kr00_16
  __int64 v44; // rax
  __int64 v45; // rdi
  __int128 v46; // rax
  int v47; // r9d
  __int64 v48; // rax
  __int64 v49; // rdx
  __int64 *v50; // rax
  __int64 v51; // rax
  __int64 v52; // rbx
  char v53; // al
  __int16 v54; // cx
  int v55; // eax
  __int64 v56; // rax
  __int64 v57; // rax
  unsigned __int64 v58; // rdx
  __int64 v59; // rbx
  __int64 v60; // rsi
  unsigned __int16 v61; // cx
  unsigned __int64 v62; // r8
  unsigned __int64 v63; // rax
  __int64 v64; // r9
  __int64 v65; // rdx
  int v66; // eax
  __int64 v67; // rax
  __int64 v68; // r14
  unsigned int v69; // edx
  unsigned __int64 v70; // r15
  __int64 v71; // rax
  __int64 *v72; // rax
  __int128 v73; // rax
  int v74; // r9d
  unsigned __int64 v75; // rdx
  __int16 v76; // ax
  __int64 v77; // rdx
  unsigned int v78; // edx
  unsigned __int64 v79; // rdi
  int v80; // edx
  bool v81; // zf
  int v82; // eax
  __int64 v83; // rax
  __int64 v84; // rdx
  __int64 v85; // r15
  __int64 (__fastcall *v86)(__int64, __int64, __int64, __int64, __int64 *); // r14
  __int64 v87; // rax
  int v88; // eax
  unsigned int v89; // r15d
  unsigned int v90; // r14d
  __int64 v91; // rdx
  __int64 v92; // r8
  __int64 v93; // r9
  __int64 v94; // r10
  __int64 v95; // rax
  __int64 v96; // r11
  __int64 *v97; // rax
  unsigned int v98; // eax
  int v99; // edx
  __int64 v100; // r14
  int v101; // r9d
  __int64 v102; // rdx
  unsigned int v103; // edx
  __int64 v104; // r8
  __int64 v105; // r9
  __int64 v106; // r15
  __int64 v107; // rax
  unsigned __int64 v108; // r14
  __int64 *v109; // rax
  __int64 v110; // rax
  __int64 v111; // r9
  __int64 v112; // rdx
  __int64 v113; // r15
  __int64 v114; // rdx
  __int64 v115; // r14
  __int64 *v116; // rdx
  __int64 v117; // rax
  unsigned int v118; // edx
  __int64 *v119; // rax
  __int64 v120; // rdx
  __int64 v121; // rcx
  __int64 v122; // r8
  __int64 v123; // r9
  __int64 v124; // rax
  char v125; // al
  __int64 v126; // rax
  unsigned __int64 v127; // rax
  int v128; // eax
  __int64 v129; // rdx
  __int64 *v130; // rax
  __int64 v131; // rdx
  __int64 v132; // rcx
  __int64 v133; // r8
  __int64 **v134; // r15
  unsigned int v135; // eax
  __int64 v136; // rax
  __int64 v137; // rdx
  __int64 v138; // rax
  __int64 v139; // rdx
  __int64 v140; // rdx
  char v141; // al
  int v142; // eax
  __int64 v143; // rax
  char v144; // si
  __int64 *v145; // rax
  unsigned __int16 v146; // ax
  int v147; // eax
  __int64 v148; // rax
  int v149; // esi
  unsigned int v150; // edx
  __int64 v151; // r8
  __int64 v152; // r9
  __int64 v153; // r15
  __int64 v154; // rax
  __int64 v155; // r14
  __int64 *v156; // rax
  __int64 *v157; // rdi
  __int64 v158; // rax
  unsigned int v159; // r14d
  __int64 v160; // rdx
  __int64 v161; // r8
  __int64 v162; // r9
  __int64 v163; // r10
  __int64 v164; // rax
  __int64 v165; // r11
  __int64 *v166; // rax
  __int16 v168; // ax
  int v169; // eax
  __int64 v170; // rax
  int v171; // esi
  __int64 v172; // rax
  __int128 v173; // [rsp-10h] [rbp-550h]
  __int64 v174; // [rsp-10h] [rbp-550h]
  __int128 v175; // [rsp-10h] [rbp-550h]
  __int128 v176; // [rsp-10h] [rbp-550h]
  __int128 v177; // [rsp-10h] [rbp-550h]
  __int128 v178; // [rsp-10h] [rbp-550h]
  __int16 v179; // [rsp+2h] [rbp-53Eh]
  __int16 v180; // [rsp+Eh] [rbp-532h]
  __int16 v181; // [rsp+12h] [rbp-52Eh]
  __int16 v182; // [rsp+1Ah] [rbp-526h]
  __int64 v184; // [rsp+30h] [rbp-510h]
  __int64 v185; // [rsp+38h] [rbp-508h]
  __int16 v186; // [rsp+42h] [rbp-4FEh]
  __int16 v187; // [rsp+62h] [rbp-4DEh]
  const void *v188; // [rsp+68h] [rbp-4D8h]
  __m128i v189; // [rsp+70h] [rbp-4D0h]
  __int128 v190; // [rsp+80h] [rbp-4C0h]
  __int64 v191; // [rsp+90h] [rbp-4B0h]
  int v193; // [rsp+A0h] [rbp-4A0h]
  unsigned __int16 v194; // [rsp+A4h] [rbp-49Ch]
  char v195; // [rsp+A6h] [rbp-49Ah]
  char v196; // [rsp+A7h] [rbp-499h]
  __int16 v197; // [rsp+AAh] [rbp-496h]
  __int16 v198; // [rsp+B2h] [rbp-48Eh]
  __int16 v199; // [rsp+BAh] [rbp-486h]
  unsigned __int64 v200; // [rsp+C0h] [rbp-480h]
  __int64 v201; // [rsp+C8h] [rbp-478h]
  __int64 v202; // [rsp+D0h] [rbp-470h]
  __int16 v203; // [rsp+D8h] [rbp-468h]
  unsigned __int16 v204; // [rsp+DCh] [rbp-464h]
  unsigned __int64 v205; // [rsp+E0h] [rbp-460h]
  int v206; // [rsp+E8h] [rbp-458h]
  unsigned int v207; // [rsp+F0h] [rbp-450h]
  int v208; // [rsp+F4h] [rbp-44Ch]
  __int64 v209; // [rsp+100h] [rbp-440h]
  __int64 v210; // [rsp+108h] [rbp-438h]
  __int64 v211; // [rsp+110h] [rbp-430h]
  int v212; // [rsp+110h] [rbp-430h]
  __int64 v213; // [rsp+110h] [rbp-430h]
  __int64 v214; // [rsp+118h] [rbp-428h]
  __int64 *v215; // [rsp+120h] [rbp-420h]
  __int64 v216; // [rsp+120h] [rbp-420h]
  int v217; // [rsp+120h] [rbp-420h]
  unsigned __int64 v218; // [rsp+120h] [rbp-420h]
  int v219; // [rsp+120h] [rbp-420h]
  unsigned int v221; // [rsp+130h] [rbp-410h]
  __int64 v222; // [rsp+130h] [rbp-410h]
  __int64 v223; // [rsp+130h] [rbp-410h]
  __int64 v224; // [rsp+138h] [rbp-408h]
  __int64 v225; // [rsp+140h] [rbp-400h]
  __int64 v226; // [rsp+140h] [rbp-400h]
  __int64 v227; // [rsp+148h] [rbp-3F8h]
  unsigned __int64 v228; // [rsp+148h] [rbp-3F8h]
  __int64 v229; // [rsp+148h] [rbp-3F8h]
  __int16 v230; // [rsp+196h] [rbp-3AAh] BYREF
  __int64 v231; // [rsp+198h] [rbp-3A8h] BYREF
  __m128i v232; // [rsp+1A0h] [rbp-3A0h] BYREF
  __m128i v233; // [rsp+1B0h] [rbp-390h] BYREF
  __int64 v234; // [rsp+1C0h] [rbp-380h]
  __int64 v235; // [rsp+1C8h] [rbp-378h]
  unsigned __int64 v236; // [rsp+1D0h] [rbp-370h]
  __int64 v237; // [rsp+1D8h] [rbp-368h]
  unsigned __int64 v238; // [rsp+1E0h] [rbp-360h] BYREF
  _BYTE *v239; // [rsp+1E8h] [rbp-358h]
  _BYTE *v240; // [rsp+1F0h] [rbp-350h]
  unsigned __int64 v241; // [rsp+200h] [rbp-340h] BYREF
  _BYTE *v242; // [rsp+208h] [rbp-338h]
  _BYTE *v243; // [rsp+210h] [rbp-330h]
  __int128 v244; // [rsp+220h] [rbp-320h] BYREF
  __int64 v245; // [rsp+230h] [rbp-310h]
  __int64 v246; // [rsp+240h] [rbp-300h] BYREF
  __int64 v247; // [rsp+248h] [rbp-2F8h]
  __int64 v248; // [rsp+250h] [rbp-2F0h]
  __int64 v249; // [rsp+258h] [rbp-2E8h]
  unsigned __int64 v250[2]; // [rsp+260h] [rbp-2E0h] BYREF
  _BYTE v251[128]; // [rsp+270h] [rbp-2D0h] BYREF
  __int128 v252; // [rsp+2F0h] [rbp-250h] BYREF
  __int64 v253[32]; // [rsp+300h] [rbp-240h] BYREF
  __int64 *v254; // [rsp+400h] [rbp-140h] BYREF
  __int64 v255; // [rsp+408h] [rbp-138h]
  __int64 v256; // [rsp+410h] [rbp-130h] BYREF
  __int64 v257; // [rsp+418h] [rbp-128h]
  __int64 v258; // [rsp+560h] [rbp+20h]

  v9 = a9;
  v10 = *(__int64 **)(a8 + 40);
  v191 = sub_2E79000(v10);
  v11 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int))(*a1 + 32LL);
  v12 = sub_2E79000(*(__int64 **)(a8 + 40));
  if ( v11 == sub_2D42F30 )
  {
    v13 = 0;
    v14 = sub_AE2980(v12, 0)[1];
    v203 = 2;
    if ( v14 != 1 )
    {
      v203 = 3;
      if ( v14 != 2 )
      {
        v13 = 4;
        v203 = 4;
        if ( v14 != 4 )
        {
          v16 = 5;
          v203 = 5;
          if ( v14 != 8 )
          {
            v15 = 6;
            v203 = 6;
            if ( v14 != 16 )
            {
              v203 = 7;
              if ( v14 != 32 )
              {
                v203 = 8;
                if ( v14 != 64 )
                  v203 = 9 * (v14 == 128);
              }
            }
          }
        }
      }
    }
  }
  else
  {
    v13 = v12;
    v203 = v11((__int64)a1, v12, 0);
  }
  v201 = *v10;
  v231 = *(_QWORD *)(*v10 + 120);
  v17 = a1[67127];
  v18 = *(__int64 (**)(void))(*(_QWORD *)v17 + 144LL);
  if ( (char *)v18 == (char *)sub_3020010 )
    v185 = v17 + 960;
  else
    v185 = v18();
  v238 = 0;
  v239 = 0;
  v240 = 0;
  v241 = 0;
  v242 = 0;
  v243 = 0;
  v189 = _mm_loadu_si128((const __m128i *)(a8 + 384));
  if ( (*(_BYTE *)(v201 + 2) & 1) != 0 )
  {
    sub_B2C6D0(v201, v13, v15, v16);
    v19 = *(_QWORD *)(v201 + 96);
    v20 = v19 + 40LL * *(_QWORD *)(v201 + 104);
    if ( (*(_BYTE *)(v201 + 2) & 1) != 0 )
    {
      v223 = v19 + 40LL * *(_QWORD *)(v201 + 104);
      sub_B2C6D0(v201, v13, v19, v20);
      v19 = *(_QWORD *)(v201 + 96);
      v20 = v223;
    }
  }
  else
  {
    v19 = *(_QWORD *)(v201 + 96);
    v20 = v19 + 40LL * *(_QWORD *)(v201 + 104);
  }
  v21 = (__int64 *)v19;
  if ( v20 != v19 )
  {
    v22 = v20;
    do
    {
      while ( 1 )
      {
        v254 = v21;
        v23 = v242;
        if ( v242 == v243 )
        {
          sub_3051530((__int64)&v241, v242, &v254);
        }
        else
        {
          if ( v242 )
          {
            *(_QWORD *)v242 = v21;
            v23 = v242;
          }
          v242 = v23 + 8;
        }
        v24 = (__int64 *)v21[1];
        v25 = v239;
        v254 = v24;
        if ( v239 != v240 )
          break;
        v21 += 5;
        sub_9183A0((__int64)&v238, v239, &v254);
        if ( (__int64 *)v22 == v21 )
          goto LABEL_26;
      }
      if ( v239 )
      {
        *(_QWORD *)v239 = v24;
        v25 = v239;
      }
      v21 += 5;
      v239 = v25 + 8;
    }
    while ( (__int64 *)v22 != v21 );
LABEL_26:
    v9 = a9;
  }
  v26 = 0;
  v27 = off_4C5D0B0[0];
  if ( off_4C5D0B0[0] )
    v26 = strlen(off_4C5D0B0[0]);
  v28 = sub_B91CC0(v201, v27, v26);
  LODWORD(v184) = 0;
  if ( v28 )
  {
    v29 = *(_BYTE *)(v28 - 16);
    if ( (v29 & 2) != 0 )
      v30 = *(_QWORD *)(v28 - 32);
    else
      v30 = v28 - 8LL * ((v29 >> 2) & 0xF) - 16;
    v31 = *(_QWORD *)(*(_QWORD *)v30 + 136LL);
    if ( *(_DWORD *)(v31 + 32) <= 0x40u )
      v184 = *(_QWORD *)(v31 + 24);
    else
      v184 = **(_QWORD **)(v31 + 24);
  }
  v32 = v241;
  v193 = (__int64)&v242[-v241] >> 3;
  if ( v193 )
  {
    v208 = 1;
    v200 = 0;
    v221 = 0;
    v188 = (const void *)(v9 + 16);
    while ( 1 )
    {
      v33 = *(_QWORD *)(v238 + 8 * v200);
      if ( *(_QWORD *)(*(_QWORD *)(v32 + 8 * v200) + 16LL) )
        break;
      v81 = (unsigned __int8)sub_302F170(*(_QWORD *)(v238 + 8 * v200)) == 0;
      v82 = *(unsigned __int8 *)(v33 + 8);
      if ( v81 )
      {
        if ( (unsigned int)(v82 - 17) <= 1 )
        {
LABEL_108:
          v83 = sub_2D5BAE0((__int64)a1, v191, (__int64 *)v33, 0);
          v85 = v84;
          v225 = v83;
          v86 = *(__int64 (__fastcall **)(__int64, __int64, __int64, __int64, __int64 *))(*(_QWORD *)v185 + 736LL);
          BYTE2(v254) = 0;
          v87 = sub_B2BE50(v201);
          v88 = v86(v185, v87, v225, v85, v254);
          if ( v88 )
          {
            v89 = v221;
            v90 = v221 + v88;
            do
            {
              v94 = sub_33F17F0(a8, 51, a7, *(unsigned __int16 *)(*a6 + 56LL * v89 + 16), 0);
              v95 = *(unsigned int *)(v9 + 8);
              v96 = v91;
              if ( v95 + 1 > (unsigned __int64)*(unsigned int *)(v9 + 12) )
              {
                v225 = v94;
                v229 = v91;
                sub_C8D5F0(v9, v188, v95 + 1, 0x10u, v92, v93);
                v95 = *(unsigned int *)(v9 + 8);
                v94 = v225;
                v96 = v229;
              }
              ++v89;
              v97 = (__int64 *)(*(_QWORD *)v9 + 16 * v95);
              *v97 = v94;
              v97[1] = v96;
              ++*(_DWORD *)(v9 + 8);
            }
            while ( v90 != v89 );
            v221 = v90;
          }
          else
          {
            ++v221;
          }
          goto LABEL_104;
        }
        v110 = sub_33F17F0(a8, 51, a7, *(unsigned __int16 *)(*a6 + 56LL * v221 + 16), 0);
        v113 = v112;
        v114 = *(unsigned int *)(v9 + 8);
        v115 = v110;
        if ( v114 + 1 > (unsigned __int64)*(unsigned int *)(v9 + 12) )
        {
          sub_C8D5F0(v9, v188, v114 + 1, 0x10u, v114 + 1, v111);
          v114 = *(unsigned int *)(v9 + 8);
        }
        v116 = (__int64 *)(*(_QWORD *)v9 + 16 * v114);
        ++v221;
        *v116 = v115;
        v116[1] = v113;
        ++*(_DWORD *)(v9 + 8);
      }
      else
      {
        if ( (unsigned int)(v82 - 17) <= 1 )
          goto LABEL_108;
        v157 = *(__int64 **)(a8 + 40);
        *(_QWORD *)&v252 = v253;
        *((_QWORD *)&v252 + 1) = 0x1000000000LL;
        v158 = sub_2E79000(v157);
        sub_30351C0((__int64)a1, v158, v33, (__int64)&v252, 0, 0);
        if ( !DWORD2(v252) )
LABEL_176:
          sub_C64ED0("Empty parameter types are not supported", 1u);
        v159 = v221;
        LODWORD(v225) = v221 + DWORD2(v252);
        do
        {
          v163 = sub_33F17F0(a8, 51, a7, *(unsigned __int16 *)(*a6 + 56LL * v159 + 16), 0);
          v164 = *(unsigned int *)(v9 + 8);
          v165 = v160;
          if ( v164 + 1 > (unsigned __int64)*(unsigned int *)(v9 + 12) )
          {
            v222 = v163;
            v224 = v160;
            sub_C8D5F0(v9, v188, v164 + 1, 0x10u, v161, v162);
            v164 = *(unsigned int *)(v9 + 8);
            v163 = v222;
            v165 = v224;
          }
          v166 = (__int64 *)(*(_QWORD *)v9 + 16 * v164);
          ++v159;
          *v166 = v163;
          v166[1] = v165;
          ++*(_DWORD *)(v9 + 8);
        }
        while ( (_DWORD)v225 != v159 );
        v79 = v252;
        v221 = (DWORD2(v252) == 0) + v159;
        if ( (__int64 *)v252 != v253 )
          goto LABEL_103;
      }
LABEL_104:
      ++v200;
      v32 = v241;
      if ( v193 == v208 )
        goto LABEL_153;
      ++v208;
    }
    v196 = sub_A74710(&v231, v208, 81);
    if ( v196 )
    {
      v217 = sub_2D5BAE0((__int64)a1, v191, (__int64 *)v33, 0);
      HIWORD(v98) = v186;
      LOWORD(v98) = v203;
      v212 = v99;
      v100 = sub_3045D50((__int64)a1, a8, v200, v98, 0);
      *((_QWORD *)&v178 + 1) = v102;
      *(_QWORD *)&v178 = v100;
      if ( (unsigned __int8)sub_CE9220(v201) )
      {
        v106 = sub_33FAF80(a8, 501, a7, v217, v212, v101, v178);
        *(_DWORD *)(v106 + 72) = v208;
      }
      else
      {
        v117 = sub_33FAF80(a8, 522, a7, v217, v212, v101, v178);
        *(_DWORD *)(v117 + 72) = v208;
        v225 = v118;
        v106 = sub_33F2D30(a8, a7, v217, v212, v117, v118, 5, 0);
      }
      v107 = *(unsigned int *)(v9 + 8);
      v108 = v103 | v225 & 0xFFFFFFFF00000000LL;
      if ( v107 + 1 > (unsigned __int64)*(unsigned int *)(v9 + 12) )
      {
        sub_C8D5F0(v9, v188, v107 + 1, 0x10u, v104, v105);
        v107 = *(unsigned int *)(v9 + 8);
      }
      v109 = (__int64 *)(*(_QWORD *)v9 + 16 * v107);
      ++v221;
      *v109 = v106;
      v109[1] = v108;
      ++*(_DWORD *)(v9 + 8);
      goto LABEL_104;
    }
    v34 = *(_BYTE *)(v33 + 8);
    if ( (unsigned __int8)(v34 - 15) > 3u )
    {
      if ( !sub_BCAC40(v33, 128) )
      {
        if ( *(_BYTE *)(v33 + 8) != 5 )
        {
          v128 = sub_2D5BAE0((__int64)a1, v191, (__int64 *)v33, 0);
          *((_QWORD *)&v244 + 1) = v129;
          LODWORD(v244) = v128;
          v130 = (__int64 *)sub_B2BE50(v201);
          v134 = (__int64 **)sub_3007410((__int64)&v244, v130, v131, v132, v133, (__int64)&v244);
          HIWORD(v135) = v182;
          LOWORD(v135) = v203;
          v136 = sub_3045D50((__int64)a1, a8, v200, v135, 0);
          v214 = v137;
          v213 = v136;
          v138 = sub_BCE760(v134, 101);
          v225 = sub_AD6530(v138, 101);
          if ( (_WORD)v244 )
          {
            if ( (_WORD)v244 == 1 || (unsigned __int16)(v244 - 504) <= 7u )
LABEL_177:
              BUG();
            v172 = 16LL * ((unsigned __int16)v244 - 1);
            v140 = *(_QWORD *)&byte_444C4A0[v172];
            v141 = byte_444C4A0[v172 + 8];
          }
          else
          {
            v234 = sub_3007260((__int64)&v244);
            v235 = v139;
            v140 = v234;
            v141 = v235;
          }
          v246 = v140;
          LOBYTE(v247) = v141;
          v218 = sub_CA1930(&v246);
          v142 = *(unsigned __int16 *)(*a6 + 56LL * v221 + 16);
          v210 = 56LL * v221;
          if ( (unsigned __int16)v142 <= 1u || (unsigned __int16)(v142 - 504) <= 7u )
            goto LABEL_177;
          v143 = 16LL * (v142 - 1);
          v144 = byte_444C4A0[v143 + 8];
          v145 = *(__int64 **)&byte_444C4A0[v143];
          LOBYTE(v255) = v144;
          v254 = v145;
          if ( v218 >= sub_CA1930(&v254) )
          {
            v254 = 0;
            v255 = 0;
            v256 = 0;
            v257 = 0;
            LOBYTE(v168) = sub_AE5020(v191, (__int64)v134);
            *((_QWORD *)&v252 + 1) = 0;
            BYTE4(v253[0]) = 0;
            *(_QWORD *)&v252 = v225 & 0xFFFFFFFFFFFFFFFBLL;
            HIBYTE(v168) = 1;
            v180 = v168;
            v169 = 0;
            if ( v225 )
            {
              v170 = *(_QWORD *)(v225 + 8);
              if ( (unsigned int)*(unsigned __int8 *)(v170 + 8) - 17 <= 1 )
                v170 = **(_QWORD **)(v170 + 16);
              v169 = *(_DWORD *)(v170 + 8) >> 8;
            }
            LODWORD(v253[0]) = v169;
            HIWORD(v171) = v179;
            LOWORD(v171) = *(_WORD *)(*a6 + v210 + 16);
            v153 = sub_33F1F00(
                     a8,
                     v171,
                     0,
                     a7,
                     v189.m128i_i32[0],
                     v189.m128i_i32[2],
                     v213,
                     v214,
                     v252,
                     v253[0],
                     v180,
                     0,
                     (__int64)&v254,
                     0);
          }
          else
          {
            v81 = (*(_BYTE *)(*a6 + 56LL * v221) & 2) == 0;
            v254 = 0;
            v255 = 0;
            v256 = 0;
            v219 = v81 + 2;
            v257 = 0;
            LOBYTE(v146) = sub_AE5020(v191, (__int64)v134);
            *((_QWORD *)&v252 + 1) = 0;
            BYTE4(v253[0]) = 0;
            *(_QWORD *)&v252 = v225 & 0xFFFFFFFFFFFFFFFBLL;
            HIBYTE(v146) = 1;
            v194 = v146;
            v147 = 0;
            if ( v225 )
            {
              v148 = *(_QWORD *)(v225 + 8);
              if ( (unsigned int)*(unsigned __int8 *)(v148 + 8) - 17 <= 1 )
                v148 = **(_QWORD **)(v148 + 16);
              v147 = *(_DWORD *)(v148 + 8) >> 8;
            }
            LODWORD(v253[0]) = v147;
            HIWORD(v149) = v181;
            LOWORD(v149) = *(_WORD *)(*a6 + v210 + 16);
            v153 = sub_33F1DB0(
                     a8,
                     v219,
                     a7,
                     v149,
                     0,
                     v194,
                     v189.m128i_i64[0],
                     v189.m128i_i64[1],
                     v213,
                     v214,
                     v252,
                     v253[0],
                     v244,
                     *((__int64 *)&v244 + 1),
                     0,
                     (__int64)&v254);
          }
          if ( v153 )
            *(_DWORD *)(v153 + 72) = v208;
          if ( v200 <= 0x40 && ((1 << v200) & (unsigned int)v184) != 0 )
            *(_BYTE *)(*(_QWORD *)(v153 + 112) + 84LL) = 1;
          v154 = *(unsigned int *)(v9 + 8);
          v155 = v150;
          if ( v154 + 1 > (unsigned __int64)*(unsigned int *)(v9 + 12) )
          {
            sub_C8D5F0(v9, v188, v154 + 1, 0x10u, v151, v152);
            v154 = *(unsigned int *)(v9 + 8);
          }
          v156 = (__int64 *)(*(_QWORD *)v9 + 16 * v154);
          ++v221;
          *v156 = v153;
          v156[1] = v155;
          ++*(_DWORD *)(v9 + 8);
          goto LABEL_104;
        }
        goto LABEL_41;
      }
      v34 = *(_BYTE *)(v33 + 8);
    }
    if ( v34 == 15 )
      v196 = (*(_DWORD *)(v33 + 8) & 0x200) != 0;
LABEL_41:
    v250[0] = (unsigned __int64)v251;
    v254 = &v256;
    v255 = 0x1000000000LL;
    v250[1] = 0x1000000000LL;
    v225 = (__int64)&v254;
    sub_30351C0((__int64)a1, v191, v33, (__int64)&v254, (__int64)v250, 0);
    if ( !(_DWORD)v255 )
      goto LABEL_176;
    v35 = sub_303E6A0((__int64)a1, v201, v33, v208, v191);
    sub_3031850(&v252, (__int64)&v254, v250, v35, 0);
    HIWORD(v36) = v187;
    LOWORD(v36) = v203;
    *(_QWORD *)&v37 = sub_3045D50((__int64)a1, a8, v200, v36, 0);
    v38 = (__int64 *)v252;
    v190 = v37;
    if ( (_DWORD)v255 )
    {
      v258 = v9;
      v209 = 0;
      v39 = -1;
      v207 = v221;
      v206 = v221 + v255;
      while ( 1 )
      {
        v40 = *((_DWORD *)v38 + v209);
        if ( (v40 & 1) != 0 )
          v39 = v209;
        if ( (v40 & 2) != 0 )
        {
          v41 = v209 + 1 - v39;
          v233 = _mm_loadu_si128((const __m128i *)&v254[2 * v209]);
          v232 = v233;
          if ( v233.m128i_i16[0] == 2 )
          {
            v233.m128i_i64[1] = 0;
            v233.m128i_i16[0] = 5;
          }
          else if ( (unsigned __int8)sub_307AB50(v232.m128i_u32[0], v232.m128i_i64[1]) || v232.m128i_i16[0] == 37 )
          {
            v233.m128i_i64[1] = 0;
            v233.m128i_i16[0] = 7;
          }
          v42 = 0;
          v215 = (__int64 *)sub_B2BE50(v201);
          v43 = v233;
          LOWORD(v44) = sub_2D43050(v233.m128i_i16[0], v41);
          if ( !(_WORD)v44 )
          {
            v44 = sub_3009400(v215, v43.m128i_u32[0], v43.m128i_i64[1], v41, 0);
            v202 = v44;
            v42 = v80;
          }
          v45 = v202;
          LOWORD(v45) = v44;
          v202 = v45;
          WORD1(v45) = v197;
          LOWORD(v45) = v203;
          *(_QWORD *)&v46 = sub_3400BD0(a8, *(_QWORD *)(v250[0] + 8LL * v39), a7, v45, 0, 0, 0);
          WORD1(v45) = v198;
          LOWORD(v45) = v203;
          v48 = sub_3406EB0(a8, 56, a7, v45, 0, v47, v190, v46);
          v227 = v49;
          v226 = v48;
          v50 = (__int64 *)sub_B2BE50(v201);
          v51 = sub_BCE3C0(v50, 101);
          v52 = sub_AD6530(v51, 101);
          if ( v196 )
          {
            v195 = 0;
            v53 = 1;
          }
          else
          {
            v53 = 0;
            if ( v41 == 1 )
            {
              v119 = (__int64 *)sub_B2BE50(v201);
              v124 = sub_3007410((__int64)&v232, v119, v120, v121, v122, v123);
              v125 = sub_AE5020(v191, v124);
              v195 = -1;
              v126 = *(_QWORD *)(v250[0] + 8 * v209) | (1LL << v125);
              v127 = -v126 & v126;
              if ( v127 )
              {
                _BitScanReverse64(&v127, v127);
                v195 = 63 - (v127 ^ 0x3F);
              }
              v53 = 1;
            }
          }
          LOBYTE(v54) = v195;
          v246 = 0;
          v247 = 0;
          HIBYTE(v54) = v53;
          v248 = 0;
          *(_QWORD *)&v244 = v52 & 0xFFFFFFFFFFFFFFFBLL;
          v55 = 0;
          v249 = 0;
          *((_QWORD *)&v244 + 1) = 0;
          BYTE4(v245) = 0;
          if ( v52 )
          {
            v56 = *(_QWORD *)(v52 + 8);
            if ( (unsigned int)*(unsigned __int8 *)(v56 + 8) - 17 <= 1 )
              v56 = **(_QWORD **)(v56 + 16);
            v55 = *(_DWORD *)(v56 + 8) >> 8;
          }
          LODWORD(v245) = v55;
          v57 = sub_33F1F00(
                  a8,
                  v202,
                  v42,
                  a7,
                  v189.m128i_i32[0],
                  v189.m128i_i32[2],
                  v226,
                  v227,
                  v244,
                  v245,
                  v54,
                  48,
                  (__int64)&v246,
                  0);
          v225 = v57;
          v228 = v58;
          v216 = v57;
          if ( v57 )
            *(_DWORD *)(v57 + 72) = v208;
          if ( v41 )
          {
            v59 = 0;
            v211 = v41;
            do
            {
              *(_QWORD *)&v73 = sub_3400D50(a8, v59, a7, 0);
              v225 = v216;
              v68 = sub_3406EB0(a8, 158, a7, v233.m128i_i32[0], v233.m128i_i32[2], v74, __PAIR128__(v228, v216), v73);
              v76 = v232.m128i_i16[0];
              v70 = v75;
              if ( v232.m128i_i16[0] == 2 )
              {
                *((_QWORD *)&v175 + 1) = v75;
                *(_QWORD *)&v175 = v68;
                v68 = sub_33FAF80(a8, 216, a7, 2, 0, v64, v175);
                v77 = (unsigned int)v77;
              }
              else
              {
                if ( v233.m128i_i16[0] == v232.m128i_i16[0] )
                {
                  if ( v232.m128i_i16[0] )
                  {
                    v230 = 0;
LABEL_68:
                    if ( (unsigned __int16)(v76 - 2) <= 7u )
                      goto LABEL_85;
                    goto LABEL_69;
                  }
                  if ( v232.m128i_i64[1] == v233.m128i_i64[1] )
                  {
                    v230 = 0;
                    goto LABEL_84;
                  }
                }
                *((_QWORD *)&v177 + 1) = v75;
                *(_QWORD *)&v177 = v68;
                v68 = sub_33FAF80(a8, 234, a7, v232.m128i_i32[0], v232.m128i_i32[2], v64, v177);
                v77 = (unsigned int)v77;
              }
              v230 = 0;
              v70 = v77 | v70 & 0xFFFFFFFF00000000LL;
              v76 = v232.m128i_i16[0];
              if ( v232.m128i_i16[0] )
                goto LABEL_68;
LABEL_84:
              if ( sub_30070A0((__int64)&v232) )
              {
LABEL_85:
                if ( sub_3031480((unsigned __int16 *)&v232, &v230) )
                {
                  *((_QWORD *)&v176 + 1) = v70;
                  *(_QWORD *)&v176 = v68;
                  v68 = sub_33FAF80(a8, 216, a7, v232.m128i_i32[0], v232.m128i_i32[2], v64, v176);
                  v70 = v78 | v70 & 0xFFFFFFFF00000000LL;
                }
              }
LABEL_69:
              v60 = *a6 + 56LL * v221;
              v61 = *(_WORD *)(v60 + 16);
              if ( (unsigned __int16)(v61 - 2) <= 7u
                || (unsigned __int16)(v61 - 17) <= 0x6Cu
                || (unsigned __int16)(v61 - 176) <= 0x1Fu )
              {
                if ( v61 <= 1u || (unsigned __int16)(v61 - 504) <= 7u )
                  goto LABEL_177;
                v62 = *(_QWORD *)&byte_444C4A0[16 * v61 - 16];
                if ( v233.m128i_i16[0] )
                {
                  if ( v233.m128i_i16[0] == 1 || (unsigned __int16)(v233.m128i_i16[0] - 504) <= 7u )
                    goto LABEL_177;
                  v63 = *(_QWORD *)&byte_444C4A0[16 * v233.m128i_u16[0] - 16];
                }
                else
                {
                  v204 = *(_WORD *)(v60 + 16);
                  v205 = *(_QWORD *)&byte_444C4A0[16 * v61 - 16];
                  v63 = sub_3007260((__int64)&v233);
                  v61 = v204;
                  v62 = v205;
                  v236 = v63;
                  v237 = v65;
                }
                if ( v62 > v63 )
                {
                  HIWORD(v66) = v199;
                  *((_QWORD *)&v173 + 1) = v70;
                  *(_QWORD *)&v173 = v68;
                  LOWORD(v66) = v61;
                  v67 = sub_33FAF80(a8, (unsigned int)((*(_BYTE *)v60 & 2) == 0) + 213, a7, v66, 0, v64, v173);
                  v64 = v174;
                  v68 = v67;
                  v70 = v69 | v70 & 0xFFFFFFFF00000000LL;
                }
              }
              v71 = *(unsigned int *)(v258 + 8);
              if ( v71 + 1 > (unsigned __int64)*(unsigned int *)(v258 + 12) )
              {
                sub_C8D5F0(v258, v188, v71 + 1, 0x10u, v62, v64);
                v71 = *(unsigned int *)(v258 + 8);
              }
              ++v59;
              v72 = (__int64 *)(*(_QWORD *)v258 + 16 * v71);
              *v72 = v68;
              v72[1] = v70;
              ++*(_DWORD *)(v258 + 8);
            }
            while ( v59 != v211 );
          }
          v38 = (__int64 *)v252;
          v39 = -1;
        }
        ++v221;
        ++v209;
        if ( v221 == v206 )
          break;
        v207 = v221;
      }
      v9 = v258;
      if ( !(_DWORD)v255 )
        v221 = v207 + 2;
    }
    else
    {
      ++v221;
    }
    if ( v38 != v253 )
      _libc_free((unsigned __int64)v38);
    if ( (_BYTE *)v250[0] != v251 )
      _libc_free(v250[0]);
    v79 = (unsigned __int64)v254;
    if ( v254 != &v256 )
    {
LABEL_103:
      _libc_free(v79);
      goto LABEL_104;
    }
    goto LABEL_104;
  }
LABEL_153:
  if ( v32 )
    j_j___libc_free_0(v32);
  if ( v238 )
    j_j___libc_free_0(v238);
  return a2;
}
