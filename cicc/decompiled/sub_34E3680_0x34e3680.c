// Function: sub_34E3680
// Address: 0x34e3680
//
__int64 __fastcall sub_34E3680(__int64 a1)
{
  __int64 v2; // rax
  __int64 v3; // rsi
  __int64 v4; // r8
  __int64 v5; // r9
  __int64 v6; // r14
  unsigned __int64 v7; // rsi
  unsigned int *v8; // rax
  int v9; // ecx
  unsigned int *v10; // rdx
  __int64 v11; // rax
  __int64 v12; // rcx
  __int64 v13; // rax
  __int64 v14; // rdx
  __int64 v15; // rax
  char *v16; // r14
  _BYTE *v17; // rax
  __int64 v18; // rdx
  __int64 v19; // rcx
  __int64 v20; // r8
  unsigned int v21; // eax
  __int64 v22; // rdx
  int v23; // edi
  __int64 v24; // rcx
  __int64 v25; // r10
  __int64 v26; // rax
  __int64 v27; // rdx
  __int64 v28; // r14
  _BYTE *v29; // r15
  unsigned int v30; // eax
  __int64 v31; // r14
  __int64 v33; // rax
  __int64 v34; // rcx
  unsigned int v35; // r15d
  __int64 v36; // rdx
  char *v37; // rax
  __int64 v38; // r14
  _BYTE *v39; // rax
  __int64 v40; // rdx
  __int64 v41; // rcx
  __int64 v42; // r8
  __int64 v43; // rdx
  __int64 (__fastcall *v44)(__int64, unsigned int, unsigned __int8 *, unsigned __int8 *); // rax
  int v45; // r15d
  __int64 v46; // r15
  unsigned int *v47; // r15
  __int64 v48; // rdx
  unsigned int v49; // esi
  __int64 v50; // rax
  __int64 v51; // rcx
  int v52; // r15d
  char v53; // al
  __int64 v54; // rcx
  __int64 v55; // r8
  __int64 v56; // rdx
  __int64 v57; // rsi
  unsigned __int8 *v58; // rdx
  __int64 v59; // rax
  __int64 v60; // rax
  __int64 v61; // rax
  __int64 v62; // rcx
  unsigned int v63; // eax
  __int64 v64; // rdx
  __int64 v65; // rax
  __int64 v66; // rcx
  __int64 v67; // rax
  unsigned int v68; // eax
  unsigned __int8 *v69; // r15
  __int64 v70; // rax
  unsigned int v71; // r14d
  unsigned __int8 *v72; // r11
  __int64 v73; // r10
  __int64 (__fastcall *v74)(__int64, unsigned int, unsigned __int8 *, _BYTE *); // rax
  char v75; // al
  unsigned __int8 *v76; // r11
  unsigned __int8 *v77; // rdx
  unsigned __int8 *v78; // rsi
  __int64 v79; // rax
  int v80; // r15d
  __int64 v81; // r15
  unsigned int *v82; // r15
  __int64 v83; // rdx
  unsigned int v84; // esi
  __int64 v85; // rax
  __int64 v86; // rcx
  const char *v87; // rax
  __int64 v88; // r11
  __int64 v89; // rdx
  __int64 v90; // rax
  unsigned __int64 v91; // r15
  __int64 (__fastcall *v92)(__int64, unsigned int, _BYTE *, __int64); // rax
  __int64 v93; // rax
  int v94; // r15d
  __int64 v95; // r15
  unsigned int *v96; // r15
  __int64 v97; // rdx
  unsigned int v98; // esi
  int v99; // edi
  __int64 v100; // r8
  __int64 v101; // r9
  __int64 v102; // rax
  unsigned int v103; // r14d
  int v104; // eax
  __int64 v105; // rax
  _BYTE *v106; // rdx
  __int64 v107; // r8
  __int64 v108; // r9
  __int64 v109; // rax
  __int64 v110; // rcx
  __int64 v111; // rax
  __int64 v112; // rdx
  char *v113; // r14
  __int64 v114; // r15
  _BYTE *v115; // rax
  __int64 v116; // rcx
  __int64 v117; // r8
  bool v118; // dl
  __int16 v119; // ax
  __int16 v120; // dx
  __int64 v121; // rax
  unsigned int v122; // eax
  char v123; // cl
  __int64 **v124; // rsi
  __int64 v125; // r8
  __int64 v126; // r9
  const char *v127; // rax
  __int64 v128; // rdx
  __int64 v129; // rcx
  __int64 v130; // r8
  unsigned int v131; // r9d
  unsigned __int8 *v132; // r15
  __int64 (__fastcall *v133)(__int64, unsigned int, _BYTE *); // rax
  __int64 v134; // rax
  int v135; // r9d
  unsigned int *v136; // r15
  __int64 v137; // rdx
  unsigned int v138; // esi
  __int64 v139; // rax
  const char *v140; // rax
  __int64 v141; // rdx
  char v142; // al
  char v143; // cl
  char v144; // al
  char v145; // cl
  char v146; // cl
  __int64 v147; // rax
  char v148; // al
  _QWORD *v149; // rax
  unsigned int *v150; // r15
  unsigned int *v151; // rax
  __int64 v152; // rdx
  unsigned int v153; // esi
  __int64 v154; // rax
  char v155; // al
  _QWORD *v156; // rax
  __int64 v157; // r9
  unsigned int *v158; // r15
  unsigned int *v159; // rax
  __int64 v160; // rdx
  unsigned int v161; // esi
  __int64 v162; // [rsp+0h] [rbp-190h]
  bool v163; // [rsp+0h] [rbp-190h]
  char v164; // [rsp+0h] [rbp-190h]
  __int64 v165; // [rsp+8h] [rbp-188h]
  char v166; // [rsp+8h] [rbp-188h]
  __int64 v167; // [rsp+10h] [rbp-180h]
  unsigned int v168; // [rsp+10h] [rbp-180h]
  _BYTE *v169; // [rsp+10h] [rbp-180h]
  unsigned __int8 *v170; // [rsp+10h] [rbp-180h]
  __int64 v171; // [rsp+10h] [rbp-180h]
  unsigned __int8 v172; // [rsp+10h] [rbp-180h]
  int v173; // [rsp+10h] [rbp-180h]
  char v174; // [rsp+10h] [rbp-180h]
  char v175; // [rsp+10h] [rbp-180h]
  unsigned __int8 *v176; // [rsp+18h] [rbp-178h]
  unsigned int v177; // [rsp+18h] [rbp-178h]
  __int64 **v178; // [rsp+18h] [rbp-178h]
  __int64 v179; // [rsp+18h] [rbp-178h]
  __int64 v180; // [rsp+18h] [rbp-178h]
  __int64 v181; // [rsp+18h] [rbp-178h]
  __int64 v182; // [rsp+18h] [rbp-178h]
  __int64 v183; // [rsp+18h] [rbp-178h]
  unsigned int *v184; // [rsp+18h] [rbp-178h]
  unsigned int *v185; // [rsp+18h] [rbp-178h]
  __int64 v186; // [rsp+20h] [rbp-170h]
  unsigned __int8 *v187; // [rsp+20h] [rbp-170h]
  unsigned int *v188; // [rsp+20h] [rbp-170h]
  unsigned __int8 *v189; // [rsp+20h] [rbp-170h]
  unsigned __int8 *v190; // [rsp+20h] [rbp-170h]
  unsigned int *v191; // [rsp+20h] [rbp-170h]
  unsigned __int8 *v192; // [rsp+20h] [rbp-170h]
  unsigned int v193; // [rsp+20h] [rbp-170h]
  unsigned int *v194; // [rsp+20h] [rbp-170h]
  char v195; // [rsp+20h] [rbp-170h]
  int v196; // [rsp+20h] [rbp-170h]
  unsigned int *v197; // [rsp+20h] [rbp-170h]
  __int64 v198; // [rsp+48h] [rbp-148h]
  __int64 v199; // [rsp+58h] [rbp-138h] BYREF
  __int64 v200; // [rsp+60h] [rbp-130h]
  unsigned __int64 v201; // [rsp+70h] [rbp-120h] BYREF
  __int64 v202; // [rsp+78h] [rbp-118h]
  _BYTE v203[16]; // [rsp+80h] [rbp-110h] BYREF
  __int16 v204; // [rsp+90h] [rbp-100h]
  unsigned __int64 v205; // [rsp+A0h] [rbp-F0h] BYREF
  __int64 v206; // [rsp+A8h] [rbp-E8h]
  __int16 v207; // [rsp+C0h] [rbp-D0h]
  unsigned int *v208; // [rsp+D0h] [rbp-C0h] BYREF
  __int64 v209; // [rsp+D8h] [rbp-B8h]
  _BYTE v210[32]; // [rsp+E0h] [rbp-B0h] BYREF
  __int64 v211; // [rsp+100h] [rbp-90h]
  __int64 v212; // [rsp+108h] [rbp-88h]
  __int64 v213; // [rsp+110h] [rbp-80h]
  __int64 v214; // [rsp+118h] [rbp-78h]
  void **v215; // [rsp+120h] [rbp-70h]
  void **v216; // [rsp+128h] [rbp-68h]
  __int64 v217; // [rsp+130h] [rbp-60h]
  unsigned int v218; // [rsp+138h] [rbp-58h]
  __int16 v219; // [rsp+13Ch] [rbp-54h]
  char v220; // [rsp+13Eh] [rbp-52h]
  __int64 v221; // [rsp+140h] [rbp-50h]
  __int64 v222; // [rsp+148h] [rbp-48h]
  void *v223; // [rsp+150h] [rbp-40h] BYREF
  void *v224; // [rsp+158h] [rbp-38h] BYREF

  v216 = &v224;
  v214 = sub_BD5C60(a1);
  v208 = (unsigned int *)v210;
  v223 = &unk_49DA100;
  v209 = 0x200000000LL;
  v215 = &v223;
  v224 = &unk_49DA0B0;
  v2 = *(_QWORD *)(a1 + 40);
  v217 = 0;
  v211 = v2;
  v218 = 0;
  v219 = 512;
  v220 = 7;
  v221 = 0;
  v222 = 0;
  v212 = a1 + 24;
  LOWORD(v213) = 0;
  v3 = *(_QWORD *)sub_B46C60(a1);
  v205 = v3;
  if ( !v3 || (sub_B96E90((__int64)&v205, v3, 1), (v6 = v205) == 0) )
  {
    v7 = 0;
    sub_93FB40((__int64)&v208, 0);
    v6 = v205;
    goto LABEL_37;
  }
  v7 = (unsigned int)v209;
  v8 = v208;
  v9 = v209;
  v10 = &v208[4 * (unsigned int)v209];
  if ( v208 == v10 )
  {
LABEL_39:
    if ( (unsigned int)v209 >= (unsigned __int64)HIDWORD(v209) )
    {
      v7 = (unsigned int)v209 + 1LL;
      if ( HIDWORD(v209) < v7 )
      {
        v7 = (unsigned __int64)v210;
        sub_C8D5F0((__int64)&v208, v210, (unsigned int)v209 + 1LL, 0x10u, v4, v5);
        v10 = &v208[4 * (unsigned int)v209];
      }
      *(_QWORD *)v10 = 0;
      *((_QWORD *)v10 + 1) = v6;
      v6 = v205;
      LODWORD(v209) = v209 + 1;
    }
    else
    {
      if ( v10 )
      {
        *v10 = 0;
        *((_QWORD *)v10 + 1) = v6;
        v9 = v209;
        v6 = v205;
      }
      LODWORD(v209) = v9 + 1;
    }
LABEL_37:
    if ( !v6 )
      goto LABEL_9;
    goto LABEL_8;
  }
  while ( *v8 )
  {
    v8 += 4;
    if ( v10 == v8 )
      goto LABEL_39;
  }
  *((_QWORD *)v8 + 1) = v205;
LABEL_8:
  v7 = v6;
  sub_B91220((__int64)&v205, v6);
LABEL_9:
  v11 = *(_QWORD *)(a1 - 32);
  if ( !v11 || *(_BYTE *)v11 || (v12 = *(_QWORD *)(a1 + 80), *(_QWORD *)(v11 + 24) != v12) )
    BUG();
  v13 = sub_B5A790(*(_DWORD *)(v11 + 36), v7, (__int64)v10, v12);
  if ( !BYTE4(v13) || (unsigned int)(v13 - 13) > 0x11 )
  {
    v15 = *(_QWORD *)(a1 - 32);
    if ( !v15 || *(_BYTE *)v15 || *(_QWORD *)(v15 + 24) != *(_QWORD *)(a1 + 80) )
      BUG();
    if ( sub_B5B000(*(_DWORD *)(v15 + 36)) )
    {
      v16 = (char *)sub_B5A250(a1);
      v186 = *(_QWORD *)(a1 + 32 * ((unsigned int)sub_B5B520(a1) - (unsigned __int64)(*(_DWORD *)(a1 + 4) & 0x7FFFFFF)));
      if ( v16 )
      {
        v17 = (_BYTE *)sub_9B7920(v16);
        if ( !v17 || *v17 > 0x15u || !sub_AD7930(v17, v7, v18, v19, v20) )
        {
          v50 = *(_QWORD *)(a1 - 32);
          if ( !v50 || *(_BYTE *)v50 || (v51 = *(_QWORD *)(a1 + 80), *(_QWORD *)(v50 + 24) != v51) )
            BUG();
          v167 = *(_QWORD *)(a1 + 8);
          v52 = sub_B5A9F0(*(_DWORD *)(v50 + 36), v167, v18, v51);
          v53 = sub_920620(a1);
          v56 = 0;
          v57 = v167;
          if ( v53 )
          {
            v57 = v167;
            v56 = (unsigned int)sub_B45210(a1);
          }
          v58 = sub_F700B0(v52, v57, v56, v54, v55);
          v207 = 257;
          v59 = *(_QWORD *)(v186 + 8);
          BYTE4(v198) = *(_BYTE *)(v59 + 8) == 18;
          LODWORD(v198) = *(_DWORD *)(v59 + 32);
          v60 = sub_B37620(&v208, v198, (__int64)v58, (__int64 *)&v205);
          v7 = (unsigned __int64)v16;
          v207 = 257;
          v186 = sub_B36550(&v208, (__int64)v16, v186, v60, (__int64)&v205, 0);
        }
      }
      v21 = sub_B5B5A0(a1);
      v22 = *(_QWORD *)(a1 - 32);
      if ( !v22 )
        BUG();
      if ( *(_BYTE *)v22 )
        BUG();
      if ( *(_QWORD *)(v22 + 24) != *(_QWORD *)(a1 + 80) )
        BUG();
      v23 = *(_DWORD *)(v22 + 36);
      v24 = *(_DWORD *)(a1 + 4) & 0x7FFFFFF;
      v25 = *(_QWORD *)(a1 + 32 * (v21 - v24));
      switch ( v23 )
      {
        case 450:
        case 451:
        case 458:
        case 459:
        case 464:
          v169 = *(_BYTE **)(a1 + 32 * (v21 - v24));
          v70 = sub_B5A9F0(v23, v7, v22, v24);
          v71 = v70;
          v199 = v70;
          HIDWORD(v201) = 0;
          v177 = sub_F6EED0(v70);
          v207 = 257;
          v204 = 257;
          v72 = (unsigned __int8 *)sub_B33BC0((__int64)&v208, v71, v186, (unsigned int)v201, (__int64)&v205);
          v73 = (__int64)v169;
          v74 = (__int64 (__fastcall *)(__int64, unsigned int, unsigned __int8 *, _BYTE *))*((_QWORD *)*v215 + 2);
          if ( v74 == sub_9202E0 )
          {
            if ( *v72 > 0x15u || *v169 > 0x15u )
              goto LABEL_97;
            v170 = v72;
            v189 = (unsigned __int8 *)v73;
            v75 = sub_AC47B0(v177);
            v76 = v170;
            v77 = v189;
            v78 = v170;
            v171 = (__int64)v189;
            v190 = v76;
            if ( v75 )
              v79 = sub_AD5570(v177, (__int64)v78, v77, 0, 0);
            else
              v79 = sub_AABE40(v177, v78, v77);
            v72 = v190;
            v73 = v171;
            v31 = v79;
          }
          else
          {
            v192 = v72;
            v85 = v74((__int64)v215, v177, v72, v169);
            v73 = (__int64)v169;
            v72 = v192;
            v31 = v85;
          }
          if ( v31 )
            goto LABEL_32;
LABEL_97:
          v207 = 257;
          v31 = sub_B504D0(v177, (__int64)v72, v73, (__int64)&v205, 0, 0);
          if ( (unsigned __int8)sub_920620(v31) )
          {
            v80 = v218;
            if ( v217 )
              sub_B99FD0(v31, 3u, v217);
            sub_B45150(v31, v80);
          }
          (*((void (__fastcall **)(void **, __int64, unsigned __int64 *, __int64, __int64))*v216 + 2))(
            v216,
            v31,
            &v201,
            v212,
            v213);
          v81 = 4LL * (unsigned int)v209;
          v191 = &v208[v81];
          if ( v208 != &v208[v81] )
          {
            v82 = v208;
            do
            {
              v83 = *((_QWORD *)v82 + 1);
              v84 = *v82;
              v82 += 4;
              sub_B99FD0(v31, v84, v83);
            }
            while ( v191 != v82 );
          }
          break;
        case 452:
          v31 = sub_B348A0((__int64)&v208, v25, v186);
          goto LABEL_32;
        case 453:
        case 454:
        case 455:
        case 456:
        case 460:
        case 461:
        case 462:
        case 463:
          v162 = *(_QWORD *)(a1 + 32 * (v21 - v24));
          v200 = sub_B5A9F0(v23, v7, v22, v24);
          v68 = sub_F6EFA0(v200);
          v207 = 257;
          v168 = v68;
          v69 = (unsigned __int8 *)sub_B33BC0((__int64)&v208, v200, v186, (unsigned int)v201, (__int64)&v205);
          sub_34E2730(v69, a1);
          HIDWORD(v201) = 0;
          v207 = 257;
          v31 = sub_B33C40((__int64)&v208, v168, (__int64)v69, v162, (unsigned int)v201, (__int64)&v205);
          goto LABEL_32;
        case 457:
          v31 = sub_B348F0((__int64)&v208, v25, v186);
          goto LABEL_32;
        default:
          goto LABEL_204;
      }
      goto LABEL_32;
    }
    v26 = *(_QWORD *)(a1 - 32);
    if ( !v26 || *(_BYTE *)v26 || *(_QWORD *)(v26 + 24) != *(_QWORD *)(a1 + 80) )
      BUG();
    if ( sub_B5B040(*(_DWORD *)(v26 + 36)) )
    {
      v28 = *(_QWORD *)(a1 - 32LL * (*(_DWORD *)(a1 + 4) & 0x7FFFFFF));
      v29 = *(_BYTE **)(a1 + 32 * (1LL - (*(_DWORD *)(a1 + 4) & 0x7FFFFFF)));
      sub_B5B080(a1);
      v207 = 257;
      if ( v30 > 0xF )
      {
        v31 = sub_92B530(&v208, v30, v28, v29, (__int64)&v205);
      }
      else
      {
        HIDWORD(v201) = 0;
        v31 = sub_B35C90((__int64)&v208, v30, v28, (__int64)v29, (__int64)&v205, 0, (unsigned int)v201, 0);
      }
      goto LABEL_32;
    }
    v61 = *(_QWORD *)(a1 - 32);
    if ( !v61 || *(_BYTE *)v61 || (v62 = *(_QWORD *)(a1 + 80), *(_QWORD *)(v61 + 24) != v62) )
      BUG();
    LOBYTE(v63) = sub_B5B010(*(_DWORD *)(v61 + 36), v7, v27, v62);
    v64 = v63;
    v65 = *(_QWORD *)(a1 - 32);
    if ( !(_BYTE)v64 )
    {
      if ( !v65 )
        BUG();
      if ( *(_BYTE *)v65 )
        BUG();
      v66 = *(_QWORD *)(a1 + 80);
      if ( *(_QWORD *)(v65 + 24) != v66 )
        BUG();
      v99 = *(_DWORD *)(v65 + 36);
      switch ( v99 )
      {
        case 404:
        case 408:
        case 409:
        case 412:
        case 413:
        case 414:
        case 430:
        case 431:
        case 469:
        case 476:
        case 477:
        case 480:
        case 484:
        case 487:
        case 488:
        case 490:
          v102 = sub_B5A9F0(v99, v7, v64, v66);
          v103 = v102;
          if ( BYTE4(v102) )
          {
            v202 = 0x200000000LL;
            v104 = *(_DWORD *)(a1 + 4);
            v201 = (unsigned __int64)v203;
            v105 = v104 & 0x7FFFFFF;
            if ( (_DWORD)v105 != 3 )
            {
              v106 = v203;
              LODWORD(v107) = 0;
              v108 = *(_QWORD *)(a1 - 32 * v105);
              v109 = 0;
              while ( 1 )
              {
                *(_QWORD *)&v106[8 * v109] = v108;
                v107 = (unsigned int)(v107 + 1);
                v110 = *(_DWORD *)(a1 + 4) & 0x7FFFFFF;
                v109 = (unsigned int)(v202 + 1);
                LODWORD(v202) = v202 + 1;
                if ( (int)v110 - 3 <= (unsigned int)v107 )
                  break;
                v108 = *(_QWORD *)(a1 + 32 * ((unsigned int)v107 - v110));
                if ( v109 + 1 > (unsigned __int64)HIDWORD(v202) )
                {
                  v173 = v107;
                  v180 = *(_QWORD *)(a1 + 32 * ((unsigned int)v107 - v110));
                  sub_C8D5F0((__int64)&v201, v203, v109 + 1, 8u, v107, v108);
                  v109 = (unsigned int)v202;
                  LODWORD(v107) = v173;
                  v108 = v180;
                }
                v106 = (_BYTE *)v201;
              }
            }
            BYTE4(v200) = 0;
            v205 = (unsigned __int64)sub_BD5D20(a1);
            v111 = *(_QWORD *)(a1 + 8);
            v207 = 261;
            v199 = v111;
            v206 = v112;
            v31 = sub_B33D10((__int64)&v208, v103, (__int64)&v199, 1, v201, v202, v200, (__int64)&v205);
            sub_34E2730((unsigned __int8 *)v31, a1);
            sub_BD84D0(a1, v31);
            sub_B43D60((_QWORD *)a1);
            if ( (_BYTE *)v201 != v203 )
              _libc_free(v201);
          }
          else
          {
            v31 = 0;
          }
          goto LABEL_33;
        case 416:
        case 421:
        case 423:
        case 441:
        case 442:
        case 444:
        case 445:
        case 478:
          v201 = sub_B5A9F0(v99, v7, v64, v66);
          if ( !BYTE4(v201) )
            goto LABEL_208;
          v31 = (__int64)sub_34E2860(&v208, a1, v201, HIDWORD(v201), v125, v126);
          goto LABEL_33;
        case 424:
          v127 = sub_BD5D20(a1);
          v131 = v218;
          v201 = (unsigned __int64)v127;
          LODWORD(v127) = *(_DWORD *)(a1 + 4);
          v204 = 261;
          v202 = v128;
          v132 = *(unsigned __int8 **)(a1 - 32LL * ((unsigned int)v127 & 0x7FFFFFF));
          v133 = (__int64 (__fastcall *)(__int64, unsigned int, _BYTE *))*((_QWORD *)*v215 + 6);
          if ( v133 == sub_9288C0 )
          {
            if ( *v132 > 0x15u )
              goto LABEL_164;
            v31 = sub_AAAFF0(12, v132, v128, v129, v130);
          }
          else
          {
            v31 = ((__int64 (__fastcall *)(void **, __int64, unsigned __int8 *, _QWORD))v133)(v215, 12, v132, v218);
          }
          if ( v31 )
            goto LABEL_32;
          v131 = v218;
LABEL_164:
          v196 = v131;
          v207 = 257;
          v134 = sub_B50340(12, (__int64)v132, (__int64)&v205, 0, 0);
          v135 = v196;
          v31 = v134;
          if ( v217 )
          {
            sub_B99FD0(v134, 3u, v217);
            v135 = v196;
          }
          sub_B45150(v31, v135);
          (*((void (__fastcall **)(void **, __int64, unsigned __int64 *, __int64, __int64))*v216 + 2))(
            v216,
            v31,
            &v201,
            v212,
            v213);
          v136 = v208;
          v197 = &v208[4 * (unsigned int)v209];
          if ( v208 != v197 )
          {
            do
            {
              v137 = *((_QWORD *)v136 + 1);
              v138 = *v136;
              v136 += 4;
              sub_B99FD0(v31, v138, v137);
            }
            while ( v197 != v136 );
          }
          goto LABEL_32;
        case 433:
        case 438:
        case 470:
        case 481:
          v165 = sub_B43CC0(a1);
          v113 = (char *)sub_B5A250(a1);
          v114 = sub_B5A630(a1);
          v179 = sub_B5A6F0(a1);
          v115 = (_BYTE *)sub_9B7920(v113);
          v118 = 0;
          if ( v115 && *v115 <= 0x15u )
            v118 = sub_AD7930(v115, v7, 0, v116, v117);
          v163 = v118;
          v119 = sub_B5A5E0(a1);
          v172 = v119;
          v120 = v119;
          v121 = *(_QWORD *)(a1 - 32);
          if ( !v121 || *(_BYTE *)v121 || *(_QWORD *)(v121 + 24) != *(_QWORD *)(a1 + 80) )
            BUG();
          v122 = *(_DWORD *)(v121 + 36);
          v195 = HIBYTE(v120);
          if ( v122 == 470 )
          {
            v175 = v120;
            v144 = sub_AE5260(v165, *(_QWORD *)(*(_QWORD *)(v179 + 8) + 24LL));
            v145 = v175;
            if ( !v195 )
              v145 = v144;
            v31 = sub_B34E90((__int64)&v208, v179, v114, v145, (__int64)v113);
            goto LABEL_32;
          }
          if ( v122 > 0x1D6 )
          {
            if ( v122 == 481 )
            {
              if ( !v163 )
              {
                v146 = v172;
                if ( !HIBYTE(v120) )
                  v146 = 0;
                v31 = sub_B34CE0((__int64)&v208, v179, v114, v146, (__int64)v113);
                goto LABEL_32;
              }
              v154 = sub_AA4E30(v211);
              v155 = sub_AE5020(v154, *(_QWORD *)(v179 + 8));
              v207 = 257;
              v164 = v155;
              v156 = sub_BD2C40(80, unk_3F10A10);
              v31 = (__int64)v156;
              if ( v156 )
                sub_B4D3C0((__int64)v156, v179, v114, 0, v164, v157, 0, 0);
              (*((void (__fastcall **)(void **, __int64, unsigned __int64 *, __int64, __int64))*v216 + 2))(
                v216,
                v31,
                &v205,
                v212,
                v213);
              v158 = v208;
              v159 = &v208[4 * (unsigned int)v209];
              if ( v208 != v159 )
              {
                do
                {
                  v160 = *((_QWORD *)v158 + 1);
                  v161 = *v158;
                  v158 += 4;
                  v185 = v159;
                  sub_B99FD0(v31, v161, v160);
                  v159 = v185;
                }
                while ( v185 != v158 );
              }
              goto LABEL_191;
            }
          }
          else
          {
            if ( v122 == 433 )
            {
              v174 = v120;
              v182 = *(_QWORD *)(*(_QWORD *)(a1 + 8) + 24LL);
              v140 = sub_BD5D20(a1);
              v207 = 261;
              v206 = v141;
              v205 = (unsigned __int64)v140;
              v142 = sub_AE5260(v165, v182);
              v143 = v174;
              if ( !v195 )
                v143 = v142;
              v31 = sub_B34D80((__int64)&v208, *(_QWORD *)(a1 + 8), v114, v143, (__int64)v113, 0, (__int64)&v205);
              goto LABEL_32;
            }
            if ( v122 == 438 )
            {
              if ( !v163 )
              {
                v123 = v172;
                v124 = *(__int64 ***)(a1 + 8);
                if ( !HIBYTE(v120) )
                  v123 = 0;
                v207 = 257;
                v31 = sub_B34C20((__int64)&v208, v124, v114, v123, (__int64)v113, 0, (__int64)&v205);
                goto LABEL_32;
              }
              v183 = *(_QWORD *)(a1 + 8);
              v204 = 257;
              v147 = sub_AA4E30(v211);
              v148 = sub_AE5020(v147, v183);
              v207 = 257;
              v166 = v148;
              v149 = sub_BD2C40(80, 1u);
              v31 = (__int64)v149;
              if ( v149 )
                sub_B4D190((__int64)v149, v183, v114, (__int64)&v205, 0, v166, 0, 0);
              (*((void (__fastcall **)(void **, __int64, unsigned __int64 *, __int64, __int64))*v216 + 2))(
                v216,
                v31,
                &v201,
                v212,
                v213);
              v150 = v208;
              v151 = &v208[4 * (unsigned int)v209];
              if ( v208 != v151 )
              {
                do
                {
                  v152 = *((_QWORD *)v150 + 1);
                  v153 = *v150;
                  v150 += 4;
                  v184 = v151;
                  sub_B99FD0(v31, v153, v152);
                  v151 = v184;
                }
                while ( v184 != v150 );
              }
LABEL_191:
              if ( v195 )
                *(_WORD *)(v31 + 2) = (2 * v172) | *(_WORD *)(v31 + 2) & 0xFF81;
              goto LABEL_32;
            }
          }
LABEL_204:
          BUG();
        default:
          v205 = sub_B5AD80(v99);
          if ( !BYTE4(v205) || (v31 = (__int64)sub_34E2860(&v208, a1, v205, HIDWORD(v205), v100, v101)) == 0 )
            v31 = a1;
          goto LABEL_33;
      }
    }
    if ( !v65 || *(_BYTE *)v65 || (v86 = *(_QWORD *)(a1 + 80), *(_QWORD *)(v65 + 24) != v86) )
      BUG();
    v205 = sub_B5A790(*(_DWORD *)(v65 + 36), v7, v64, v86);
    if ( !BYTE4(v205) )
LABEL_208:
      abort();
    v193 = v205;
    v87 = sub_BD5D20(a1);
    v204 = 261;
    v88 = *(_QWORD *)(a1 + 8);
    v201 = (unsigned __int64)v87;
    LODWORD(v87) = *(_DWORD *)(a1 + 4);
    v202 = v89;
    v90 = -32LL * ((unsigned int)v87 & 0x7FFFFFF);
    v91 = *(_QWORD *)(a1 + v90);
    if ( v88 == *(_QWORD *)(v91 + 8) )
    {
      v31 = *(_QWORD *)(a1 + v90);
      goto LABEL_32;
    }
    v92 = (__int64 (__fastcall *)(__int64, unsigned int, _BYTE *, __int64))*((_QWORD *)*v215 + 15);
    if ( v92 == sub_920130 )
    {
      if ( *(_BYTE *)v91 > 0x15u )
      {
LABEL_122:
        v207 = 257;
        v31 = sub_B51D30(v193, v91, v88, (__int64)&v205, 0, 0);
        if ( (unsigned __int8)sub_920620(v31) )
        {
          v94 = v218;
          if ( v217 )
            sub_B99FD0(v31, 3u, v217);
          sub_B45150(v31, v94);
        }
        (*((void (__fastcall **)(void **, __int64, unsigned __int64 *, __int64, __int64))*v216 + 2))(
          v216,
          v31,
          &v201,
          v212,
          v213);
        v95 = 4LL * (unsigned int)v209;
        v194 = &v208[v95];
        if ( v208 != &v208[v95] )
        {
          v96 = v208;
          do
          {
            v97 = *((_QWORD *)v96 + 1);
            v98 = *v96;
            v96 += 4;
            sub_B99FD0(v31, v98, v97);
          }
          while ( v194 != v96 );
        }
        goto LABEL_32;
      }
      v178 = (__int64 **)v88;
      if ( (unsigned __int8)sub_AC4810(v193) )
        v93 = sub_ADAB70(v193, v91, v178, 0);
      else
        v93 = sub_AA93C0(v193, v91, (__int64)v178);
      v88 = (__int64)v178;
      v31 = v93;
    }
    else
    {
      v181 = v88;
      v139 = v92((__int64)v215, v193, (_BYTE *)v91, v88);
      v88 = v181;
      v31 = v139;
    }
    if ( v31 )
      goto LABEL_32;
    goto LABEL_122;
  }
  v33 = *(_QWORD *)(a1 - 32);
  if ( !v33 || *(_BYTE *)v33 || (v34 = *(_QWORD *)(a1 + 80), *(_QWORD *)(v33 + 24) != v34) )
    BUG();
  v35 = sub_B5A790(*(_DWORD *)(v33 + 36), v7, v14, v34);
  v36 = *(_DWORD *)(a1 + 4) & 0x7FFFFFF;
  v187 = *(unsigned __int8 **)(a1 - 32 * v36);
  v176 = *(unsigned __int8 **)(a1 + 32 * (1 - v36));
  v37 = (char *)sub_B5A250(a1);
  v38 = (__int64)v37;
  if ( v37 )
  {
    v39 = (_BYTE *)sub_9B7920(v37);
    if ( !v39 || *v39 > 0x15u || !sub_AD7930(v39, v7, v40, v41, v42) )
    {
      if ( v35 > 0x14 )
      {
        if ( v35 - 22 > 1 )
          goto LABEL_50;
      }
      else if ( v35 <= 0x12 )
      {
        goto LABEL_50;
      }
      v67 = sub_AD64C0(*(_QWORD *)(a1 + 8), 1, 0);
      v207 = 257;
      v176 = (unsigned __int8 *)sub_B36550(&v208, v38, (__int64)v176, v67, (__int64)&v205, 0);
    }
  }
LABEL_50:
  v204 = 261;
  v201 = (unsigned __int64)sub_BD5D20(a1);
  v202 = v43;
  v44 = (__int64 (__fastcall *)(__int64, unsigned int, unsigned __int8 *, unsigned __int8 *))*((_QWORD *)*v215 + 2);
  if ( v44 != sub_9202E0 )
  {
    v31 = v44((__int64)v215, v35, v187, v176);
    goto LABEL_55;
  }
  if ( *v187 <= 0x15u && *v176 <= 0x15u )
  {
    if ( (unsigned __int8)sub_AC47B0(v35) )
      v31 = sub_AD5570(v35, (__int64)v187, v176, 0, 0);
    else
      v31 = sub_AABE40(v35, v187, v176);
LABEL_55:
    if ( v31 )
      goto LABEL_32;
  }
  v207 = 257;
  v31 = sub_B504D0(v35, (__int64)v187, (__int64)v176, (__int64)&v205, 0, 0);
  if ( (unsigned __int8)sub_920620(v31) )
  {
    v45 = v218;
    if ( v217 )
      sub_B99FD0(v31, 3u, v217);
    sub_B45150(v31, v45);
  }
  (*((void (__fastcall **)(void **, __int64, unsigned __int64 *, __int64, __int64))*v216 + 2))(
    v216,
    v31,
    &v201,
    v212,
    v213);
  v46 = 4LL * (unsigned int)v209;
  v188 = &v208[v46];
  if ( v208 != &v208[v46] )
  {
    v47 = v208;
    do
    {
      v48 = *((_QWORD *)v47 + 1);
      v49 = *v47;
      v47 += 4;
      sub_B99FD0(v31, v49, v48);
    }
    while ( v188 != v47 );
  }
LABEL_32:
  sub_34E2730((unsigned __int8 *)v31, a1);
  sub_BD84D0(a1, v31);
  sub_B43D60((_QWORD *)a1);
LABEL_33:
  nullsub_61();
  v223 = &unk_49DA100;
  nullsub_63();
  if ( v208 != (unsigned int *)v210 )
    _libc_free((unsigned __int64)v208);
  return v31;
}
