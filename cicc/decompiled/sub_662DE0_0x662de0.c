// Function: sub_662DE0
// Address: 0x662de0
//
__int64 __fastcall sub_662DE0(unsigned int *a1, _QWORD *a2)
{
  __int64 v3; // r12
  __int64 v4; // rdx
  __int64 v5; // r15
  __int64 v6; // r14
  char v7; // al
  bool v8; // zf
  __int64 v9; // rcx
  unsigned __int16 v10; // ax
  __int64 v11; // rsi
  unsigned __int16 v12; // ax
  __int64 v13; // rcx
  __int64 v14; // r8
  __int64 v15; // r9
  __int64 v16; // rdi
  __int64 v18; // rdx
  __int64 v19; // rcx
  char v20; // al
  unsigned __int64 v21; // rdx
  char v22; // cl
  char v23; // al
  __int64 v24; // r15
  __int64 v25; // rsi
  __int64 v26; // r15
  __int64 v27; // rcx
  int v28; // eax
  char v29; // al
  __int64 v30; // rdx
  _QWORD *v31; // rbx
  __int64 v32; // rax
  __int64 v33; // rsi
  char v34; // r12
  __int64 v35; // rdx
  __int64 v36; // rcx
  __int64 *v37; // rax
  int v38; // eax
  __int64 v39; // rdi
  __int64 v40; // rax
  __int64 v41; // rsi
  __int64 v42; // rdi
  __int64 v43; // rax
  char v44; // al
  _QWORD **v45; // rsi
  _QWORD *i; // rax
  unsigned __int16 v47; // ax
  __int64 v48; // rdx
  __int64 v49; // rcx
  __int64 v50; // rdx
  __int64 v51; // rcx
  __int64 v52; // r8
  __int64 v53; // r9
  unsigned int *v54; // rsi
  __int64 v55; // rdx
  __int64 v56; // rdx
  __int64 v57; // rcx
  unsigned int *v58; // rdi
  __int64 v59; // rdx
  __int64 v60; // rcx
  __int64 v61; // rdx
  __int64 v62; // rcx
  __int64 v63; // rax
  __int64 v64; // rax
  _QWORD **v65; // rdx
  _QWORD *m; // rax
  __int64 v67; // rdi
  char v68; // al
  _QWORD *v69; // rax
  _QWORD *v70; // rsi
  __int64 v71; // rcx
  unsigned __int64 v72; // rax
  __int64 v73; // r12
  const char *v74; // rsi
  __int64 v75; // rdi
  __int64 v76; // r12
  __int64 v77; // rdx
  __int64 n; // rax
  unsigned __int16 v79; // r11
  bool v80; // al
  __int64 v81; // r10
  int v82; // eax
  __int64 v83; // rax
  __int32 v84; // eax
  unsigned __int16 v85; // r11
  unsigned __int16 v86; // r11
  unsigned __int16 v87; // r11
  __int64 v88; // rax
  __int64 v89; // r8
  __int64 v90; // r13
  char v91; // al
  __int64 v92; // rdi
  __int64 v93; // rdx
  char v94; // r13
  int v95; // eax
  __int64 v96; // rcx
  __int64 v97; // rsi
  __int64 v98; // r8
  __int64 v99; // rdi
  __int64 v100; // rdx
  __int64 v101; // rax
  int v102; // eax
  unsigned __int64 v103; // rax
  __int64 v104; // rdx
  int v105; // eax
  __int64 *v106; // rsi
  __int64 v107; // rdx
  __int64 v108; // rdi
  unsigned __int64 v109; // xmm0_8
  __m128i v110; // xmm2
  __m128i v111; // xmm3
  __int64 ii; // rax
  char v113; // al
  __int64 v114; // rdx
  __int64 v115; // rdx
  __int64 v116; // rcx
  __int64 v117; // rax
  __int64 v118; // rcx
  __int64 v119; // r8
  __int64 v120; // rdx
  __int64 v121; // rcx
  char v122; // dl
  __int64 v123; // rdi
  unsigned int *v124; // rdi
  char *v125; // r15
  __int64 v126; // rax
  void *v127; // rcx
  __int64 v128; // rdx
  __int64 v129; // rdi
  int v130; // r8d
  __int64 v131; // rdx
  int v132; // eax
  __int64 v133; // rcx
  int v134; // r8d
  __int64 v135; // rsi
  __int64 v136; // rax
  char v137; // dl
  _QWORD *v138; // rdx
  __int64 v139; // rax
  char v140; // dl
  __int64 v141; // rdx
  __int64 v142; // rcx
  __int64 v143; // r8
  __int64 v144; // r9
  __int64 v145; // rax
  char *v146; // r15
  __int64 v147; // rdx
  __int64 v148; // rax
  int v149; // edx
  char v150; // al
  unsigned int *v151; // rsi
  _QWORD *v152; // r15
  __int64 v153; // r13
  __int64 v154; // rax
  __int64 v155; // rdx
  __int64 v156; // rcx
  __int64 v157; // r8
  __int64 v158; // r9
  __int64 v159; // rcx
  __int64 v160; // rdx
  __int64 j; // rax
  __int64 v162; // r12
  __int64 v163; // r9
  bool v164; // al
  bool v165; // cl
  char v166; // cl
  __int64 v167; // rdx
  __int64 v168; // rcx
  __int64 v169; // rdx
  __int64 v170; // rcx
  __int64 v171; // rdx
  __int64 v172; // rcx
  __int64 v173; // rax
  char v174; // al
  bool v175; // r13
  char *v176; // r15
  __int64 v177; // rsi
  __int64 v178; // rdi
  __int64 v179; // rdx
  __int64 v180; // rax
  __int64 v181; // rdx
  __int64 v182; // rcx
  int v183; // eax
  bool v184; // al
  __m128i v185; // xmm1
  __m128i v186; // xmm2
  __m128i v187; // xmm3
  int v188; // eax
  __int64 k; // rax
  __int64 v190; // rax
  __m128i v191; // xmm5
  __m128i v192; // xmm6
  __m128i v193; // xmm7
  __m128i v194; // xmm5
  __m128i v195; // xmm6
  __m128i v196; // xmm7
  _QWORD *v197; // rax
  __int64 v198; // rsi
  __int64 v199; // rdi
  __int64 v200; // rdx
  __int64 v201; // rcx
  __int64 v202; // r15
  __int64 v203; // rdx
  __int64 v204; // rcx
  __int64 v205; // rax
  __int64 v206; // rax
  __int64 v207; // rax
  int v208; // eax
  unsigned __int8 v209; // al
  __int64 v210; // rdx
  __int64 v211; // rcx
  __int64 v212; // rax
  _QWORD **v213; // r13
  __int64 v214; // rdx
  __int64 v215; // rcx
  __int64 v216; // rax
  char v217; // dl
  _QWORD *v218; // rdi
  __int64 v219; // r13
  __int64 v220; // rax
  _QWORD *v221; // rax
  __int64 v222; // rax
  __int64 v223; // rdx
  __int64 v224; // rcx
  __int64 v225; // rdx
  __int64 v226; // rdx
  __int64 v227; // rcx
  char v228; // al
  unsigned int *v229; // rsi
  __int64 v230; // rdi
  __int64 v231; // rdx
  __int64 v232; // rcx
  __int64 v233; // rcx
  __int64 v234; // rdx
  __int64 v235; // [rsp+8h] [rbp-328h]
  int v236; // [rsp+10h] [rbp-320h]
  __int64 v237; // [rsp+10h] [rbp-320h]
  __int64 v238; // [rsp+10h] [rbp-320h]
  int v239; // [rsp+1Ch] [rbp-314h]
  __int16 v240; // [rsp+28h] [rbp-308h]
  char v241; // [rsp+2Bh] [rbp-305h]
  _QWORD *v242; // [rsp+30h] [rbp-300h]
  int v243; // [rsp+38h] [rbp-2F8h]
  __int64 v244; // [rsp+38h] [rbp-2F8h]
  __int64 v245; // [rsp+38h] [rbp-2F8h]
  unsigned int v246; // [rsp+38h] [rbp-2F8h]
  char v247; // [rsp+40h] [rbp-2F0h]
  unsigned __int64 v248; // [rsp+40h] [rbp-2F0h]
  __int64 v249; // [rsp+40h] [rbp-2F0h]
  __int64 v250; // [rsp+40h] [rbp-2F0h]
  unsigned __int16 v251; // [rsp+40h] [rbp-2F0h]
  __int64 v252; // [rsp+40h] [rbp-2F0h]
  int v253; // [rsp+48h] [rbp-2E8h]
  unsigned int v254; // [rsp+48h] [rbp-2E8h]
  int v255; // [rsp+48h] [rbp-2E8h]
  __int64 v256; // [rsp+50h] [rbp-2E0h]
  char v257; // [rsp+58h] [rbp-2D8h]
  unsigned __int16 v258; // [rsp+58h] [rbp-2D8h]
  unsigned __int16 v259; // [rsp+58h] [rbp-2D8h]
  unsigned __int16 v260; // [rsp+58h] [rbp-2D8h]
  unsigned __int16 v261; // [rsp+58h] [rbp-2D8h]
  unsigned __int16 v262; // [rsp+58h] [rbp-2D8h]
  int v263; // [rsp+5Ch] [rbp-2D4h]
  __int16 v264; // [rsp+62h] [rbp-2CEh] BYREF
  int v265; // [rsp+64h] [rbp-2CCh] BYREF
  int v266; // [rsp+68h] [rbp-2C8h] BYREF
  int v267; // [rsp+6Ch] [rbp-2C4h] BYREF
  __int64 v268; // [rsp+70h] [rbp-2C0h] BYREF
  _QWORD *v269; // [rsp+78h] [rbp-2B8h] BYREF
  unsigned __int64 v270; // [rsp+80h] [rbp-2B0h] BYREF
  __int64 v271; // [rsp+88h] [rbp-2A8h] BYREF
  __m128i v272; // [rsp+90h] [rbp-2A0h]
  __m128i v273; // [rsp+A0h] [rbp-290h]
  __m128i v274; // [rsp+B0h] [rbp-280h]
  _BYTE v275[88]; // [rsp+C0h] [rbp-270h] BYREF
  __int64 v276; // [rsp+118h] [rbp-218h] BYREF
  __m128i v277[33]; // [rsp+120h] [rbp-210h] BYREF

  v3 = (__int64)a1;
  v4 = *((unsigned __int8 *)a1 + 125);
  v264 = 75;
  v5 = qword_4F04C68[0];
  v6 = dword_4F04C64;
  v257 = (unsigned __int8)v4 >> 7;
  *(_QWORD *)dword_4F07508 = *(_QWORD *)&dword_4F063F8;
  v7 = 1;
  if ( !unk_4F0775C )
  {
    v7 = 0;
    if ( (_DWORD)qword_4F077B4 )
    {
      if ( dword_4F077C4 == 2 )
        v7 = qword_4F077A0 != 0;
    }
  }
  *((_BYTE *)a1 + 124) = (v7 << 6) | a1[31] & 0xBF;
  *((_QWORD *)a1 + 3) = *(_QWORD *)&dword_4F063F8;
  v8 = (*((_BYTE *)a1 + 126) & 4) == 0;
  memset(v275, 0, sizeof(v275));
  if ( v8 && word_4F06418[0] == 187 )
  {
    sub_7B8B50(&v276, dword_4F07508, v4, 0);
    *((_BYTE *)a1 + 126) |= 4u;
    LOBYTE(v4) = *((_BYTE *)a1 + 125);
  }
  if ( unk_4D03B90 < 0 )
    goto LABEL_8;
  v9 = unk_4D03B98 + 176LL * unk_4D03B90;
  if ( *(char *)(v9 + 5) >= 0 )
    goto LABEL_8;
  v44 = *(_BYTE *)(v5 + 776 * v6 + 4);
  if ( v44 != 2 && v44 != 17 )
    goto LABEL_8;
  v45 = *(_QWORD ***)(v9 + 136);
  for ( i = *v45; i; i = (_QWORD *)*i )
    v45 = (_QWORD **)i;
  *((_QWORD *)a1 + 52) = v45;
  v256 = *(_QWORD *)(v9 + 56);
  if ( *(_BYTE *)(v256 + 40) != 20 )
LABEL_8:
    v256 = 0;
  if ( a2 )
  {
    *((_WORD *)a1 + 63) |= 0x202u;
    *(_QWORD *)&v275[32] = *a2;
    *(_QWORD *)&v275[40] = a2[1];
  }
  else
  {
    if ( (v4 & 0x40) == 0 )
      goto LABEL_101;
    sub_854590(0);
    sub_854430();
    sub_643C90((__int64)a1);
    LOBYTE(v4) = *((_BYTE *)a1 + 125);
  }
  if ( (v4 & 0x40) == 0 )
  {
LABEL_101:
    v263 = 0;
    goto LABEL_14;
  }
  v263 = 1;
  if ( dword_4F077C4 == 2 )
    *(_BYTE *)(qword_4F04C68[0] + 776LL * (int)dword_4F04C40 + 7) |= 8u;
LABEL_14:
  *((_QWORD *)a1 + 23) = sub_5CC190(1);
  v10 = word_4F06418[0];
  if ( word_4F06418[0] == 184 )
  {
    sub_643D30((__int64)a1);
    v54 = (unsigned int *)qword_4F04C68;
    if ( (*(_BYTE *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 14) & 0x10) != 0 )
    {
      v54 = &dword_4F063F8;
      sub_6851C0(3105, &dword_4F063F8);
    }
    sub_64FFE0(1, (__int64)v54, v50, v51, v52, v53);
    *((_BYTE *)a1 + 130) |= 0x40u;
    if ( unk_4F07798 )
    {
      if ( (a1[33] & 2) != 0 )
        goto LABEL_21;
      goto LABEL_121;
    }
    goto LABEL_118;
  }
  v11 = (__int64)&dword_4F077C4;
  if ( dword_4F077C4 != 2 )
    goto LABEL_16;
  if ( word_4F06418[0] == 88 )
  {
    v11 = 0;
    if ( (unsigned __int16)sub_7BE840(0, 0) == 7 )
    {
      sub_643D30((__int64)a1);
      v145 = *((_QWORD *)a1 + 23);
      if ( v145 )
      {
        v11 = *(_QWORD *)(v145 + 40);
        if ( (_DWORD)qword_4F077B4 )
          sub_684B30(1865, v11);
        else
          sub_6851C0(1847, v11);
        *((_QWORD *)a1 + 23) = 0;
      }
      sub_660F90((__int64)a1, v11, v141, v142, v143, v144);
      if ( !unk_4F07798 )
      {
        if ( !unk_4D04160 )
          unk_4D04160 = 1;
        dword_4D0415C = 1;
      }
      goto LABEL_21;
    }
    v10 = word_4F06418[0];
    if ( word_4F06418[0] == 160 || word_4F06418[0] == 169 )
      goto LABEL_154;
    if ( unk_4D04218 && word_4F06418[0] == 88 )
      goto LABEL_153;
  }
  else if ( word_4F06418[0] == 169 || word_4F06418[0] == 160 )
  {
    goto LABEL_154;
  }
  if ( unk_4D04214 && v10 == 154 )
  {
LABEL_153:
    v11 = 0;
    if ( (unsigned __int16)sub_7BE840(0, 0) != 160 )
      goto LABEL_107;
LABEL_154:
    v277[0].m128i_i64[0] = *(_QWORD *)&dword_4F063F8;
    sub_643D30((__int64)a1);
    v58 = a1 + 46;
    sub_6446A0((__int64 *)(v3 + 184), 8u);
    if ( word_4F06418[0] == 88 )
    {
      sub_7B8B50(v58, 8, v59, v60);
      v41 = 1;
    }
    else
    {
      v41 = 0;
      if ( word_4F06418[0] == 154 )
      {
        sub_7B8B50(v58, 0, v59, v60);
        v41 = 2;
      }
    }
    sub_8BF8E0(&v264, v41, v277);
    if ( v264 == 75 )
    {
      v41 = 65;
      sub_7BE5B0(75, 65, 0, 0);
    }
LABEL_159:
    v42 = unk_4F07798;
    if ( unk_4F07798 )
      goto LABEL_122;
LABEL_160:
    v41 = unk_4D04160;
    if ( !unk_4D04160 )
      unk_4D04160 = 1;
    dword_4D0415C = 1;
    goto LABEL_122;
  }
LABEL_107:
  v47 = word_4F06418[0];
  if ( word_4F06418[0] == 175 )
  {
LABEL_473:
    sub_643D30((__int64)a1);
    sub_6446A0((__int64 *)a1 + 23, 8u);
    v41 = 0;
    sub_661400((unsigned int *)&v264, 0, 0, 0, v277[0].m128i_i64);
    if ( dword_4F077BC )
      *((_BYTE *)a1 + 130) |= 0x40u;
    goto LABEL_159;
  }
  if ( unk_4D043E4 && word_4F06418[0] == 154 )
  {
    v11 = 0;
    if ( (unsigned __int16)sub_7BE840(0, 0) != 175 )
    {
      v47 = word_4F06418[0];
      goto LABEL_110;
    }
    goto LABEL_473;
  }
LABEL_110:
  if ( v47 == 179 )
  {
    sub_643D30((__int64)a1);
    v270 = *(_QWORD *)&dword_4F063F8;
    v277[0].m128i_i64[0] = qword_4F063F0;
    sub_7B8B50(a1, v11, v169, v170);
    if ( word_4F06418[0] != 175 )
    {
      if ( word_4F06418[0] == 87 && unk_4D04868 )
      {
        sub_65B760(0, 0, v171, v172);
      }
      else
      {
        if ( unk_4D0418C )
        {
          v173 = *((_QWORD *)a1 + 23);
          if ( v173 && *(_WORD *)(v173 + 8) == 339 )
            sub_684B30(2408, v173 + 56);
        }
        else
        {
          sub_6446A0((__int64 *)a1 + 23, 8u);
        }
        if ( sub_65B9A0((int *)&v269) )
        {
          sub_65F0A0((__int64)a1, (__int64)v277);
        }
        else
        {
          sub_65A5C0((__int64)a1, (int)v269);
          *((_BYTE *)a1 + 130) |= 0x40u;
        }
      }
      goto LABEL_117;
    }
    if ( dword_4F077BC && !(_DWORD)qword_4F077B4 )
    {
      a1 += 46;
      v11 = 8;
      sub_6446A0((__int64 *)(v3 + 184), 8u);
    }
    v197 = *(_QWORD **)(v3 + 184);
    v266 = 0;
    v269 = v197;
    if ( unk_4D04324 )
    {
      a1 = &dword_4F063F8;
      v11 = 877;
      sub_684AB0(&dword_4F063F8, 877);
    }
    sub_7B8B50(a1, v11, v171, v172);
    ++*(_BYTE *)(qword_4F061C8 + 83LL);
    if ( dword_4F077C4 == 2 )
    {
      if ( word_4F06418[0] == 1 && (unk_4D04A11 & 2) != 0 || (unsigned int)sub_7C0F00(0, 0) )
        goto LABEL_580;
    }
    else if ( word_4F06418[0] == 1 )
    {
LABEL_580:
      v198 = 5;
      v199 = 0;
      v202 = sub_7BF130(0, 5, &v266);
      if ( !v266 )
      {
        if ( v202 && *(_BYTE *)(v202 + 80) == 23 )
        {
          v198 = unk_4D04A18;
          if ( (*(_DWORD *)(unk_4D04A18 + 80LL) & 0x400FF) == 0x40018 )
          {
            v199 = 266;
            sub_6854E0(266, unk_4D04A18);
            v266 = 1;
          }
        }
        else
        {
          v198 = (__int64)dword_4F07508;
          v199 = 725;
          sub_6851C0(725, dword_4F07508);
          v266 = 1;
        }
      }
      sub_7B8B50(v199, v198, v200, v201);
      if ( word_4F06418[0] == 142 )
      {
        v213 = sub_5CB9F0(&v269);
        *v213 = (_QWORD *)sub_5CC970(10);
      }
      if ( v266 )
      {
        sub_854B40();
      }
      else
      {
        ((void (*)(void))sub_854AB0)();
        sub_8767A0(4, v202, &qword_4D04A08, 1);
        sub_6504E0(*(_QWORD *)(v202 + 88), dword_4F04C64, (__int64 *)&v270, 0, 0, v269);
        if ( (*(_BYTE *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 14) & 0x10) != 0 )
        {
          v267 = 0;
          LODWORD(v268) = 0;
          sub_643300(*(_QWORD *)(v202 + 88), &v267, &v268);
          if ( v267 )
          {
            if ( (_DWORD)v268 )
              sub_6851C0(3109, &v270);
          }
          else
          {
            sub_6851C0(3105, &v270);
          }
        }
      }
      goto LABEL_588;
    }
    sub_6851D0(40);
    sub_854B40();
LABEL_588:
    --*(_BYTE *)(qword_4F061C8 + 83LL);
    *(_BYTE *)(v3 + 130) |= 0x40u;
    goto LABEL_117;
  }
  if ( v47 == 173 )
  {
    if ( !unk_4D0445C )
    {
      sub_6851C0(3174, &dword_4F063F8);
      unk_4D0445C = 1;
    }
    sub_643D30((__int64)a1);
    v124 = a1 + 46;
    sub_6446A0((__int64 *)(v3 + 184), 8u);
    v175 = (*(_BYTE *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 14) & 0x10) != 0;
    v270 = *(_QWORD *)&dword_4F063F8;
    ++*(_BYTE *)(qword_4F061C8 + 83LL);
    if ( word_4F06418[0] == 172 )
    {
      v176 = "import";
    }
    else if ( word_4F06418[0] > 0xACu )
    {
      if ( word_4F06418[0] != 173 )
        goto LABEL_705;
      v176 = "module";
    }
    else
    {
      if ( (unsigned __int16)(word_4F06418[0] - 170) > 1u )
        goto LABEL_705;
      v176 = "export";
    }
    v177 = 6;
    v178 = (__int64)v176;
    v179 = sub_87A100(v176, 6, v277);
    v180 = *(_QWORD *)(v179 + 32);
    if ( !unk_4D04968 )
      v180 = *(_QWORD *)(v179 + 24);
    v181 = 0;
    if ( v180 && *(_BYTE *)(v180 + 80) == 1 && (**(_BYTE **)(v180 + 88) & 1) != 0 )
    {
      v177 = (__int64)&dword_4F063F8;
      v178 = 3186;
      sub_6851A0(3186, &dword_4F063F8, v176);
      v181 = 1;
    }
    v182 = (unsigned int)word_4F06418[0] - 172;
    if ( (unsigned __int16)(word_4F06418[0] - 172) <= 1u )
    {
      if ( !dword_4F04C64 )
        goto LABEL_543;
      sub_6851C0(3187, &dword_4F063F8);
      sub_7BE180();
    }
    else
    {
      if ( (unsigned __int16)(word_4F06418[0] - 170) > 1u
        || (v177 = (__int64)qword_4F04C68,
            v183 = *(unsigned __int8 *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 4),
            v182 = (unsigned int)(v183 - 3),
            (unsigned __int8)(v183 - 3) <= 1u)
        || !(_BYTE)v183 )
      {
LABEL_543:
        if ( (_DWORD)v181 )
        {
          sub_7BE180();
        }
        else
        {
          sub_7B8B50(v178, v177, v181, v182);
          if ( word_4F06418[0] == 75 )
          {
            if ( v175 )
              sub_6851A0(3066, qword_4F04C68[0] + 776LL * dword_4F04C64 + 16, "global");
            if ( unk_4D04160 )
            {
              if ( unk_4D04160 == 2 )
                sub_6851A0(3068, &v270, "global");
              else
                sub_6851C0(3063, &v270);
            }
            else
            {
              unk_4D04160 = 2;
              dword_4D0415C = 0;
            }
          }
          else if ( word_4F06418[0] == 55 && (v229 = 0, v230 = 0, (unsigned __int16)sub_7BE840(0, 0) == 157) )
          {
            sub_7B8B50(0, 0, v231, v232);
            if ( v175 )
            {
              v230 = 3066;
              v229 = (unsigned int *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 16);
              sub_6851A0(3066, v229, "private");
            }
            v234 = unk_4D04160;
            if ( unk_4D04160 == 3 )
            {
              unk_4D04160 = 4;
              dword_4D0415C = 0;
            }
            else
            {
              v229 = &dword_4F063F8;
              if ( unk_4D04160 == 4 )
              {
                v230 = 3068;
                sub_6851A0(3068, &dword_4F063F8, "private");
              }
              else
              {
                v230 = 3065;
                sub_6851C0(3065, &dword_4F063F8);
              }
            }
            sub_7B8B50(v230, v229, v234, v233);
          }
          else
          {
            v184 = 1;
            if ( !v175 )
              v184 = unk_4D04450 != 0;
            sub_641C70(v184);
          }
        }
        goto LABEL_549;
      }
      sub_6851C0(3188, &dword_4F063F8);
      sub_7BE180();
    }
LABEL_549:
    --*(_BYTE *)(qword_4F061C8 + 83LL);
    ((void (*)(void))sub_854AB0)();
    goto LABEL_120;
  }
  if ( (unsigned __int16)(v47 - 170) <= 1u )
  {
    if ( !unk_4D0445C )
    {
      sub_6851C0(3174, &dword_4F063F8);
      unk_4D0445C = 1;
    }
    sub_643D30((__int64)a1);
    v124 = a1 + 46;
    sub_6446A0((__int64 *)(v3 + 184), 8u);
    sub_854B40();
    v269 = *(_QWORD **)&dword_4F063F8;
    ++*(_BYTE *)(qword_4F061C8 + 83LL);
    if ( word_4F06418[0] == 172 )
    {
      v125 = "import";
    }
    else if ( word_4F06418[0] > 0xACu )
    {
      if ( word_4F06418[0] != 173 )
        goto LABEL_705;
      v125 = "module";
    }
    else
    {
      if ( (unsigned __int16)(word_4F06418[0] - 170) > 1u )
        goto LABEL_705;
      v125 = "export";
    }
    v41 = 6;
    v126 = sub_87A100(v125, 6, v277);
    v127 = &unk_4D04968;
    v128 = *(_QWORD *)(v126 + 32);
    v129 = unk_4D04968;
    if ( !unk_4D04968 )
      v128 = *(_QWORD *)(v126 + 24);
    v130 = 0;
    if ( v128 && *(_BYTE *)(v128 + 80) == 1 && (**(_BYTE **)(v128 + 88) & 1) != 0 )
    {
      v41 = (__int64)&dword_4F063F8;
      v129 = 3186;
      sub_6851A0(3186, &dword_4F063F8, v125);
      v130 = 1;
    }
    v131 = (unsigned int)word_4F06418[0] - 172;
    if ( (unsigned __int16)(word_4F06418[0] - 172) <= 1u )
    {
      v41 = (unsigned int)dword_4F04C64;
      if ( dword_4F04C64 )
      {
        v41 = (__int64)&dword_4F063F8;
        sub_6851C0(3187, &dword_4F063F8);
        sub_7BE180();
        goto LABEL_426;
      }
    }
    else if ( (unsigned __int16)(word_4F06418[0] - 170) <= 1u )
    {
      v41 = (__int64)qword_4F04C68;
      v132 = *(unsigned __int8 *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 4);
      v131 = (unsigned int)(v132 - 3);
      if ( (unsigned __int8)(v132 - 3) > 1u )
      {
        if ( (_BYTE)v132 )
        {
          v41 = (__int64)&dword_4F063F8;
          sub_6851C0(3188, &dword_4F063F8);
          sub_7BE180();
          goto LABEL_426;
        }
      }
    }
    if ( v130 )
    {
      sub_7BE180();
    }
    else
    {
      sub_7B8B50(v129, v41, v131, v127);
      v134 = 0;
      if ( word_4F06418[0] == 73 )
      {
        v134 = 1;
        v216 = qword_4F04C68[0] + 776LL * dword_4F04C64;
        v133 = *(unsigned __int8 *)(v216 + 14);
        v217 = v133 | 0x20;
        LOBYTE(v133) = (unsigned __int8)v133 >> 5;
        v247 = v133 & 1;
        *(_BYTE *)(v216 + 14) = v217;
      }
      v135 = (__int64)qword_4F04C68;
      v136 = qword_4F04C68[0] + 776LL * dword_4F04C64;
      v137 = *(_BYTE *)(v136 + 14);
      if ( (v137 & 0x10) != 0 )
      {
        v135 = 3106;
        v129 = 8;
        v255 = v134;
        sub_6854F0(8, 3106, &v269, v136 + 16);
        v134 = v255;
      }
      else
      {
        *(_BYTE *)(v136 + 14) = v137 | 0x10;
        v138 = v269;
        *(_QWORD *)(v136 + 16) = v269;
      }
      if ( !unk_4D03FA8 || (v138 = &unk_4D04160, unk_4D04160 != 3) || (*(_BYTE *)(unk_4D03FA8 + 104LL) & 1) == 0 )
      {
        if ( word_4F06418[0] != 173 )
        {
          v135 = 3108;
          v129 = 7;
          v253 = v134;
          sub_684AA0(7, 3108, &v269);
          v134 = v253;
        }
      }
      if ( v134 )
      {
        v254 = dword_4F066AC;
        v270 = *(_QWORD *)&dword_4F063F8;
        ++*(_BYTE *)(qword_4F061C8 + 82LL);
        sub_7B8B50(v129, v135, v138, v133);
        while ( word_4F06418[0] != 74 && word_4F06418[0] != 9 )
        {
          memset(v277, 0, 0x1D8u);
          v277[9].m128i_i64[1] = (__int64)v277;
          v277[1].m128i_i64[1] = *(_QWORD *)&dword_4F063F8;
          if ( dword_4F077BC && qword_4F077A8 <= 0x9F5Fu )
            v277[11].m128i_i8[2] |= 1u;
          v277[8].m128i_i8[6] |= 1u;
          sub_660E20(1, 0, 0, 0, 0, 0, v277);
        }
        --*(_BYTE *)(qword_4F061C8 + 82LL);
        sub_7BE280(74, 67, 3196, &v270);
        if ( v254 == dword_4F066AC )
          sub_6851C0(3105, &v269);
        v41 = (__int64)qword_4F04C68;
        v139 = qword_4F04C68[0] + 776LL * dword_4F04C64;
        *(_BYTE *)(v139 + 14) = (32 * (v247 & 1)) | *(_BYTE *)(v139 + 14) & 0xDF;
      }
      else
      {
        memset(v277, 0, 0x1D8u);
        v277[9].m128i_i64[1] = (__int64)v277;
        v277[1].m128i_i64[1] = *(_QWORD *)&dword_4F063F8;
        if ( dword_4F077BC && qword_4F077A8 <= 0x9F5Fu )
          v277[11].m128i_i8[2] |= 1u;
        v41 = 0;
        v277[8].m128i_i8[6] |= 1u;
        sub_660E20(1, 0, 0, 0, 0, 0, v277);
        v139 = qword_4F04C68[0] + 776LL * dword_4F04C64;
      }
      v140 = *(_BYTE *)(v139 + 14);
      if ( (v140 & 0x20) == 0 )
        *(_BYTE *)(v139 + 14) = v140 & 0xEF;
    }
LABEL_426:
    --*(_BYTE *)(qword_4F061C8 + 83LL);
    ((void (*)(void))sub_854AB0)();
    v42 = unk_4F07798;
    if ( unk_4F07798 )
      goto LABEL_122;
    goto LABEL_160;
  }
  if ( v47 == 172 )
  {
    if ( !unk_4D0445C )
    {
      sub_6851C0(3174, &dword_4F063F8);
      unk_4D0445C = 1;
    }
    sub_643D30((__int64)a1);
    v124 = a1 + 46;
    sub_6446A0((__int64 *)(v3 + 184), 8u);
    sub_854B40();
    ++*(_BYTE *)(qword_4F061C8 + 83LL);
    if ( word_4F06418[0] == 172 )
    {
      v146 = "import";
    }
    else
    {
      if ( word_4F06418[0] <= 0xACu )
      {
        if ( (unsigned __int16)(word_4F06418[0] - 170) <= 1u )
        {
          v146 = "export";
          goto LABEL_442;
        }
LABEL_705:
        sub_721090(v124);
      }
      if ( word_4F06418[0] != 173 )
        goto LABEL_705;
      v146 = "module";
    }
LABEL_442:
    v147 = sub_87A100(v146, 6, v277);
    v148 = *(_QWORD *)(v147 + 32);
    if ( !unk_4D04968 )
      v148 = *(_QWORD *)(v147 + 24);
    v149 = 0;
    if ( v148 && *(_BYTE *)(v148 + 80) == 1 && (**(_BYTE **)(v148 + 88) & 1) != 0 )
    {
      sub_6851A0(3186, &dword_4F063F8, v146);
      v149 = 1;
    }
    if ( (unsigned __int16)(word_4F06418[0] - 172) <= 1u )
    {
      if ( dword_4F04C64 )
      {
        sub_6851C0(3187, &dword_4F063F8);
        sub_7BE180();
        goto LABEL_458;
      }
    }
    else if ( (unsigned __int16)(word_4F06418[0] - 170) <= 1u )
    {
      v150 = *(_BYTE *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 4);
      if ( (unsigned __int8)(v150 - 3) > 1u )
      {
        if ( v150 )
        {
          sub_6851C0(3188, &dword_4F063F8);
          sub_7BE180();
          goto LABEL_458;
        }
      }
    }
    if ( v149 )
    {
      sub_7BE180();
      goto LABEL_458;
    }
    v151 = (unsigned int *)qword_4F04C68;
    v152 = (_QWORD *)sub_727790();
    v152[1] = *(_QWORD *)&dword_4F063F8;
    if ( (*(_BYTE *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 14) & 0x20) != 0 )
    {
      v151 = &dword_4F063F8;
      sub_6851C0(3107, &dword_4F063F8);
    }
    sub_857000();
    if ( word_4F06418[0] == 11 )
    {
      v152[2] = *(_QWORD *)&dword_4F063F8;
      v222 = sub_727740(1);
      v152[4] = v222;
      *(_QWORD *)(v222 + 8) = sub_857470(0);
      v223 = v152[4];
      LOBYTE(v224) = *unk_4F06410 == 60;
      *(_BYTE *)(v223 + 40) = v224 | *(_BYTE *)(v223 + 40) & 0xFE;
      sub_7B8B50(0, v151, v223, v224);
    }
    else
    {
      v277[0].m128i_i64[0] = *(_QWORD *)&dword_4F063F8;
      sub_7C9F50(&v269, &v270);
      if ( (unk_4D04A11 & 0x20) != 0 )
      {
        if ( !v269 && v270 && unk_4D03FA8 )
          v269 = *(_QWORD **)(unk_4D03FA8 + 88LL);
        goto LABEL_456;
      }
      v218 = v269;
      if ( !v269 )
      {
        if ( !v270 || !unk_4D03FA8 || (v218 = *(_QWORD **)(unk_4D03FA8 + 88LL), (v269 = v218) == 0) )
        {
          sub_6851C0(3071, v277);
LABEL_456:
          v153 = sub_87F870(v269, v270, 1, v277);
          v152[2] = v277[0].m128i_i64[0];
          v154 = sub_727740(3);
          v152[4] = v154;
          *(_QWORD *)(v154 + 8) = *(_QWORD *)(*(_QWORD *)v153 + 8LL);
          sub_5CEC90(0, (__int64)v152, 86);
          if ( !dword_4F04C3C )
            sub_8699D0(v152, 86, 0);
          goto LABEL_458;
        }
      }
      v219 = sub_87F870(v218, v270, 1, v277);
      v152[2] = v277[0].m128i_i64[0];
      v220 = sub_727740(3);
      v152[4] = v220;
      *(_QWORD *)(v220 + 8) = *(_QWORD *)(*(_QWORD *)v219 + 8LL);
    }
    v221 = (_QWORD *)sub_5CC190(22);
    sub_5CEC90(v221, (__int64)v152, 86);
    if ( !dword_4F04C3C )
      sub_8699D0(v152, 86, 0);
    *(_QWORD *)dword_4F07508 = v152[2];
    if ( *(_BYTE *)v152[4] == 1 )
      sub_824F50(v152);
    else
      sub_824FF0(v152);
LABEL_458:
    --*(_BYTE *)(qword_4F061C8 + 83LL);
    ((void (*)(void))sub_854AB0)();
    if ( unk_4F07798 )
      goto LABEL_120;
    goto LABEL_118;
  }
  if ( dword_4F077C4 == 2 && (unk_4F07778 > 201102 || dword_4F07774) && v47 == 75 )
  {
    ((void (*)(void))sub_854AB0)();
    sub_644920(a1, 0);
    if ( (*(_BYTE *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 14) & 0x10) != 0 )
    {
      sub_6851C0(3105, &dword_4F063F8);
      if ( unk_4F07798 )
        goto LABEL_120;
    }
    else if ( unk_4F07798 )
    {
      goto LABEL_120;
    }
LABEL_118:
    if ( !unk_4D04160 )
    {
      unk_4D04160 = 1;
      dword_4D0415C = 1;
      if ( (*(_BYTE *)(v3 + 132) & 2) != 0 )
        goto LABEL_21;
      goto LABEL_121;
    }
    dword_4D0415C = 1;
    goto LABEL_120;
  }
  if ( v47 == 191 && (unsigned int)sub_645420() )
  {
LABEL_117:
    ((void (*)(void))sub_854AB0)();
    if ( unk_4F07798 )
      goto LABEL_120;
    goto LABEL_118;
  }
LABEL_16:
  if ( unk_4F07798 )
    goto LABEL_17;
  if ( unk_4D04160 )
  {
    dword_4D0415C = 1;
LABEL_17:
    v12 = word_4F06418[0];
    if ( word_4F06418[0] != 149 )
      goto LABEL_18;
LABEL_31:
    if ( (*((_BYTE *)a1 + 125) & 0x40) == 0 )
      goto LABEL_19;
    sub_643D30((__int64)a1);
    sub_7ADF70(v277, 0);
    sub_7AE360(v277);
    sub_7B8B50(v277, 0, v18, v19);
    if ( word_4F06418[0] == 27
      || HIDWORD(qword_4F077B4)
      && word_4F06418[0] == 107
      && (sub_7AE360(v277), sub_7B8B50(v277, (char *)&qword_4F077B4 + 4, v120, v121), word_4F06418[0] == 27) )
    {
      sub_7BC000(v277);
      goto LABEL_20;
    }
    sub_7BC000(v277);
    v20 = *((_BYTE *)a1 + 125);
    if ( (v20 & 0x40) != 0 )
      *((_BYTE *)a1 + 125) = v20 | 0x20;
    goto LABEL_36;
  }
  unk_4D04160 = 1;
  dword_4D0415C = 1;
  v12 = word_4F06418[0];
  if ( word_4F06418[0] == 149 )
    goto LABEL_31;
LABEL_18:
  if ( v12 == 137 )
  {
LABEL_19:
    sub_643D30((__int64)a1);
LABEL_20:
    ++*(_BYTE *)(qword_4F061C8 + 83LL);
    sub_64F620(*((char *)a1 + 125) >= 0, 0, (__int64 *)a1 + 23, v13, v14, v15);
    --*(_BYTE *)(qword_4F061C8 + 83LL);
    goto LABEL_21;
  }
  if ( !(unsigned int)sub_651B00(2u) )
  {
    if ( (*((_BYTE *)a1 + 125) & 0x40) != 0 || (*((_BYTE *)a1 + 130) & 0x20) != 0 )
    {
      if ( word_4F06418[0] == 1 )
      {
        if ( dword_4F077C4 != 2 || (unk_4D04A11 & 2) == 0 && !(unsigned int)sub_7C0F00(0, 0) || (unk_4D04A12 & 1) == 0 )
          goto LABEL_36;
      }
      else if ( word_4F06418[0] == 34
             || word_4F06418[0] == 27
             || dword_4F077C4 == 2
             && (word_4F06418[0] == 33
              || dword_4D04474 && word_4F06418[0] == 52
              || dword_4D0485C && word_4F06418[0] == 25
              || word_4F06418[0] == 156) )
      {
        goto LABEL_36;
      }
    }
    v41 = (__int64)qword_4F04C68;
    if ( (*(_BYTE *)(qword_4F04C68[0] + 776LL * dword_4F04C64 + 14) & 0x10) != 0 )
    {
      v41 = (__int64)&dword_4F063F8;
      sub_6851C0(3105, &dword_4F063F8);
    }
    if ( word_4F06418[0] != 75 )
    {
      if ( word_4F06418[0] != 73 )
      {
        v42 = 169;
        ++*(_BYTE *)(qword_4F061C8 + 83LL);
        sub_6851D0(169);
        sub_854B40();
        --*(_BYTE *)(qword_4F061C8 + 83LL);
        *(_QWORD *)(v3 + 288) = sub_72C930(169);
        goto LABEL_122;
      }
      sub_7B8190();
      v41 = (__int64)dword_4F07508;
      ++*(_BYTE *)(qword_4F061C8 + 83LL);
      sub_6851C0(169, dword_4F07508);
      sub_7BDC10(169, dword_4F07508, v55);
      --*(_BYTE *)(qword_4F061C8 + 83LL);
      if ( word_4F06418[0] == 74 )
        sub_7B8B50(169, dword_4F07508, v56, v57);
      sub_7B8260();
      v42 = 2;
      if ( (unsigned int)sub_651B00(2u) )
        goto LABEL_36;
LABEL_122:
      if ( v256 )
      {
        v41 = v256;
        *(_QWORD *)(v256 + 8) = qword_4F063F0;
      }
      unk_4F061D8 = qword_4F063F0;
      if ( (*(_BYTE *)(v3 + 126) & 2) != 0 )
      {
        sub_85F950(v42, v41);
        *(_BYTE *)(v3 + 127) &= ~2u;
      }
      if ( word_4F06418[0] == v264 )
      {
        sub_643D30(v3);
        if ( (*(_BYTE *)(v3 + 126) & 1) != 0 )
          unk_4F04D84 = 1;
        sub_7B8B50(v3, v41, v48, v49);
        unk_4F04D84 = 0;
      }
      goto LABEL_21;
    }
    if ( (*((_BYTE *)a1 + 126) & 2) != 0 )
    {
      v41 = 169;
      v42 = 7;
      sub_684AC0(7, 169);
    }
    else
    {
      v190 = *((_QWORD *)a1 + 23);
      if ( dword_4D04964 )
      {
        v41 = v190 == 0 ? 381 : 169;
      }
      else
      {
        v41 = 169;
        if ( !v190 )
        {
          v41 = (__int64)dword_4F07508;
          v42 = 381;
          sub_684B00(381, dword_4F07508);
          goto LABEL_567;
        }
      }
      v42 = unk_4F07471;
      sub_684AC0(unk_4F07471, v41);
    }
LABEL_567:
    ((void (*)(void))sub_854AB0)();
    goto LABEL_122;
  }
LABEL_36:
  v21 = 8388610;
  ++*(_BYTE *)(qword_4F061C8 + 83LL);
  v22 = *(_BYTE *)(v3 + 125);
  v23 = *(_BYTE *)(v3 + 126) | 0x20;
  *(_BYTE *)(v3 + 126) = v23;
  if ( (v22 & 0x20) == 0 )
    v21 = (-(__int64)((v23 & 2) == 0) & 0xFFFFFFFFFFFFC000LL) + 8407043;
  if ( v22 < 0 )
  {
    v24 = v21 | 0x1008;
  }
  else
  {
    v24 = v21;
    LOBYTE(v24) = v21 | 0x80;
    if ( (v22 & 0x40) != 0 )
    {
      LOBYTE(v21) = v21 | 0xB0;
      v24 = v21;
    }
    else if ( dword_4F077C4 != 2 )
    {
      LOBYTE(v21) = v21 | 0xA0;
      if ( unk_4F07778 > 199900 )
        v24 = v21;
    }
  }
  if ( dword_4D043F8 )
    v24 |= 0x8000000uLL;
  if ( dword_4D043E0 )
    v24 |= 0x400000uLL;
  v25 = HIDWORD(qword_4F077B4);
  if ( HIDWORD(qword_4F077B4) && (*(_BYTE *)(v3 + 126) & 4) != 0 )
    v24 |= 0x40000uLL;
  if ( (*(_BYTE *)(v3 + 130) & 0x20) == 0 || !unk_4F07720 || word_4F06418[0] != 1 )
    goto LABEL_51;
  v246 = dword_4F06650[0];
  sub_7BDB60(1);
  sub_7B8B50(1, v25, v203, v204);
  v251 = word_4F06418[0];
  if ( word_4F06418[0] == 25 )
  {
    sub_7BDC20(0);
    sub_7B8B50(0, v25, v214, v215);
    v251 = word_4F06418[0];
  }
  sub_7BDC00();
  sub_7ADF70(v277, 0);
  sub_7AE700(unk_4F061C0 + 24LL, v246, unk_4F0664C, 1, v277);
  sub_7BBF80(v277, word_4F06418[0] != 9);
  if ( v251 == 55 )
  {
    v205 = *(_QWORD *)(v3 + 184);
    if ( v205 )
      sub_6851C0(1098, v205 + 56);
    v206 = sub_72B6D0(&dword_4F063F8, 0);
    *(_QWORD *)(v3 + 304) = v206;
    v207 = sub_72D6A0(v206);
    *(_WORD *)(v3 + 124) |= 0x180u;
    *(_QWORD *)(v3 + 272) = v207;
    *(_QWORD *)(v3 + 288) = v207;
    *(_QWORD *)(v3 + 280) = v207;
  }
  else
  {
LABEL_51:
    sub_672A20(v24, v3, v275);
  }
  v26 = *(_QWORD *)(v3 + 8);
  if ( (v26 & 0x4000) != 0 )
  {
    v27 = *(unsigned __int16 *)(v3 + 126);
    LOWORD(v27) = v27 | 0x202;
    *(_WORD *)(v3 + 126) = v27;
  }
  else
  {
    v27 = *(unsigned __int8 *)(v3 + 126);
    if ( (v27 & 2) != 0 )
      *(_BYTE *)(v3 + 228) |= 1u;
  }
  if ( (v27 & 8) != 0 )
  {
LABEL_55:
    if ( *(_BYTE *)(v3 + 268) != 4 )
      goto LABEL_56;
    v102 = *(_DWORD *)(v3 + 224);
    if ( !v102 )
      goto LABEL_56;
    v94 = 0;
    if ( (v102 & 1) == 0 )
      goto LABEL_56;
    goto LABEL_302;
  }
  v89 = *(_QWORD *)(v3 + 272);
  v41 = *(unsigned __int8 *)(v89 + 140);
  if ( (_BYTE)v41 == 12 )
  {
    v90 = *(_QWORD *)(v3 + 272);
    do
    {
      v90 = *(_QWORD *)(v90 + 160);
      v91 = *(_BYTE *)(v90 + 140);
    }
    while ( v91 == 12 );
  }
  else
  {
    v91 = *(_BYTE *)(v89 + 140);
    v90 = *(_QWORD *)(v3 + 272);
  }
  v92 = word_4F06418[0];
  v93 = v26 & 0x10;
  if ( word_4F06418[0] == 75 )
  {
    if ( (v27 & 0x10) != 0 )
    {
LABEL_495:
      sub_854AB0(v92, v41, v93);
      goto LABEL_274;
    }
    v163 = v26 & 0x20;
    if ( *(char *)(v3 + 125) < 0 && (v26 & 0x30) != 0 )
    {
      if ( dword_4F077C4 != 1 )
      {
        v92 = 5;
        if ( dword_4D04964 )
          v92 = byte_4F07472[0];
        v41 = 99;
        sub_684AC0(v92, 99);
        v163 = v26 & 0x20;
      }
      goto LABEL_493;
    }
    if ( (v26 & 0x10) == 0
      && (v92 = (__int64)&dword_4F077C4, dword_4F077C4 == 2)
      && (v26 & 0x20) != 0
      && ((_BYTE)v41 == 11 || (v41 = (__int64)&dword_4F077BC, dword_4F077BC) && v91 == 11) )
    {
      if ( *(_BYTE *)(v3 + 268) != 4 )
      {
        v92 = v3;
        sub_6472A0(v3, v41, 0, v27);
        *(_BYTE *)(v90 + 88) |= 4u;
        goto LABEL_495;
      }
      if ( (v27 & 2) == 0 || v91 != 2 )
      {
LABEL_734:
        if ( !dword_4D04964 )
        {
          v41 = 375;
          v92 = 5;
          *(_QWORD *)dword_4F07508 = *(_QWORD *)&dword_4F063F8;
          sub_684AC0(5, 375);
          goto LABEL_494;
        }
        goto LABEL_684;
      }
      v228 = *(_BYTE *)(v90 + 161);
      if ( (v228 & 8) == 0 )
      {
        if ( dword_4F077C4 == 2 )
          goto LABEL_734;
        goto LABEL_728;
      }
    }
    else
    {
      v164 = v91 == 2;
      v165 = v164 & ((unsigned __int8)v27 >> 1);
      if ( !v165 || (v164 = v165, (*(_BYTE *)(v90 + 161) & 8) == 0) )
      {
        v166 = *(_BYTE *)(v3 + 268);
        if ( v166 != 4 )
        {
          if ( (v26 & 0x10) == 0 )
          {
            v92 = 5;
            if ( dword_4D04964 )
              v92 = byte_4F07472[0];
            v41 = 64;
            v249 = *(_QWORD *)(v3 + 272);
            sub_684AC0(v92, 64);
            v163 = v26 & 0x20;
            v166 = *(_BYTE *)(v3 + 268);
            v89 = v249;
          }
          if ( v166 )
          {
            if ( dword_4F077C4 == 2 || (v92 = 5, *(_DWORD *)(v3 + 256)) )
              v92 = qword_4D0495C == 0 ? 7 : 5;
            v41 = 1000;
            v245 = v163;
            v250 = v89;
            sub_684AC0(v92, 1000);
            v163 = v245;
            v89 = v250;
          }
          if ( (*(_BYTE *)(v89 + 140) & 0xFB) == 8 )
          {
            v92 = v89;
            v252 = v163;
            v41 = dword_4F077C4 != 2;
            v208 = sub_8D4C10(v89, v41);
            v163 = v252;
            if ( v208 )
            {
              v209 = 5;
              if ( dword_4F077C4 == 2 && dword_4D04964 )
                v209 = byte_4F07472[0];
              v92 = v209;
              v41 = 21;
              sub_684AA0(v209, 21, v3 + 24);
              v163 = v252;
            }
          }
          if ( (v26 & 0x30) == 0 )
            goto LABEL_495;
LABEL_493:
          if ( !v163 )
          {
            v41 = 0;
            v92 = v90;
            sub_86A320(v90, 0, 0, 1);
            goto LABEL_495;
          }
          goto LABEL_494;
        }
        if ( dword_4F077C4 == 2 )
        {
          v92 = 5;
          if ( !dword_4D04964 )
            goto LABEL_679;
          goto LABEL_684;
        }
        if ( (v26 & 0x10) != 0 )
        {
          v92 = 5;
          goto LABEL_679;
        }
        if ( (v26 & 0x20) == 0 )
        {
          if ( !dword_4D04964 )
          {
            v41 = 375;
            v92 = 5;
            *(_QWORD *)dword_4F07508 = *(_QWORD *)&dword_4F063F8;
            sub_684AC0(5, 375);
            goto LABEL_495;
          }
          goto LABEL_684;
        }
        if ( !v164 )
        {
LABEL_624:
          if ( !dword_4D04964 )
          {
LABEL_625:
            v92 = 5;
            *(_QWORD *)dword_4F07508 = *(_QWORD *)&dword_4F063F8;
            v41 = 375;
            sub_684AC0(5, 375);
LABEL_494:
            *(_BYTE *)(v90 + 143) |= 8u;
            goto LABEL_495;
          }
LABEL_684:
          v92 = byte_4F07472[0];
LABEL_679:
          v41 = 375;
          *(_QWORD *)dword_4F07508 = *(_QWORD *)&dword_4F063F8;
          sub_684AC0(v92, 375);
          if ( (v26 & 0x20) == 0 )
            goto LABEL_495;
          goto LABEL_494;
        }
        v228 = *(_BYTE *)(v90 + 161);
LABEL_728:
        if ( (v228 & 8) != 0 )
          goto LABEL_625;
        goto LABEL_624;
      }
    }
    v41 = v3 + 24;
    v92 = 432;
    sub_6851C0(432, v3 + 24);
    goto LABEL_495;
  }
  if ( (v26 & 0x80u) != 0LL )
    goto LABEL_269;
  if ( (v26 & 0x20) == 0 || word_4F06418[0] == 1 )
  {
    if ( dword_4F077C4 != 2 )
      goto LABEL_55;
    if ( word_4F06418[0] == 1 && (unk_4D04A11 & 2) != 0 )
      goto LABEL_521;
    goto LABEL_590;
  }
  if ( word_4F06418[0] == 34 || word_4F06418[0] == 27 )
  {
    if ( dword_4F077C4 != 2 )
      goto LABEL_55;
LABEL_590:
    if ( !(unsigned int)sub_7C0F00(0, 0) )
      goto LABEL_55;
    v93 = v26 & 0x10;
LABEL_521:
    if ( (unk_4D04A12 & 1) == 0 )
      goto LABEL_55;
    if ( !unk_4D04A18 )
      goto LABEL_55;
    v174 = *(_BYTE *)(unk_4D04A18 + 80LL);
    if ( v174 != 3 && (dword_4F077C4 != 2 || (unsigned __int8)(v174 - 4) > 2u) )
      goto LABEL_55;
    LOBYTE(v27) = *(_BYTE *)(v3 + 126);
    goto LABEL_269;
  }
  if ( dword_4F077C4 != 2 )
  {
    if ( word_4F06418[0] == 15 )
      goto LABEL_55;
    goto LABEL_269;
  }
  if ( word_4F06418[0] == 33
    || dword_4D04474 && word_4F06418[0] == 52
    || dword_4D0485C && word_4F06418[0] == 25
    || word_4F06418[0] == 156
    || word_4F06418[0] == 15 )
  {
    goto LABEL_590;
  }
LABEL_269:
  if ( (v27 & 0x10) == 0 )
  {
    if ( v93 )
    {
      if ( *(char *)(v3 + 125) < 0 )
        sub_6851C0(99, v3 + 24);
    }
    else
    {
      sub_6851C0(40, &dword_4F063F8);
    }
  }
  v41 = (__int64)&dword_4F063F8;
  sub_6851C0(65, &dword_4F063F8);
  sub_854B40();
LABEL_274:
  if ( (v26 & 2) != 0 && (*(_BYTE *)(v3 + 126) & 0x10) == 0 )
  {
    v41 = 325;
    sub_684AA0(dword_4F077C0 == 0 ? 8 : 5, 325, v3 + 24);
  }
  v42 = v3;
  v94 = 1;
  sub_650B20(v3);
  v95 = *(_DWORD *)(v3 + 224);
  if ( v95 && (v95 & 1) != 0 )
  {
LABEL_302:
    v41 = v3 + 24;
    v42 = 1378;
    sub_6851C0(1378, v3 + 24);
  }
  if ( (*(_BYTE *)(v3 + 126) & 8) == 0 && v94 )
  {
    if ( word_4F06418[0] != 75 )
      goto LABEL_122;
LABEL_281:
    sub_643D30(v3);
LABEL_120:
    if ( (*(_BYTE *)(v3 + 132) & 2) != 0 )
      goto LABEL_21;
LABEL_121:
    v41 = 65;
    v42 = 75;
    if ( (unsigned int)sub_7BE5B0(75, 65, 0, 0) )
      goto LABEL_122;
    goto LABEL_21;
  }
LABEL_56:
  v28 = dword_4F077C4;
  if ( word_4F06418[0] == 106 && dword_4F077C4 == 1 )
  {
    if ( *(_BYTE *)(v3 + 268) != 4 )
      goto LABEL_58;
    if ( (unsigned __int16)sub_7BE840(0, 0) == 75 )
    {
      v41 = (__int64)dword_4F07508;
      v42 = 232;
      *(_QWORD *)dword_4F07508 = *(_QWORD *)&dword_4F063F8;
      sub_684B30(232, dword_4F07508);
      sub_854AB0(232, dword_4F07508, v225);
      sub_7B8B50(232, dword_4F07508, v226, v227);
      goto LABEL_122;
    }
    v28 = dword_4F077C4;
  }
  if ( v28 == 2 )
  {
    v248 = 513;
    if ( *(_BYTE *)(v3 + 268) != 4 )
    {
      v248 = 525;
      if ( dword_4F04C5C != dword_4F04C34 )
      {
        v248 = 521;
        if ( dword_4F077BC )
        {
          if ( qword_4F077A8 > 0x9CA4u || dword_4F04C34 == -1 )
            v248 = 521;
          else
            v248 = 525;
        }
      }
    }
    goto LABEL_59;
  }
LABEL_58:
  v248 = 1;
LABEL_59:
  v29 = *(_BYTE *)(v3 + 125);
  if ( v29 < 0 )
  {
    v96 = v248;
    BYTE1(v96) = BYTE1(v248) | 8;
    if ( unk_4D047EC )
      v96 = v248 | 0x4800;
    v248 = v96;
  }
  else if ( unk_4D047EC )
  {
    if ( (v29 & 0x40) == 0 )
    {
      v122 = *(_BYTE *)(v3 + 268);
      if ( v122 != 6 )
      {
        if ( dword_4D04964 && (unsigned __int8)(v122 - 1) <= 1u )
          v248 |= 0x40000u;
        else
          v248 |= 0x44000u;
      }
    }
  }
  if ( (*(_BYTE *)(v3 + 8) & 1) == 0 )
  {
    v30 = v248 | 0x10000;
    if ( (*(_BYTE *)(v3 + 120) & 0x7F) != 0 )
      v30 = v248;
    v248 = v30;
  }
  if ( (v29 & 4) != 0 && (unsigned int)sub_67B2C0() )
  {
    v41 = (__int64)v277;
    v42 = v3;
    sub_65BC40(v3, v277[0].m128i_i8, &v270, (__int64)v275);
    goto LABEL_122;
  }
  v31 = (_QWORD *)v3;
  v241 = *(_BYTE *)(v3 + 120) & 0x7F;
  v239 = *(_DWORD *)(v3 + 72);
  v240 = *(_WORD *)(v3 + 76);
  while ( 1 )
  {
    v32 = qword_4F061C8;
    ++*(_BYTE *)(qword_4F061C8 + 75LL);
    *((_BYTE *)v31 + 126) |= 0x40u;
    ++*(_BYTE *)(v32 + 64);
    *((_BYTE *)v31 + 126) |= 0x80u;
    if ( (*((_BYTE *)v31 + 125) & 0x40) != 0 )
    {
      ++*(_BYTE *)(v32 + 81);
      *((_BYTE *)v31 + 127) |= 1u;
    }
    sub_87E3B0(v277);
    v33 = (__int64)v31;
    sub_626F50(v248, (__int64)v31, 0, (__int64)&v270, (__int64)v277, v275);
    if ( *((_BYTE *)v31 + 268) != 4 && (*((_BYTE *)v31 + 131) & 0x10) == 0 )
    {
      if ( v257 )
      {
        v34 = 0;
        sub_643D30((__int64)v31);
        sub_645270((__int64)v31, (__int64)v31, v35, v36);
        sub_650E40((__int64)v31);
        v37 = (__int64 *)v31[52];
        v243 = 0;
        if ( !v37 )
        {
          v242 = 0;
          goto LABEL_200;
        }
      }
      else
      {
        v243 = sub_8D2310(v31[36]);
        if ( v243 )
        {
          if ( v31[46] )
          {
            v3 = (__int64)v31;
            v41 = (__int64)&v264;
            v42 = (__int64)v31;
            sub_8BE2A0(v31, &v264, v155, v156, v157, v158);
            goto LABEL_122;
          }
          sub_643D30((__int64)v31);
          v160 = (unsigned int)qword_4F077B4;
          if ( !(_DWORD)qword_4F077B4 )
            goto LABEL_466;
          for ( j = v31[36]; *(_BYTE *)(j + 140) == 12; j = *(_QWORD *)(j + 160) )
            ;
          v162 = *(_QWORD *)(j + 160);
          if ( (unsigned int)sub_8D5830(v162) )
          {
            v33 = 323;
            sub_5EB950(8u, 323, v162, (__int64)(v31 + 6));
            v34 = 1;
            v243 = 1;
          }
          else
          {
LABEL_466:
            v243 = 1;
            v34 = 1;
          }
        }
        else
        {
          v34 = 0;
          sub_643D30((__int64)v31);
        }
        sub_645270((__int64)v31, v33, v160, v159);
        sub_650E40((__int64)v31);
        v37 = (__int64 *)v31[52];
        if ( !v37 )
        {
          v242 = 0;
          v38 = dword_4F077C4;
          goto LABEL_77;
        }
      }
LABEL_74:
      v33 = *v37;
      *v37 = 0;
      v242 = (_QWORD *)v33;
      goto LABEL_75;
    }
    v34 = 0;
    sub_643D30((__int64)v31);
    sub_645270((__int64)v31, (__int64)v31, v61, v62);
    sub_650E40((__int64)v31);
    v37 = (__int64 *)v31[52];
    v243 = 0;
    if ( v37 )
      goto LABEL_74;
    v242 = 0;
LABEL_75:
    if ( !v257 )
    {
      v38 = dword_4F077C4;
      goto LABEL_77;
    }
LABEL_200:
    if ( v277[5].m128i_i64[1] )
    {
      v69 = (_QWORD *)v277[5].m128i_i64[1];
      do
      {
        v70 = v69;
        v69 = (_QWORD *)*v69;
      }
      while ( v69 );
      sub_869ED0(v277[5].m128i_i64[1], v70, (unsigned int)dword_4F04C64, 0);
      v277[5].m128i_i64[1] = 0;
    }
    if ( *((_BYTE *)v31 + 268) == 4 )
    {
      v33 = (__int64)(v31 + 3);
      if ( dword_4D04964 && byte_4F07472[0] == 8 )
      {
        sub_6851C0(99, v33);
        v71 = 0;
        v191 = _mm_loadu_si128(&xmmword_4F06660[1]);
        v192 = _mm_loadu_si128(&xmmword_4F06660[2]);
        v193 = _mm_loadu_si128(&xmmword_4F06660[3]);
        v270 = _mm_loadu_si128(xmmword_4F06660).m128i_u64[0];
        v272 = v191;
        v273 = v192;
        v272.m128i_i8[1] = v191.m128i_i8[1] | 0x20;
        v271 = *(_QWORD *)dword_4F07508;
        v274 = v193;
        v38 = dword_4F077C4;
      }
      else
      {
        sub_684B30(99, v33);
        v71 = 0;
        v38 = dword_4F077C4;
      }
    }
    else
    {
      v117 = sub_87E2B0(&v270, v31[46]);
      if ( v117 )
      {
        v237 = v117;
        if ( *(_QWORD *)(v117 + 16) )
        {
          sub_6851F0(101, *(_QWORD *)(v270 + 8));
          v118 = v237;
          v119 = (__int64)(v31 + 3);
        }
        else
        {
          sub_885FF0(*(_QWORD *)(v117 + 8), (unsigned int)dword_4F04C5C, 0);
          v118 = v237;
          v119 = (__int64)(v31 + 3);
          *(_QWORD *)(v237 + 48) = v31[44];
          *(_QWORD *)(v237 + 24) = v31[35];
        }
      }
      else
      {
        sub_6851C0(99, dword_4F07508);
        v118 = 0;
        v119 = (__int64)(v31 + 3);
      }
      v33 = v119;
      v238 = v118;
      sub_6455C0((__int64)v31, v119);
      v71 = v238;
      v38 = dword_4F077C4;
      if ( dword_4F077C4 == 1 )
      {
        v188 = sub_8D2A90(v31[36]);
        v71 = v238;
        if ( !v188 )
          goto LABEL_560;
        for ( k = v31[36]; *(_BYTE *)(k + 140) == 12; k = *(_QWORD *)(k + 160) )
          ;
        if ( *(_BYTE *)(k + 160) == 2 )
        {
          v212 = sub_72C610(4);
          v71 = v238;
          v31[36] = v212;
          v38 = dword_4F077C4;
        }
        else
        {
LABEL_560:
          v38 = dword_4F077C4;
        }
      }
    }
    v31[45] = v71;
LABEL_77:
    if ( v38 == 2 && (v31[1] & 0x20) != 0 )
    {
      v67 = v31[35];
      while ( 1 )
      {
        while ( 1 )
        {
          v68 = *(_BYTE *)(v67 + 140);
          if ( v68 != 12 )
            break;
          v67 = *(_QWORD *)(v67 + 160);
        }
        if ( v68 == 7 )
          break;
        if ( v68 == 13 )
        {
          v67 = sub_8D4870(v67);
        }
        else
        {
          if ( v68 != 6 )
            goto LABEL_78;
          v67 = sub_8D46C0(v67);
        }
      }
      v33 = (__int64)(v31 + 3);
      sub_6851C0(305, v31 + 3);
    }
LABEL_78:
    if ( !v34 )
      break;
    if ( !qword_4D0495C )
      break;
    v39 = v31[36];
    v33 = (__int64)(v31 + 3);
    if ( !(unsigned int)sub_6454D0(v39, (__int64)(v31 + 3)) )
      break;
    v64 = sub_72C930(v39);
    v31[34] = v64;
    v31[35] = v64;
    v31[36] = v64;
    if ( (*((_BYTE *)v31 + 127) & 1) != 0 )
    {
      v243 = 0;
      goto LABEL_185;
    }
    --*(_BYTE *)(qword_4F061C8 + 64LL);
    *((_BYTE *)v31 + 126) &= ~0x80u;
LABEL_84:
    if ( *((_BYTE *)v31 + 268) == 4 )
    {
      if ( (v31[2] & 4) != 0 )
      {
        if ( (unsigned int)sub_8D2310(v31[36]) )
        {
          sub_684B30(472, &v271);
        }
        else
        {
          sub_6851C0(283, &v271);
          v185 = _mm_loadu_si128(&xmmword_4F06660[1]);
          v186 = _mm_loadu_si128(&xmmword_4F06660[2]);
          v187 = _mm_loadu_si128(&xmmword_4F06660[3]);
          v270 = _mm_loadu_si128(xmmword_4F06660).m128i_u64[0];
          v272 = v185;
          v273 = v186;
          v272.m128i_i8[1] = v185.m128i_i8[1] | 0x20;
          v271 = *(_QWORD *)dword_4F07508;
          v274 = v187;
        }
      }
      sub_657FD0((__int64)v31, (__int64)&v270, 0);
      v97 = (__int64)v31;
      sub_65E230(&v270, (__int64)v31, 0, (__int64)v275, v98);
      v99 = *v31;
      sub_86F690(*v31);
      v101 = v31[44];
      if ( v101 && *(_QWORD *)v101 )
      {
        v99 = *(_QWORD *)(*v31 + 88LL);
        if ( *(_BYTE *)(v101 + 16) == 6 )
          *(_BYTE *)(v99 + 187) |= 1u;
        else
          *(_BYTE *)(*(_QWORD *)(v101 + 24) + 57LL) |= 2u;
        v97 = 6;
        sub_869D70(v99, 6);
      }
      if ( word_4F06418[0] == 56 && dword_4F077C0 && qword_4F077A8 <= 0x7593u && (v31[1] & 1) == 0 )
      {
        *(_QWORD *)dword_4F07508 = *(_QWORD *)&dword_4F063F8;
        sub_7B8B50(v99, v97, v100, dword_4F07508);
        sub_6B9640(*v31);
        *(_QWORD *)&v275[72] = unk_4F061D8;
      }
    }
    else
    {
      v41 = (__int64)&v270;
      v42 = (__int64)v31;
      sub_65F400((__int64)v31, (__int64)&v270, (const __m128i *)v275);
      if ( (*((_BYTE *)v31 + 130) & 0x20) != 0 )
      {
        v3 = (__int64)v31;
        goto LABEL_122;
      }
    }
LABEL_86:
    if ( dword_4F04C64 == -1
      || (v43 = qword_4F04C68[0] + 776LL * dword_4F04C64, (*(_BYTE *)(v43 + 7) & 1) == 0)
      || dword_4F04C44 == -1 && (*(_BYTE *)(v43 + 6) & 2) == 0 )
    {
      if ( (v277[4].m128i_i8[1] & 8) == 0 )
        sub_87E280(&v277[0].m128i_u64[1]);
    }
    if ( v242 )
    {
      v65 = (_QWORD **)v31[52];
      for ( m = *v65; m; m = (_QWORD *)*m )
      {
        v31[52] = m;
        v65 = (_QWORD **)m;
      }
      *v65 = v242;
    }
    sub_65C210((__int64)v31);
    --*(_BYTE *)(qword_4F061C8 + 75LL);
    *((_BYTE *)v31 + 126) &= ~0x40u;
    if ( !(unsigned int)sub_7BE800(67) )
    {
      v3 = (__int64)v31;
      goto LABEL_281;
    }
    sub_643EB0((__int64)v31, 1);
    sub_65C040((__int64)v31);
    *((_BYTE *)v31 + 120) = v241 | v31[15] & 0x80;
    *((_DWORD *)v31 + 18) = v239;
    *((_WORD *)v31 + 38) = v240;
    *((_BYTE *)v31 + 125) = (v257 << 7) | *((_BYTE *)v31 + 125) & 0x7F;
    sub_650E40((__int64)v31);
  }
  if ( (*((_BYTE *)v31 + 127) & 1) == 0 )
  {
    v40 = qword_4F061C8;
    goto LABEL_83;
  }
LABEL_185:
  v40 = qword_4F061C8;
  --*(_BYTE *)(qword_4F061C8 + 81LL);
  *((_BYTE *)v31 + 127) &= ~1u;
LABEL_83:
  --*(_BYTE *)(v40 + 64);
  *((_BYTE *)v31 + 126) &= ~0x80u;
  if ( !v243 )
    goto LABEL_84;
  v72 = v31[1];
  v269 = 0;
  v266 = 0;
  v73 = v31[36];
  v267 = 0;
  v8 = v31[57] == 0;
  v265 = (v72 >> 1) & 1;
  if ( !v8 )
  {
    v33 = (__int64)v277;
    sub_5EA630((__int64)v31, v277);
  }
  if ( word_4F06418[0] != 56 )
  {
    v236 = v31[2] & 1;
    goto LABEL_212;
  }
  if ( !(unsigned int)sub_651030(&v267) )
  {
    v236 = v243;
    goto LABEL_212;
  }
  if ( v267 )
  {
    if ( (v31[2] & 0x30) != 0
      || (v272.m128i_i8[0] & 8) != 0
      && ((v167 = (unsigned int)v274.m128i_u8[8] - 15, (unsigned __int8)(v274.m128i_i8[8] - 15) <= 2u)
       || (unsigned __int8)(v274.m128i_i8[8] - 30) <= 4u) )
    {
      v277[4].m128i_i8[0] |= 8u;
      v236 = 0;
    }
    else
    {
      sub_7B8B50(&v267, v33, v167, v168);
      sub_6851C0(1774, &dword_4F063F8);
      sub_7B8B50(1774, &dword_4F063F8, v210, v211);
      v236 = 0;
    }
    goto LABEL_212;
  }
  v277[4].m128i_i8[0] |= 0x10u;
  v236 = dword_4F077BC;
  if ( dword_4F077BC )
  {
    if ( dword_4F077C4 != 2 || (v236 = 0, unk_4F07778 <= 201102) && !dword_4F07774 )
    {
      sub_684B40(&dword_4F063F8, 2513);
      v236 = 0;
      goto LABEL_212;
    }
  }
  else
  {
LABEL_212:
    if ( dword_4F077C4 != 2 && (unsigned int)sub_8D2310(v73) )
      sub_6426B0(v73, (__int64)(v31 + 6));
  }
  if ( (v272.m128i_i8[1] & 0x20) == 0 && (*(_BYTE *)(v270 + 73) & 2) != 0 )
  {
    v74 = *(const char **)(v270 + 8);
    if ( v74 )
    {
      if ( !strcmp(v74, "main") )
      {
        if ( dword_4F077C4 == 2 )
        {
          if ( (v272.m128i_i8[0] & 1) != 0 )
          {
            if ( (v272.m128i_i8[0] & 4) == 0 )
              goto LABEL_222;
          }
          else if ( dword_4F04C34 )
          {
            goto LABEL_222;
          }
LABEL_221:
          v277[4].m128i_i8[0] |= 0x20u;
          sub_650B30((__int64)v277, v73, (__int64)v31, &v265, (__int64)&v271);
        }
        else if ( *((_BYTE *)v31 + 268) <= 1u )
        {
          goto LABEL_221;
        }
      }
    }
  }
LABEL_222:
  if ( *((_BYTE *)v31 + 269) > 2u || *((_DWORD *)v31 + 64) )
  {
    sub_6851C0(86, &v275[8]);
    *((_BYTE *)v31 + 269) = 0;
  }
  if ( v272.m128i_i64[1] && (*(_BYTE *)(v272.m128i_i64[1] + 81) & 0x10) != 0 )
  {
    if ( *((_BYTE *)v31 + 268) )
    {
      v75 = 8;
      if ( !dword_4D04824 && v265 )
        v75 = 3 * (unsigned int)(*((_BYTE *)v31 + 269) != 2) + 5;
      sub_684AA0(v75, 80, &v275[8]);
    }
    *((_BYTE *)v31 + 269) = 0;
  }
  v76 = v31[36];
  v77 = v76;
  for ( v277[4].m128i_i8[0] = (2 * (v265 & 1)) | v277[4].m128i_i8[0] & 0xFD;
        *(_BYTE *)(v77 + 140) == 12;
        v77 = *(_QWORD *)(v77 + 160) )
  {
    ;
  }
  for ( n = v31[34]; *(_BYTE *)(n + 140) == 12; n = *(_QWORD *)(n + 160) )
    ;
  v277[4].m128i_i8[0] = ((v77 == n) << 7) | v277[4].m128i_i8[0] & 0x7F;
  if ( (v272.m128i_i8[2] & 2) != 0 )
  {
    v79 = word_4F06418[0];
    if ( word_4F06418[0] != 75 )
    {
      if ( (*((_BYTE *)v31 + 125) & 0x40) != 0 )
        goto LABEL_239;
LABEL_314:
      *((_BYTE *)v31 + 125) &= ~0x40u;
      if ( v272.m128i_i64[1] && (*(_BYTE *)(v272.m128i_i64[1] + 81) & 0x10) != 0 && !v267 )
      {
        v103 = *(unsigned __int8 *)(v272.m128i_i64[1] + 80);
        if ( (unsigned __int8)v103 <= 0x14u && (v104 = 1180672, _bittest64(&v104, v103)) )
        {
          v244 = v272.m128i_i64[1];
          v235 = sub_5EDAE0(v272.m128i_i64[1], (__int64)v31, 0, 0);
          v105 = sub_8BFC10(v244, v76, v273.m128i_i64[1]);
          if ( v235 || !v105 )
          {
            v107 = v244;
            v106 = v31 + 6;
            v108 = 392;
          }
          else
          {
            v106 = &v271;
            v107 = v244;
            v108 = 795;
          }
          sub_6854C0(v108, v106, v107);
          v109 = _mm_loadu_si128(xmmword_4F06660).m128i_u64[0];
          v110 = _mm_loadu_si128(&xmmword_4F06660[2]);
          v111 = _mm_loadu_si128(&xmmword_4F06660[3]);
          v272 = _mm_loadu_si128(&xmmword_4F06660[1]);
          v270 = v109;
          v272.m128i_i8[1] |= 0x20u;
          v273 = v110;
          v271 = *(_QWORD *)dword_4F07508;
          v274 = v111;
        }
        else
        {
          sub_6854C0(147, v31 + 6, v272.m128i_i64[1]);
          v194 = _mm_loadu_si128(&xmmword_4F06660[1]);
          v195 = _mm_loadu_si128(&xmmword_4F06660[2]);
          v196 = _mm_loadu_si128(&xmmword_4F06660[3]);
          v270 = _mm_loadu_si128(xmmword_4F06660).m128i_u64[0];
          v272 = v194;
          v273 = v195;
          v272.m128i_i8[1] = v194.m128i_i8[1] | 0x20;
          v271 = *(_QWORD *)dword_4F07508;
          v274 = v196;
        }
      }
      if ( dword_4F077C4 == 2 )
        sub_87E350(v277);
      if ( (v31[1] & 1) == 0 )
        sub_64EBC0((__int64)v31, (__int64)v277, (__int64)&v270);
      if ( v277[4].m128i_i8[0] >= 0 )
      {
        if ( v277[0].m128i_i64[1] )
        {
          for ( ii = v31[36]; *(_BYTE *)(ii + 140) == 12; ii = *(_QWORD *)(ii + 160) )
            ;
          if ( (*(_BYTE *)(*(_QWORD *)(ii + 168) + 16LL) & 2) == 0 )
            sub_684AC0(dword_4F077C0 == 0 ? 8 : 5, 92);
        }
        sub_876830(v277);
      }
      v113 = *(_BYTE *)(qword_4F04C68[0] + 776LL * (int)dword_4F04C5C + 4);
      if ( (v113 == 17 || v113 == 2) && *((_BYTE *)v31 + 269) == 2 )
      {
        if ( dword_4F077C4 == 2 )
        {
          *((_BYTE *)v31 + 269) = 1;
          v123 = 8;
          goto LABEL_372;
        }
        if ( dword_4D04964 )
        {
          v123 = byte_4F07472[0];
          if ( !dword_4F077C0 )
            goto LABEL_371;
          if ( qword_4F077A8 <= 0x76BFu )
          {
            *((_BYTE *)v31 + 269) = 0;
            goto LABEL_371;
          }
          if ( qword_4F077A8 > 0x9C3Fu )
          {
            v123 = 7;
            goto LABEL_372;
          }
LABEL_371:
          if ( (_BYTE)v123 != 3 )
            goto LABEL_372;
        }
        else if ( dword_4F077C0 )
        {
          if ( qword_4F077A8 > 0x76BFu )
          {
            v123 = 7;
            if ( qword_4F077A8 > 0x9C3Fu )
LABEL_372:
              sub_684AA0(v123, 129, &v275[8]);
          }
          else
          {
            *((_BYTE *)v31 + 269) = 0;
          }
        }
      }
      if ( unk_4D047EC )
      {
        if ( v277[3].m128i_i64[0] )
        {
          sub_87E1F0();
          v277[3].m128i_i64[0] = 0;
        }
        if ( (unsigned int)sub_8DD010(v31[36]) )
          sub_6851C0(892, &v271);
      }
      sub_6523A0((__int64)&v270, (__int64)v31, (__int64)v277, 1, &v266, &v269, &v268, (__int64)v275);
      sub_86F690(*v31);
      if ( v236 )
      {
        v114 = *v31;
        if ( (v31[2] & 1) != 0 )
        {
          sub_6854C0(1583, &v275[64], v114);
          sub_7BE1A0();
          sub_7B8B50(1583, &v275[64], v115, v116);
        }
        else
        {
          sub_6854C0(145, &dword_4F063F8, v114);
          sub_7BE280(56, 702, 0, 0);
          sub_6BBA30(0);
        }
      }
      goto LABEL_86;
    }
    if ( !dword_4F077BC || qword_4F077A8 > 0x76BFu || (*(_DWORD *)(v273.m128i_i64[0] + 176) & 0x13000) != 0x1000 )
      goto LABEL_314;
    v80 = 1;
  }
  else
  {
    if ( (*((_BYTE *)v31 + 125) & 0x40) == 0 )
      goto LABEL_314;
    v79 = word_4F06418[0];
    if ( word_4F06418[0] == 75 )
      goto LABEL_314;
LABEL_239:
    if ( v79 == 67 )
      goto LABEL_314;
    LOBYTE(v243) = 0;
    v80 = v79 != 9 && v79 != 149;
  }
  if ( (v236 & 1) != 0 || !v80 )
    goto LABEL_314;
  v81 = v76;
  v3 = (__int64)v31;
  if ( (v31[1] & 1) == 0 && dword_4F077C4 != 1 && (v31[2] & 0x630LL) == 0 && (v272.m128i_i8[0] & 0x10) == 0 )
  {
    if ( (v272.m128i_i8[1] & 0x20) == 0 )
      goto LABEL_250;
    v258 = v79;
    v82 = sub_878690(&v270);
    v79 = v258;
    if ( !v82 )
    {
      v81 = v31[36];
LABEL_250:
      v259 = v79;
      sub_64E990(
        (__int64)(v31 + 5),
        v81,
        1,
        1,
        (v277[4].m128i_i8[0] & 0x20) != 0,
        ((*((_BYTE *)v31 + 126) >> 3) ^ 1) & 1);
      v79 = v259;
    }
  }
  v260 = v79;
  sub_641570((__int64)v31);
  v83 = v31[44];
  v277[4].m128i_i8[0] |= 4u;
  v277[4].m128i_i64[1] = v83;
  v84 = sub_7A7D00();
  v85 = v260;
  v277[6].m128i_i32[0] = v84;
  if ( dword_4F077C4 == 2 )
  {
    sub_87E350(v277);
    v85 = v260;
  }
  v261 = v85;
  sub_650FD0((__int64)v31);
  v86 = v261;
  if ( v31[30] )
  {
    sub_6851C0(1116, v31 + 31);
    v86 = v261;
  }
  v41 = (__int64)v31;
  v42 = (__int64)&v270;
  v262 = v86;
  sub_71F5B0(&v270, v31, v277, v275);
  v87 = v262;
  if ( dword_4F04C64 == -1
    || (v41 = (__int64)qword_4F04C68, v88 = qword_4F04C68[0] + 776LL * dword_4F04C64, (*(_BYTE *)(v88 + 7) & 1) == 0)
    || dword_4F04C44 == -1 && (*(_BYTE *)(v88 + 6) & 2) == 0 )
  {
    if ( (v277[4].m128i_i8[1] & 8) == 0 )
    {
      v42 = (__int64)&v277[0].m128i_i64[1];
      sub_87E280(&v277[0].m128i_u64[1]);
      v87 = v262;
    }
  }
  if ( v87 != 163 )
  {
    if ( (v277[4].m128i_i8[0] & 0x18) != 0 || (v243 & 1) != 0 )
    {
      v42 = 75;
      v264 = 75;
    }
    else
    {
      v41 = 74;
      v264 = 74;
    }
    goto LABEL_122;
  }
LABEL_21:
  sub_643D30(v3);
  v16 = v3;
  sub_643EB0(v3, 0);
  if ( (*(_BYTE *)(v3 + 124) & 0x20) != 0 )
  {
    v16 = v3;
    sub_6451E0(v3);
  }
  if ( v263 )
  {
    if ( dword_4F077C4 == 2 )
    {
      v16 = (int)dword_4F04C40;
      v63 = 776LL * (int)dword_4F04C40;
      *(_BYTE *)(qword_4F04C68[0] + v63 + 7) &= ~8u;
      if ( *(_QWORD *)(qword_4F04C68[0] + v63 + 456) )
        sub_8845B0(v16);
    }
  }
  if ( (*(_BYTE *)(v3 + 126) & 2) != 0 && (*(_BYTE *)(v3 + 127) & 2) != 0 )
    sub_85F950(v16, 0);
  return sub_641570(v3);
}
