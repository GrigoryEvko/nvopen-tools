// Function: sub_350BDD0
// Address: 0x350bdd0
//
void __fastcall sub_350BDD0(_QWORD *a1, unsigned __int64 a2, __int64 a3)
{
  __int64 v3; // rcx
  __int64 v5; // r14
  __int64 v7; // r9
  unsigned __int64 v8; // rax
  int i; // edi
  __int64 j; // rsi
  int v11; // edx
  __int64 v12; // rsi
  _QWORD *v13; // r8
  __int64 *v14; // rdx
  __int64 v15; // r11
  __int64 v16; // rbx
  int v17; // edx
  unsigned __int64 v18; // rcx
  __int64 v19; // r8
  __int64 v20; // r9
  __int64 v21; // rsi
  __int64 v22; // rax
  __int64 v23; // rcx
  unsigned int v24; // edx
  __int64 v25; // r8
  __int64 v26; // r12
  unsigned __int64 v27; // rax
  __int64 v28; // rbx
  __int64 *v29; // rdx
  __int64 v30; // rbx
  unsigned int v31; // r12d
  char v32; // al
  __int64 v33; // rdi
  void (*v34)(); // rax
  int *v35; // rdi
  int *v36; // r12
  int *v37; // rbx
  __int64 v38; // rax
  int v39; // r14d
  __int64 v40; // rdx
  __int64 v41; // rax
  __int64 v42; // rdx
  __int64 v43; // rcx
  __int64 v44; // r8
  unsigned int v45; // eax
  unsigned __int64 v46; // rcx
  __int64 v47; // r9
  __int64 v48; // r14
  bool v49; // zf
  char v50; // al
  int v51; // eax
  int v52; // eax
  _QWORD *v53; // rdi
  __int64 *v54; // rsi
  __int64 *v55; // rax
  __int64 v56; // rdi
  void (*v57)(); // rax
  __int64 v58; // rax
  unsigned __int64 v59; // rdx
  unsigned int v60; // eax
  __int64 v61; // rsi
  char v62; // dl
  char v63; // al
  int v64; // eax
  _QWORD *v65; // rdi
  __int64 v66; // rsi
  _QWORD *v67; // rax
  int v68; // r8d
  unsigned int v69; // ebx
  __int64 v70; // r12
  __int64 v71; // rax
  __int64 v72; // rax
  __int64 v73; // rax
  unsigned __int64 *v74; // r12
  unsigned int v75; // edx
  __int64 *v76; // rax
  __int64 v77; // rdi
  unsigned int v78; // esi
  int v79; // eax
  int v80; // r10d
  __int64 v81; // r11
  int v82; // edx
  int v83; // r10d
  char v84; // al
  unsigned __int64 v85; // rdx
  __int64 v86; // rsi
  unsigned int v87; // esi
  __int64 v88; // r11
  int v89; // r10d
  __int64 *v90; // rdi
  __int64 *v91; // rdx
  int v92; // eax
  __int64 v93; // rax
  __int64 v94; // r14
  unsigned __int64 v95; // rax
  _QWORD *v96; // rdx
  _QWORD *v97; // rdi
  int v98; // edi
  __int64 v99; // r8
  int v100; // edi
  unsigned int v101; // eax
  __int64 *v102; // rcx
  __int64 v103; // rsi
  _QWORD *v104; // rdi
  __int64 v105; // rax
  __int64 v106; // rsi
  _QWORD *v107; // rax
  int v108; // r9d
  __int64 v109; // rsi
  __int64 v110; // rax
  _QWORD *v111; // rbx
  __int64 v112; // r12
  __int64 v113; // rdx
  int v114; // r10d
  unsigned __int64 v115; // r9
  unsigned __int64 v116; // r8
  __int64 v117; // rax
  unsigned __int64 v118; // rcx
  __int64 v119; // rdx
  __int64 v120; // rdx
  __int64 v121; // r8
  __int64 v122; // r9
  __int64 v123; // rcx
  __int64 v124; // rdi
  __int64 v125; // rax
  __int64 v126; // rcx
  __int64 *v127; // rax
  __int64 v128; // r9
  __int64 v129; // r8
  unsigned __int64 v130; // rax
  _QWORD *v131; // rbx
  __int64 v132; // rdx
  __int64 v133; // rcx
  __int64 v134; // r8
  __int64 v135; // r9
  __int64 v136; // rdi
  _QWORD *v137; // rax
  __int64 v138; // rdi
  _QWORD *v139; // rax
  int v140; // r11d
  int v141; // edi
  int v142; // eax
  int v143; // r10d
  __int64 v144; // r11
  __int64 *v145; // rsi
  int v146; // edi
  __int64 v147; // rax
  unsigned int v148; // ecx
  __int64 v149; // rbx
  int v150; // ecx
  int v151; // r9d
  int v152; // esi
  int v153; // esi
  int v154; // edi
  __int64 *v155; // rcx
  unsigned int m; // eax
  int v157; // esi
  int v158; // esi
  int v159; // edi
  unsigned int k; // eax
  __int64 *v161; // rcx
  __int64 v162; // rax
  __int64 v163; // rax
  unsigned int v164; // eax
  int v165; // edi
  __int64 v166; // r10
  __int64 v167; // r9
  __int64 v168; // rdx
  _QWORD *v169; // rax
  _QWORD *v170; // rcx
  unsigned int v171; // eax
  __int128 v172; // [rsp-20h] [rbp-120h]
  __int128 v173; // [rsp-20h] [rbp-120h]
  unsigned int v174; // [rsp+0h] [rbp-100h]
  unsigned __int64 v175; // [rsp+0h] [rbp-100h]
  unsigned int v176; // [rsp+Ch] [rbp-F4h]
  const void *v177; // [rsp+18h] [rbp-E8h]
  unsigned __int64 v178; // [rsp+28h] [rbp-D8h]
  unsigned int v179; // [rsp+30h] [rbp-D0h]
  bool v180; // [rsp+36h] [rbp-CAh]
  char v181; // [rsp+37h] [rbp-C9h]
  _QWORD *v182; // [rsp+38h] [rbp-C8h]
  __int64 *v183; // [rsp+40h] [rbp-C0h]
  unsigned __int64 *v184; // [rsp+40h] [rbp-C0h]
  unsigned int v185; // [rsp+40h] [rbp-C0h]
  __int64 v186; // [rsp+40h] [rbp-C0h]
  __int64 v187; // [rsp+40h] [rbp-C0h]
  char v188; // [rsp+48h] [rbp-B8h]
  __int64 v189; // [rsp+48h] [rbp-B8h]
  char v190; // [rsp+50h] [rbp-B0h]
  __int64 v191; // [rsp+50h] [rbp-B0h]
  unsigned __int64 v192; // [rsp+50h] [rbp-B0h]
  __int64 v193; // [rsp+50h] [rbp-B0h]
  __int64 v194; // [rsp+58h] [rbp-A8h]
  int v195; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v196; // [rsp+58h] [rbp-A8h]
  int v197; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v198; // [rsp+60h] [rbp-A0h]
  __int64 v199; // [rsp+68h] [rbp-98h]
  __int64 v200; // [rsp+68h] [rbp-98h]
  __int64 *v201; // [rsp+68h] [rbp-98h]
  __int64 *v202; // [rsp+68h] [rbp-98h]
  char v203; // [rsp+7Fh] [rbp-81h] BYREF
  unsigned __int64 v204; // [rsp+80h] [rbp-80h] BYREF
  __int64 v205; // [rsp+88h] [rbp-78h]
  unsigned __int64 v206; // [rsp+90h] [rbp-70h]
  int *v207; // [rsp+A0h] [rbp-60h] BYREF
  __int64 v208; // [rsp+A8h] [rbp-58h]
  _BYTE v209[80]; // [rsp+B0h] [rbp-50h] BYREF

  v3 = a2;
  v5 = a2;
  v7 = *(_QWORD *)(a1[4] + 32LL);
  v8 = a2;
  for ( i = *(_DWORD *)(a2 + 44) & 0xFFFFFF; (*(_BYTE *)(v8 + 44) & 4) != 0; v8 = *(_QWORD *)v8 & 0xFFFFFFFFFFFFFFF8LL )
    ;
  if ( (*(_BYTE *)(a2 + 44) & 8) != 0 )
  {
    do
      v3 = *(_QWORD *)(v3 + 8);
    while ( (*(_BYTE *)(v3 + 44) & 8) != 0 );
  }
  for ( j = *(_QWORD *)(v3 + 8); j != v8; v8 = *(_QWORD *)(v8 + 8) )
  {
    v11 = *(unsigned __int16 *)(v8 + 68);
    v3 = (unsigned int)(v11 - 14);
    if ( (unsigned __int16)(v11 - 14) > 4u && (_WORD)v11 != 24 )
      break;
  }
  v12 = *(unsigned int *)(v7 + 144);
  v13 = *(_QWORD **)(v7 + 128);
  if ( (_DWORD)v12 )
  {
    v3 = ((_DWORD)v12 - 1) & (((unsigned int)v8 >> 9) ^ ((unsigned int)v8 >> 4));
    v14 = &v13[2 * v3];
    v15 = *v14;
    if ( *v14 == v8 )
    {
LABEL_11:
      v16 = v14[1];
      if ( (i & 0xC) != 0 )
        return;
      goto LABEL_16;
    }
    v17 = 1;
    while ( v15 != -4096 )
    {
      v83 = v17 + 1;
      v3 = ((_DWORD)v12 - 1) & (unsigned int)(v17 + v3);
      v14 = &v13[2 * (unsigned int)v3];
      v15 = *v14;
      if ( *v14 == v8 )
        goto LABEL_11;
      v17 = v83;
    }
  }
  v14 = &v13[2 * v12];
  v16 = v14[1];
  if ( (i & 0xC) != 0 )
    return;
LABEL_16:
  if ( (unsigned int)*(unsigned __int16 *)(v5 + 68) - 1 <= 1 )
    return;
  v203 = 0;
  v188 = sub_2E8B400(v5, (__int64)&v203, (__int64)v14, v3, v13);
  if ( !v188 )
    return;
  v21 = a1[5];
  v178 = v16 & 0xFFFFFFFFFFFFFFF8LL;
  v207 = (int *)v209;
  v208 = 0x800000000LL;
  v22 = *(_QWORD *)(v5 + 32);
  v198 = v16 & 0xFFFFFFFFFFFFFFF8LL | 4;
  if ( !v21 || *(_BYTE *)v22 || (*(_BYTE *)(v22 + 3) & 0x10) == 0 || *(_BYTE *)(*(_QWORD *)(v5 + 16) + 4LL) != 1 )
  {
    v200 = v22 + 40LL * (*(_DWORD *)(v5 + 40) & 0xFFFFFF);
    if ( v22 == v200 )
      goto LABEL_49;
    v179 = 0;
    goto LABEL_32;
  }
  v179 = *(_DWORD *)(v22 + 8);
  v23 = v179 & 0x7FFFFFFF;
  v176 = (*(_DWORD *)v22 >> 8) & 0xFFF;
  v24 = v179 & 0x7FFFFFFF;
  v25 = *(unsigned int *)(*(_QWORD *)(v21 + 80) + 4 * v23);
  if ( (_DWORD)v25 )
  {
    v24 = v25 & 0x7FFFFFFF;
    v23 = v25 & 0x7FFFFFFF;
  }
  else
  {
    v25 = v179;
  }
  v26 = a1[4];
  v199 = 8 * v23;
  v27 = *(unsigned int *)(v26 + 160);
  if ( (unsigned int)v27 <= v24 || (v28 = *(_QWORD *)(*(_QWORD *)(v26 + 152) + 8 * v23)) == 0 )
  {
    v148 = v24 + 1;
    if ( (unsigned int)v27 < v24 + 1 && v148 != v27 )
    {
      if ( v148 >= v27 )
      {
        v166 = *(_QWORD *)(v26 + 168);
        v167 = v148 - v27;
        if ( v148 > (unsigned __int64)*(unsigned int *)(v26 + 164) )
        {
          v187 = v148 - v27;
          v193 = *(_QWORD *)(v26 + 168);
          v197 = v25;
          sub_C8D5F0(v26 + 152, (const void *)(v26 + 168), v148, 8u, v25, v167);
          v167 = v187;
          v166 = v193;
          LODWORD(v25) = v197;
        }
        v168 = *(unsigned int *)(v26 + 160);
        v149 = *(_QWORD *)(v26 + 152);
        v169 = (_QWORD *)(v149 + 8 * v168);
        v170 = &v169[v167];
        if ( v169 != v170 )
        {
          do
            *v169++ = v166;
          while ( v170 != v169 );
          v149 = *(_QWORD *)(v26 + 152);
          LODWORD(v168) = *(_DWORD *)(v26 + 160);
        }
        *(_DWORD *)(v26 + 160) = v167 + v168;
        goto LABEL_206;
      }
      *(_DWORD *)(v26 + 160) = v148;
    }
    v149 = *(_QWORD *)(v26 + 152);
LABEL_206:
    v202 = (__int64 *)(v199 + v149);
    v28 = sub_2E10F30(v25);
    *v202 = v28;
    sub_2E11E80((_QWORD *)v26, v28);
  }
  v29 = (__int64 *)sub_2E09D00((__int64 *)v28, v198);
  v18 = 3LL * *(unsigned int *)(v28 + 8);
  if ( v29 != (__int64 *)(*(_QWORD *)v28 + 24LL * *(unsigned int *)(v28 + 8)) )
  {
    v18 = *(_DWORD *)(v178 + 24) | 2u;
    if ( (*(_DWORD *)((*v29 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v29 >> 1) & 3) <= (unsigned int)v18 )
    {
      v147 = v29[2];
      if ( v147 )
      {
        v49 = v178 == (*(_QWORD *)(v147 + 8) & 0xFFFFFFFFFFFFFFF8LL);
        v22 = *(_QWORD *)(v5 + 32);
        v180 = v49;
        v200 = v22 + 40LL * (*(_DWORD *)(v5 + 40) & 0xFFFFFF);
        if ( v200 == v22 )
        {
          v181 = 0;
          goto LABEL_46;
        }
        goto LABEL_33;
      }
    }
  }
  v22 = *(_QWORD *)(v5 + 32);
  v200 = v22 + 40LL * (*(_DWORD *)(v5 + 40) & 0xFFFFFF);
  if ( v22 == v200 )
  {
LABEL_49:
    v33 = a1[7];
    if ( v33 )
    {
      v34 = *(void (**)())(*(_QWORD *)v33 + 24LL);
      if ( v34 != nullsub_1648 )
        ((void (__fastcall *)(__int64, __int64))v34)(v33, v5);
    }
    sub_2FAD510(*(_QWORD *)(a1[4] + 32LL), v5);
    sub_2E88E20(v5);
    goto LABEL_53;
  }
LABEL_32:
  v180 = 0;
LABEL_33:
  v30 = v22;
  v181 = 0;
  v190 = 0;
  v177 = (const void *)(a3 + 48);
  v194 = v5;
  do
  {
    if ( *(_BYTE *)v30 )
      goto LABEL_44;
    v31 = *(_DWORD *)(v30 + 8);
    if ( (v31 & 0x80000000) != 0 )
    {
      v44 = a1[4];
      v45 = v31 & 0x7FFFFFFF;
      v46 = *(unsigned int *)(v44 + 160);
      v47 = 8LL * (v31 & 0x7FFFFFFF);
      if ( (v31 & 0x7FFFFFFF) < (unsigned int)v46 )
      {
        v48 = *(_QWORD *)(*(_QWORD *)(v44 + 152) + 8LL * v45);
        if ( v48 )
        {
LABEL_65:
          v49 = (unsigned __int8)sub_2E89D80(v194, v31, 0) == 0;
          v50 = *(_BYTE *)(v30 + 3);
          if ( !v49 )
          {
            v51 = v50 & 0x10;
            if ( v51 || *(_WORD *)(v194 + 68) == 20 )
              goto LABEL_67;
            v86 = a1[6];
            v18 = *(_QWORD *)(*(_QWORD *)v86 + 520LL);
            if ( (__int64 (__fastcall *)(__int64))v18 == sub_2DCA430 )
            {
              if ( (*(_BYTE *)(v30 + 4) & 1) != 0 )
                goto LABEL_44;
              if ( (*(_BYTE *)(v30 + 4) & 2) != 0 )
                goto LABEL_70;
LABEL_140:
              if ( !(unsigned __int8)sub_2EBEF70(a1[3], v31)
                && !(unsigned __int8)sub_350A720((__int64)a1, v48, (int *)v30) )
              {
                v62 = *(_BYTE *)(v30 + 4);
                LOBYTE(v51) = *(_BYTE *)(v30 + 3) & 0x10;
                if ( (v62 & 1) != 0 )
                  goto LABEL_70;
                goto LABEL_90;
              }
LABEL_67:
              v52 = *(_DWORD *)(a3 + 16);
              v204 = v48;
              if ( !v52 )
              {
                v53 = *(_QWORD **)(a3 + 32);
                v54 = &v53[*(unsigned int *)(a3 + 40)];
                if ( v54 == sub_35097D0(v53, (__int64)v54, (__int64 *)&v204) )
                {
                  if ( v19 + 1 > (unsigned __int64)*(unsigned int *)(a3 + 44) )
                  {
                    sub_C8D5F0(a3 + 32, v177, v19 + 1, 8u, v19, v20);
                    v54 = (__int64 *)(*(_QWORD *)(a3 + 32) + 8LL * *(unsigned int *)(a3 + 40));
                  }
                  *v54 = v48;
                  v73 = (unsigned int)(*(_DWORD *)(a3 + 40) + 1);
                  *(_DWORD *)(a3 + 40) = v73;
                  if ( (unsigned int)v73 > 8 )
                  {
                    v174 = v31;
                    v74 = *(unsigned __int64 **)(a3 + 32);
                    v184 = &v74[v73];
                    while ( 1 )
                    {
                      v78 = *(_DWORD *)(a3 + 24);
                      if ( !v78 )
                        break;
                      v18 = *v74;
                      v20 = *(_QWORD *)(a3 + 8);
                      v75 = (v78 - 1) & (((unsigned int)*v74 >> 9) ^ ((unsigned int)*v74 >> 4));
                      v76 = (__int64 *)(v20 + 8LL * v75);
                      v77 = *v76;
                      if ( *v76 != *v74 )
                      {
                        v140 = 1;
                        v19 = 0;
                        while ( v77 != -4096 )
                        {
                          if ( !v19 && v77 == -8192 )
                            v19 = (__int64)v76;
                          v75 = (v78 - 1) & (v140 + v75);
                          v76 = (__int64 *)(v20 + 8LL * v75);
                          v77 = *v76;
                          if ( v18 == *v76 )
                            goto LABEL_117;
                          ++v140;
                        }
                        v141 = *(_DWORD *)(a3 + 16);
                        if ( v19 )
                          v76 = (__int64 *)v19;
                        ++*(_QWORD *)a3;
                        v82 = v141 + 1;
                        if ( 4 * (v141 + 1) < 3 * v78 )
                        {
                          v18 = v78 - *(_DWORD *)(a3 + 20) - v82;
                          if ( (unsigned int)v18 <= v78 >> 3 )
                          {
                            sub_350BC00(a3, v78);
                            v142 = *(_DWORD *)(a3 + 24);
                            if ( !v142 )
                            {
LABEL_277:
                              ++*(_DWORD *)(a3 + 16);
                              BUG();
                            }
                            v20 = *v74;
                            v143 = v142 - 1;
                            v144 = *(_QWORD *)(a3 + 8);
                            v145 = 0;
                            v82 = *(_DWORD *)(a3 + 16) + 1;
                            v146 = 1;
                            v18 = (v142 - 1) & (((unsigned int)*v74 >> 9) ^ ((unsigned int)*v74 >> 4));
                            v76 = (__int64 *)(v144 + 8 * v18);
                            v19 = *v76;
                            if ( *v76 != *v74 )
                            {
                              while ( v19 != -4096 )
                              {
                                if ( !v145 && v19 == -8192 )
                                  v145 = v76;
                                v18 = v143 & (unsigned int)(v146 + v18);
                                v76 = (__int64 *)(v144 + 8LL * (unsigned int)v18);
                                v19 = *v76;
                                if ( v20 == *v76 )
                                  goto LABEL_122;
                                ++v146;
                              }
LABEL_198:
                              if ( v145 )
                                v76 = v145;
                            }
                          }
LABEL_122:
                          *(_DWORD *)(a3 + 16) = v82;
                          if ( *v76 != -4096 )
                            --*(_DWORD *)(a3 + 20);
                          *v76 = *v74;
                          goto LABEL_117;
                        }
LABEL_120:
                        sub_350BC00(a3, 2 * v78);
                        v79 = *(_DWORD *)(a3 + 24);
                        if ( !v79 )
                          goto LABEL_277;
                        v20 = *v74;
                        v80 = v79 - 1;
                        v81 = *(_QWORD *)(a3 + 8);
                        v82 = *(_DWORD *)(a3 + 16) + 1;
                        v18 = (v79 - 1) & (((unsigned int)*v74 >> 9) ^ ((unsigned int)*v74 >> 4));
                        v76 = (__int64 *)(v81 + 8 * v18);
                        v19 = *v76;
                        if ( *v74 != *v76 )
                        {
                          v165 = 1;
                          v145 = 0;
                          while ( v19 != -4096 )
                          {
                            if ( v19 == -8192 && !v145 )
                              v145 = v76;
                            v18 = v80 & (unsigned int)(v165 + v18);
                            v76 = (__int64 *)(v81 + 8LL * (unsigned int)v18);
                            v19 = *v76;
                            if ( v20 == *v76 )
                              goto LABEL_122;
                            ++v165;
                          }
                          goto LABEL_198;
                        }
                        goto LABEL_122;
                      }
LABEL_117:
                      if ( v184 == ++v74 )
                      {
                        v31 = v174;
                        goto LABEL_69;
                      }
                    }
                    ++*(_QWORD *)a3;
                    goto LABEL_120;
                  }
                }
LABEL_69:
                LOBYTE(v51) = *(_BYTE *)(v30 + 3) & 0x10;
                goto LABEL_70;
              }
              v87 = *(_DWORD *)(a3 + 24);
              if ( v87 )
              {
                v20 = v87 - 1;
                v88 = *(_QWORD *)(a3 + 8);
                v89 = 1;
                v90 = 0;
                v185 = ((unsigned int)v48 >> 9) ^ ((unsigned int)v48 >> 4);
                v18 = (unsigned int)v20 & v185;
                v91 = (__int64 *)(v88 + 8 * v18);
                v19 = *v91;
                if ( v48 == *v91 )
                  goto LABEL_69;
                while ( v19 != -4096 )
                {
                  if ( !v90 && v19 == -8192 )
                    v90 = v91;
                  v18 = (unsigned int)v20 & (v89 + (_DWORD)v18);
                  v91 = (__int64 *)(v88 + 8LL * (unsigned int)v18);
                  v19 = *v91;
                  if ( v48 == *v91 )
                    goto LABEL_69;
                  ++v89;
                }
                if ( v90 )
                  v91 = v90;
                v92 = v52 + 1;
                ++*(_QWORD *)a3;
                if ( 4 * v92 < 3 * v87 )
                {
                  if ( v87 - *(_DWORD *)(a3 + 20) - v92 <= v87 >> 3 )
                  {
                    sub_350BC00(a3, v87);
                    v157 = *(_DWORD *)(a3 + 24);
                    if ( !v157 )
                    {
LABEL_276:
                      ++*(_DWORD *)(a3 + 16);
                      BUG();
                    }
                    v158 = v157 - 1;
                    v20 = *(_QWORD *)(a3 + 8);
                    v91 = 0;
                    v159 = 1;
                    for ( k = v158 & v185; ; k = v158 & v164 )
                    {
                      v161 = (__int64 *)(v20 + 8LL * k);
                      v19 = *v161;
                      if ( v48 == *v161 )
                      {
                        v91 = (__int64 *)(v20 + 8LL * k);
                        v92 = *(_DWORD *)(a3 + 16) + 1;
                        goto LABEL_151;
                      }
                      if ( v19 == -4096 )
                        break;
                      if ( v91 || v19 != -8192 )
                        v161 = v91;
                      v164 = v159 + k;
                      v91 = v161;
                      ++v159;
                    }
                    v92 = *(_DWORD *)(a3 + 16) + 1;
                    if ( !v91 )
                      v91 = v161;
                  }
                  goto LABEL_151;
                }
              }
              else
              {
                ++*(_QWORD *)a3;
              }
              sub_350BC00(a3, 2 * v87);
              v152 = *(_DWORD *)(a3 + 24);
              if ( !v152 )
                goto LABEL_276;
              v153 = v152 - 1;
              v20 = *(_QWORD *)(a3 + 8);
              v154 = 1;
              v155 = 0;
              for ( m = v153 & (((unsigned int)v48 >> 9) ^ ((unsigned int)v48 >> 4)); ; m = v153 & v171 )
              {
                v91 = (__int64 *)(v20 + 8LL * m);
                v19 = *v91;
                if ( v48 == *v91 )
                {
                  v92 = *(_DWORD *)(a3 + 16) + 1;
                  goto LABEL_151;
                }
                if ( v19 == -4096 )
                  break;
                if ( v155 || v19 != -8192 )
                  v91 = v155;
                v171 = v154 + m;
                v155 = v91;
                ++v154;
              }
              v92 = *(_DWORD *)(a3 + 16) + 1;
              if ( v155 )
                v91 = v155;
LABEL_151:
              *(_DWORD *)(a3 + 16) = v92;
              if ( *v91 != -4096 )
                --*(_DWORD *)(a3 + 20);
              *v91 = v48;
              v93 = *(unsigned int *)(a3 + 40);
              v18 = *(unsigned int *)(a3 + 44);
              if ( v93 + 1 > v18 )
              {
                sub_C8D5F0(a3 + 32, v177, v93 + 1, 8u, v19, v20);
                v93 = *(unsigned int *)(a3 + 40);
              }
              *(_QWORD *)(*(_QWORD *)(a3 + 32) + 8 * v93) = v48;
              ++*(_DWORD *)(a3 + 40);
              goto LABEL_69;
            }
            ((void (__fastcall *)(unsigned __int64 *, __int64, __int64))v18)(&v204, v86, v194);
            if ( (_BYTE)v206 )
              goto LABEL_67;
            v50 = *(_BYTE *)(v30 + 3);
          }
          v62 = *(_BYTE *)(v30 + 4);
          LOBYTE(v51) = v50 & 0x10;
          if ( (v62 & 1) != 0 || (v62 & 2) != 0 )
            goto LABEL_70;
          if ( (_BYTE)v51 && (*(_DWORD *)v30 & 0xFFF00) == 0 )
          {
LABEL_90:
            if ( (v62 & 2) == 0 )
            {
              if ( !(_BYTE)v51 )
              {
                v181 = v188;
                goto LABEL_44;
              }
              v63 = v181;
              if ( (*(_DWORD *)v30 & 0xFFF00) != 0 )
                v63 = v188;
              v181 = v63;
              goto LABEL_71;
            }
LABEL_70:
            if ( !(_BYTE)v51 )
              goto LABEL_44;
LABEL_71:
            if ( a1[7] )
            {
              v55 = (__int64 *)sub_2E09D00((__int64 *)v48, v198);
              if ( v55 != (__int64 *)(*(_QWORD *)v48 + 24LL * *(unsigned int *)(v48 + 8))
                && (*(_DWORD *)((*v55 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v55 >> 1) & 3) <= (*(_DWORD *)(v178 + 24) | 2u) )
              {
                if ( v55[2] )
                {
                  v56 = a1[7];
                  v57 = *(void (**)())(*(_QWORD *)v56 + 40LL);
                  if ( v57 != nullsub_1659 )
                    ((void (__fastcall *)(__int64, _QWORD))v57)(v56, *(unsigned int *)(v48 + 112));
                }
              }
            }
            sub_2E14FC0(a1[4], v48, v198);
            if ( !*(_DWORD *)(v48 + 8) )
            {
              v58 = (unsigned int)v208;
              v18 = HIDWORD(v208);
              v59 = (unsigned int)v208 + 1LL;
              if ( v59 > HIDWORD(v208) )
              {
                sub_C8D5F0((__int64)&v207, v209, v59, 4u, v19, v20);
                v58 = (unsigned int)v208;
              }
              v207[v58] = v31;
              LODWORD(v208) = v208 + 1;
            }
            goto LABEL_44;
          }
          goto LABEL_140;
        }
      }
      v60 = v45 + 1;
      if ( (unsigned int)v46 < v60 )
      {
        v85 = v60;
        if ( v60 != v46 )
        {
          if ( v60 >= v46 )
          {
            v94 = *(_QWORD *)(v44 + 168);
            v95 = v60 - v46;
            if ( v85 > *(unsigned int *)(v44 + 164) )
            {
              v175 = v95;
              v186 = a1[4];
              sub_C8D5F0(v44 + 152, (const void *)(v44 + 168), v85, 8u, v44, v47);
              v44 = v186;
              v95 = v175;
              v47 = 8LL * (v31 & 0x7FFFFFFF);
              v46 = *(unsigned int *)(v186 + 160);
            }
            v61 = *(_QWORD *)(v44 + 152);
            v96 = (_QWORD *)(v61 + 8 * v46);
            v97 = &v96[v95];
            if ( v96 != v97 )
            {
              do
                *v96++ = v94;
              while ( v97 != v96 );
              LODWORD(v46) = *(_DWORD *)(v44 + 160);
              v61 = *(_QWORD *)(v44 + 152);
            }
            *(_DWORD *)(v44 + 160) = v95 + v46;
            goto LABEL_83;
          }
          *(_DWORD *)(v44 + 160) = v60;
        }
      }
      v61 = *(_QWORD *)(v44 + 152);
LABEL_83:
      v182 = (_QWORD *)v44;
      v183 = (__int64 *)(v61 + v47);
      v48 = sub_2E10F30(v31);
      *v183 = v48;
      sub_2E11E80(v182, v48);
      goto LABEL_65;
    }
    v32 = *(_BYTE *)(v30 + 3) & 0x10;
    if ( !v31 || (*(_BYTE *)(v30 + 4) & 1) != 0 || (*(_BYTE *)(v30 + 4) & 2) != 0 )
    {
      if ( !v32 )
        goto LABEL_44;
      goto LABEL_95;
    }
    if ( v32 )
    {
      if ( (*(_DWORD *)v30 & 0xFFF00) != 0 )
      {
        v18 = v31;
        if ( (*(_QWORD *)(*(_QWORD *)(a1[3] + 384LL) + 8LL * (v31 >> 6)) & (1LL << v31)) == 0 )
        {
          v190 = v188;
          goto LABEL_44;
        }
      }
LABEL_95:
      sub_2E14ED0(a1[4], v31, v198);
      goto LABEL_44;
    }
    v18 = v31;
    v84 = v190;
    if ( (*(_QWORD *)(*(_QWORD *)(a1[3] + 384LL) + 8LL * (v31 >> 6)) & (1LL << v31)) == 0 )
      v84 = v188;
    v190 = v84;
LABEL_44:
    v30 += 40;
  }
  while ( v200 != v30 );
  v5 = v194;
  if ( v190 )
  {
    sub_2E88D70(v194, (unsigned __int16 *)(*(_QWORD *)(a1[6] + 8LL) - 280LL));
    if ( (*(_DWORD *)(v194 + 40) & 0xFFFFFF) != 0 )
    {
      v69 = (*(_DWORD *)(v194 + 40) & 0xFFFFFF) - 1;
      v70 = 40LL * v69;
      while ( 1 )
      {
        v71 = v70 + *(_QWORD *)(v194 + 32);
        if ( *(_BYTE *)v71 || (unsigned int)(*(_DWORD *)(v71 + 8) - 1) > 0x3FFFFFFE )
          sub_2E8A650(v194, v69);
        v70 -= 40;
        if ( !v69 )
          break;
        --v69;
      }
    }
    v72 = sub_2E88D60(v194);
    sub_2E868D0(v194, v72);
    goto LABEL_53;
  }
LABEL_46:
  if ( !v180
    || !a1[9]
    || v181
    || (*(_WORD *)(v5 + 68) != 10 || (*(_DWORD *)(v5 + 40) & 0xFFFFFF) != 1)
    && ((*(_BYTE *)(*(_QWORD *)(v5 + 16) + 27LL) & 0x20) == 0
     || !(*(unsigned __int8 (__fastcall **)(_QWORD, __int64))(*(_QWORD *)a1[6] + 56LL))(a1[6], v5)) )
  {
    goto LABEL_49;
  }
  v109 = v179;
  v110 = sub_350B2D0(a1, v179, 0, v18, v19, v20);
  v111 = (_QWORD *)a1[4];
  v112 = v110;
  v113 = v111[7];
  v114 = *(_DWORD *)(v110 + 72);
  v201 = v111 + 7;
  v111[17] += 16LL;
  v115 = (v113 + 15) & 0xFFFFFFFFFFFFFFF0LL;
  if ( v111[8] < v115 + 16 || !v113 )
  {
    v109 = 16;
    v195 = v114;
    v163 = sub_9D1E70((__int64)v201, 16, 16, 4);
    v114 = v195;
    v116 = v163;
    v115 = v163;
    goto LABEL_175;
  }
  v111[7] = v115 + 16;
  v116 = (v113 + 15) & 0xFFFFFFFFFFFFFFF0LL;
  if ( v115 )
  {
LABEL_175:
    *(_DWORD *)v116 = v114;
    *(_QWORD *)(v116 + 8) = v198;
  }
  v117 = *(unsigned int *)(v112 + 72);
  v118 = *(unsigned int *)(v112 + 76);
  if ( v117 + 1 > v118 )
  {
    v109 = v112 + 80;
    v192 = v116;
    v196 = v115;
    sub_C8D5F0(v112 + 64, (const void *)(v112 + 80), v117 + 1, 8u, v116, v115);
    v117 = *(unsigned int *)(v112 + 72);
    v116 = v192;
    v115 = v196;
  }
  v119 = *(_QWORD *)(v112 + 64);
  v206 = v116;
  *(_QWORD *)(v119 + 8 * v117) = v115;
  ++*(_DWORD *)(v112 + 72);
  v205 = v178 | 6;
  *((_QWORD *)&v172 + 1) = v178 | 6;
  *(_QWORD *)&v172 = v198;
  v204 = v198;
  sub_2E0F080(v112, v109, v119, v118, v116, v115, v172, v206);
  v123 = v176;
  if ( v176 )
  {
    v124 = *(_QWORD *)(*(_QWORD *)a1[3] + 16LL);
    v125 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v124 + 200LL))(v124);
    v126 = v111[7];
    v127 = (__int64 *)(*(_QWORD *)(v125 + 272) + 16LL * v176);
    v128 = *v127;
    v129 = v127[1];
    v130 = (v126 + 15) & 0xFFFFFFFFFFFFFFF0LL;
    v111[17] += 128LL;
    if ( v111[8] >= v130 + 128 && v126 )
    {
      v111[7] = v130 + 128;
      v131 = (_QWORD *)((v126 + 15) & 0xFFFFFFFFFFFFFFF0LL);
      if ( !v130 )
      {
        MEMORY[0x68] = *(_QWORD *)(v112 + 104);
        BUG();
      }
    }
    else
    {
      v189 = v129;
      v191 = v128;
      v162 = sub_9D1E70((__int64)v201, 128, 128, 4);
      v129 = v189;
      v128 = v191;
      v131 = (_QWORD *)v162;
    }
    v131[14] = v128;
    *v131 = v131 + 2;
    v131[8] = v131 + 10;
    v131[13] = 0;
    v131[15] = v129;
    v131[1] = 0x200000000LL;
    v131[9] = 0x200000000LL;
    v131[12] = 0;
    v131[13] = *(_QWORD *)(v112 + 104);
    *(_QWORD *)(v112 + 104) = v131;
    v206 = sub_350AB00((__int64)v131, v198, v201, v126, v129, v128);
    v205 = v178 | 6;
    *((_QWORD *)&v173 + 1) = v178 | 6;
    *(_QWORD *)&v173 = v198;
    v204 = v198;
    sub_2E0F080((__int64)v131, v178 | 6, v132, v133, v134, v135, v173, v206);
  }
  --*(_DWORD *)(a1[2] + 8LL);
  v136 = a1[9];
  if ( !*(_BYTE *)(v136 + 28) )
    goto LABEL_225;
  v137 = *(_QWORD **)(v136 + 8);
  v120 = *(unsigned int *)(v136 + 20);
  v123 = (__int64)&v137[v120];
  if ( v137 != (_QWORD *)v123 )
  {
    while ( v5 != *v137 )
    {
      if ( (_QWORD *)v123 == ++v137 )
        goto LABEL_223;
    }
    goto LABEL_188;
  }
LABEL_223:
  if ( (unsigned int)v120 < *(_DWORD *)(v136 + 16) )
  {
    *(_DWORD *)(v136 + 20) = v120 + 1;
    *(_QWORD *)v123 = v5;
    ++*(_QWORD *)v136;
  }
  else
  {
LABEL_225:
    sub_C8CC70(v136, v5, v120, v123, v121, v122);
  }
LABEL_188:
  v138 = *(_QWORD *)(*(_QWORD *)a1[3] + 16LL);
  v139 = (_QWORD *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v138 + 200LL))(v138);
  sub_2E8A790(v5, v179, *(_DWORD *)(v112 + 112), 0, v139);
LABEL_53:
  v35 = v207;
  v36 = &v207[(unsigned int)v208];
  if ( v36 != v207 )
  {
    v37 = v207;
    while ( 1 )
    {
      v39 = *v37;
      v40 = a1[4];
      v41 = *v37 & 0x7FFFFFFF;
      if ( (unsigned int)v41 < *(_DWORD *)(v40 + 160) )
      {
        v42 = *(_QWORD *)(*(_QWORD *)(v40 + 152) + 8 * v41);
        if ( v42 )
        {
          v43 = a1[3];
          if ( v39 >= 0 )
            v38 = *(_QWORD *)(*(_QWORD *)(v43 + 304) + 8LL * (unsigned int)v39);
          else
            v38 = *(_QWORD *)(*(_QWORD *)(v43 + 56) + 16 * v41 + 8);
          if ( !v38 )
            goto LABEL_98;
          if ( (*(_BYTE *)(v38 + 4) & 8) != 0 )
            break;
        }
      }
LABEL_58:
      if ( v36 == ++v37 )
      {
        v35 = v207;
        goto LABEL_128;
      }
    }
    while ( 1 )
    {
      v38 = *(_QWORD *)(v38 + 32);
      if ( !v38 )
        break;
      if ( (*(_BYTE *)(v38 + 4) & 8) == 0 )
        goto LABEL_58;
    }
LABEL_98:
    v64 = *(_DWORD *)(a3 + 16);
    v204 = v42;
    if ( v64 )
    {
      v98 = *(_DWORD *)(a3 + 24);
      v99 = *(_QWORD *)(a3 + 8);
      if ( v98 )
      {
        v100 = v98 - 1;
        v101 = v100 & (((unsigned int)v42 >> 9) ^ ((unsigned int)v42 >> 4));
        v102 = (__int64 *)(v99 + 8LL * v101);
        v103 = *v102;
        if ( v42 == *v102 )
        {
LABEL_164:
          *v102 = -8192;
          v104 = *(_QWORD **)(a3 + 32);
          --*(_DWORD *)(a3 + 16);
          v105 = *(unsigned int *)(a3 + 40);
          ++*(_DWORD *)(a3 + 20);
          v106 = (__int64)&v104[v105];
          v107 = sub_35097D0(v104, v106, (__int64 *)&v204);
          if ( v107 + 1 != (_QWORD *)v106 )
          {
            memmove(v107, v107 + 1, v106 - (_QWORD)(v107 + 1));
            v108 = *(_DWORD *)(a3 + 40);
          }
          *(_DWORD *)(a3 + 40) = v108 - 1;
        }
        else
        {
          v150 = 1;
          while ( v103 != -4096 )
          {
            v151 = v150 + 1;
            v101 = v100 & (v150 + v101);
            v102 = (__int64 *)(v99 + 8LL * v101);
            v103 = *v102;
            if ( v42 == *v102 )
              goto LABEL_164;
            v150 = v151;
          }
        }
      }
    }
    else
    {
      v65 = *(_QWORD **)(a3 + 32);
      v66 = (__int64)&v65[*(unsigned int *)(a3 + 40)];
      v67 = sub_35097D0(v65, v66, (__int64 *)&v204);
      if ( (_QWORD *)v66 != v67 )
      {
        if ( (_QWORD *)v66 != v67 + 1 )
        {
          memmove(v67, v67 + 1, v66 - (_QWORD)(v67 + 1));
          v68 = *(_DWORD *)(a3 + 40);
        }
        *(_DWORD *)(a3 + 40) = v68 - 1;
      }
    }
    sub_350A640((__int64)a1, v39);
    goto LABEL_58;
  }
LABEL_128:
  if ( v35 != (int *)v209 )
    _libc_free((unsigned __int64)v35);
}
