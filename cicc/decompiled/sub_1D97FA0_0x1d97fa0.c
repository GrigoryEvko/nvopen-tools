// Function: sub_1D97FA0
// Address: 0x1d97fa0
//
__int64 __fastcall sub_1D97FA0(__int64 a1, _QWORD *a2)
{
  __int64 v2; // r15
  __int64 v3; // r13
  __int64 (*v4)(); // rdx
  __int64 v5; // rax
  __int64 (*v6)(); // rdx
  __int64 v7; // rax
  __int64 (*v8)(); // rdx
  __int64 v9; // rax
  __int64 *v10; // rdx
  __int64 v11; // rax
  __int64 v12; // rdx
  __int64 v13; // rax
  __int64 *v14; // rdx
  __int64 v15; // rax
  __int64 v16; // rdx
  __int64 v17; // rax
  int v18; // eax
  __int64 v19; // r13
  __int64 v20; // rbx
  __int64 v21; // r12
  __int64 v22; // r14
  unsigned __int64 v23; // rax
  __int64 v24; // r9
  __int64 v25; // r12
  _QWORD *v26; // r10
  _QWORD *v27; // r14
  char v28; // al
  char v29; // al
  __int64 v30; // rdi
  __int64 (*v31)(); // r13
  char v32; // r11
  char v33; // r11
  int v34; // eax
  __int64 v35; // rax
  unsigned __int64 v36; // rdx
  char v37; // al
  int v38; // r8d
  _QWORD *v39; // rdx
  __int64 v40; // r12
  __int64 v41; // rax
  _QWORD *v42; // rax
  __int64 v43; // rax
  __int64 v44; // rbx
  _QWORD *v45; // rax
  __int64 v46; // rax
  __int64 v47; // r13
  __int64 v48; // rbx
  __int64 v49; // r12
  __int64 v50; // r13
  __int64 v51; // rax
  void *v52; // r10
  _BYTE *v53; // rcx
  unsigned __int64 v54; // rax
  unsigned __int64 v55; // r8
  __int64 v56; // r9
  unsigned __int64 v57; // rdx
  __int64 v58; // rdi
  __int64 (*v59)(); // rax
  int v60; // eax
  int v61; // edx
  __int64 v62; // rdi
  char v63; // al
  unsigned int v64; // r9d
  char *v65; // rbx
  char *v66; // r9
  __int64 v67; // r14
  char *v68; // r15
  __int64 v69; // r13
  __int64 *v70; // rax
  __int64 *v71; // r12
  char *v72; // r9
  __int64 v73; // rcx
  __int64 *v74; // r14
  __int64 *v75; // rax
  __int64 v76; // rdx
  __int64 *v77; // rax
  __int64 v78; // rdx
  __int64 v79; // rdi
  __int64 *v80; // rbx
  __int64 v81; // rax
  int v82; // ebx
  char **v83; // r13
  char *v84; // r12
  char v85; // al
  char v86; // r10
  bool v87; // r14
  unsigned int v88; // ebx
  unsigned int v89; // r8d
  int v90; // r9d
  size_t v91; // r8
  __int64 v92; // rdx
  __int64 v93; // r9
  void *v94; // rax
  unsigned __int64 v95; // r11
  __int64 v96; // rax
  void *v97; // r11
  __int64 v98; // rax
  unsigned int v99; // ebx
  __int64 v100; // rax
  char v101; // al
  _BYTE *v102; // r9
  __int64 v103; // rdi
  __int64 v104; // rsi
  __int64 j; // rdx
  __int64 v106; // rax
  unsigned int v107; // r9d
  __int64 v108; // rdx
  __int64 v109; // rdi
  __int64 (*v110)(); // rax
  char v111; // r12
  unsigned int v112; // r13d
  __int64 v113; // rax
  unsigned __int64 v114; // rdi
  _BYTE *v115; // rdi
  __int64 v116; // rdx
  __int64 v117; // rdi
  __int64 (*v118)(); // rax
  __int64 v119; // rax
  unsigned __int64 v120; // rdi
  __int64 v121; // rdx
  __int64 v122; // rdi
  __int64 (*v123)(); // rax
  __int64 v124; // rax
  unsigned __int64 v125; // rdi
  __int64 v126; // rdx
  __int64 v127; // rdi
  __int64 (*v128)(); // rax
  __int64 v129; // rax
  unsigned __int64 v130; // rdi
  char v131; // al
  __int64 v132; // rdx
  __int64 v133; // rdi
  char v134; // al
  char v135; // dl
  __int64 v136; // rsi
  __int64 v137; // rcx
  _QWORD *v138; // rdi
  _QWORD *v139; // r8
  unsigned int v140; // r8d
  __int64 v141; // rbx
  __int64 v142; // rax
  __int64 v143; // rbx
  const void *v144; // rax
  __int64 v145; // r9
  int v146; // edx
  unsigned __int64 v147; // r11
  __int64 v148; // rax
  _QWORD *v149; // r9
  __int64 v150; // rax
  unsigned int v151; // esi
  unsigned int v152; // eax
  __int64 v153; // rax
  unsigned int v154; // eax
  __int64 v155; // rax
  void *v156; // r10
  size_t v157; // r8
  __int64 v158; // rax
  unsigned __int64 v159; // r9
  __int64 v160; // rdi
  __int64 v161; // rdx
  __int64 v162; // rax
  _QWORD *v163; // rax
  unsigned int v164; // r8d
  __int64 v165; // r10
  __int64 v166; // rsi
  __int64 v167; // rcx
  __int64 v168; // rdx
  __int64 v169; // rax
  __int64 v170; // rax
  __int64 *v171; // rcx
  __int64 *v172; // rax
  __int64 v173; // rdx
  __int64 v174; // rdx
  __int64 v175; // rdi
  __int64 (*v176)(); // rax
  __int64 v177; // rax
  unsigned __int64 v178; // rdi
  __int64 v179; // rdx
  __int64 v180; // rdi
  __int64 (*v181)(); // rax
  __int64 v182; // rax
  unsigned __int64 v183; // rdi
  char v184; // al
  __int64 v185; // r11
  __int64 v186; // rbx
  _BYTE *v187; // rbx
  __int64 v188; // rax
  __int64 v189; // r11
  unsigned int v190; // r8d
  int v191; // r9d
  __int64 v192; // rsi
  char v193; // al
  __int64 v194; // rdi
  __int64 v195; // rsi
  __int64 i; // rdx
  __int64 v197; // rax
  unsigned __int8 v198; // dl
  char v199; // cl
  char v200; // dl
  char v201; // cl
  __int64 v202; // rbx
  char v203; // al
  char v204; // r10
  int *v205; // r11
  char v206; // r10
  __int64 v207; // rdx
  __int64 v208; // rax
  char v209; // r10
  __int64 v210; // r11
  __int64 v211; // rdx
  __int64 (*v212)(); // rax
  _QWORD *v213; // rcx
  __int64 v214; // rax
  __int64 v215; // rdi
  __int64 v216; // rsi
  __int64 m; // rdx
  __int64 v218; // rax
  char v219; // al
  void *v220; // r8
  unsigned __int64 v221; // rcx
  unsigned __int64 v222; // rdi
  int v223; // edx
  _QWORD *v224; // rdi
  __int64 v225; // rdi
  __int64 (*v226)(); // rax
  char v227; // al
  char v228; // al
  bool v229; // zf
  __int64 v230; // rax
  char v231; // cl
  __int64 v232; // rdi
  _QWORD *v233; // rsi
  __int64 v234; // rdi
  __int64 v235; // rdi
  _QWORD *v236; // rdi
  _QWORD *v237; // rdi
  unsigned int v238; // r13d
  char *v240; // r12
  __int64 v241; // rbx
  char *v242; // r13
  __int64 v243; // r12
  __int64 v244; // rbx
  __int64 v245; // r13
  unsigned __int64 v246; // rdi
  unsigned __int64 v247; // rdi
  __int64 v248; // rax
  __int64 v249; // rdx
  int v250; // r13d
  int v251; // ecx
  __int64 v252; // rdi
  __int64 (*v253)(); // rax
  __int64 v254; // rbx
  char *v255; // r12
  char v256; // r9
  char v257; // al
  __int64 v258; // rax
  __int64 v259; // rax
  __int64 v260; // rdx
  int v261; // r14d
  int v262; // ecx
  __int64 (*v263)(); // rax
  char v264; // al
  __int64 v265; // rsi
  __int64 k; // rdx
  _BYTE *v267; // rax
  __int64 v268; // rbx
  __int64 v269; // r12
  unsigned __int64 v270; // rdi
  unsigned __int64 v271; // rdi
  _QWORD *v272; // rdi
  char v273; // al
  unsigned __int64 v274; // r12
  __int64 v275; // rax
  __int64 v276; // rdx
  bool v277; // cf
  unsigned __int64 v278; // rax
  __int64 v279; // rbx
  __int64 v280; // rcx
  int v281; // r8d
  int v282; // r9d
  __int64 v283; // r13
  __int64 v284; // rax
  unsigned __int16 *v285; // r12
  __int64 v286; // r14
  __int64 v287; // rdx
  __int64 v288; // rax
  unsigned __int16 *v289; // r14
  unsigned __int64 v290; // rdi
  unsigned __int64 v291; // rdi
  char v292; // [rsp-18h] [rbp-6C8h]
  char v293; // [rsp+1Fh] [rbp-691h]
  char v295; // [rsp+30h] [rbp-680h]
  bool v296; // [rsp+38h] [rbp-678h]
  bool v297; // [rsp+38h] [rbp-678h]
  bool v298; // [rsp+40h] [rbp-670h]
  bool v299; // [rsp+40h] [rbp-670h]
  int v300; // [rsp+58h] [rbp-658h]
  __int64 v301; // [rsp+5Ch] [rbp-654h]
  unsigned int v302; // [rsp+60h] [rbp-650h]
  unsigned int v303; // [rsp+60h] [rbp-650h]
  size_t v304; // [rsp+60h] [rbp-650h]
  _QWORD *v305; // [rsp+68h] [rbp-648h]
  void *v306; // [rsp+68h] [rbp-648h]
  size_t v307; // [rsp+70h] [rbp-640h]
  unsigned int v308; // [rsp+70h] [rbp-640h]
  size_t v309; // [rsp+80h] [rbp-630h]
  size_t v310; // [rsp+80h] [rbp-630h]
  unsigned int v311; // [rsp+80h] [rbp-630h]
  size_t v312; // [rsp+80h] [rbp-630h]
  size_t v313; // [rsp+80h] [rbp-630h]
  char v314; // [rsp+88h] [rbp-628h]
  char v315; // [rsp+88h] [rbp-628h]
  char v316; // [rsp+88h] [rbp-628h]
  size_t v317; // [rsp+88h] [rbp-628h]
  int v318; // [rsp+88h] [rbp-628h]
  size_t v319; // [rsp+88h] [rbp-628h]
  size_t v320; // [rsp+88h] [rbp-628h]
  int v321; // [rsp+88h] [rbp-628h]
  size_t v322; // [rsp+88h] [rbp-628h]
  _QWORD *v323; // [rsp+90h] [rbp-620h]
  unsigned int v324; // [rsp+90h] [rbp-620h]
  void *v325; // [rsp+90h] [rbp-620h]
  void *v326; // [rsp+90h] [rbp-620h]
  void *v327; // [rsp+90h] [rbp-620h]
  unsigned int v328; // [rsp+90h] [rbp-620h]
  int v329; // [rsp+90h] [rbp-620h]
  _QWORD *v330; // [rsp+90h] [rbp-620h]
  unsigned __int64 v331; // [rsp+90h] [rbp-620h]
  int v332; // [rsp+90h] [rbp-620h]
  void *v333; // [rsp+98h] [rbp-618h]
  char v334; // [rsp+98h] [rbp-618h]
  int v335; // [rsp+98h] [rbp-618h]
  __int64 v336; // [rsp+98h] [rbp-618h]
  __int64 v337; // [rsp+98h] [rbp-618h]
  __int64 v338; // [rsp+98h] [rbp-618h]
  int v339; // [rsp+98h] [rbp-618h]
  char v340; // [rsp+98h] [rbp-618h]
  unsigned int v341; // [rsp+98h] [rbp-618h]
  bool n; // [rsp+A0h] [rbp-610h]
  size_t nd; // [rsp+A0h] [rbp-610h]
  size_t na; // [rsp+A0h] [rbp-610h]
  size_t nb; // [rsp+A0h] [rbp-610h]
  size_t nf; // [rsp+A0h] [rbp-610h]
  size_t nc; // [rsp+A0h] [rbp-610h]
  unsigned int ng; // [rsp+A0h] [rbp-610h]
  int nh; // [rsp+A0h] [rbp-610h]
  int ni; // [rsp+A0h] [rbp-610h]
  char nj; // [rsp+A0h] [rbp-610h]
  size_t nk; // [rsp+A0h] [rbp-610h]
  size_t nl; // [rsp+A0h] [rbp-610h]
  char nm; // [rsp+A0h] [rbp-610h]
  size_t ne; // [rsp+A0h] [rbp-610h]
  bool src; // [rsp+A8h] [rbp-608h]
  void *srcf; // [rsp+A8h] [rbp-608h]
  _BYTE *srca; // [rsp+A8h] [rbp-608h]
  void *srch; // [rsp+A8h] [rbp-608h]
  _QWORD *srcb; // [rsp+A8h] [rbp-608h]
  unsigned int srci; // [rsp+A8h] [rbp-608h]
  unsigned int srcj; // [rsp+A8h] [rbp-608h]
  int *srck; // [rsp+A8h] [rbp-608h]
  void *srcc; // [rsp+A8h] [rbp-608h]
  int srcd; // [rsp+A8h] [rbp-608h]
  unsigned __int64 srcl; // [rsp+A8h] [rbp-608h]
  char srcm; // [rsp+A8h] [rbp-608h]
  int *srce; // [rsp+A8h] [rbp-608h]
  void *srcg; // [rsp+A8h] [rbp-608h]
  __int64 v370; // [rsp+B0h] [rbp-600h]
  __int64 v371; // [rsp+B0h] [rbp-600h]
  __int64 v372; // [rsp+B0h] [rbp-600h]
  char v373; // [rsp+B0h] [rbp-600h]
  char v374; // [rsp+B0h] [rbp-600h]
  char v375; // [rsp+B0h] [rbp-600h]
  int *v376; // [rsp+B0h] [rbp-600h]
  char v377; // [rsp+B8h] [rbp-5F8h]
  char v378; // [rsp+B8h] [rbp-5F8h]
  unsigned __int64 v379; // [rsp+B8h] [rbp-5F8h]
  void *v380; // [rsp+B8h] [rbp-5F8h]
  unsigned int v381; // [rsp+B8h] [rbp-5F8h]
  unsigned int v382; // [rsp+B8h] [rbp-5F8h]
  unsigned int v383; // [rsp+B8h] [rbp-5F8h]
  char v384; // [rsp+B8h] [rbp-5F8h]
  char v385; // [rsp+B8h] [rbp-5F8h]
  unsigned int v386; // [rsp+B8h] [rbp-5F8h]
  unsigned int v387; // [rsp+B8h] [rbp-5F8h]
  bool v388; // [rsp+B8h] [rbp-5F8h]
  _QWORD *v389; // [rsp+B8h] [rbp-5F8h]
  char v390; // [rsp+B8h] [rbp-5F8h]
  _QWORD *v391; // [rsp+B8h] [rbp-5F8h]
  _QWORD *v392; // [rsp+B8h] [rbp-5F8h]
  void *v393; // [rsp+B8h] [rbp-5F8h]
  _QWORD *v394; // [rsp+B8h] [rbp-5F8h]
  bool v395; // [rsp+B8h] [rbp-5F8h]
  char v396; // [rsp+B8h] [rbp-5F8h]
  bool v397; // [rsp+B8h] [rbp-5F8h]
  char *v398; // [rsp+C0h] [rbp-5F0h]
  bool v399; // [rsp+C0h] [rbp-5F0h]
  char v400; // [rsp+C0h] [rbp-5F0h]
  char v401; // [rsp+C0h] [rbp-5F0h]
  __int64 v402; // [rsp+C0h] [rbp-5F0h]
  _BYTE *v403; // [rsp+C0h] [rbp-5F0h]
  unsigned __int16 *v404; // [rsp+C0h] [rbp-5F0h]
  __int64 v405; // [rsp+C8h] [rbp-5E8h]
  char v406; // [rsp+C8h] [rbp-5E8h]
  _QWORD *v407; // [rsp+C8h] [rbp-5E8h]
  _QWORD *v408; // [rsp+C8h] [rbp-5E8h]
  __int64 v409; // [rsp+C8h] [rbp-5E8h]
  __int64 v410; // [rsp+C8h] [rbp-5E8h]
  char v411; // [rsp+C8h] [rbp-5E8h]
  char v412; // [rsp+C8h] [rbp-5E8h]
  char v413; // [rsp+C8h] [rbp-5E8h]
  char v414; // [rsp+C8h] [rbp-5E8h]
  _QWORD *v415; // [rsp+C8h] [rbp-5E8h]
  unsigned int v416; // [rsp+D4h] [rbp-5DCh] BYREF
  int v417; // [rsp+D8h] [rbp-5D8h] BYREF
  unsigned int v418; // [rsp+DCh] [rbp-5D4h] BYREF
  __int64 v419; // [rsp+E0h] [rbp-5D0h] BYREF
  __int64 v420; // [rsp+E8h] [rbp-5C8h] BYREF
  _QWORD *v421; // [rsp+F0h] [rbp-5C0h] BYREF
  _QWORD *v422; // [rsp+F8h] [rbp-5B8h] BYREF
  char *v423; // [rsp+100h] [rbp-5B0h] BYREF
  __int64 v424; // [rsp+108h] [rbp-5A8h]
  char *v425; // [rsp+110h] [rbp-5A0h]
  _QWORD v426[2]; // [rsp+120h] [rbp-590h] BYREF
  __int64 v427; // [rsp+130h] [rbp-580h]
  __int64 v428; // [rsp+138h] [rbp-578h]
  int v429; // [rsp+140h] [rbp-570h]
  _QWORD v430[10]; // [rsp+150h] [rbp-560h] BYREF
  _BYTE *v431; // [rsp+1A0h] [rbp-510h] BYREF
  __int64 v432; // [rsp+1A8h] [rbp-508h]
  _BYTE v433[160]; // [rsp+1B0h] [rbp-500h] BYREF
  _QWORD *v434; // [rsp+250h] [rbp-460h] BYREF
  __int64 v435; // [rsp+258h] [rbp-458h]
  _QWORD *v436; // [rsp+260h] [rbp-450h] BYREF
  char v437; // [rsp+268h] [rbp-448h]
  unsigned __int64 v438; // [rsp+360h] [rbp-350h] BYREF
  __int64 v439; // [rsp+368h] [rbp-348h]
  _QWORD v440[3]; // [rsp+370h] [rbp-340h] BYREF
  _BYTE *v441; // [rsp+388h] [rbp-328h]
  __int64 v442; // [rsp+390h] [rbp-320h]
  _BYTE v443[160]; // [rsp+398h] [rbp-318h] BYREF
  _BYTE *v444; // [rsp+438h] [rbp-278h]
  __int64 v445; // [rsp+440h] [rbp-270h]
  _BYTE v446[168]; // [rsp+448h] [rbp-268h] BYREF
  unsigned __int64 v447; // [rsp+4F0h] [rbp-1C0h] BYREF
  __int64 v448; // [rsp+4F8h] [rbp-1B8h]
  _QWORD v449[2]; // [rsp+500h] [rbp-1B0h] BYREF
  _BYTE *v450; // [rsp+510h] [rbp-1A0h]
  _BYTE *v451; // [rsp+518h] [rbp-198h]
  __int64 v452; // [rsp+520h] [rbp-190h]
  _BYTE v453[32]; // [rsp+528h] [rbp-188h] BYREF
  __int64 v454; // [rsp+548h] [rbp-168h]
  __int64 v455; // [rsp+560h] [rbp-150h]
  __int64 v456; // [rsp+570h] [rbp-140h]
  char *v457; // [rsp+5B0h] [rbp-100h]
  char v458; // [rsp+5C0h] [rbp-F0h] BYREF
  char *v459; // [rsp+5C8h] [rbp-E8h]
  __int64 v460; // [rsp+5D0h] [rbp-E0h]
  char v461; // [rsp+5D8h] [rbp-D8h] BYREF
  unsigned __int64 v462; // [rsp+5E0h] [rbp-D0h]

  v2 = a1;
  v3 = a2[2];
  v4 = *(__int64 (**)())(*(_QWORD *)v3 + 56LL);
  v5 = 0;
  if ( v4 != sub_1D12D20 )
    v5 = ((__int64 (__fastcall *)(__int64))v4)(v3);
  *(_QWORD *)(a1 + 536) = v5;
  v6 = *(__int64 (**)())(*(_QWORD *)v3 + 40LL);
  v7 = 0;
  if ( v6 != sub_1D00B00 )
    v7 = ((__int64 (__fastcall *)(__int64))v6)(v3);
  *(_QWORD *)(a1 + 544) = v7;
  v8 = *(__int64 (**)())(*(_QWORD *)v3 + 112LL);
  v9 = 0;
  if ( v8 != sub_1D00B10 )
    v9 = ((__int64 (__fastcall *)(__int64))v8)(v3);
  v10 = *(__int64 **)(a1 + 8);
  *(_QWORD *)(a1 + 552) = v9;
  v11 = *v10;
  v12 = v10[1];
  if ( v11 == v12 )
    goto LABEL_552;
  while ( *(_UNKNOWN **)v11 != &unk_4FC453D )
  {
    v11 += 16;
    if ( v12 == v11 )
      goto LABEL_552;
  }
  v13 = (*(__int64 (__fastcall **)(_QWORD, void *))(**(_QWORD **)(v11 + 8) + 104LL))(*(_QWORD *)(v11 + 8), &unk_4FC453D);
  v14 = *(__int64 **)(a1 + 8);
  v426[1] = 0;
  v427 = 0;
  v428 = 0;
  v429 = 0;
  v426[0] = v13;
  v15 = *v14;
  v16 = v14[1];
  if ( v15 == v16 )
LABEL_552:
    BUG();
  while ( *(_UNKNOWN **)v15 != &unk_4FC5828 )
  {
    v15 += 16;
    if ( v16 == v15 )
      goto LABEL_552;
  }
  *(_QWORD *)(a1 + 560) = (*(__int64 (__fastcall **)(_QWORD, void *))(**(_QWORD **)(v15 + 8) + 104LL))(
                            *(_QWORD *)(v15 + 8),
                            &unk_4FC5828);
  *(_QWORD *)(a1 + 568) = a2[5];
  sub_1F4B6B0(a1 + 256, v3);
  if ( !*(_QWORD *)(a1 + 544) )
    goto LABEL_395;
  v293 = 0;
  v17 = **(_QWORD **)(**(_QWORD **)(a1 + 568) + 352LL) & 1LL;
  *(_BYTE *)(a1 + 648) = v17;
  if ( !(_BYTE)v17 )
  {
    sub_20D6CE0(&v447, 1, 0, v426, *(_QWORD *)(a1 + 560), 0);
    v259 = sub_160F9A0(*(_QWORD *)(a1 + 8), (__int64)&unk_4FC6A0E, 1u);
    v261 = v259;
    if ( v259 )
      v261 = (*(__int64 (__fastcall **)(__int64, void *))(*(_QWORD *)v259 + 104LL))(v259, &unk_4FC6A0E);
    v262 = 0;
    v263 = *(__int64 (**)())(*(_QWORD *)v3 + 112LL);
    if ( v263 != sub_1D00B10 )
      v262 = ((__int64 (__fastcall *)(__int64, void *, __int64, _QWORD))v263)(v3, &unk_4FC6A0E, v260, 0);
    v293 = sub_20DF280((unsigned int)&v447, (_DWORD)a2, *(_QWORD *)(a1 + 544), v262, v261, 0, 0);
    _libc_free(v462);
    if ( v457 != &v458 )
      _libc_free((unsigned __int64)v457);
    if ( v455 )
      j_j___libc_free_0(v455, v456 - v455);
    j___libc_free_0(v454);
    if ( v451 != v450 )
      _libc_free((unsigned __int64)v451);
    if ( v447 )
      j_j___libc_free_0(v447, v449[0] - v447);
  }
  v18 = *(_DWORD *)(a1 + 652);
  if ( v18 < dword_4FC4080 || v18 > dword_4FC3FA0 && dword_4FC3FA0 != -1 )
  {
LABEL_395:
    v238 = 0;
    goto LABEL_396;
  }
  sub_1E0BDD0(a2, 0);
  v19 = *(_QWORD *)(a1 + 240);
  v20 = *(_QWORD *)(a1 + 232);
  v21 = (__int64)(a2[13] - a2[12]) >> 3;
  v22 = v19 - v20;
  v405 = (unsigned int)v21;
  v23 = 0x7D6343EB1A1F58D1LL * ((v19 - v20) >> 3);
  if ( (unsigned int)v21 > v23 )
  {
    v274 = (unsigned int)v21 - v23;
    if ( v405 - v23 > 0x7D6343EB1A1F58D1LL * ((*(_QWORD *)(a1 + 248) - v19) >> 3) )
    {
      if ( v274 > 0x5397829CBC14E5LL - v23 )
        sub_4262D8((__int64)"vector::_M_default_append");
      v276 = v405 - v23;
      if ( v23 >= v274 )
        v276 = 0x7D6343EB1A1F58D1LL * ((*(_QWORD *)(a1 + 240) - v20) >> 3);
      v277 = __CFADD__(v276, v23);
      v278 = v276 + v23;
      if ( v277 )
      {
        v279 = 0x7FFFFFFFFFFFFEA8LL;
      }
      else
      {
        if ( v278 > 0x5397829CBC14E5LL )
          v278 = 0x5397829CBC14E5LL;
        v279 = 392 * v278;
      }
      v283 = sub_22077B0(v279);
      v284 = v22 + v283;
      do
      {
        if ( v284 )
        {
          *(_WORD *)v284 &= 0xFC00u;
          *(_QWORD *)(v284 + 40) = v284 + 56;
          v280 = v284 + 232;
          *(_DWORD *)(v284 + 4) = 0;
          *(_DWORD *)(v284 + 8) = 0;
          *(_DWORD *)(v284 + 12) = 0;
          *(_QWORD *)(v284 + 16) = 0;
          *(_QWORD *)(v284 + 24) = 0;
          *(_QWORD *)(v284 + 32) = 0;
          *(_DWORD *)(v284 + 48) = 0;
          *(_DWORD *)(v284 + 52) = 4;
          *(_QWORD *)(v284 + 216) = v284 + 232;
          *(_DWORD *)(v284 + 224) = 0;
          *(_DWORD *)(v284 + 228) = 4;
        }
        v284 += 392;
      }
      while ( v284 != v22 + v283 + 392 * v274 );
      v285 = *(unsigned __int16 **)(a1 + 232);
      v404 = *(unsigned __int16 **)(a1 + 240);
      if ( v404 != v285 )
      {
        v286 = v283;
        do
        {
          if ( v286 )
          {
            v287 = *v285;
            LOWORD(v287) = v287 & 0x3FF;
            *(_WORD *)v286 = v287 | *(_WORD *)v286 & 0xFC00;
            *(_DWORD *)(v286 + 4) = *((_DWORD *)v285 + 1);
            *(_DWORD *)(v286 + 8) = *((_DWORD *)v285 + 2);
            *(_DWORD *)(v286 + 12) = *((_DWORD *)v285 + 3);
            *(_QWORD *)(v286 + 16) = *((_QWORD *)v285 + 2);
            *(_QWORD *)(v286 + 24) = *((_QWORD *)v285 + 3);
            v288 = *((_QWORD *)v285 + 4);
            *(_DWORD *)(v286 + 48) = 0;
            *(_QWORD *)(v286 + 32) = v288;
            *(_QWORD *)(v286 + 40) = v286 + 56;
            *(_DWORD *)(v286 + 52) = 4;
            if ( *((_DWORD *)v285 + 12) )
              sub_1D91C60(v286 + 40, (__int64)(v285 + 20), v287, v280, v281, v282);
            *(_DWORD *)(v286 + 224) = 0;
            *(_QWORD *)(v286 + 216) = v286 + 232;
            *(_DWORD *)(v286 + 228) = 4;
            v282 = *((_DWORD *)v285 + 56);
            if ( v282 )
              sub_1D91C60(v286 + 216, (__int64)(v285 + 108), v287, v280, v281, v282);
          }
          v285 += 196;
          v286 += 392;
        }
        while ( v404 != v285 );
        v289 = *(unsigned __int16 **)(a1 + 240);
        v285 = *(unsigned __int16 **)(a1 + 232);
        if ( v289 != v285 )
        {
          do
          {
            v290 = *((_QWORD *)v285 + 27);
            if ( (unsigned __int16 *)v290 != v285 + 116 )
              _libc_free(v290);
            v291 = *((_QWORD *)v285 + 5);
            if ( (unsigned __int16 *)v291 != v285 + 28 )
              _libc_free(v291);
            v285 += 196;
          }
          while ( v289 != v285 );
          v285 = *(unsigned __int16 **)(v2 + 232);
        }
      }
      if ( v285 )
        j_j___libc_free_0(v285, *(_QWORD *)(v2 + 248) - (_QWORD)v285);
      *(_QWORD *)(v2 + 232) = v283;
      *(_QWORD *)(v2 + 248) = v283 + v279;
      *(_QWORD *)(v2 + 240) = v283 + 392 * v405;
    }
    else
    {
      v275 = v19 + 392 * v274;
      do
      {
        if ( v19 )
        {
          *(_WORD *)v19 &= 0xFC00u;
          *(_QWORD *)(v19 + 40) = v19 + 56;
          *(_DWORD *)(v19 + 4) = 0;
          *(_DWORD *)(v19 + 8) = 0;
          *(_DWORD *)(v19 + 12) = 0;
          *(_QWORD *)(v19 + 16) = 0;
          *(_QWORD *)(v19 + 24) = 0;
          *(_QWORD *)(v19 + 32) = 0;
          *(_DWORD *)(v19 + 48) = 0;
          *(_DWORD *)(v19 + 52) = 4;
          *(_QWORD *)(v19 + 216) = v19 + 232;
          *(_DWORD *)(v19 + 224) = 0;
          *(_DWORD *)(v19 + 228) = 4;
        }
        v19 += 392;
      }
      while ( v19 != v275 );
      *(_QWORD *)(a1 + 240) = v19;
    }
  }
  else if ( (unsigned int)v21 < v23 )
  {
    v268 = 392LL * (unsigned int)v21 + v20;
    if ( v19 != v268 )
    {
      v269 = v268;
      do
      {
        v270 = *(_QWORD *)(v269 + 216);
        if ( v270 != v269 + 232 )
          _libc_free(v270);
        v271 = *(_QWORD *)(v269 + 40);
        if ( v271 != v269 + 56 )
          _libc_free(v271);
        v269 += 392;
      }
      while ( v19 != v269 );
      *(_QWORD *)(v2 + 240) = v268;
    }
  }
  v423 = 0;
  v424 = 0;
  v425 = 0;
  *(_BYTE *)(v2 + 649) = 0;
  LODWORD(v24) = dword_4CD4A78;
  v300 = dword_4CD49D8 + dword_4CD49F8 + dword_4CD4A18 + dword_4CD4A38 + dword_4CD4A58 + dword_4CD4A78 + dword_4CD4A98;
LABEL_22:
  if ( dword_4FC3EC0 != -1 && dword_4FC3EC0 <= v300 )
  {
LABEL_399:
    v240 = v423;
    v241 = v424;
    if ( v423 != (char *)v424 )
    {
      v242 = v423;
      do
      {
        if ( *(_QWORD *)v242 )
          j_j___libc_free_0(*(_QWORD *)v242, 24);
        v242 += 8;
      }
      while ( (char *)v241 != v242 );
      v424 = (__int64)v240;
    }
    goto LABEL_405;
  }
  v323 = (_QWORD *)a2[41];
  if ( v323 == a2 + 40 )
    goto LABEL_69;
  do
  {
    v437 = 0;
    v25 = 1;
    v406 = 0;
    v434 = &v436;
    v435 = 0x1000000001LL;
    v26 = &v436;
    v27 = v323;
    v436 = v323;
    while ( 1 )
    {
      v47 = *(_QWORD *)(v2 + 232);
      v48 = v47 + 392LL * *((int *)v27 + 12);
      if ( v406 )
        break;
      v28 = *(_BYTE *)v48;
      if ( (*(_BYTE *)v48 & 4) != 0 || (v28 & 2) != 0 )
      {
        v25 = (unsigned int)(v25 - 1);
        LODWORD(v435) = v25;
        goto LABEL_50;
      }
      v29 = v28 | 2;
      *(_QWORD *)(v48 + 16) = v27;
      *(_BYTE *)v48 = v29;
      if ( (v29 & 1) == 0 )
      {
        *(_QWORD *)(v48 + 32) = 0;
        *(_QWORD *)(v48 + 24) = 0;
        *(_DWORD *)(v48 + 48) = 0;
        v30 = *(_QWORD *)(v2 + 544);
        v31 = *(__int64 (**)())(*(_QWORD *)v30 + 264LL);
        if ( v31 == sub_1D820E0 )
        {
          v32 = 1;
          *(_BYTE *)v48 = v29 & 0xEF;
          v447 = (unsigned __int64)v449;
          v448 = 0x400000000LL;
          goto LABEL_31;
        }
        v392 = v26;
        v413 = v29 & 1;
        v219 = ((__int64 (__fastcall *)(__int64, _QWORD *, __int64, __int64, __int64, _QWORD))v31)(
                 v30,
                 v27,
                 v48 + 24,
                 v48 + 32,
                 v48 + 40,
                 0);
        v220 = *(void **)(v48 + 40);
        v32 = v413;
        v221 = 5LL * *(unsigned int *)(v48 + 48);
        v26 = v392;
        v222 = *(unsigned int *)(v48 + 48);
        v24 = 40 * v222;
        *(_BYTE *)v48 = *(_BYTE *)v48 & 0xEF | (16 * ((v219 ^ 1) & 1));
        srcd = v222;
        v223 = v222;
        v447 = (unsigned __int64)v449;
        v448 = 0x400000000LL;
        if ( v221 > 0x14 )
        {
          v312 = (size_t)v392;
          v393 = v220;
          sub_16CD150((__int64)&v447, v449, v222, 40, (int)v220, v24);
          v32 = v413;
          v220 = v393;
          v24 = 40 * v222;
          v26 = (_QWORD *)v312;
          v224 = (_QWORD *)(v447 + 40LL * (unsigned int)v448);
          goto LABEL_333;
        }
        if ( v24 )
        {
          v224 = v449;
LABEL_333:
          v394 = v26;
          v414 = v32;
          memcpy(v224, v220, v24);
          v26 = v394;
          v32 = v414;
          v223 = srcd + v448;
        }
        LODWORD(v448) = v223;
        if ( v223 )
        {
          v225 = *(_QWORD *)(v2 + 544);
          v226 = *(__int64 (**)())(*(_QWORD *)v225 + 624LL);
          if ( v226 != sub_1D918B0 )
          {
            v415 = v26;
            v227 = ((__int64 (__fastcall *)(__int64, unsigned __int64 *))v226)(v225, &v447);
            v26 = v415;
            v32 = v227 ^ 1;
          }
        }
        else
        {
          v32 = 1;
        }
LABEL_31:
        v33 = (32 * (v32 & 1)) | *(_BYTE *)v48 & 0xDF;
        v34 = *(_DWORD *)(v48 + 48);
        *(_BYTE *)v48 = v33;
        if ( (v33 & 0x10) != 0 )
        {
          if ( *(_QWORD *)(v48 + 32) )
          {
            *(_BYTE *)v48 = v33 & 0xBF;
            goto LABEL_34;
          }
          *(_BYTE *)v48 = v33 | 0x40;
          if ( !v34 )
          {
LABEL_34:
            if ( (_QWORD *)v447 != v449 )
            {
              v407 = v26;
              _libc_free(v447);
              v26 = v407;
            }
            goto LABEL_36;
          }
        }
        else
        {
          *(_BYTE *)v48 = v33 & 0xBF;
          if ( !v34 || *(_QWORD *)(v48 + 32) )
            goto LABEL_34;
        }
        v170 = *(_QWORD *)(v48 + 16);
        v171 = *(__int64 **)(v170 + 96);
        v172 = *(__int64 **)(v170 + 88);
        if ( v171 == v172 )
        {
LABEL_352:
          *(_QWORD *)(v48 + 32) = 0;
        }
        else
        {
          while ( 1 )
          {
            v173 = *v172;
            if ( *(_QWORD *)(v48 + 24) != *v172 )
              break;
            if ( v171 == ++v172 )
              goto LABEL_352;
          }
          *(_QWORD *)(v48 + 32) = v173;
          if ( v173 )
            goto LABEL_34;
        }
        *(_BYTE *)v48 |= 0x80u;
        goto LABEL_34;
      }
LABEL_36:
      v35 = *(_QWORD *)(v48 + 16);
      v36 = *(_QWORD *)(v35 + 32);
      v447 = v35 + 24;
      v438 = v36;
      v37 = *(_BYTE *)v48;
      if ( (*(_BYTE *)v48 & 1) == 0 && v37 >= 0 )
      {
        v408 = v26;
        sub_1D92720(v2, v48, (__int64 *)&v438, (unsigned __int64)&v447, 0);
        v37 = *(_BYTE *)v48;
        v26 = v408;
      }
      if ( (v37 & 0x10) == 0 )
        goto LABEL_129;
      v38 = *(_DWORD *)(v48 + 48);
      if ( !v38 )
        goto LABEL_129;
      if ( (v37 & 1) != 0 )
        goto LABEL_129;
      if ( *(_QWORD **)(v48 + 24) == v27 )
        goto LABEL_129;
      v39 = *(_QWORD **)(v48 + 32);
      if ( v39 == v27 )
        goto LABEL_129;
      if ( !v39 )
        goto LABEL_130;
      LOBYTE(v26[2 * v25 - 1]) = 1;
      v40 = *(_QWORD *)(v48 + 32);
      v41 = (unsigned int)v435;
      if ( (unsigned int)v435 >= HIDWORD(v435) )
      {
        sub_16CD150((__int64)&v434, &v436, 0, 16, v38, v24);
        v41 = (unsigned int)v435;
      }
      v42 = &v434[2 * v41];
      *v42 = v40;
      v42[1] = 0;
      v43 = (unsigned int)(v435 + 1);
      LODWORD(v435) = v43;
      v44 = *(_QWORD *)(v48 + 24);
      if ( HIDWORD(v435) <= (unsigned int)v43 )
      {
        sub_16CD150((__int64)&v434, &v436, 0, 16, v38, v24);
        v43 = (unsigned int)v435;
      }
      v45 = &v434[2 * v43];
      *v45 = v44;
      v45[1] = 0;
      v26 = v434;
      v25 = (unsigned int)(v435 + 1);
      LODWORD(v435) = v435 + 1;
LABEL_50:
      if ( !(_DWORD)v25 )
        goto LABEL_66;
LABEL_51:
      v46 = (__int64)&v26[2 * (unsigned int)v25 - 2];
      v27 = *(_QWORD **)v46;
      v406 = *(_BYTE *)(v46 + 8);
    }
    v49 = v47 + 392LL * *(int *)(*(_QWORD *)(v48 + 24) + 48LL);
    v50 = 392LL * *(int *)(*(_QWORD *)(v48 + 32) + 48LL) + v47;
    if ( (*(_BYTE *)v49 & 1) != 0 && (*(_BYTE *)v50 & 1) != 0 )
    {
LABEL_129:
      v37 = *(_BYTE *)v48;
LABEL_130:
      *(_BYTE *)v48 = v37 & 0xF9 | 4;
      v25 = (unsigned int)(v435 - 1);
      LODWORD(v435) = v435 - 1;
      goto LABEL_65;
    }
    v51 = *(unsigned int *)(v48 + 48);
    v52 = *(void **)(v48 + 40);
    v53 = v433;
    v432 = 0x400000000LL;
    v54 = 5 * v51;
    v55 = 0xCCCCCCCCCCCCCCCDLL * v54;
    v431 = v433;
    v56 = 8 * v54;
    v57 = 0xCCCCCCCCCCCCCCCDLL * v54;
    if ( v54 > 0x14 )
    {
      nf = 8 * v54;
      srch = v52;
      v379 = 0xCCCCCCCCCCCCCCCDLL * v54;
      sub_16CD150((__int64)&v431, v433, v57, 40, v55, v56);
      v55 = v379;
      v52 = srch;
      v56 = nf;
      v115 = &v431[40 * (unsigned int)v432];
    }
    else
    {
      if ( !v56 )
        goto LABEL_57;
      v115 = v433;
    }
    v380 = (void *)v55;
    memcpy(v115, v52, v56);
    v55 = (unsigned __int64)v380;
    v57 = (unsigned __int64)v380 + (unsigned int)v432;
LABEL_57:
    v58 = *(_QWORD *)(v2 + 544);
    LODWORD(v432) = v57;
    v59 = *(__int64 (**)())(*(_QWORD *)v58 + 624LL);
    if ( v59 == sub_1D918B0 )
    {
      v60 = *(_DWORD *)(v49 + 224);
      v61 = *(_DWORD *)(v50 + 224);
      v62 = *(_QWORD *)(v2 + 560);
      v416 = 0;
      v417 = 0;
      src = v60 != 0;
      n = v61 != 0;
      v406 = 0;
      v418 = sub_1DF1780(v62, v27, *(_QWORD *)(v49 + 16));
      v377 = 0;
      goto LABEL_59;
    }
    v131 = ((__int64 (__fastcall *)(__int64, _BYTE **, unsigned __int64, _BYTE *, unsigned __int64, __int64))v59)(
             v58,
             &v431,
             v57,
             v53,
             v55,
             v56);
    v132 = *(_QWORD *)(v49 + 16);
    v133 = *(_QWORD *)(v2 + 560);
    v377 = v131;
    HIDWORD(v301) = *(_DWORD *)(v49 + 224);
    src = HIDWORD(v301) != 0;
    LODWORD(v301) = *(_DWORD *)(v50 + 224);
    n = (_DWORD)v301 != 0;
    v416 = 0;
    v417 = 0;
    v418 = sub_1DF1780(v133, v27, v132);
    if ( v377 )
    {
      v406 = 0;
      v377 = 0;
      goto LABEL_59;
    }
    v438 = 0;
    v441 = v443;
    v442 = 0x400000000LL;
    v444 = v446;
    v445 = 0x400000000LL;
    v452 = 0x400000000LL;
    v460 = 0x400000000LL;
    v439 = 0;
    memset(v440, 0, sizeof(v440));
    v447 = 0;
    v448 = 0;
    v449[0] = 0;
    v449[1] = 0;
    v450 = 0;
    v451 = v453;
    v459 = &v461;
    v430[0] = v49;
    v430[1] = &v438;
    v430[2] = &v416;
    v430[3] = &v417;
    v430[4] = v50;
    v430[5] = &v447;
    v430[6] = &v418;
    v430[7] = v2;
    v430[8] = v48;
    v417 = 0;
    v430[9] = &v431;
    v416 = 0;
    v134 = *(_BYTE *)v49;
    if ( (*(_BYTE *)v49 & 2) == 0 && (v134 & 1) == 0 )
    {
      v135 = *(_BYTE *)v50;
      if ( (*(_BYTE *)v50 & 2) == 0 && (v135 & 1) == 0 )
      {
        v136 = *(_QWORD *)(v49 + 24);
        v137 = *(_QWORD *)(v50 + 24);
        if ( v136
          || (v134 & 0x10) != 0
          && (v234 = *(_QWORD *)(v49 + 16), v136 = *(_QWORD *)(v234 + 8), v136 != *(_QWORD *)(v234 + 56) + 320LL) )
        {
          if ( !v137 && (v135 & 0x10) != 0 )
            goto LABEL_365;
          goto LABEL_194;
        }
        if ( !v137 )
        {
          if ( (v135 & 0x10) == 0 )
            goto LABEL_358;
          v136 = 0;
LABEL_365:
          v235 = *(_QWORD *)(v50 + 16);
          v137 = *(_QWORD *)(v235 + 8);
          if ( v137 == *(_QWORD *)(v235 + 56) + 320LL )
            v137 = 0;
LABEL_194:
          if ( v137 == v136 )
          {
            if ( v137 )
            {
LABEL_196:
              v138 = *(_QWORD **)(v49 + 16);
              if ( (unsigned int)((__int64)(v138[9] - v138[8]) >> 3) <= 1 )
              {
                v139 = *(_QWORD **)(v50 + 16);
                if ( (unsigned int)((__int64)(v139[9] - v139[8]) >> 3) <= 1
                  && !*(_QWORD *)(v49 + 32)
                  && !*(_QWORD *)(v50 + 32) )
                {
                  v256 = 0;
                  if ( (v134 & 0x10) != 0 )
                    v256 = (v135 & 0x10) != 0;
                  v419 = v138[4];
                  v420 = v139[4];
                  v421 = v138 + 3;
                  v422 = v139 + 3;
                  if ( (unsigned __int8)sub_1D931A0(
                                          v2,
                                          &v419,
                                          &v420,
                                          &v421,
                                          &v422,
                                          &v416,
                                          &v417,
                                          (__int64)v138,
                                          (__int64)v139,
                                          v256) )
                  {
                    v440[0] = *(_QWORD *)(v49 + 16);
                    v449[0] = *(_QWORD *)(v50 + 16);
                    if ( sub_1D92B60(
                           v2,
                           &v419,
                           &v420,
                           (unsigned __int64)&v421,
                           (unsigned __int64)&v422,
                           (char *)&v438,
                           (char *)&v447) )
                    {
                      HIDWORD(v438) = *(_DWORD *)(v49 + 4);
                      HIDWORD(v447) = *(_DWORD *)(v50 + 4);
                      v257 = sub_1D95130((__int64)v430);
                      if ( v257 )
                      {
                        v295 = v257;
                        v229 = v301 == 0;
                        v303 = v416;
                        v397 = !v229;
                        v297 = (v447 & 0x200) != 0;
                        v299 = (v438 & 0x200) != 0;
                        v321 = v417;
                        v258 = sub_22077B0(24);
                        v231 = v295;
                        v232 = v258;
                        if ( v258 )
                        {
                          *(_QWORD *)v258 = v48;
                          *(_DWORD *)(v258 + 8) = 7;
                          *(_DWORD *)(v258 + 12) = v303;
                          *(_DWORD *)(v258 + 16) = v321;
                          *(_BYTE *)(v258 + 20) = *(_BYTE *)(v258 + 20) & 0xF8 | v397 | (2 * v299) | (4 * v297);
                        }
                        v422 = (_QWORD *)v258;
                        v233 = (_QWORD *)v424;
                        if ( (char *)v424 == v425 )
                        {
LABEL_452:
                          sub_1D921B0((__int64 *)&v423, (char *)v424, (__int64 *)&v422);
                          v232 = (__int64)v422;
                          v231 = v295;
                          goto LABEL_362;
                        }
LABEL_343:
                        if ( v233 )
                        {
                          *v233 = v232;
                          v424 += 8;
                        }
                        else
                        {
                          v424 = 8;
LABEL_362:
                          if ( v232 )
                          {
                            v396 = v231;
                            j_j___libc_free_0(v232, 24);
                            v231 = v396;
                          }
                        }
                        v377 = v231;
                      }
                      goto LABEL_200;
                    }
                  }
                }
              }
            }
            else
            {
LABEL_358:
              if ( (v134 & 0x10) == 0 && (v135 & 0x10) == 0 )
                goto LABEL_196;
            }
          }
        }
      }
    }
    if ( sub_1D93A30(v2, v49, v50, &v416, &v417, (__int64)&v438, (__int64)&v447) )
    {
      v228 = sub_1D95130((__int64)v430);
      if ( v228 )
      {
        v295 = v228;
        v229 = v301 == 0;
        v302 = v416;
        v395 = !v229;
        v296 = (v447 & 0x200) != 0;
        v298 = (v438 & 0x200) != 0;
        v318 = v417;
        v230 = sub_22077B0(24);
        v231 = v295;
        v232 = v230;
        if ( v230 )
        {
          *(_QWORD *)v230 = v48;
          *(_DWORD *)(v230 + 8) = 8;
          *(_DWORD *)(v230 + 12) = v302;
          *(_DWORD *)(v230 + 16) = v318;
          *(_BYTE *)(v230 + 20) = *(_BYTE *)(v230 + 20) & 0xF8 | (4 * v296) | v395 | (2 * v298);
        }
        v422 = (_QWORD *)v230;
        v233 = (_QWORD *)v424;
        if ( (char *)v424 == v425 )
          goto LABEL_452;
        goto LABEL_343;
      }
    }
LABEL_200:
    if ( v459 != &v461 )
      _libc_free((unsigned __int64)v459);
    if ( v451 != v453 )
      _libc_free((unsigned __int64)v451);
    if ( v444 != v446 )
      _libc_free((unsigned __int64)v444);
    if ( v441 != v443 )
      _libc_free((unsigned __int64)v441);
LABEL_59:
    v63 = sub_1D91B20(v2, (char *)v49, v50, 0, &v416, v418);
    v64 = v418;
    if ( v63 )
    {
      v126 = (unsigned int)(*(_DWORD *)(v49 + 4) + *(_DWORD *)(v49 + 8));
      if ( (_DWORD)v126 )
      {
        v127 = *(_QWORD *)(v2 + 544);
        v128 = *(__int64 (**)())(*(_QWORD *)v127 + 328LL);
        if ( v128 != sub_1D91870 )
        {
          if ( ((unsigned __int8 (__fastcall *)(__int64, _QWORD, __int64, _QWORD, _QWORD))v128)(
                 v127,
                 *(_QWORD *)(v49 + 16),
                 v126,
                 *(unsigned int *)(v49 + 12),
                 v418) )
          {
            if ( (*(_BYTE *)v49 & 1) == 0 && *(char *)v49 >= 0 )
            {
              v316 = sub_1D94D00(v2, v49, v48 + 40, 1, 0, 0);
              if ( v316 )
              {
                v383 = v416;
                v129 = sub_22077B0(24);
                v130 = v129;
                if ( v129 )
                {
                  *(_QWORD *)v129 = v48;
                  *(_DWORD *)(v129 + 8) = 6;
                  *(_QWORD *)(v129 + 12) = v383;
                  *(_BYTE *)(v129 + 20) = src | *(_BYTE *)(v129 + 20) & 0xF8;
                }
                v447 = v129;
                if ( (char *)v424 == v425 )
                {
                  sub_1D921B0((__int64 *)&v423, (char *)v424, (__int64 *)&v447);
                  v130 = v447;
                }
                else
                {
                  if ( v424 )
                  {
                    *(_QWORD *)v424 = v129;
                    v424 += 8;
                    goto LABEL_185;
                  }
                  v424 = 8;
                }
                if ( v130 )
                  j_j___libc_free_0(v130, 24);
LABEL_185:
                v377 = v316;
              }
            }
          }
          v64 = v418;
        }
      }
    }
    if ( (unsigned __int8)sub_1D91B20(v2, (char *)v49, v50, 1, &v416, v64) )
    {
      v121 = (unsigned int)(*(_DWORD *)(v49 + 4) + *(_DWORD *)(v49 + 8));
      if ( (_DWORD)v121 )
      {
        v122 = *(_QWORD *)(v2 + 544);
        v123 = *(__int64 (**)())(*(_QWORD *)v122 + 328LL);
        if ( v123 != sub_1D91870 )
        {
          if ( ((unsigned __int8 (__fastcall *)(__int64, _QWORD, __int64, _QWORD, _QWORD))v123)(
                 v122,
                 *(_QWORD *)(v49 + 16),
                 v121,
                 *(unsigned int *)(v49 + 12),
                 v418) )
          {
            if ( (*(_BYTE *)v49 & 1) == 0 && *(char *)v49 >= 0 )
            {
              v315 = sub_1D94D00(v2, v49, v48 + 40, 1, 1, 0);
              if ( v315 )
              {
                v382 = v416;
                v124 = sub_22077B0(24);
                v125 = v124;
                if ( v124 )
                {
                  *(_QWORD *)v124 = v48;
                  *(_DWORD *)(v124 + 8) = 4;
                  *(_QWORD *)(v124 + 12) = v382;
                  *(_BYTE *)(v124 + 20) = src | *(_BYTE *)(v124 + 20) & 0xF8;
                }
                v447 = v124;
                if ( (char *)v424 == v425 )
                {
                  sub_1D921B0((__int64 *)&v423, (char *)v424, (__int64 *)&v447);
                  v125 = v447;
                }
                else
                {
                  if ( v424 )
                  {
                    *(_QWORD *)v424 = v124;
                    v424 += 8;
                    goto LABEL_172;
                  }
                  v424 = 8;
                }
                if ( v125 )
                  j_j___libc_free_0(v125, 24);
LABEL_172:
                v377 = v315;
              }
            }
          }
        }
      }
    }
    if ( (unsigned __int8)sub_1D91E90(v2, (char *)v49, &v416) )
    {
      v116 = (unsigned int)(*(_DWORD *)(v49 + 4) + *(_DWORD *)(v49 + 8));
      if ( (_DWORD)v116 )
      {
        v117 = *(_QWORD *)(v2 + 544);
        v118 = *(__int64 (**)())(*(_QWORD *)v117 + 328LL);
        if ( v118 != sub_1D91870 )
        {
          if ( ((unsigned __int8 (__fastcall *)(__int64, _QWORD, __int64, _QWORD, _QWORD))v118)(
                 v117,
                 *(_QWORD *)(v49 + 16),
                 v116,
                 *(unsigned int *)(v49 + 12),
                 v418) )
          {
            if ( (*(_BYTE *)v49 & 1) == 0 && *(char *)v49 >= 0 )
            {
              v314 = sub_1D94D00(v2, v49, v48 + 40, 0, 0, 0);
              if ( v314 )
              {
                v381 = v416;
                v119 = sub_22077B0(24);
                v120 = v119;
                if ( v119 )
                {
                  *(_QWORD *)v119 = v48;
                  *(_DWORD *)(v119 + 8) = 2;
                  *(_QWORD *)(v119 + 12) = v381;
                  *(_BYTE *)(v119 + 20) = src | *(_BYTE *)(v119 + 20) & 0xF8;
                }
                v447 = v119;
                if ( (char *)v424 == v425 )
                {
                  sub_1D921B0((__int64 *)&v423, (char *)v424, (__int64 *)&v447);
                  v120 = v447;
                }
                else
                {
                  if ( v424 )
                  {
                    *(_QWORD *)v424 = v119;
                    v424 += 8;
                    goto LABEL_160;
                  }
                  v424 = 8;
                }
                if ( v120 )
                  j_j___libc_free_0(v120, 24);
LABEL_160:
                v377 = v314;
              }
            }
          }
        }
      }
    }
    if ( v406 )
    {
      if ( !(unsigned __int8)sub_1D91B20(v2, (char *)v50, v49, 0, &v416, 0x80000000 - v418) )
        goto LABEL_132;
      v107 = 0x80000000 - v418;
      v179 = (unsigned int)(*(_DWORD *)(v50 + 4) + *(_DWORD *)(v50 + 8));
      if ( (_DWORD)v179 )
      {
        v180 = *(_QWORD *)(v2 + 544);
        v181 = *(__int64 (**)())(*(_QWORD *)v180 + 328LL);
        if ( v181 != sub_1D91870 )
        {
          if ( ((unsigned __int8 (__fastcall *)(__int64, _QWORD, __int64, _QWORD, _QWORD))v181)(
                 v180,
                 *(_QWORD *)(v50 + 16),
                 v179,
                 *(unsigned int *)(v50 + 12),
                 v107)
            && (*(_BYTE *)v50 & 1) == 0
            && *(char *)v50 >= 0
            && (v412 = sub_1D94D00(v2, v50, (__int64)&v431, 1, 0, 0)) != 0 )
          {
            v387 = v416;
            v182 = sub_22077B0(24);
            v183 = v182;
            if ( v182 )
            {
              *(_QWORD *)v182 = v48;
              *(_DWORD *)(v182 + 8) = 5;
              *(_QWORD *)(v182 + 12) = v387;
              *(_BYTE *)(v182 + 20) = n | *(_BYTE *)(v182 + 20) & 0xF8;
            }
            v447 = v182;
            if ( (char *)v424 == v425 )
            {
              sub_1D921B0((__int64 *)&v423, (char *)v424, (__int64 *)&v447);
              v183 = v447;
            }
            else
            {
              if ( v424 )
              {
                *(_QWORD *)v424 = v182;
                v424 += 8;
                goto LABEL_296;
              }
              v424 = 8;
            }
            if ( v183 )
              j_j___libc_free_0(v183, 24);
LABEL_296:
            v107 = 0x80000000 - v418;
            v377 = v412;
          }
          else
          {
LABEL_132:
            v107 = 0x80000000 - v418;
          }
        }
      }
      if ( (unsigned __int8)sub_1D91B20(v2, (char *)v50, v49, 1, &v416, v107) )
      {
        v174 = (unsigned int)(*(_DWORD *)(v50 + 4) + *(_DWORD *)(v50 + 8));
        if ( (_DWORD)v174 )
        {
          v175 = *(_QWORD *)(v2 + 544);
          v176 = *(__int64 (**)())(*(_QWORD *)v175 + 328LL);
          if ( v176 != sub_1D91870 )
          {
            if ( ((unsigned __int8 (__fastcall *)(__int64, _QWORD, __int64, _QWORD, _QWORD))v176)(
                   v175,
                   *(_QWORD *)(v50 + 16),
                   v174,
                   *(unsigned int *)(v50 + 12),
                   0x80000000 - v418) )
            {
              if ( (*(_BYTE *)v50 & 1) == 0 && *(char *)v50 >= 0 )
              {
                v411 = sub_1D94D00(v2, v50, (__int64)&v431, 1, 1, 0);
                if ( v411 )
                {
                  v386 = v416;
                  v177 = sub_22077B0(24);
                  v178 = v177;
                  if ( v177 )
                  {
                    *(_QWORD *)v177 = v48;
                    *(_DWORD *)(v177 + 8) = 3;
                    *(_QWORD *)(v177 + 12) = v386;
                    *(_BYTE *)(v177 + 20) = n | *(_BYTE *)(v177 + 20) & 0xF8;
                  }
                  v447 = v177;
                  if ( (char *)v424 == v425 )
                  {
                    sub_1D921B0((__int64 *)&v423, (char *)v424, (__int64 *)&v447);
                    v178 = v447;
                  }
                  else
                  {
                    if ( v424 )
                    {
                      *(_QWORD *)v424 = v177;
                      v424 += 8;
                      goto LABEL_284;
                    }
                    v424 = 8;
                  }
                  if ( v178 )
                    j_j___libc_free_0(v178, 24);
LABEL_284:
                  v377 = v411;
                }
              }
            }
          }
        }
      }
      if ( !(unsigned __int8)sub_1D91E90(v2, (char *)v50, &v416) )
        goto LABEL_63;
      v108 = (unsigned int)(*(_DWORD *)(v50 + 4) + *(_DWORD *)(v50 + 8));
      if ( !(_DWORD)v108 )
        goto LABEL_63;
      v109 = *(_QWORD *)(v2 + 544);
      v110 = *(__int64 (**)())(*(_QWORD *)v109 + 328LL);
      if ( v110 == sub_1D91870 )
        goto LABEL_63;
      if ( !((unsigned __int8 (__fastcall *)(__int64, _QWORD, __int64, _QWORD, _QWORD))v110)(
              v109,
              *(_QWORD *)(v50 + 16),
              v108,
              *(unsigned int *)(v50 + 12),
              0x80000000 - v418) )
        goto LABEL_63;
      if ( (*(_BYTE *)v50 & 1) != 0 )
        goto LABEL_63;
      if ( *(char *)v50 < 0 )
        goto LABEL_63;
      v111 = sub_1D94D00(v2, v50, (__int64)&v431, 0, 0, 0);
      if ( !v111 )
        goto LABEL_63;
      v112 = v416;
      v113 = sub_22077B0(24);
      v114 = v113;
      if ( v113 )
      {
        *(_QWORD *)v113 = v48;
        *(_DWORD *)(v113 + 8) = 1;
        *(_DWORD *)(v113 + 12) = v112;
        *(_DWORD *)(v113 + 16) = 0;
        *(_BYTE *)(v113 + 20) = n | *(_BYTE *)(v113 + 20) & 0xF8;
      }
      v447 = v113;
      if ( (char *)v424 == v425 )
      {
        sub_1D921B0((__int64 *)&v423, (char *)v424, (__int64 *)&v447);
        v114 = v447;
      }
      else
      {
        if ( v424 )
        {
          *(_QWORD *)v424 = v113;
          v424 += 8;
LABEL_146:
          v377 = v111;
          goto LABEL_63;
        }
        v424 = 8;
      }
      if ( v114 )
        j_j___libc_free_0(v114, 24);
      goto LABEL_146;
    }
LABEL_63:
    *(_BYTE *)v48 = *(_BYTE *)v48 & 0xF1 | (8 * v377 + 4) & 0xE;
    v25 = (unsigned int)(v435 - 1);
    LODWORD(v435) = v435 - 1;
    if ( v431 != v433 )
    {
      _libc_free((unsigned __int64)v431);
      v25 = (unsigned int)v435;
    }
LABEL_65:
    v26 = v434;
    if ( (_DWORD)v25 )
      goto LABEL_51;
LABEL_66:
    if ( v26 != &v436 )
      _libc_free((unsigned __int64)v26);
    v323 = (_QWORD *)v323[1];
  }
  while ( a2 + 40 != v323 );
LABEL_69:
  v65 = (char *)v424;
  v66 = v423;
  if ( v424 - (__int64)v423 <= 0 )
  {
LABEL_372:
    v71 = 0;
    sub_1D95450(v66, v65, (__int64)sub_1D91900);
    v69 = 0;
  }
  else
  {
    v409 = v2;
    v67 = (v424 - (__int64)v423) >> 3;
    v68 = v423;
    while ( 1 )
    {
      v69 = v67;
      v70 = (__int64 *)sub_2207800(8 * v67, &unk_435FF63);
      v71 = v70;
      if ( v70 )
        break;
      v67 >>= 1;
      if ( !v67 )
      {
        v66 = v68;
        v2 = v409;
        goto LABEL_372;
      }
    }
    v72 = v68;
    v73 = v67;
    v74 = &v70[v69];
    v2 = v409;
    *v70 = *(_QWORD *)v72;
    v75 = v70 + 1;
    *(_QWORD *)v72 = 0;
    if ( v74 == v71 + 1 )
    {
      v77 = v71;
    }
    else
    {
      do
      {
        v76 = *(v75 - 1);
        *(v75++ - 1) = 0;
        *(v75 - 1) = v76;
      }
      while ( v74 != v75 );
      v77 = &v71[v69 - 1];
    }
    v78 = *v77;
    *v77 = 0;
    v79 = *(_QWORD *)v72;
    *(_QWORD *)v72 = v78;
    if ( v79 )
    {
      v398 = v72;
      v410 = v73;
      j_j___libc_free_0(v79, 24);
      sub_1D94C00(v398, v65, v71, v410, (__int64)sub_1D91900);
    }
    else
    {
      sub_1D94C00(v72, v65, v71, v73, (__int64)sub_1D91900);
    }
    v80 = v71;
    do
    {
      if ( *v80 )
        j_j___libc_free_0(*v80, 24);
      ++v80;
    }
    while ( v74 != v80 );
  }
  j_j___libc_free_0(v71, v69 * 8);
  v81 = v424;
  if ( (char *)v424 != v423 )
  {
    v399 = 0;
    v82 = v300;
    while ( 1 )
    {
      v83 = *(char ***)(v81 - 8);
      *(_QWORD *)(v81 - 8) = 0;
      v424 -= 8;
      if ( *(_QWORD *)v424 )
        j_j___libc_free_0(*(_QWORD *)v424, 24);
      v84 = *v83;
      v85 = **v83;
      v86 = v85 & 1;
      if ( (v85 & 1) != 0 )
      {
        *v84 = v85 & 0xF7;
      }
      else
      {
        v87 = (v85 & 8) != 0;
        if ( (v85 & 8) != 0 )
        {
          v88 = *((_DWORD *)v83 + 2);
          v89 = *((_DWORD *)v83 + 3);
          v90 = *((_DWORD *)v83 + 4);
          *v84 = v85 & 0xF7;
          if ( v88 != 7 )
          {
            if ( v88 > 7 )
            {
              if ( byte_4FC37C0 )
                goto LABEL_123;
              v184 = *((_BYTE *)v83 + 20);
              v335 = v90;
              ng = v89;
              v373 = (v184 & 2) != 0;
              v388 = (v184 & 4) != 0;
              v185 = *(_QWORD *)(v2 + 232) + 392LL * *(int *)(*((_QWORD *)v84 + 3) + 48LL);
              v186 = *(int *)(*((_QWORD *)v84 + 4) + 48LL);
              v447 = 0;
              srcb = (_QWORD *)v185;
              v187 = (_BYTE *)(*(_QWORD *)(v2 + 232) + 392 * v186);
              v188 = sub_1DD5EE0(*(_QWORD *)(v185 + 16));
              v189 = (__int64)srcb;
              v190 = ng;
              v191 = v335;
              if ( v188 != srcb[2] + 24LL && &v447 != (unsigned __int64 *)(v188 + 64) )
              {
                if ( v447 )
                {
                  v326 = (void *)v188;
                  v336 = (__int64)srcb;
                  nh = v191;
                  srci = v190;
                  sub_161E7C0((__int64)&v447, v447);
                  v188 = (__int64)v326;
                  v189 = v336;
                  v191 = nh;
                  v190 = srci;
                }
                v192 = *(_QWORD *)(v188 + 64);
                v447 = v192;
                if ( v192 )
                {
                  v337 = v189;
                  ni = v191;
                  srcj = v190;
                  sub_1623A60((__int64)&v447, v192, 2);
                  v189 = v337;
                  v191 = ni;
                  v190 = srcj;
                }
              }
              v292 = v388;
              v389 = (_QWORD *)v189;
              v193 = sub_1D96F70(v2, (__int64)v84, v189, (__int64)v187, v190, v191, v373, v292, 1, 1);
              v86 = v193;
              if ( v193 )
              {
                v374 = v193;
                (*(void (__fastcall **)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD, _QWORD, unsigned __int64 *, _QWORD))(**(_QWORD **)(v2 + 544) + 288LL))(
                  *(_QWORD *)(v2 + 544),
                  *((_QWORD *)v84 + 2),
                  v389[3],
                  v389[4],
                  v389[5],
                  *((unsigned int *)v389 + 12),
                  &v447,
                  0);
                *v187 |= 1u;
                v86 = v374;
                *(_BYTE *)v389 |= 1u;
                v194 = *((_QWORD *)v84 + 2);
                *v84 |= 1u;
                v195 = *(_QWORD *)(v194 + 72);
                for ( i = *(_QWORD *)(v194 + 64); v195 != i; i += 8 )
                {
                  v197 = *(_QWORD *)(v2 + 232) + 392LL * *(int *)(*(_QWORD *)i + 48LL);
                  if ( (*(_BYTE *)v197 & 1) == 0 && v194 != *(_QWORD *)(v197 + 16) )
                    *(_BYTE *)v197 &= 0xF3u;
                }
              }
              if ( v447 )
              {
                v390 = v86;
                sub_161E7C0((__int64)&v447, v447);
                v86 = v390;
              }
              goto LABEL_122;
            }
            if ( v88 <= 2 )
            {
              if ( v88 != 1 )
              {
                if ( !byte_4FC3DE0 )
                  goto LABEL_94;
LABEL_123:
                v82 = dword_4CD49D8
                    + dword_4CD49F8
                    + dword_4CD4A18
                    + dword_4CD4A38
                    + dword_4CD4A58
                    + dword_4CD4A98
                    + dword_4CD4A78;
                if ( dword_4FC3EC0 != -1 && dword_4FC3EC0 <= v82 )
                {
                  v300 = dword_4CD49D8
                       + dword_4CD49F8
                       + dword_4CD4A18
                       + dword_4CD4A38
                       + dword_4CD4A58
                       + dword_4CD4A98
                       + dword_4CD4A78;
                  j_j___libc_free_0(v83, 24);
                  goto LABEL_126;
                }
                goto LABEL_84;
              }
              if ( byte_4FC3D00 )
                goto LABEL_123;
LABEL_94:
              v92 = 40LL * *((unsigned int *)v84 + 12);
              v91 = v92;
              v93 = *(_QWORD *)(v2 + 232) + 392LL * *(int *)(*((_QWORD *)v84 + 3) + 48LL);
              v370 = *(_QWORD *)(v2 + 232) + 392LL * *(int *)(*((_QWORD *)v84 + 4) + 48LL);
              v94 = (void *)*((_QWORD *)v84 + 5);
              v447 = (unsigned __int64)v449;
              v448 = 0x400000000LL;
              v95 = 0xCCCCCCCCCCCCCCCDLL * (v92 >> 3);
              if ( (unsigned __int64)v92 > 0xA0 )
              {
                v319 = v92;
                v327 = v94;
                v338 = v93;
                nj = v86;
                srcl = 0xCCCCCCCCCCCCCCCDLL * (v92 >> 3);
                sub_16CD150((__int64)&v447, v449, srcl, 40, v92, v93);
                LODWORD(v95) = srcl;
                v86 = nj;
                v93 = v338;
                v94 = v327;
                v91 = v319;
                v236 = (_QWORD *)(v447 + 40LL * (unsigned int)v448);
              }
              else
              {
                if ( !v92 )
                  goto LABEL_96;
                v236 = v449;
              }
              v339 = v95;
              nk = v93;
              srcm = v86;
              memcpy(v236, v94, v91);
              LODWORD(v92) = v448;
              LODWORD(v95) = v339;
              v93 = nk;
              v86 = srcm;
LABEL_96:
              LODWORD(v448) = v92 + v95;
              if ( v88 == 1 )
              {
                v96 = v93;
                v93 = v370;
                v370 = v96;
              }
              if ( (*(_BYTE *)v93 & 1) != 0
                || (v97 = *(void **)(v93 + 16), (*(_BYTE *)(v93 + 1) & 1) != 0)
                && (unsigned int)((__int64)(*((_QWORD *)v97 + 9) - *((_QWORD *)v97 + 8)) >> 3) > 1 )
              {
                *v84 &= ~4u;
                *(_BYTE *)v93 &= ~4u;
              }
              else
              {
                v86 = 0;
                if ( !*((_BYTE *)v97 + 181) )
                {
                  v371 = *(_QWORD *)(v370 + 16);
                  if ( v88 == 1 )
                  {
                    nd = *(_QWORD *)(v93 + 16);
                    srcf = (void *)v93;
                    (*(void (__fastcall **)(_QWORD, unsigned __int64 *))(**(_QWORD **)(v2 + 544) + 624LL))(
                      *(_QWORD *)(v2 + 544),
                      &v447);
                    v97 = (void *)nd;
                    v93 = (__int64)srcf;
                  }
                  v98 = *(_QWORD *)(v2 + 552);
                  *(_DWORD *)(v2 + 592) = 0;
                  *(_QWORD *)(v2 + 576) = v98;
                  v99 = *(_DWORD *)(v98 + 16);
                  if ( v99 < *(_DWORD *)(v2 + 640) >> 2 || v99 > *(_DWORD *)(v2 + 640) )
                  {
                    v333 = v97;
                    na = v93;
                    _libc_free(*(_QWORD *)(v2 + 632));
                    v100 = (__int64)_libc_calloc(v99, 1u);
                    v93 = na;
                    v97 = v333;
                    if ( !v100 )
                    {
                      if ( v99 )
                      {
                        sub_16BD1C0("Allocation failed", 1u);
                        v100 = 0;
                        v97 = v333;
                        v93 = na;
                      }
                      else
                      {
                        v100 = sub_13A3880(1u);
                        v93 = na;
                        v97 = v333;
                      }
                    }
                    *(_QWORD *)(v2 + 632) = v100;
                    *(_DWORD *)(v2 + 640) = v99;
                  }
                  if ( (**(_BYTE **)(**(_QWORD **)(v2 + 568) + 352LL) & 4) != 0 )
                  {
                    ne = v93;
                    srcg = v97;
                    sub_1DC2B10(v2 + 576, v97);
                    sub_1DC2B10(v2 + 576, v371);
                    v93 = ne;
                    v97 = srcg;
                  }
                  nb = (size_t)v97;
                  srca = (_BYTE *)v93;
                  *((_DWORD *)v84 + 1) -= (*(__int64 (__fastcall **)(_QWORD, _QWORD, _QWORD))(**(_QWORD **)(v2 + 544)
                                                                                            + 280LL))(
                                            *(_QWORD *)(v2 + 544),
                                            *((_QWORD *)v84 + 2),
                                            0);
                  if ( (unsigned int)((__int64)(*(_QWORD *)(nb + 72) - *(_QWORD *)(nb + 64)) >> 3) <= 1 )
                  {
                    sub_1D959A0(v2, (__int64)srca, nb + 24, (__int64)&v447, 0);
                    sub_1D96690(v2, v84, (__int64)srca, 1);
                  }
                  else
                  {
                    sub_1D95C60(v2, (__int64)v84, (__int64)srca, (__int64)&v447, 0, (int)srca);
                    sub_1DD91B0(*((_QWORD *)v84 + 2), nb, 1);
                  }
                  v101 = sub_1D91E00(*((_QWORD *)v84 + 2), v371);
                  v102 = srca;
                  if ( !v101 )
                  {
                    sub_1D91F20(*((_QWORD *)v84 + 2), v371, *(__int64 **)(v2 + 544));
                    v102 = srca;
                    *v84 = *v84 & 0xBE | 1;
                  }
                  v103 = *((_QWORD *)v84 + 2);
                  v104 = *(_QWORD *)(v103 + 72);
                  for ( j = *(_QWORD *)(v103 + 64); j != v104; j += 8 )
                  {
                    v106 = *(_QWORD *)(v2 + 232) + 392LL * *(int *)(*(_QWORD *)j + 48LL);
                    if ( (*(_BYTE *)v106 & 1) == 0 && v103 != *(_QWORD *)(v106 + 16) )
                      *(_BYTE *)v106 &= 0xF3u;
                  }
                  *v102 |= 1u;
                  v86 = v87;
                }
              }
              if ( (_QWORD *)v447 != v449 )
              {
                v378 = v86;
                _libc_free(v447);
                v86 = v378;
              }
LABEL_122:
              if ( !v86 )
                goto LABEL_123;
              goto LABEL_261;
            }
            v140 = v88 - 3;
            if ( byte_4FC3C20 && v88 == 6
              || byte_4FC3B40 && v88 != 5 && v140 <= 1
              || byte_4FC3A60 && v140 > 1 && v88 == 5
              || byte_4FC3980 && v88 == 5 && v140 <= 1 )
            {
              goto LABEL_123;
            }
            v141 = *(int *)(*((_QWORD *)v84 + 3) + 48LL);
            v142 = *(int *)(*((_QWORD *)v84 + 4) + 48LL);
            v431 = 0;
            v143 = *(_QWORD *)(v2 + 232) + 392 * v141;
            v372 = *(_QWORD *)(v2 + 232) + 392 * v142;
            v144 = (const void *)*((_QWORD *)v84 + 5);
            v145 = 40LL * *((unsigned int *)v84 + 12);
            v438 = (unsigned __int64)v440;
            v439 = 0x400000000LL;
            v146 = v145;
            v147 = 0xCCCCCCCCCCCCCCCDLL * (v145 >> 3);
            if ( (unsigned __int64)v145 > 0xA0 )
            {
              v313 = v145;
              v320 = (size_t)v144;
              v328 = v140;
              v340 = v86;
              nl = 0xCCCCCCCCCCCCCCCDLL * (v145 >> 3);
              sub_16CD150((__int64)&v438, v440, nl, 40, v140, v145);
              LODWORD(v147) = nl;
              v86 = v340;
              v140 = v328;
              v144 = (const void *)v320;
              v145 = v313;
              v237 = (_QWORD *)(v438 + 40LL * (unsigned int)v439);
            }
            else
            {
              if ( !v145 )
                goto LABEL_221;
              v237 = v440;
            }
            v329 = v147;
            v341 = v140;
            nm = v86;
            memcpy(v237, v144, v145);
            v146 = v439;
            LODWORD(v147) = v329;
            v140 = v341;
            v86 = nm;
LABEL_221:
            LODWORD(v439) = v147 + v146;
            if ( (v140 & 0xFFFFFFFD) == 0 )
            {
              v148 = v143;
              v143 = v372;
              v372 = v148;
            }
            if ( (*(_BYTE *)v143 & 1) != 0
              || (v149 = *(_QWORD **)(v143 + 16), (*(_BYTE *)(v143 + 1) & 1) != 0)
              && (unsigned int)((__int64)(v149[9] - v149[8]) >> 3) > 1 )
            {
              *v84 &= ~4u;
              *(_BYTE *)v143 &= ~4u;
              goto LABEL_257;
            }
            v86 = 0;
            v334 = *((_BYTE *)v149 + 181);
            if ( !v334 )
            {
              nc = *(_QWORD *)(v372 + 16);
              if ( (v140 & 0xFFFFFFFD) == 0 )
              {
                v317 = *(_QWORD *)(v143 + 16);
                v324 = v140;
                (*(void (__fastcall **)(_QWORD, unsigned __int64 *))(**(_QWORD **)(v2 + 544) + 624LL))(
                  *(_QWORD *)(v2 + 544),
                  &v438);
                v149 = (_QWORD *)v317;
                v140 = v324;
              }
              if ( v140 <= 1 )
              {
                v330 = v149;
                v264 = sub_1D920D0(v2, v143);
                v149 = v330;
                if ( v264 )
                {
                  v265 = v330[9];
                  for ( k = v330[8]; v265 != k; k += 8 )
                  {
                    if ( *(_QWORD *)k != *((_QWORD *)v84 + 2) )
                    {
                      v267 = (_BYTE *)(*(_QWORD *)(v2 + 232) + 392LL * *(int *)(*(_QWORD *)k + 48LL));
                      if ( (*v267 & 8) != 0 )
                        *v267 &= 0xF3u;
                    }
                  }
                }
              }
              v150 = *(_QWORD *)(v2 + 552);
              *(_DWORD *)(v2 + 592) = 0;
              *(_QWORD *)(v2 + 576) = v150;
              v151 = *(_DWORD *)(v150 + 16);
              v152 = *(_DWORD *)(v2 + 640);
              if ( v151 < v152 >> 2 || v151 > v152 )
              {
                v309 = (size_t)v149;
                _libc_free(*(_QWORD *)(v2 + 632));
                v153 = (__int64)_libc_calloc(v151, 1u);
                v149 = (_QWORD *)v309;
                if ( !v153 )
                {
                  if ( v151 )
                  {
                    sub_16BD1C0("Allocation failed", 1u);
                    v153 = 0;
                  }
                  else
                  {
                    v153 = sub_13A3880(1u);
                  }
                  v149 = (_QWORD *)v309;
                }
                *(_QWORD *)(v2 + 632) = v153;
                *(_DWORD *)(v2 + 640) = v151;
              }
              if ( (**(_BYTE **)(**(_QWORD **)(v2 + 568) + 352LL) & 4) != 0 )
              {
                v322 = (size_t)v149;
                sub_1DC2B10(v2 + 576, v149);
                sub_1DC2B10(v2 + 576, nc);
                v149 = (_QWORD *)v322;
              }
              v325 = *(void **)(v143 + 32);
              if ( v325 )
              {
                v310 = (size_t)v149;
                sub_1DF1780(*(_QWORD *)(v2 + 560), v149, nc);
                v307 = v310;
                v311 = sub_1DF1780(*(_QWORD *)(v2 + 560), v310, *(_QWORD *)(v143 + 32));
                sub_1DF1780(*(_QWORD *)(v2 + 560), *((_QWORD *)v84 + 2), nc);
                v154 = sub_1DF1780(*(_QWORD *)(v2 + 560), *((_QWORD *)v84 + 2), v307);
                v149 = (_QWORD *)v307;
                v308 = v154;
              }
              else
              {
                v308 = -1;
                v311 = -1;
              }
              v305 = v149;
              *((_DWORD *)v84 + 1) -= (*(__int64 (__fastcall **)(_QWORD, _QWORD, _QWORD))(**(_QWORD **)(v2 + 544) + 280LL))(
                                        *(_QWORD *)(v2 + 544),
                                        *((_QWORD *)v84 + 2),
                                        0);
              if ( (unsigned int)((__int64)(v305[9] - v305[8]) >> 3) > 1 )
              {
                sub_1D95C60(v2, (__int64)v84, v143, (__int64)&v438, 1, (int)v305);
              }
              else
              {
                *(_DWORD *)(v143 + 4) -= (*(__int64 (__fastcall **)(_QWORD, _QWORD *, _QWORD))(**(_QWORD **)(v2 + 544)
                                                                                             + 280LL))(
                                           *(_QWORD *)(v2 + 544),
                                           v305,
                                           0);
                sub_1D959A0(v2, v143, (__int64)(v305 + 3), (__int64)&v438, 0);
                sub_1D96690(v2, v84, v143, 0);
              }
              sub_1DD91B0(*((_QWORD *)v84 + 2), v305, 1);
              if ( v325 )
              {
                v155 = *(unsigned int *)(v143 + 48);
                v156 = *(void **)(v143 + 40);
                v447 = (unsigned __int64)v449;
                v448 = 0x400000000LL;
                v158 = 40 * v155;
                v157 = v158;
                v159 = 0xCCCCCCCCCCCCCCCDLL * (v158 >> 3);
                if ( (unsigned __int64)v158 > 0xA0 )
                {
                  v304 = v158;
                  v306 = v156;
                  v331 = 0xCCCCCCCCCCCCCCCDLL * (v158 >> 3);
                  sub_16CD150((__int64)&v447, v449, v331, 40, v158, v159);
                  LODWORD(v159) = v331;
                  v156 = v306;
                  v157 = v304;
                  v272 = (_QWORD *)(v447 + 40LL * (unsigned int)v448);
                }
                else
                {
                  if ( !v158 )
                    goto LABEL_243;
                  v272 = v449;
                }
                v332 = v159;
                memcpy(v272, v156, v157);
                LODWORD(v158) = v448;
                LODWORD(v159) = v332;
LABEL_243:
                v160 = *(_QWORD *)(v2 + 544);
                LODWORD(v448) = v159 + v158;
                (*(void (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v160 + 624LL))(v160, &v447);
                v161 = *((_QWORD *)v84 + 2);
                v162 = *(_QWORD *)(v161 + 8);
                if ( v162 == *(_QWORD *)(v161 + 56) + 320LL )
                  v162 = 0;
                v434 = (_QWORD *)v162;
                v163 = sub_1D91D40(*(_QWORD **)(v161 + 88), *(_QWORD *)(v161 + 96), (__int64 *)&v434);
                v165 = *((_QWORD *)v84 + 2);
                if ( *(_QWORD **)(v165 + 96) != v163 )
                {
                  sub_1DD76A0(*((_QWORD *)v84 + 2), v163, v164);
                  v165 = *((_QWORD *)v84 + 2);
                }
                (*(void (__fastcall **)(_QWORD, __int64, _QWORD, _QWORD, unsigned __int64, _QWORD, _BYTE **, _QWORD))(**(_QWORD **)(v2 + 544) + 288LL))(
                  *(_QWORD *)(v2 + 544),
                  v165,
                  *(_QWORD *)(v143 + 32),
                  0,
                  v447,
                  (unsigned int)v448,
                  &v431,
                  0);
                sub_1DD8FE0(
                  *((_QWORD *)v84 + 2),
                  *(_QWORD *)(v143 + 32),
                  (unsigned int)((v308 * (unsigned __int64)v311 + 0x40000000) >> 31));
                if ( (_QWORD *)v447 != v449 )
                  _libc_free(v447);
                v86 = sub_1D91E00(*((_QWORD *)v84 + 2), nc);
                if ( v86 )
                {
LABEL_250:
                  v166 = *((_QWORD *)v84 + 2);
                  v167 = *(_QWORD *)(v166 + 72);
                  v168 = *(_QWORD *)(v166 + 64);
                  if ( v168 == v167 )
                  {
                    *(_BYTE *)v143 |= 1u;
                  }
                  else
                  {
                    do
                    {
LABEL_251:
                      v169 = *(_QWORD *)(v2 + 232) + 392LL * *(int *)(*(_QWORD *)v168 + 48LL);
                      if ( (*(_BYTE *)v169 & 1) == 0 && *(_QWORD *)(v169 + 16) != v166 )
                        *(_BYTE *)v169 &= 0xF3u;
                      v168 += 8;
                    }
                    while ( v167 != v168 );
                    *(_BYTE *)v143 |= 1u;
                    v86 = v87;
                    if ( v334 )
                      goto LABEL_256;
                  }
                  goto LABEL_257;
                }
LABEL_440:
                sub_1D91F20(*((_QWORD *)v84 + 2), nc, *(__int64 **)(v2 + 544));
                v166 = *((_QWORD *)v84 + 2);
                *v84 = *v84 & 0xBE | 1;
                v167 = *(_QWORD *)(v166 + 72);
                v168 = *(_QWORD *)(v166 + 64);
                if ( v168 != v167 )
                  goto LABEL_251;
                *(_BYTE *)v143 |= 1u;
                v86 = v87;
                goto LABEL_257;
              }
              v86 = sub_1D91E00(*((_QWORD *)v84 + 2), nc);
              if ( v86 )
                goto LABEL_250;
              if ( (unsigned int)((__int64)(*(_QWORD *)(nc + 72) - *(_QWORD *)(nc + 64)) >> 3) != 1
                || (*(_BYTE *)v372 & 0x40) != 0
                || *(_BYTE *)(nc + 181) )
              {
                goto LABEL_440;
              }
              sub_1D96690(v2, v84, v372, 1);
              v166 = *((_QWORD *)v84 + 2);
              *v84 |= 1u;
              v334 = v87;
              v167 = *(_QWORD *)(v166 + 72);
              v168 = *(_QWORD *)(v166 + 64);
              if ( v168 != v167 )
                goto LABEL_251;
              *(_BYTE *)v143 |= 1u;
LABEL_256:
              v86 = v87;
              *(_BYTE *)v372 |= 1u;
            }
LABEL_257:
            if ( (_QWORD *)v438 != v440 )
            {
              v384 = v86;
              _libc_free(v438);
              v86 = v384;
            }
            if ( !v431 )
              goto LABEL_122;
            v385 = v86;
            sub_161E7C0((__int64)&v431, (__int64)v431);
            if ( !v385 )
              goto LABEL_123;
LABEL_261:
            if ( (**(_BYTE **)(**(_QWORD **)(v2 + 568) + 352LL) & 4) != 0 )
              sub_1DC2CB0(*((_QWORD *)v84 + 2));
            v399 = v87;
            goto LABEL_123;
          }
          if ( byte_4FC38A0 )
            goto LABEL_123;
          v198 = *((_BYTE *)v83 + 20);
          v199 = v198 >> 1;
          v200 = (v198 & 4) != 0;
          v201 = v199 & 1;
          v202 = *(_QWORD *)(v2 + 232) + 392LL * *(int *)(*((_QWORD *)v84 + 3) + 48LL);
          v391 = (_QWORD *)(*(_QWORD *)(v2 + 232) + 392LL * *(int *)(*((_QWORD *)v84 + 4) + 48LL));
          if ( *(_QWORD *)(v202 + 24) )
          {
            srck = *(int **)(v202 + 24);
            v375 = byte_4FC38A0;
            v203 = sub_1D96F70(
                     v2,
                     (__int64)v84,
                     v202,
                     (__int64)v391,
                     v89,
                     v90,
                     v201,
                     v200,
                     (*(_BYTE *)v202 & 0x10) != 0,
                     0);
            v204 = v375;
            v205 = srck;
            if ( !v203 )
              goto LABEL_123;
LABEL_315:
            v376 = v205;
            v400 = v204;
            sub_1DD91B0(*((_QWORD *)v84 + 2), *(_QWORD *)(v202 + 16), 0);
            sub_1DD91B0(*((_QWORD *)v84 + 2), v391[2], 1);
            v206 = v400;
            v207 = *(_QWORD *)(v2 + 232) + 392LL * v376[12];
            if ( (*(_BYTE *)v207 & 0x40) == 0 )
              v206 = *(_BYTE *)(*(_QWORD *)(v207 + 16) + 181LL) ^ 1;
            srcc = (void *)(*(_QWORD *)(v2 + 232) + 392LL * v376[12]);
            v401 = v206;
            v208 = sub_1DD5EE0(*((_QWORD *)v84 + 2));
            v209 = v401;
            v210 = (__int64)v376;
            v211 = (__int64)srcc;
            if ( (v208 == *((_QWORD *)v84 + 2) + 24LL
               || (v212 = *(__int64 (**)())(**(_QWORD **)(v2 + 544) + 656LL), v212 == sub_1D918C0)
               || (v273 = v212(), v210 = (__int64)v376, v211 = (__int64)srcc, v209 = v401, !v273))
              && (v213 = *(_QWORD **)(v210 + 64),
                  v214 = (__int64)(*(_QWORD *)(v210 + 72) - (_QWORD)v213) >> 3,
                  (unsigned int)v214 <= 1) )
            {
              if ( (v214 & 1) != 0 )
              {
                if ( !v209 || *v213 != *(_QWORD *)(v202 + 16) && *v213 != v391[2] )
                  goto LABEL_324;
              }
              else if ( !v209 )
              {
                goto LABEL_324;
              }
              v403 = (_BYTE *)v211;
              sub_1D96690(v2, v84, v211, 1);
              *v403 |= 1u;
            }
            else
            {
LABEL_324:
              v402 = v210;
              sub_1DD8FE0(*((_QWORD *)v84 + 2), v210, 0x80000000LL);
              sub_1D91F20(*((_QWORD *)v84 + 2), v402, *(__int64 **)(v2 + 544));
              *v84 &= ~0x40u;
            }
          }
          else if ( (*(_BYTE *)v202 & 0x10) != 0 )
          {
            srce = (int *)v391[3];
            if ( !(unsigned __int8)sub_1D96F70(
                                     v2,
                                     (__int64)v84,
                                     v202,
                                     (__int64)v391,
                                     v89,
                                     v90,
                                     v201,
                                     v200,
                                     1,
                                     srce == 0) )
              goto LABEL_123;
            v205 = srce;
            v204 = 0;
            if ( srce )
              goto LABEL_315;
          }
          else if ( !(unsigned __int8)sub_1D96F70(v2, (__int64)v84, v202, (__int64)v391, v89, v90, v201, v200, 0, 1) )
          {
            goto LABEL_123;
          }
          *(_BYTE *)v391 |= 1u;
          *(_BYTE *)v202 |= 1u;
          v215 = *((_QWORD *)v84 + 2);
          *v84 |= 1u;
          v216 = *(_QWORD *)(v215 + 72);
          for ( m = *(_QWORD *)(v215 + 64); v216 != m; m += 8 )
          {
            v218 = *(_QWORD *)(v2 + 232) + 392LL * *(int *)(*(_QWORD *)m + 48LL);
            if ( (*(_BYTE *)v218 & 1) == 0 && v215 != *(_QWORD *)(v218 + 16) )
              *(_BYTE *)v218 &= 0xF3u;
          }
          goto LABEL_261;
        }
      }
LABEL_84:
      j_j___libc_free_0(v83, 24);
      v81 = v424;
      if ( (char *)v424 == v423 )
      {
        v300 = v82;
LABEL_126:
        if ( v399 )
        {
          *(_BYTE *)(v2 + 649) = 1;
          goto LABEL_22;
        }
        goto LABEL_399;
      }
    }
  }
LABEL_405:
  v243 = *(_QWORD *)(v2 + 232);
  v244 = *(_QWORD *)(v2 + 240);
  if ( v243 != v244 )
  {
    v245 = *(_QWORD *)(v2 + 232);
    do
    {
      v246 = *(_QWORD *)(v245 + 216);
      if ( v246 != v245 + 232 )
        _libc_free(v246);
      v247 = *(_QWORD *)(v245 + 40);
      if ( v247 != v245 + 56 )
        _libc_free(v247);
      v245 += 392;
    }
    while ( v244 != v245 );
    *(_QWORD *)(v2 + 240) = v243;
  }
  v238 = *(unsigned __int8 *)(v2 + 649);
  if ( (_BYTE)v238 && byte_4FC36E0 )
  {
    sub_20D6CE0(&v447, 0, 0, v426, *(_QWORD *)(v2 + 560), 0);
    v248 = sub_160F9A0(*(_QWORD *)(v2 + 8), (__int64)&unk_4FC6A0E, 1u);
    v250 = v248;
    if ( v248 )
      v250 = (*(__int64 (__fastcall **)(__int64, void *))(*(_QWORD *)v248 + 104LL))(v248, &unk_4FC6A0E);
    v251 = 0;
    v252 = a2[2];
    v253 = *(__int64 (**)())(*(_QWORD *)v252 + 112LL);
    if ( v253 != sub_1D00B10 )
      v251 = ((__int64 (__fastcall *)(__int64, void *, __int64, _QWORD))v253)(v252, &unk_4FC6A0E, v249, 0);
    sub_20DF280((unsigned int)&v447, (_DWORD)a2, *(_QWORD *)(v2 + 544), v251, v250, 0, 0);
    _libc_free(v462);
    if ( v457 != &v458 )
      _libc_free((unsigned __int64)v457);
    if ( v455 )
      j_j___libc_free_0(v455, v456 - v455);
    j___libc_free_0(v454);
    if ( v451 != v450 )
      _libc_free((unsigned __int64)v451);
    if ( v447 )
      j_j___libc_free_0(v447, v449[0] - v447);
    v238 = *(unsigned __int8 *)(v2 + 649);
  }
  v254 = v424;
  v255 = v423;
  LOBYTE(v238) = v293 | v238;
  *(_BYTE *)(v2 + 649) = v238;
  if ( (char *)v254 != v255 )
  {
    do
    {
      if ( *(_QWORD *)v255 )
        j_j___libc_free_0(*(_QWORD *)v255, 24);
      v255 += 8;
    }
    while ( (char *)v254 != v255 );
    v255 = v423;
  }
  if ( v255 )
    j_j___libc_free_0(v255, v425 - v255);
LABEL_396:
  j___libc_free_0(v427);
  return v238;
}
