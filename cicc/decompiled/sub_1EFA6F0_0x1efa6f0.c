// Function: sub_1EFA6F0
// Address: 0x1efa6f0
//
__int64 __fastcall sub_1EFA6F0(size_t a1, __int64 *a2)
{
  size_t v2; // r9
  __int64 *v3; // r14
  unsigned __int64 v4; // r8
  unsigned int v5; // r13d
  __int64 v6; // r12
  int v7; // esi
  unsigned int v8; // r13d
  unsigned int v9; // ebx
  __int64 v10; // rax
  __int64 v11; // r10
  __int64 i; // rdi
  unsigned int v13; // r15d
  __int64 v14; // rcx
  __int64 v15; // rax
  unsigned int v16; // esi
  __int64 v17; // rdi
  __int64 v18; // r8
  unsigned int v19; // edx
  __int64 result; // rax
  __int64 v21; // r11
  unsigned int v22; // r15d
  __int64 v23; // rdx
  unsigned int v24; // r12d
  size_t v25; // r14
  unsigned int v26; // r13d
  unsigned int v27; // ebx
  __int64 v28; // r15
  __int64 v29; // rax
  unsigned __int64 v30; // r15
  unsigned int v31; // eax
  int v32; // eax
  __int64 v33; // rax
  size_t v34; // rdx
  size_t v35; // rcx
  void *v36; // r8
  unsigned __int64 v37; // rsi
  unsigned int v38; // ebx
  __int64 v39; // r12
  __int64 v40; // rax
  size_t v41; // r8
  unsigned int v42; // eax
  unsigned int v43; // eax
  unsigned int v44; // r10d
  __int64 v45; // rax
  unsigned int v46; // r10d
  __int64 v47; // r12
  __int64 v48; // rax
  bool v49; // zf
  __int64 v50; // rax
  __int64 v51; // r12
  int v52; // eax
  __int64 v53; // rax
  size_t v54; // r9
  void *v55; // r15
  const void *v56; // rsi
  int v57; // eax
  unsigned __int64 v58; // r15
  __int64 v59; // rbx
  int v60; // eax
  size_t v61; // rax
  size_t v62; // r13
  __int64 v63; // rax
  size_t v64; // r9
  void *v65; // r12
  const void *v66; // rsi
  unsigned int v67; // esi
  __int64 v68; // rdi
  __int64 v69; // r8
  __int64 *v70; // rdx
  __int64 v71; // r11
  unsigned __int64 v72; // r11
  unsigned int v73; // r15d
  unsigned int v74; // edx
  size_t v75; // r9
  _DWORD *v76; // r8
  unsigned int v77; // eax
  int v78; // eax
  size_t v79; // rax
  size_t v80; // r12
  __int64 v81; // rax
  size_t v82; // r8
  size_t v83; // r9
  void *v84; // r15
  unsigned __int64 v85; // r15
  __int64 v86; // rax
  unsigned int v87; // r11d
  int v88; // edi
  unsigned int v89; // ecx
  int v90; // edi
  __int64 v91; // rdx
  unsigned __int64 v92; // rax
  unsigned int v93; // r15d
  int v94; // r10d
  int v95; // r12d
  __int64 v96; // rbx
  int v97; // ebx
  int v98; // ecx
  __int64 v99; // rdx
  unsigned __int64 v100; // rax
  int v101; // edi
  int v102; // edi
  __int64 v103; // r11
  int v104; // esi
  __int64 v105; // rbx
  __int64 v106; // rdx
  __int64 v107; // r8
  int v108; // r8d
  int v109; // r8d
  __int64 v110; // r11
  __int64 v111; // rdx
  __int64 v112; // rdi
  int v113; // esi
  int v114; // r12d
  __int64 *v115; // rbx
  int v116; // eax
  int v117; // eax
  int v118; // r8d
  int v119; // r8d
  __int64 v120; // r11
  __int64 *v121; // rbx
  int v122; // esi
  __int64 v123; // rcx
  __int64 v124; // rdi
  int v125; // r10d
  int v126; // r10d
  __int64 v127; // rbx
  __int64 v128; // rcx
  __int64 v129; // r8
  int v130; // edi
  __int64 *v131; // rsi
  __int64 v132; // rax
  __int64 v133; // rax
  __int64 v134; // rax
  __int64 v135; // rax
  size_t v136; // [rsp+8h] [rbp-78h]
  size_t v137; // [rsp+8h] [rbp-78h]
  void *v138; // [rsp+8h] [rbp-78h]
  size_t v139; // [rsp+10h] [rbp-70h]
  size_t v140; // [rsp+10h] [rbp-70h]
  size_t v141; // [rsp+10h] [rbp-70h]
  size_t v142; // [rsp+10h] [rbp-70h]
  size_t na; // [rsp+18h] [rbp-68h]
  size_t nd; // [rsp+18h] [rbp-68h]
  size_t nb; // [rsp+18h] [rbp-68h]
  unsigned int nc; // [rsp+18h] [rbp-68h]
  size_t ne; // [rsp+18h] [rbp-68h]
  size_t nf; // [rsp+18h] [rbp-68h]
  unsigned int ng; // [rsp+18h] [rbp-68h]
  size_t nh; // [rsp+18h] [rbp-68h]
  size_t ni; // [rsp+18h] [rbp-68h]
  size_t nj; // [rsp+18h] [rbp-68h]
  __int64 *v154; // [rsp+20h] [rbp-60h]
  __int64 v155; // [rsp+20h] [rbp-60h]
  size_t v156; // [rsp+20h] [rbp-60h]
  size_t v157; // [rsp+20h] [rbp-60h]
  size_t v158; // [rsp+20h] [rbp-60h]
  size_t v159; // [rsp+20h] [rbp-60h]
  __int64 v160; // [rsp+20h] [rbp-60h]
  size_t v161; // [rsp+20h] [rbp-60h]
  size_t v162; // [rsp+20h] [rbp-60h]
  size_t v163; // [rsp+20h] [rbp-60h]
  unsigned int v164; // [rsp+20h] [rbp-60h]
  size_t v165; // [rsp+20h] [rbp-60h]
  size_t v166; // [rsp+20h] [rbp-60h]
  unsigned int v167; // [rsp+28h] [rbp-58h]
  __int64 v168; // [rsp+28h] [rbp-58h]
  size_t v169; // [rsp+28h] [rbp-58h]
  size_t v170; // [rsp+28h] [rbp-58h]
  size_t v171; // [rsp+28h] [rbp-58h]
  size_t v172; // [rsp+28h] [rbp-58h]
  unsigned int v173; // [rsp+28h] [rbp-58h]
  size_t v174; // [rsp+28h] [rbp-58h]
  unsigned int v175; // [rsp+28h] [rbp-58h]
  unsigned int v176; // [rsp+28h] [rbp-58h]
  size_t v177; // [rsp+28h] [rbp-58h]
  size_t v178; // [rsp+28h] [rbp-58h]
  size_t v179; // [rsp+28h] [rbp-58h]
  size_t v180; // [rsp+28h] [rbp-58h]
  size_t v181; // [rsp+28h] [rbp-58h]
  size_t v182; // [rsp+28h] [rbp-58h]
  int v183; // [rsp+30h] [rbp-50h] BYREF
  unsigned int v184; // [rsp+34h] [rbp-4Ch]
  unsigned __int64 v185; // [rsp+38h] [rbp-48h]
  size_t v186; // [rsp+40h] [rbp-40h]
  int v187; // [rsp+48h] [rbp-38h]

  v2 = a1;
  v3 = a2;
  v4 = *((unsigned int *)a2 + 3);
  v5 = *((_DWORD *)a2 + 2);
  v167 = *(_DWORD *)(a1 + 16);
  if ( byte_4FCA3A0 )
  {
    v6 = *(_QWORD *)(a1 + 8);
    v7 = *((_DWORD *)a2 + 2);
    v8 = v4 * ((v4 + v5 - 1) / v4);
    v9 = v8 - v7;
    v10 = 32LL * v167;
    v11 = v6 + v10;
    if ( v6 == v6 + v10 )
      goto LABEL_14;
    for ( i = *(_QWORD *)(a1 + 8); i != v11; i += 32 )
    {
      v13 = *(_DWORD *)(i + 4);
      if ( v13 > v9 )
      {
        v14 = (unsigned int)(*(_DWORD *)(i + 24) + 63) >> 6;
        if ( (unsigned int)(*((_DWORD *)v3 + 8) + 63) >> 6 <= (unsigned int)v14 )
          v14 = (unsigned int)(*((_DWORD *)v3 + 8) + 63) >> 6;
        if ( (_DWORD)v14 )
        {
          v15 = 0;
          while ( (*(_QWORD *)(*(_QWORD *)(i + 8) + 8 * v15) & *(_QWORD *)(v3[2] + 8 * v15)) == 0 )
          {
            if ( v14 == ++v15 )
              goto LABEL_19;
          }
          v8 = v4 * ((v4 - 1 + v13 + v7) / v4);
          v9 = v8 - v7;
          continue;
        }
LABEL_19:
        if ( v13 >= v8 )
          break;
      }
    }
    v2 = a1;
LABEL_14:
    if ( !v167 )
    {
      if ( !v8 )
        goto LABEL_16;
      v22 = 0;
LABEL_44:
      v47 = v2 + 8;
      if ( v9 > v22 )
      {
        if ( v167 >= *(_DWORD *)(v2 + 20) )
        {
          v182 = v2;
          sub_1EF9C40(v2 + 8, 0);
          v2 = v182;
          v167 = *(_DWORD *)(v182 + 16);
          v11 = *(_QWORD *)(v2 + 8) + 32LL * v167;
        }
        if ( v11 )
        {
          *(_DWORD *)v11 = v22;
          *(_DWORD *)(v11 + 4) = v9;
          *(_QWORD *)(v11 + 8) = 0;
          *(_QWORD *)(v11 + 16) = 0;
          *(_DWORD *)(v11 + 24) = 0;
          v167 = *(_DWORD *)(v2 + 16);
        }
        ++v167;
        v22 = v9;
        *(_DWORD *)(v2 + 16) = v167;
      }
      if ( v167 >= *(_DWORD *)(v2 + 20) )
      {
        v177 = v2;
        sub_1EF9C40(v47, 0);
        v2 = v177;
        v167 = *(_DWORD *)(v177 + 16);
      }
      v48 = 32LL * v167;
      v49 = *(_QWORD *)(v2 + 8) + v48 == 0;
      v50 = *(_QWORD *)(v2 + 8) + v48;
      v51 = v50;
      if ( !v49 )
      {
        *(_DWORD *)v50 = v22;
        *(_DWORD *)(v50 + 4) = v8;
        *(_QWORD *)(v50 + 8) = 0;
        *(_QWORD *)(v50 + 16) = 0;
        v52 = *((_DWORD *)v3 + 8);
        *(_DWORD *)(v51 + 24) = v52;
        if ( v52 )
        {
          na = v2;
          v155 = (unsigned int)(v52 + 63) >> 6;
          v168 = 8 * v155;
          v53 = malloc(8 * v155);
          v54 = na;
          v55 = (void *)v53;
          if ( !v53 )
          {
            if ( v168 || (v132 = malloc(1u), v54 = na, !v132) )
            {
              ni = v54;
              sub_16BD1C0("Allocation failed", 1u);
              v54 = ni;
            }
            else
            {
              v55 = (void *)v132;
            }
          }
          v56 = (const void *)v3[2];
          *(_QWORD *)(v51 + 8) = v55;
          nd = v54;
          *(_QWORD *)(v51 + 16) = v155;
          memcpy(v55, v56, v168);
          v2 = nd;
        }
        v167 = *(_DWORD *)(v2 + 16);
      }
      *(_DWORD *)(v2 + 16) = v167 + 1;
      if ( v167 != -1 )
      {
        v6 = *(_QWORD *)(v2 + 8);
        goto LABEL_22;
      }
      goto LABEL_16;
    }
    v22 = *(_DWORD *)(v6 + 32LL * v167 - 28);
    if ( v22 < v8 )
      goto LABEL_44;
LABEL_22:
    v154 = v3;
    v23 = v6;
    v24 = v8;
    v25 = v2;
    v26 = v9;
    v27 = 0;
    v28 = 0;
    while ( 1 )
    {
      while ( 1 )
      {
        v30 = v23 + 32 * v28;
        if ( *(_DWORD *)v30 >= v26 || *(_DWORD *)(v30 + 4) <= v26 )
          break;
        v183 = *(_DWORD *)v30;
        v31 = *(_DWORD *)(v30 + 4);
        v185 = 0;
        v184 = v31;
        v186 = 0;
        v32 = *(_DWORD *)(v30 + 24);
        v187 = v32;
        if ( v32 )
        {
          v139 = (unsigned int)(v32 + 63) >> 6;
          v33 = malloc(8 * v139);
          v34 = 8 * v139;
          v35 = v139;
          v36 = (void *)v33;
          if ( !v33 )
          {
            if ( 8 * v139 || (v134 = malloc(1u), v35 = v139, v34 = 0, v36 = 0, !v134) )
            {
              v138 = v36;
              v142 = v34;
              nj = v35;
              sub_16BD1C0("Allocation failed", 1u);
              v35 = nj;
              v34 = v142;
              v36 = v138;
            }
            else
            {
              v36 = (void *)v134;
            }
          }
          v185 = (unsigned __int64)v36;
          v186 = v35;
          memcpy(v36, *(const void **)(v30 + 8), v34);
        }
        v184 = v26;
        v37 = v30;
        *(_DWORD *)v30 = v26;
        v28 = ++v27;
        sub_1EF9DC0(v25 + 8, v37, (unsigned __int64)&v183);
        _libc_free(v185);
        v29 = *(unsigned int *)(v25 + 16);
        v23 = *(_QWORD *)(v25 + 8);
        if ( v27 >= (unsigned int)v29 )
        {
LABEL_32:
          v2 = v25;
          v3 = v154;
          v38 = v26;
          v8 = v24;
          v39 = v23;
          goto LABEL_33;
        }
      }
      if ( *(_DWORD *)v30 < v24 && *(_DWORD *)(v30 + 4) > v24 )
        break;
      v29 = *(unsigned int *)(v25 + 16);
      v28 = v27 + 1;
      v27 = v28;
      if ( (unsigned int)v28 >= (unsigned int)v29 )
        goto LABEL_32;
    }
    v38 = v26;
    v75 = v25;
    v76 = (_DWORD *)v30;
    v3 = v154;
    v8 = v24;
    v183 = *(_DWORD *)v30;
    v77 = *(_DWORD *)(v30 + 4);
    v185 = 0;
    v184 = v77;
    v186 = 0;
    v78 = *(_DWORD *)(v30 + 24);
    v187 = v78;
    if ( v78 )
    {
      v158 = v30;
      nb = v75;
      v79 = (unsigned int)(v78 + 63) >> 6;
      v80 = 8 * v79;
      v170 = v79;
      v81 = malloc(8 * v79);
      v82 = v30;
      v83 = nb;
      v84 = (void *)v81;
      if ( !v81 )
      {
        if ( v80 || (v133 = malloc(1u), v82 = v158, v83 = nb, !v133) )
        {
          nh = v83;
          v165 = v82;
          sub_16BD1C0("Allocation failed", 1u);
          v82 = v165;
          v83 = nh;
        }
        else
        {
          v84 = (void *)v133;
        }
      }
      v185 = (unsigned __int64)v84;
      v159 = v83;
      v186 = v170;
      v171 = v82;
      memcpy(v84, *(const void **)(v82 + 8), v80);
      v75 = v159;
      v76 = (_DWORD *)v171;
    }
    *v76 = v8;
    v172 = v75;
    v184 = v8;
    sub_1EF9DC0(v75 + 8, (unsigned __int64)v76, (unsigned __int64)&v183);
    _libc_free(v185);
    v2 = v172;
    v39 = *(_QWORD *)(v172 + 8);
    v29 = *(unsigned int *)(v172 + 16);
LABEL_33:
    v40 = 32 * v29;
    if ( v39 + v40 != v39 )
    {
      v41 = v39 + v40;
      while ( 1 )
      {
        v42 = *(_DWORD *)(v39 + 4);
        if ( v42 > v38 && *(_DWORD *)v39 < v8 )
          break;
LABEL_35:
        if ( v42 < v8 )
        {
          v39 += 32;
          if ( v41 != v39 )
            continue;
        }
        goto LABEL_16;
      }
      v43 = *(_DWORD *)(v39 + 24);
      v44 = *((_DWORD *)v3 + 8);
      if ( v43 >= v44 )
      {
LABEL_40:
        v45 = 0;
        v46 = (v44 + 63) >> 6;
        if ( v46 )
        {
          do
          {
            *(_QWORD *)(*(_QWORD *)(v39 + 8) + 8 * v45) |= *(_QWORD *)(v3[2] + 8 * v45);
            ++v45;
          }
          while ( v46 != v45 );
        }
        v42 = *(_DWORD *)(v39 + 4);
        goto LABEL_35;
      }
      v72 = *(_QWORD *)(v39 + 16);
      if ( v44 > v72 << 6 )
      {
        v136 = v2;
        v85 = (v44 + 63) >> 6;
        v140 = v41;
        nc = *((_DWORD *)v3 + 8);
        if ( v85 < 2 * v72 )
          v85 = 2 * v72;
        v160 = *(_QWORD *)(v39 + 16);
        v86 = (__int64)realloc(*(_QWORD *)(v39 + 8), 8 * v85, 8 * (int)v85, (_DWORD)v72 << 6, v41, v2);
        v87 = v160;
        v44 = nc;
        v41 = v140;
        v2 = v136;
        if ( !v86 )
        {
          if ( 8 * v85 )
          {
            sub_16BD1C0("Allocation failed", 1u);
            v2 = v136;
            v41 = v140;
            v86 = 0;
            v87 = v160;
            v44 = nc;
          }
          else
          {
            v86 = malloc(1u);
            v44 = nc;
            v87 = v160;
            v41 = v140;
            v2 = v136;
            if ( !v86 )
            {
              sub_16BD1C0("Allocation failed", 1u);
              v44 = nc;
              v87 = v160;
              v86 = 0;
              v41 = v140;
              v2 = v136;
            }
          }
        }
        v88 = *(_DWORD *)(v39 + 24);
        *(_QWORD *)(v39 + 8) = v86;
        *(_QWORD *)(v39 + 16) = v85;
        v89 = (unsigned int)(v88 + 63) >> 6;
        if ( v85 > v89 && v85 != v89 )
        {
          v137 = v2;
          v141 = v41;
          ng = (unsigned int)(v88 + 63) >> 6;
          v164 = v87;
          v176 = v44;
          memset((void *)(v86 + 8LL * v89), 0, 8 * (v85 - v89));
          v88 = *(_DWORD *)(v39 + 24);
          v86 = *(_QWORD *)(v39 + 8);
          v2 = v137;
          v41 = v141;
          v89 = ng;
          v87 = v164;
          v44 = v176;
        }
        v90 = v88 & 0x3F;
        if ( v90 )
        {
          *(_QWORD *)(v86 + 8LL * (v89 - 1)) &= ~(-1LL << v90);
          v86 = *(_QWORD *)(v39 + 8);
        }
        v91 = *(_QWORD *)(v39 + 16) - v87;
        if ( v91 )
        {
          nf = v2;
          v163 = v41;
          v175 = v44;
          memset((void *)(v86 + 8LL * v87), 0, 8 * v91);
          v2 = nf;
          v41 = v163;
          v44 = v175;
        }
        v43 = *(_DWORD *)(v39 + 24);
        v74 = v43;
        if ( v44 <= v43 )
          goto LABEL_71;
        v72 = *(_QWORD *)(v39 + 16);
      }
      v73 = (v43 + 63) >> 6;
      if ( v72 > v73 )
      {
        ne = v2;
        v161 = v41;
        v173 = v44;
        memset((void *)(*(_QWORD *)(v39 + 8) + 8LL * v73), 0, 8 * (v72 - v73));
        v43 = *(_DWORD *)(v39 + 24);
        v44 = v173;
        v41 = v161;
        v2 = ne;
      }
      v74 = v43;
      if ( (v43 & 0x3F) != 0 )
      {
        *(_QWORD *)(*(_QWORD *)(v39 + 8) + 8LL * (v73 - 1)) &= ~(-1LL << (v43 & 0x3F));
        v74 = *(_DWORD *)(v39 + 24);
      }
LABEL_71:
      *(_DWORD *)(v39 + 24) = v44;
      if ( v74 > v44 )
      {
        v92 = *(_QWORD *)(v39 + 16);
        v93 = (v44 + 63) >> 6;
        if ( v92 > v93 )
        {
          v100 = v92 - v93;
          if ( v100 )
          {
            v162 = v2;
            v174 = v41;
            memset((void *)(*(_QWORD *)(v39 + 8) + 8LL * v93), 0, 8 * v100);
            v44 = *(_DWORD *)(v39 + 24);
            v2 = v162;
            v41 = v174;
          }
        }
        v94 = v44 & 0x3F;
        if ( v94 )
          *(_QWORD *)(*(_QWORD *)(v39 + 8) + 8LL * (v93 - 1)) &= ~(-1LL << v94);
      }
      v44 = *((_DWORD *)v3 + 8);
      goto LABEL_40;
    }
LABEL_16:
    v16 = *(_DWORD *)(v2 + 896);
    v17 = v2 + 872;
    if ( v16 )
    {
      v18 = *(_QWORD *)(v2 + 880);
      v19 = (v16 - 1) & (((unsigned int)*v3 >> 9) ^ ((unsigned int)*v3 >> 4));
      result = v18 + 16LL * v19;
      v21 = *(_QWORD *)result;
      if ( *v3 == *(_QWORD *)result )
      {
LABEL_18:
        *(_DWORD *)(result + 8) = v8;
        return result;
      }
      v95 = 1;
      v96 = 0;
      while ( v21 != -8 )
      {
        if ( v21 == -16 && !v96 )
          v96 = result;
        v19 = (v16 - 1) & (v95 + v19);
        result = v18 + 16LL * v19;
        v21 = *(_QWORD *)result;
        if ( *v3 == *(_QWORD *)result )
          goto LABEL_18;
        ++v95;
      }
      if ( v96 )
        result = v96;
      v97 = *(_DWORD *)(v2 + 888);
      ++*(_QWORD *)(v2 + 872);
      v98 = v97 + 1;
      if ( 4 * (v97 + 1) < 3 * v16 )
      {
        if ( v16 - *(_DWORD *)(v2 + 892) - v98 > v16 >> 3 )
        {
LABEL_101:
          *(_DWORD *)(v2 + 888) = v98;
          if ( *(_QWORD *)result != -8 )
            --*(_DWORD *)(v2 + 892);
          v99 = *v3;
          *(_DWORD *)(result + 8) = 0;
          *(_QWORD *)result = v99;
          goto LABEL_18;
        }
        v178 = v2;
        sub_1542080(v17, v16);
        v2 = v178;
        v101 = *(_DWORD *)(v178 + 896);
        if ( v101 )
        {
          v102 = v101 - 1;
          v103 = *(_QWORD *)(v178 + 880);
          v104 = 1;
          v98 = *(_DWORD *)(v178 + 888) + 1;
          v105 = 0;
          LODWORD(v106) = v102 & (((unsigned int)*v3 >> 9) ^ ((unsigned int)*v3 >> 4));
          result = v103 + 16LL * (unsigned int)v106;
          v107 = *(_QWORD *)result;
          if ( *v3 == *(_QWORD *)result )
            goto LABEL_101;
          while ( v107 != -8 )
          {
            if ( !v105 && v107 == -16 )
              v105 = result;
            v106 = v102 & (unsigned int)(v106 + v104);
            result = v103 + 16 * v106;
            v107 = *(_QWORD *)result;
            if ( *v3 == *(_QWORD *)result )
              goto LABEL_101;
            ++v104;
          }
LABEL_111:
          if ( v105 )
            result = v105;
          goto LABEL_101;
        }
        goto LABEL_193;
      }
    }
    else
    {
      ++*(_QWORD *)(v2 + 872);
    }
    v179 = v2;
    sub_1542080(v17, 2 * v16);
    v2 = v179;
    v108 = *(_DWORD *)(v179 + 896);
    if ( v108 )
    {
      v109 = v108 - 1;
      v110 = *(_QWORD *)(v179 + 880);
      v98 = *(_DWORD *)(v179 + 888) + 1;
      LODWORD(v111) = v109 & (((unsigned int)*v3 >> 9) ^ ((unsigned int)*v3 >> 4));
      result = v110 + 16LL * (unsigned int)v111;
      v112 = *(_QWORD *)result;
      if ( *v3 == *(_QWORD *)result )
        goto LABEL_101;
      v113 = 1;
      v105 = 0;
      while ( v112 != -8 )
      {
        if ( !v105 && v112 == -16 )
          v105 = result;
        v111 = v109 & (unsigned int)(v111 + v113);
        result = v110 + 16 * v111;
        v112 = *(_QWORD *)result;
        if ( *v3 == *(_QWORD *)result )
          goto LABEL_101;
        ++v113;
      }
      goto LABEL_111;
    }
LABEL_193:
    ++*(_DWORD *)(v2 + 888);
    BUG();
  }
  v57 = 0;
  if ( v167 )
    v57 = *(_DWORD *)(*(_QWORD *)(a1 + 8) + 32LL * v167 - 28);
  v58 = v4 * ((v4 + v5 + v57 - 1) / v4);
  if ( v167 >= *(_DWORD *)(a1 + 20) )
  {
    sub_1EF9C40(a1 + 8, 0);
    v2 = a1;
    v167 = *(_DWORD *)(a1 + 16);
  }
  v59 = *(_QWORD *)(v2 + 8) + 32LL * v167;
  if ( v59 )
  {
    *(_DWORD *)(v59 + 4) = v58;
    *(_QWORD *)(v59 + 8) = 0;
    *(_DWORD *)v59 = v58 - v5;
    *(_QWORD *)(v59 + 16) = 0;
    v60 = *((_DWORD *)a2 + 8);
    *(_DWORD *)(v59 + 24) = v60;
    if ( v60 )
    {
      v156 = v2;
      v61 = (unsigned int)(v60 + 63) >> 6;
      v62 = 8 * v61;
      v169 = v61;
      v63 = malloc(8 * v61);
      v64 = v156;
      v65 = (void *)v63;
      if ( !v63 )
      {
        if ( v62 || (v135 = malloc(1u), v64 = v156, !v135) )
        {
          v166 = v64;
          sub_16BD1C0("Allocation failed", 1u);
          v64 = v166;
        }
        else
        {
          v65 = (void *)v135;
        }
      }
      *(_QWORD *)(v59 + 8) = v65;
      v66 = (const void *)a2[2];
      v157 = v64;
      *(_QWORD *)(v59 + 16) = v169;
      memcpy(v65, v66, v62);
      v2 = v157;
    }
    v167 = *(_DWORD *)(v2 + 16);
  }
  v67 = *(_DWORD *)(v2 + 896);
  v68 = v2 + 872;
  *(_DWORD *)(v2 + 16) = v167 + 1;
  if ( !v67 )
  {
    ++*(_QWORD *)(v2 + 872);
    goto LABEL_140;
  }
  v69 = *(_QWORD *)(v2 + 880);
  result = (v67 - 1) & (((unsigned int)*v3 >> 9) ^ ((unsigned int)*v3 >> 4));
  v70 = (__int64 *)(v69 + 16 * result);
  v71 = *v70;
  if ( *v3 != *v70 )
  {
    v114 = 1;
    v115 = 0;
    while ( v71 != -8 )
    {
      if ( !v115 && v71 == -16 )
        v115 = v70;
      result = (v67 - 1) & (v114 + (_DWORD)result);
      v70 = (__int64 *)(v69 + 16LL * (unsigned int)result);
      v71 = *v70;
      if ( *v3 == *v70 )
        goto LABEL_65;
      ++v114;
    }
    v116 = *(_DWORD *)(v2 + 888);
    if ( v115 )
      v70 = v115;
    ++*(_QWORD *)(v2 + 872);
    v117 = v116 + 1;
    if ( 4 * v117 < 3 * v67 )
    {
      if ( v67 - *(_DWORD *)(v2 + 892) - v117 > v67 >> 3 )
      {
LABEL_130:
        *(_DWORD *)(v2 + 888) = v117;
        if ( *v70 != -8 )
          --*(_DWORD *)(v2 + 892);
        result = *v3;
        *((_DWORD *)v70 + 2) = 0;
        *v70 = result;
        goto LABEL_65;
      }
      v180 = v2;
      sub_1542080(v68, v67);
      v2 = v180;
      v118 = *(_DWORD *)(v180 + 896);
      if ( v118 )
      {
        v119 = v118 - 1;
        v120 = *(_QWORD *)(v180 + 880);
        v121 = 0;
        v122 = 1;
        LODWORD(v123) = v119 & (((unsigned int)*v3 >> 9) ^ ((unsigned int)*v3 >> 4));
        v117 = *(_DWORD *)(v180 + 888) + 1;
        v70 = (__int64 *)(v120 + 16LL * (unsigned int)v123);
        v124 = *v70;
        if ( *v70 != *v3 )
        {
          while ( v124 != -8 )
          {
            if ( !v121 && v124 == -16 )
              v121 = v70;
            v123 = v119 & (unsigned int)(v123 + v122);
            v70 = (__int64 *)(v120 + 16 * v123);
            v124 = *v70;
            if ( *v3 == *v70 )
              goto LABEL_130;
            ++v122;
          }
          if ( v121 )
            v70 = v121;
        }
        goto LABEL_130;
      }
LABEL_192:
      ++*(_DWORD *)(v2 + 888);
      BUG();
    }
LABEL_140:
    v181 = v2;
    sub_1542080(v68, 2 * v67);
    v2 = v181;
    v125 = *(_DWORD *)(v181 + 896);
    if ( v125 )
    {
      v126 = v125 - 1;
      v127 = *(_QWORD *)(v181 + 880);
      LODWORD(v128) = v126 & (((unsigned int)*v3 >> 9) ^ ((unsigned int)*v3 >> 4));
      v117 = *(_DWORD *)(v181 + 888) + 1;
      v70 = (__int64 *)(v127 + 16LL * (unsigned int)v128);
      v129 = *v70;
      if ( *v3 != *v70 )
      {
        v130 = 1;
        v131 = 0;
        while ( v129 != -8 )
        {
          if ( !v131 && v129 == -16 )
            v131 = v70;
          v128 = v126 & (unsigned int)(v128 + v130);
          v70 = (__int64 *)(v127 + 16 * v128);
          v129 = *v70;
          if ( *v3 == *v70 )
            goto LABEL_130;
          ++v130;
        }
        if ( v131 )
          v70 = v131;
      }
      goto LABEL_130;
    }
    goto LABEL_192;
  }
LABEL_65:
  *((_DWORD *)v70 + 2) = v58;
  return result;
}
