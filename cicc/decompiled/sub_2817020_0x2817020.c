// Function: sub_2817020
// Address: 0x2817020
//
__int64 __fastcall sub_2817020(__int64 *a1, __int64 a2, _QWORD **a3)
{
  __int64 v3; // r14
  _QWORD *v4; // rax
  __int64 v5; // rdx
  __int64 v6; // r12
  __int64 v7; // r13
  __int64 v8; // rbx
  __int64 v9; // r8
  __int64 v10; // rcx
  __int64 v11; // rdx
  __int64 v12; // rdi
  __int64 v13; // rdx
  unsigned __int64 v14; // rax
  int v15; // edx
  __int64 v16; // rdi
  __int64 v17; // rax
  __int64 v18; // r15
  _QWORD *v19; // rdi
  unsigned __int64 v20; // r8
  __int64 v21; // r9
  __int64 v22; // rdx
  unsigned __int64 v23; // rcx
  int v24; // eax
  __int64 v25; // r15
  __int64 *v26; // rdx
  unsigned int v27; // eax
  __int64 v28; // r15
  __int64 v29; // rdx
  __int64 v30; // rbx
  unsigned __int64 v31; // r15
  __int64 *v32; // rdx
  unsigned int v33; // eax
  __int64 v34; // rdx
  __int64 v35; // rbx
  __int64 *v36; // rdx
  unsigned int v37; // eax
  __int64 v38; // rdx
  __int64 *v39; // rdx
  __int64 v40; // rbx
  __int64 v41; // r8
  __int64 v42; // r9
  __int64 v43; // rax
  __int64 v44; // rdx
  __int64 v45; // r12
  __int64 v46; // rdx
  __int64 v47; // rdx
  unsigned __int64 v48; // rax
  int v49; // edx
  __int64 v50; // rdi
  __int64 v51; // rax
  __int64 v52; // r9
  __int64 v53; // rdx
  unsigned __int64 v54; // rcx
  unsigned __int64 v55; // rbx
  __int64 v56; // r12
  int v57; // eax
  unsigned __int64 *v58; // rdx
  unsigned int v59; // eax
  __int64 v60; // rdx
  unsigned __int64 v61; // r12
  unsigned __int64 *v62; // rdx
  __int64 v63; // rdx
  unsigned __int64 v64; // rax
  int v65; // edx
  _QWORD *v66; // rdi
  _QWORD *v67; // rax
  __int64 v68; // r12
  _QWORD *v69; // rdi
  unsigned __int64 v70; // rax
  int v71; // edx
  _QWORD *v72; // rdi
  _QWORD *v73; // rax
  __int64 v74; // r12
  _QWORD *v75; // rdi
  __int64 v76; // r8
  __int64 v77; // r9
  unsigned __int64 v78; // rdx
  __int64 v79; // r12
  __int64 v80; // rax
  __int64 v81; // rbx
  int v82; // ecx
  __int64 *v83; // rax
  __int64 *v84; // r15
  __int64 v85; // r13
  __int64 v86; // rbx
  __int16 v87; // dx
  __int64 v88; // rsi
  char v89; // al
  char v90; // dl
  __int64 v91; // rax
  __int64 v92; // rbx
  __int64 v93; // r13
  __int64 v94; // rsi
  __int64 v95; // rbx
  __int64 v96; // r12
  __int64 v97; // rdx
  __int64 v98; // rax
  __int64 v99; // r14
  _QWORD *v100; // r15
  __int64 v101; // r15
  int v102; // eax
  int v103; // eax
  unsigned int v104; // edx
  __int64 v105; // rax
  __int64 v106; // rdx
  __int64 v107; // rdx
  __int64 v108; // r15
  __int64 v109; // r12
  int v110; // eax
  int v111; // eax
  unsigned int v112; // edx
  __int64 v113; // rax
  __int64 v114; // rdx
  __int64 v115; // rdx
  __int64 v116; // rbx
  __int64 v117; // rax
  __int64 v118; // rax
  __int64 v119; // rdx
  unsigned __int64 v120; // rax
  int v121; // edx
  __int64 v122; // rdi
  __int64 v123; // rax
  _QWORD *v124; // rdx
  unsigned __int64 v125; // rax
  int v126; // edx
  __int64 v127; // rdi
  __int64 v128; // rax
  unsigned __int64 v129; // r8
  __int64 v130; // r9
  unsigned __int64 v131; // rbx
  unsigned __int64 v132; // rax
  __int64 v133; // r12
  __int64 v134; // r15
  unsigned __int8 *v135; // rax
  unsigned __int8 *v136; // r13
  unsigned int v137; // eax
  unsigned __int64 v138; // rcx
  __int64 v139; // rdx
  unsigned __int64 v140; // r12
  unsigned __int64 *v141; // rdx
  __int64 v142; // rdx
  __int64 v143; // r12
  __int64 v144; // r13
  unsigned __int64 v145; // r12
  unsigned __int64 *v146; // rdx
  unsigned int v147; // eax
  __int64 v148; // rdx
  _QWORD *v149; // rbx
  unsigned __int64 *v150; // rdx
  unsigned int v151; // eax
  __int64 v152; // rdx
  __int64 v153; // r12
  unsigned __int64 *v154; // rsi
  unsigned __int64 *v155; // rdx
  unsigned int v156; // eax
  __int64 v157; // rbx
  __int64 v158; // rax
  __int64 v159; // rdx
  int v160; // esi
  unsigned int v161; // ecx
  __int64 *v162; // r12
  __int64 v163; // rdi
  __int64 *v164; // rbx
  _BYTE *v165; // rax
  const char **v166; // r8
  const char **v167; // rdx
  const char **v168; // rax
  __int64 v169; // rdi
  const char *v170; // r12
  unsigned int v171; // ecx
  const char **v172; // r13
  const char *v173; // rdi
  const char *v174; // rbx
  _BYTE *v175; // rax
  const char **v176; // r8
  const char **v177; // rdx
  const char **v178; // rax
  __int64 v179; // rdi
  const char *v180; // r12
  unsigned int v181; // ecx
  const char **v182; // r13
  const char *v183; // rdi
  const char *v184; // rbx
  _BYTE *v185; // rax
  const char **v186; // r8
  const char **v187; // rdx
  const char **v188; // rax
  __int64 v189; // rdi
  _QWORD *v190; // rsi
  __int64 v191; // rdx
  __int64 v192; // rcx
  __int64 v193; // r8
  __int64 v194; // r9
  __int64 v195; // rdx
  __int64 v196; // rcx
  __int64 v197; // r8
  __int64 v198; // r9
  __int64 v199; // rdx
  __int64 v200; // rcx
  __int64 v201; // rdi
  __int64 v202; // r9
  __int64 v203; // rdx
  __int64 v204; // rcx
  __int64 v205; // r8
  __int64 v206; // r9
  __int64 v207; // rdx
  __int64 v208; // rcx
  __int64 v209; // r8
  __int64 v210; // r9
  _QWORD *v211; // rax
  _BYTE *v212; // r15
  _BYTE *v213; // r13
  size_t v214; // r8
  __int64 v215; // rbx
  __int64 *v216; // r12
  int v217; // eax
  char *v218; // rdi
  __int64 v219; // rbx
  __int64 v220; // r14
  _BYTE *v221; // rsi
  __int64 v222; // rsi
  _QWORD *v223; // rax
  __int64 v224; // rdi
  _QWORD *v225; // r14
  _BYTE *v226; // rax
  _QWORD *v227; // rdx
  _QWORD *v228; // rax
  __int64 v229; // rdi
  __int64 v230; // rax
  unsigned int v231; // esi
  unsigned int v232; // edi
  __int64 *v233; // rcx
  __int64 v234; // r10
  __int64 *v235; // rsi
  _BYTE *i; // r8
  _BYTE *v237; // rsi
  _QWORD *v238; // r13
  __int64 v239; // rax
  __int64 v240; // r12
  __int64 *v242; // rax
  __int64 v243; // r11
  __int64 *v244; // rdi
  int v245; // ecx
  __int64 *v246; // rax
  __int64 *v247; // rax
  __int64 *v248; // rax
  unsigned int v249; // esi
  unsigned int v250; // edi
  __int64 v251; // rax
  int v252; // edx
  __int64 *v253; // rax
  unsigned __int64 v254; // rax
  int v255; // edx
  _QWORD *v256; // rdi
  _QWORD *v257; // rax
  __int64 v258; // r12
  _QWORD *v259; // rdi
  __int64 v260; // rbx
  unsigned int v261; // ecx
  __int64 v262; // rsi
  unsigned int v263; // eax
  __int64 *v264; // r12
  __int64 v265; // rdx
  __int64 *v266; // rbx
  _BYTE *v267; // rax
  const char **v268; // r8
  const char **v269; // rdx
  const char **v270; // rax
  __int64 v271; // rdi
  __int64 *v272; // rax
  unsigned __int64 *v273; // rax
  int v274; // r14d
  size_t *v275; // rcx
  int v276; // edi
  int v277; // edx
  unsigned int v278; // esi
  int v279; // r10d
  size_t *v280; // rdi
  unsigned __int64 *v281; // rax
  __int64 v282; // r12
  unsigned __int64 *v283; // rax
  unsigned __int64 *v284; // rax
  __int64 *v285; // rax
  __int64 *v286; // rax
  __int64 *v287; // rax
  __int64 *v288; // rax
  unsigned __int64 *v289; // rax
  unsigned __int64 *v290; // rax
  __int64 *v291; // rax
  int v292; // edx
  int v293; // edi
  int v294; // r10d
  unsigned int v295; // esi
  int v296; // r8d
  int v297; // r8d
  int v298; // r8d
  __int64 *v299; // rax
  int v300; // r8d
  int v301; // edi
  __int64 v302; // [rsp-8h] [rbp-1E8h]
  __int64 v303; // [rsp+18h] [rbp-1C8h]
  __int64 v304; // [rsp+20h] [rbp-1C0h]
  __int64 *v305; // [rsp+28h] [rbp-1B8h]
  __int64 v306; // [rsp+30h] [rbp-1B0h]
  __int64 v307; // [rsp+30h] [rbp-1B0h]
  __int64 v308; // [rsp+38h] [rbp-1A8h]
  __int64 v309; // [rsp+38h] [rbp-1A8h]
  int v310; // [rsp+38h] [rbp-1A8h]
  __int64 v311; // [rsp+40h] [rbp-1A0h]
  unsigned int v312; // [rsp+40h] [rbp-1A0h]
  __int64 v313; // [rsp+40h] [rbp-1A0h]
  int v314; // [rsp+40h] [rbp-1A0h]
  __int64 v316; // [rsp+58h] [rbp-188h]
  __int64 v317; // [rsp+58h] [rbp-188h]
  __int64 v318; // [rsp+58h] [rbp-188h]
  __int64 v319; // [rsp+58h] [rbp-188h]
  __int64 v320; // [rsp+58h] [rbp-188h]
  __int64 *v321; // [rsp+58h] [rbp-188h]
  __int64 v322; // [rsp+58h] [rbp-188h]
  __int64 *v324; // [rsp+68h] [rbp-178h]
  __int64 v325; // [rsp+68h] [rbp-178h]
  __int64 v326; // [rsp+68h] [rbp-178h]
  _QWORD *v327; // [rsp+78h] [rbp-168h] BYREF
  __int64 *v328; // [rsp+80h] [rbp-160h] BYREF
  __int64 v329; // [rsp+88h] [rbp-158h]
  _BYTE v330[64]; // [rsp+90h] [rbp-150h] BYREF
  char *v331; // [rsp+D0h] [rbp-110h] BYREF
  __int64 v332; // [rsp+D8h] [rbp-108h]
  _QWORD v333[2]; // [rsp+E0h] [rbp-100h] BYREF
  __int16 v334; // [rsp+F0h] [rbp-F0h]
  unsigned __int64 *v335; // [rsp+120h] [rbp-C0h] BYREF
  __int64 v336; // [rsp+128h] [rbp-B8h]
  _BYTE v337[176]; // [rsp+130h] [rbp-B0h] BYREF

  v3 = a2;
  v4 = a3[43];
  v5 = *(_QWORD *)(a2 + 344);
  v6 = *(_QWORD *)(v5 + 40);
  v304 = v4[5];
  if ( *(_BYTE *)(a2 + 361) || (v7 = *(_QWORD *)(v5 - 32), *(_QWORD *)a2 == v7) )
    v7 = *(_QWORD *)(v5 - 64);
  if ( *((_BYTE *)a3 + 361) || (v8 = *(v4 - 4), *a3 == (_QWORD *)v8) )
    v8 = *(v4 - 8);
  v303 = sub_AA5780(*(_QWORD *)(a2 + 24));
  v9 = a1[154];
  v10 = a1[156];
  v11 = a1[153];
  v12 = v303;
  if ( !*(_BYTE *)(a2 + 361) )
    v12 = *(_QWORD *)(a2 + 24);
  sub_29BECA0(v12, a3[3], v11, v10, v9);
  sub_29BED80(v304, v6, a1[153], a1[156], a1[154]);
  v335 = (unsigned __int64 *)v337;
  v336 = 0x800000000LL;
  sub_AA5D60(v8, v304, v6);
  sub_BD2ED0(*(_QWORD *)(a2 + 344), v7, v8);
  v13 = v303;
  if ( !*(_BYTE *)(a2 + 361) )
    v13 = *(_QWORD *)(a2 + 24);
  v14 = *(_QWORD *)(v13 + 48) & 0xFFFFFFFFFFFFFFF8LL;
  if ( v14 == v13 + 48 )
  {
    v16 = 0;
  }
  else
  {
    if ( !v14 )
      BUG();
    v15 = *(unsigned __int8 *)(v14 - 24);
    v16 = 0;
    v17 = v14 - 24;
    if ( (unsigned int)(v15 - 30) < 0xB )
      v16 = v17;
  }
  sub_BD2ED0(v16, v304, (__int64)a3[1]);
  sub_B43D60(a3[43]);
  v18 = sub_AA48A0(v304);
  sub_B43C20((__int64)&v331, v304);
  v19 = sub_BD2C40(72, unk_3F148B8);
  if ( v19 )
    sub_B4C8A0((__int64)v19, v18, (__int64)v331, v332);
  v22 = (unsigned int)v336;
  v23 = HIDWORD(v336);
  v24 = v336;
  v25 = (unsigned __int64)*a3 | 4;
  if ( (unsigned int)v336 >= (unsigned __int64)HIDWORD(v336) )
  {
    v20 = (unsigned int)v336 + 1LL;
    if ( HIDWORD(v336) < v20 )
    {
      sub_C8D5F0((__int64)&v335, v337, (unsigned int)v336 + 1LL, 0x10u, v20, v21);
      v22 = (unsigned int)v336;
    }
    v285 = (__int64 *)&v335[2 * v22];
    *v285 = v304;
    v285[1] = v25;
    v23 = HIDWORD(v336);
    v27 = v336 + 1;
    LODWORD(v336) = v336 + 1;
  }
  else
  {
    v26 = (__int64 *)&v335[2 * (unsigned int)v336];
    if ( v26 )
    {
      v26[1] = v25;
      *v26 = v304;
      v24 = v336;
      v23 = HIDWORD(v336);
    }
    v27 = v24 + 1;
    LODWORD(v336) = v27;
  }
  v28 = v8;
  v29 = v27;
  v30 = v8 | 4;
  v31 = v28 & 0xFFFFFFFFFFFFFFFBLL;
  if ( v27 >= v23 )
  {
    v20 = v27 + 1LL;
    if ( v20 > v23 )
    {
      sub_C8D5F0((__int64)&v335, v337, v27 + 1LL, 0x10u, v20, v21);
      v29 = (unsigned int)v336;
    }
    v286 = (__int64 *)&v335[2 * v29];
    *v286 = v304;
    v286[1] = v30;
    v23 = HIDWORD(v336);
    v33 = v336 + 1;
    LODWORD(v336) = v336 + 1;
  }
  else
  {
    v32 = (__int64 *)&v335[2 * v27];
    if ( v32 )
    {
      v32[1] = v30;
      *v32 = v304;
      v27 = v336;
      v23 = HIDWORD(v336);
    }
    v33 = v27 + 1;
    LODWORD(v336) = v33;
  }
  v34 = v33;
  v35 = v304 | 4;
  if ( v33 >= v23 )
  {
    v20 = v33 + 1LL;
    if ( v20 > v23 )
    {
      sub_C8D5F0((__int64)&v335, v337, v33 + 1LL, 0x10u, v20, v21);
      v34 = (unsigned int)v336;
    }
    v287 = (__int64 *)&v335[2 * v34];
    *v287 = v6;
    v287[1] = v35;
    v23 = HIDWORD(v336);
    v37 = v336 + 1;
    v38 = v37;
    LODWORD(v336) = v336 + 1;
    if ( v37 < (unsigned __int64)HIDWORD(v336) )
      goto LABEL_27;
  }
  else
  {
    v36 = (__int64 *)&v335[2 * v33];
    if ( v36 )
    {
      *v36 = v6;
      v36[1] = v35;
      v33 = v336;
      v23 = HIDWORD(v336);
    }
    v37 = v33 + 1;
    v38 = v37;
    LODWORD(v336) = v37;
    if ( v37 < v23 )
    {
LABEL_27:
      v39 = (__int64 *)&v335[2 * v38];
      if ( v39 )
      {
        *v39 = v6;
        v39[1] = v31;
        v37 = v336;
      }
      LODWORD(v336) = v37 + 1;
      goto LABEL_30;
    }
  }
  v20 = v38 + 1;
  if ( v38 + 1 > v23 )
  {
    sub_C8D5F0((__int64)&v335, v337, v38 + 1, 0x10u, v20, v21);
    v38 = (unsigned int)v336;
  }
  v288 = (__int64 *)&v335[2 * v38];
  *v288 = v6;
  v288[1] = v31;
  LODWORD(v336) = v336 + 1;
LABEL_30:
  if ( *(_BYTE *)(a2 + 361) )
  {
    v251 = (unsigned int)v336;
    v252 = v336;
    if ( (unsigned int)v336 >= (unsigned __int64)HIDWORD(v336) )
    {
      if ( HIDWORD(v336) < (unsigned __int64)(unsigned int)v336 + 1 )
      {
        sub_C8D5F0((__int64)&v335, v337, (unsigned int)v336 + 1LL, 0x10u, v20, v21);
        v251 = (unsigned int)v336;
      }
      v299 = (__int64 *)&v335[2 * v251];
      v299[1] = v35;
      *v299 = v303;
      LODWORD(v336) = v336 + 1;
    }
    else
    {
      v253 = (__int64 *)&v335[2 * (unsigned int)v336];
      if ( v253 )
      {
        v253[1] = v35;
        *v253 = v303;
        v252 = v336;
      }
      LODWORD(v336) = v252 + 1;
    }
    v254 = *(_QWORD *)(v303 + 48) & 0xFFFFFFFFFFFFFFF8LL;
    if ( v254 == v303 + 48 )
    {
      v256 = 0;
    }
    else
    {
      if ( !v254 )
        BUG();
      v255 = *(unsigned __int8 *)(v254 - 24);
      v256 = 0;
      v257 = (_QWORD *)(v254 - 24);
      if ( (unsigned int)(v255 - 30) < 0xB )
        v256 = v257;
    }
    sub_B43D60(v256);
    v258 = sub_AA48A0(v303);
    sub_B43C20((__int64)&v331, v303);
    v259 = sub_BD2C40(72, unk_3F148B8);
    if ( v259 )
      sub_B4C8A0((__int64)v259, v258, (__int64)v331, v332);
  }
  v328 = (__int64 *)v330;
  v329 = 0x800000000LL;
  if ( *(_QWORD *)(a2 + 16) != *(_QWORD *)(a2 + 32) )
  {
    v40 = sub_AA5930(*(_QWORD *)(a2 + 8));
    v43 = (unsigned int)v329;
    v45 = v44;
    while ( v45 != v40 )
    {
      while ( 1 )
      {
        if ( v43 + 1 > (unsigned __int64)HIDWORD(v329) )
        {
          sub_C8D5F0((__int64)&v328, v330, v43 + 1, 8u, v41, v42);
          v43 = (unsigned int)v329;
        }
        v328[v43] = v40;
        v43 = (unsigned int)(v329 + 1);
        LODWORD(v329) = v329 + 1;
        if ( !v40 )
          BUG();
        v46 = *(_QWORD *)(v40 + 32);
        if ( !v46 )
          BUG();
        v40 = 0;
        if ( *(_BYTE *)(v46 - 24) != 84 )
          break;
        v40 = v46 - 24;
        if ( v45 == v46 - 24 )
          goto LABEL_40;
      }
    }
  }
LABEL_40:
  sub_AA5E80((__int64)*a3, *(_QWORD *)a2);
  sub_AA5E80(*(_QWORD *)(a2 + 32), (__int64)a3[4]);
  v47 = *(_QWORD *)(a2 + 16);
  v48 = *(_QWORD *)(v47 + 48) & 0xFFFFFFFFFFFFFFF8LL;
  if ( v48 == v47 + 48 )
  {
    v50 = 0;
  }
  else
  {
    if ( !v48 )
      BUG();
    v49 = *(unsigned __int8 *)(v48 - 24);
    v50 = 0;
    v51 = v48 - 24;
    if ( (unsigned int)(v49 - 30) < 0xB )
      v50 = v51;
  }
  sub_BD2ED0(v50, *(_QWORD *)(a2 + 24), (__int64)a3[1]);
  v53 = (unsigned int)v336;
  v54 = HIDWORD(v336);
  v55 = *(_QWORD *)(a2 + 16);
  v56 = *(_QWORD *)(a2 + 24) | 4LL;
  v57 = v336;
  if ( (unsigned int)v336 >= (unsigned __int64)HIDWORD(v336) )
  {
    if ( HIDWORD(v336) < (unsigned __int64)(unsigned int)v336 + 1 )
    {
      sub_C8D5F0((__int64)&v335, v337, (unsigned int)v336 + 1LL, 0x10u, (unsigned int)v336 + 1LL, v52);
      v53 = (unsigned int)v336;
    }
    v289 = &v335[2 * v53];
    *v289 = v55;
    v289[1] = v56;
    v55 = *(_QWORD *)(a2 + 16);
    v54 = HIDWORD(v336);
    v59 = v336 + 1;
    LODWORD(v336) = v336 + 1;
  }
  else
  {
    v58 = &v335[2 * (unsigned int)v336];
    if ( v58 )
    {
      *v58 = v55;
      v58[1] = v56;
      v57 = v336;
      v55 = *(_QWORD *)(a2 + 16);
      v54 = HIDWORD(v336);
    }
    v59 = v57 + 1;
    LODWORD(v336) = v59;
  }
  v60 = v59;
  v61 = (unsigned __int64)a3[1] & 0xFFFFFFFFFFFFFFFBLL;
  if ( v59 >= v54 )
  {
    if ( (unsigned __int64)v59 + 1 > v54 )
    {
      sub_C8D5F0((__int64)&v335, v337, v59 + 1LL, 0x10u, v59 + 1LL, v52);
      v60 = (unsigned int)v336;
    }
    v290 = &v335[2 * v60];
    *v290 = v55;
    v290[1] = v61;
    LODWORD(v336) = v336 + 1;
  }
  else
  {
    v62 = &v335[2 * v59];
    if ( v62 )
    {
      *v62 = v55;
      v62[1] = v61;
      v59 = v336;
    }
    LODWORD(v336) = v59 + 1;
  }
  v63 = *(_QWORD *)(a2 + 24);
  v64 = *(_QWORD *)(v63 + 48) & 0xFFFFFFFFFFFFFFF8LL;
  if ( v64 == v63 + 48 )
  {
    v66 = 0;
  }
  else
  {
    if ( !v64 )
      BUG();
    v65 = *(unsigned __int8 *)(v64 - 24);
    v66 = 0;
    v67 = (_QWORD *)(v64 - 24);
    if ( (unsigned int)(v65 - 30) < 0xB )
      v66 = v67;
  }
  sub_B43D60(v66);
  v68 = sub_AA48A0(*(_QWORD *)(a2 + 24));
  sub_B43C20((__int64)&v331, *(_QWORD *)(a2 + 24));
  v69 = sub_BD2C40(72, unk_3F148B8);
  if ( v69 )
    sub_B4C8A0((__int64)v69, v68, (__int64)v331, v332);
  v70 = (*a3)[6] & 0xFFFFFFFFFFFFFFF8LL;
  if ( (_QWORD *)v70 == *a3 + 6 )
  {
    v72 = 0;
  }
  else
  {
    if ( !v70 )
      BUG();
    v71 = *(unsigned __int8 *)(v70 - 24);
    v72 = 0;
    v73 = (_QWORD *)(v70 - 24);
    if ( (unsigned int)(v71 - 30) < 0xB )
      v72 = v73;
  }
  sub_B43D60(v72);
  v74 = sub_AA48A0((__int64)*a3);
  sub_B43C20((__int64)&v331, (__int64)*a3);
  v75 = sub_BD2C40(72, unk_3F148B8);
  if ( v75 )
    sub_B4C8A0((__int64)v75, v74, (__int64)v331, v332);
  v78 = (unsigned __int64)a3[1];
  v79 = (__int64)*a3;
  v80 = (unsigned int)v336;
  v81 = v78 | 4;
  v82 = v336;
  if ( (unsigned int)v336 >= (unsigned __int64)HIDWORD(v336) )
  {
    if ( HIDWORD(v336) < (unsigned __int64)(unsigned int)v336 + 1 )
    {
      sub_C8D5F0((__int64)&v335, v337, (unsigned int)v336 + 1LL, 0x10u, v76, v77);
      v80 = (unsigned int)v336;
    }
    v291 = (__int64 *)&v335[2 * v80];
    v84 = a1;
    v291[1] = v81;
    v85 = v316;
    *v291 = v79;
    LODWORD(v336) = v336 + 1;
    v78 = (unsigned __int64)a3[1];
  }
  else
  {
    v83 = (__int64 *)&v335[2 * (unsigned int)v336];
    if ( v83 )
    {
      v83[1] = v81;
      *v83 = v79;
      v82 = v336;
      v78 = (unsigned __int64)a3[1];
    }
    v84 = a1;
    v85 = v316;
    LODWORD(v336) = v82 + 1;
  }
  while ( 1 )
  {
    v86 = *(_QWORD *)(v78 + 56);
    if ( !v86 )
      BUG();
    if ( *(_BYTE *)(v86 - 24) != 84 )
      break;
    if ( sub_D97040(v84[155], *(_QWORD *)(v86 - 16)) )
      sub_DAC8D0(v84[155], (_BYTE *)(v86 - 24));
    if ( (unsigned __int8)sub_BD3660(v86 - 24, 1) )
    {
      v88 = sub_AA5190(*(_QWORD *)(v3 + 8));
      if ( v88 )
      {
        v89 = v87;
        v90 = HIBYTE(v87);
      }
      else
      {
        v90 = 0;
        v89 = 0;
      }
      LOBYTE(v85) = v89;
      v91 = v85;
      BYTE1(v91) = v90;
      v85 = v91;
      sub_B444E0((_QWORD *)(v86 - 24), v88, v91);
    }
    else
    {
      sub_B43D60((_QWORD *)(v86 - 24));
    }
    v78 = (unsigned __int64)a3[1];
  }
  v306 = *(_QWORD *)(v78 + 56);
  v324 = v328;
  v305 = &v328[(unsigned int)v329];
  if ( v305 != v328 )
  {
    v317 = v3;
    do
    {
      v92 = 0x1FFFFFFFE0LL;
      v93 = *v324;
      v94 = *(_QWORD *)(*v324 - 8);
      if ( (*(_DWORD *)(*v324 + 4) & 0x7FFFFFF) != 0 )
      {
        v95 = 0;
        do
        {
          if ( a3[4] == *(_QWORD **)(v94 + 32LL * *(unsigned int *)(v93 + 72) + 8 * v95) )
          {
            v92 = 32 * v95;
            goto LABEL_85;
          }
          ++v95;
        }
        while ( (*(_DWORD *)(*v324 + 4) & 0x7FFFFFF) != (_DWORD)v95 );
        v92 = 0x1FFFFFFFE0LL;
      }
LABEL_85:
      v96 = *(_QWORD *)(v94 + v92);
      v331 = (char *)sub_BD5D20(*v324);
      v334 = 773;
      v332 = v97;
      v333[0] = ".afterFC0";
      v311 = *(_QWORD *)(v96 + 8);
      v98 = sub_BD2DA0(80);
      v99 = v98;
      if ( v98 )
      {
        v100 = (_QWORD *)v98;
        sub_B44260(v98, v311, 55, 0x8000000u, 0, 0);
        *(_DWORD *)(v99 + 72) = 2;
        sub_BD6B50((unsigned __int8 *)v99, (const char **)&v331);
        sub_BD2A10(v99, *(_DWORD *)(v99 + 72), 1);
      }
      else
      {
        v100 = 0;
      }
      sub_B44220(v100, v306, 1);
      v101 = *(_QWORD *)(v317 + 32);
      v102 = *(_DWORD *)(v99 + 4) & 0x7FFFFFF;
      if ( v102 == *(_DWORD *)(v99 + 72) )
      {
        sub_B48D90(v99);
        v102 = *(_DWORD *)(v99 + 4) & 0x7FFFFFF;
      }
      v103 = (v102 + 1) & 0x7FFFFFF;
      v104 = v103 | *(_DWORD *)(v99 + 4) & 0xF8000000;
      v105 = *(_QWORD *)(v99 - 8) + 32LL * (unsigned int)(v103 - 1);
      *(_DWORD *)(v99 + 4) = v104;
      if ( *(_QWORD *)v105 )
      {
        v106 = *(_QWORD *)(v105 + 8);
        **(_QWORD **)(v105 + 16) = v106;
        if ( v106 )
          *(_QWORD *)(v106 + 16) = *(_QWORD *)(v105 + 16);
      }
      *(_QWORD *)v105 = v96;
      v107 = *(_QWORD *)(v96 + 16);
      *(_QWORD *)(v105 + 8) = v107;
      if ( v107 )
        *(_QWORD *)(v107 + 16) = v105 + 8;
      *(_QWORD *)(v105 + 16) = v96 + 16;
      *(_QWORD *)(v96 + 16) = v105;
      *(_QWORD *)(*(_QWORD *)(v99 - 8)
                + 32LL * *(unsigned int *)(v99 + 72)
                + 8LL * ((*(_DWORD *)(v99 + 4) & 0x7FFFFFFu) - 1)) = v101;
      v108 = *(_QWORD *)(v317 + 16);
      v109 = sub_ACA8A0(*(__int64 ***)(v96 + 8));
      v110 = *(_DWORD *)(v99 + 4) & 0x7FFFFFF;
      if ( v110 == *(_DWORD *)(v99 + 72) )
      {
        sub_B48D90(v99);
        v110 = *(_DWORD *)(v99 + 4) & 0x7FFFFFF;
      }
      v111 = (v110 + 1) & 0x7FFFFFF;
      v112 = v111 | *(_DWORD *)(v99 + 4) & 0xF8000000;
      v113 = *(_QWORD *)(v99 - 8) + 32LL * (unsigned int)(v111 - 1);
      *(_DWORD *)(v99 + 4) = v112;
      if ( *(_QWORD *)v113 )
      {
        v114 = *(_QWORD *)(v113 + 8);
        **(_QWORD **)(v113 + 16) = v114;
        if ( v114 )
          *(_QWORD *)(v114 + 16) = *(_QWORD *)(v113 + 16);
      }
      *(_QWORD *)v113 = v109;
      if ( v109 )
      {
        v115 = *(_QWORD *)(v109 + 16);
        *(_QWORD *)(v113 + 8) = v115;
        if ( v115 )
          *(_QWORD *)(v115 + 16) = v113 + 8;
        *(_QWORD *)(v113 + 16) = v109 + 16;
        *(_QWORD *)(v109 + 16) = v113;
      }
      *(_QWORD *)(*(_QWORD *)(v99 - 8)
                + 32LL * *(unsigned int *)(v99 + 72)
                + 8LL * ((*(_DWORD *)(v99 + 4) & 0x7FFFFFFu) - 1)) = v108;
      v116 = *(_QWORD *)(v93 - 8) + v92;
      if ( *(_QWORD *)v116 )
      {
        v117 = *(_QWORD *)(v116 + 8);
        **(_QWORD **)(v116 + 16) = v117;
        if ( v117 )
          *(_QWORD *)(v117 + 16) = *(_QWORD *)(v116 + 16);
      }
      *(_QWORD *)v116 = v99;
      v118 = *(_QWORD *)(v99 + 16);
      *(_QWORD *)(v116 + 8) = v118;
      if ( v118 )
        *(_QWORD *)(v118 + 16) = v116 + 8;
      ++v324;
      *(_QWORD *)(v116 + 16) = v99 + 16;
      *(_QWORD *)(v99 + 16) = v116;
    }
    while ( v305 != v324 );
    v3 = v317;
  }
  v119 = *(_QWORD *)(v3 + 32);
  v120 = *(_QWORD *)(v119 + 48) & 0xFFFFFFFFFFFFFFF8LL;
  if ( v120 == v119 + 48 )
  {
    v122 = 0;
  }
  else
  {
    if ( !v120 )
      BUG();
    v121 = *(unsigned __int8 *)(v120 - 24);
    v122 = 0;
    v123 = v120 - 24;
    if ( (unsigned int)(v121 - 30) < 0xB )
      v122 = v123;
  }
  sub_BD2ED0(v122, *(_QWORD *)(v3 + 8), (__int64)a3[1]);
  v124 = a3[4];
  v125 = v124[6] & 0xFFFFFFFFFFFFFFF8LL;
  if ( (_QWORD *)v125 == v124 + 6 )
  {
    v127 = 0;
  }
  else
  {
    if ( !v125 )
      BUG();
    v126 = *(unsigned __int8 *)(v125 - 24);
    v127 = 0;
    v128 = v125 - 24;
    if ( (unsigned int)(v126 - 30) < 0xB )
      v127 = v128;
  }
  sub_BD2ED0(v127, (__int64)a3[1], *(_QWORD *)(v3 + 8));
  v131 = *(_QWORD *)(v3 + 32);
  v132 = *(_QWORD *)(v131 + 48) & 0xFFFFFFFFFFFFFFF8LL;
  if ( v132 == v131 + 48 )
    goto LABEL_393;
  if ( !v132 )
    BUG();
  v133 = v132 - 24;
  if ( (unsigned int)*(unsigned __int8 *)(v132 - 24) - 30 > 0xA )
LABEL_393:
    BUG();
  if ( *(_BYTE *)(v132 - 24) == 31 )
  {
    v134 = *(_QWORD *)(v132 - 56);
    v135 = (unsigned __int8 *)sub_BD2C40(72, 1u);
    v136 = v135;
    if ( v135 )
      sub_B4C8F0((__int64)v135, v134, 1u, 0, 0);
    sub_F34910(v133, v136);
    v131 = *(_QWORD *)(v3 + 32);
  }
  v137 = v336;
  v138 = HIDWORD(v336);
  if ( *(_QWORD *)(v3 + 16) != v131 )
  {
    v139 = (unsigned int)v336;
    v140 = (unsigned __int64)a3[1] & 0xFFFFFFFFFFFFFFFBLL;
    if ( (unsigned int)v336 >= (unsigned __int64)HIDWORD(v336) )
    {
      v129 = (unsigned int)v336 + 1LL;
      if ( v129 > HIDWORD(v336) )
      {
        sub_C8D5F0((__int64)&v335, v337, (unsigned int)v336 + 1LL, 0x10u, v129, v130);
        v139 = (unsigned int)v336;
      }
      v273 = &v335[2 * v139];
      *v273 = v131;
      v273[1] = v140;
      v131 = *(_QWORD *)(v3 + 32);
      v138 = HIDWORD(v336);
      v137 = v336 + 1;
      LODWORD(v336) = v336 + 1;
    }
    else
    {
      v141 = &v335[2 * (unsigned int)v336];
      if ( v141 )
      {
        *v141 = v131;
        v141[1] = v140;
        v137 = v336;
        v131 = *(_QWORD *)(v3 + 32);
        v138 = HIDWORD(v336);
      }
      LODWORD(v336) = ++v137;
    }
  }
  v142 = v137;
  v143 = *(_QWORD *)(v3 + 8);
  v144 = v143 | 4;
  v145 = v143 & 0xFFFFFFFFFFFFFFFBLL;
  if ( v137 >= v138 )
  {
    v129 = v137 + 1LL;
    if ( v129 > v138 )
    {
      sub_C8D5F0((__int64)&v335, v337, v137 + 1LL, 0x10u, v129, v130);
      v142 = (unsigned int)v336;
    }
    v281 = &v335[2 * v142];
    *v281 = v131;
    v281[1] = v144;
    v282 = *(_QWORD *)(v3 + 8);
    v138 = HIDWORD(v336);
    v147 = v336 + 1;
    LODWORD(v336) = v336 + 1;
    v145 = v282 & 0xFFFFFFFFFFFFFFFBLL;
  }
  else
  {
    v146 = &v335[2 * v137];
    if ( v146 )
    {
      *v146 = v131;
      v146[1] = v144;
      v137 = v336;
      v138 = HIDWORD(v336);
      v145 = *(_QWORD *)(v3 + 8) & 0xFFFFFFFFFFFFFFFBLL;
    }
    v147 = v137 + 1;
    LODWORD(v336) = v147;
  }
  v148 = v147;
  v149 = a3[4];
  if ( v138 <= v147 )
  {
    v129 = v147 + 1LL;
    if ( v138 < v129 )
    {
      sub_C8D5F0((__int64)&v335, v337, v147 + 1LL, 0x10u, v129, v130);
      v148 = (unsigned int)v336;
    }
    v283 = &v335[2 * v148];
    *v283 = (unsigned __int64)v149;
    v283[1] = v145;
    v149 = a3[4];
    v138 = HIDWORD(v336);
    v151 = v336 + 1;
    LODWORD(v336) = v336 + 1;
  }
  else
  {
    v150 = &v335[2 * v147];
    if ( v150 )
    {
      *v150 = (unsigned __int64)v149;
      v150[1] = v145;
      v147 = v336;
      v149 = a3[4];
      v138 = HIDWORD(v336);
    }
    v151 = v147 + 1;
    LODWORD(v336) = v151;
  }
  v152 = v151;
  v153 = (unsigned __int64)a3[1] | 4;
  if ( v138 <= v151 )
  {
    v129 = v151 + 1LL;
    if ( v138 < v129 )
    {
      sub_C8D5F0((__int64)&v335, v337, v151 + 1LL, 0x10u, v129, v130);
      v152 = (unsigned int)v336;
    }
    v284 = &v335[2 * v152];
    *v284 = (unsigned __int64)v149;
    v154 = v335;
    v284[1] = v153;
    v156 = v336 + 1;
    LODWORD(v336) = v336 + 1;
  }
  else
  {
    v154 = v335;
    v155 = &v335[2 * v151];
    if ( v155 )
    {
      *v155 = (unsigned __int64)v149;
      v154 = v335;
      v155[1] = v153;
      v151 = v336;
    }
    v156 = v151 + 1;
    LODWORD(v336) = v156;
  }
  v325 = (__int64)(a1 + 65);
  sub_FFB3D0((__int64)(a1 + 65), v154, v156, v138, v129, v130);
  v157 = a1[152];
  v158 = *(unsigned int *)(v157 + 24);
  v159 = *(_QWORD *)(v157 + 8);
  if ( !(_DWORD)v158 )
    goto LABEL_184;
  v160 = v158 - 1;
  v161 = (v158 - 1) & (((unsigned int)v304 >> 9) ^ ((unsigned int)v304 >> 4));
  v162 = (__int64 *)(v159 + 16LL * v161);
  v163 = *v162;
  if ( v304 != *v162 )
  {
    v297 = 1;
    while ( v163 != -4096 )
    {
      v161 = v160 & (v297 + v161);
      v162 = (__int64 *)(v159 + 16LL * v161);
      v163 = *v162;
      if ( v304 == *v162 )
        goto LABEL_144;
      ++v297;
    }
    goto LABEL_354;
  }
LABEL_144:
  if ( v162 == (__int64 *)(v159 + 16LL * (unsigned int)v158) )
  {
LABEL_354:
    v170 = (const char *)*a3;
    goto LABEL_157;
  }
  if ( v162[1] )
  {
    v318 = a1[152];
    v164 = (__int64 *)v162[1];
    do
    {
      v331 = (char *)v304;
      v165 = sub_2813C40((_QWORD *)v164[4], v164[5], (__int64 *)&v331);
      sub_F681A0((__int64)(v164 + 4), v165);
      if ( *((_BYTE *)v164 + 84) )
      {
        v166 = (const char **)v164[8];
        v167 = &v166[*((unsigned int *)v164 + 19)];
        v168 = v166;
        if ( v166 != v167 )
        {
          while ( v331 != *v168 )
          {
            if ( v167 == ++v168 )
              goto LABEL_153;
          }
          v169 = (unsigned int)(*((_DWORD *)v164 + 19) - 1);
          *((_DWORD *)v164 + 19) = v169;
          *v168 = v166[v169];
          ++v164[7];
        }
      }
      else
      {
        v248 = sub_C8CA60((__int64)(v164 + 7), (__int64)v331);
        if ( v248 )
        {
          *v248 = -2;
          ++*((_DWORD *)v164 + 20);
          ++v164[7];
        }
      }
LABEL_153:
      v164 = (__int64 *)*v164;
    }
    while ( v164 );
    v157 = v318;
  }
  *v162 = -8192;
  --*(_DWORD *)(v157 + 16);
  ++*(_DWORD *)(v157 + 20);
  v157 = a1[152];
  v170 = (const char *)*a3;
  v158 = *(unsigned int *)(v157 + 24);
  v159 = *(_QWORD *)(v157 + 8);
  if ( !(_DWORD)v158 )
    goto LABEL_184;
  v160 = v158 - 1;
LABEL_157:
  v171 = v160 & (((unsigned int)v170 >> 9) ^ ((unsigned int)v170 >> 4));
  v172 = (const char **)(v159 + 16LL * v171);
  v173 = *v172;
  if ( *v172 != v170 )
  {
    v298 = 1;
    while ( v173 != (const char *)-4096LL )
    {
      v171 = v160 & (v298 + v171);
      v172 = (const char **)(v159 + 16LL * v171);
      v173 = *v172;
      if ( *v172 == v170 )
        goto LABEL_158;
      ++v298;
    }
    goto LABEL_357;
  }
LABEL_158:
  if ( v172 == (const char **)(v159 + 16LL * (unsigned int)v158) )
  {
LABEL_357:
    v180 = *(const char **)(v3 + 24);
LABEL_171:
    v181 = v160 & (((unsigned int)v180 >> 9) ^ ((unsigned int)v180 >> 4));
    v182 = (const char **)(v159 + 16LL * v181);
    v183 = *v182;
    if ( *v182 == v180 )
    {
LABEL_172:
      if ( v182 != (const char **)(16 * v158 + v159) )
      {
        if ( v182[1] )
        {
          v320 = v157;
          v184 = v182[1];
          do
          {
            v331 = (char *)v180;
            v185 = sub_2813C40(*((_QWORD **)v184 + 4), *((_QWORD *)v184 + 5), (__int64 *)&v331);
            sub_F681A0((__int64)(v184 + 32), v185);
            if ( v184[84] )
            {
              v186 = (const char **)*((_QWORD *)v184 + 8);
              v187 = &v186[*((unsigned int *)v184 + 19)];
              v188 = v186;
              if ( v186 != v187 )
              {
                while ( v331 != *v188 )
                {
                  if ( v187 == ++v188 )
                    goto LABEL_181;
                }
                v189 = (unsigned int)(*((_DWORD *)v184 + 19) - 1);
                *((_DWORD *)v184 + 19) = v189;
                *v188 = v186[v189];
                ++*((_QWORD *)v184 + 7);
              }
            }
            else
            {
              v246 = sub_C8CA60((__int64)(v184 + 56), (__int64)v331);
              if ( v246 )
              {
                *v246 = -2;
                ++*((_DWORD *)v184 + 20);
                ++*((_QWORD *)v184 + 7);
              }
            }
LABEL_181:
            v184 = *(const char **)v184;
          }
          while ( v184 );
          v157 = v320;
        }
        *v182 = (const char *)-8192LL;
        --*(_DWORD *)(v157 + 16);
        ++*(_DWORD *)(v157 + 20);
      }
    }
    else
    {
      v296 = 1;
      while ( v183 != (const char *)-4096LL )
      {
        v181 = v160 & (v296 + v181);
        v182 = (const char **)(v159 + 16LL * v181);
        v183 = *v182;
        if ( *v182 == v180 )
          goto LABEL_172;
        ++v296;
      }
    }
    goto LABEL_184;
  }
  if ( v172[1] )
  {
    v319 = v157;
    v174 = v172[1];
    do
    {
      v331 = (char *)v170;
      v175 = sub_2813C40(*((_QWORD **)v174 + 4), *((_QWORD *)v174 + 5), (__int64 *)&v331);
      sub_F681A0((__int64)(v174 + 32), v175);
      if ( v174[84] )
      {
        v176 = (const char **)*((_QWORD *)v174 + 8);
        v177 = &v176[*((unsigned int *)v174 + 19)];
        v178 = v176;
        if ( v176 != v177 )
        {
          while ( v331 != *v178 )
          {
            if ( v177 == ++v178 )
              goto LABEL_167;
          }
          v179 = (unsigned int)(*((_DWORD *)v174 + 19) - 1);
          *((_DWORD *)v174 + 19) = v179;
          *v178 = v176[v179];
          ++*((_QWORD *)v174 + 7);
        }
      }
      else
      {
        v247 = sub_C8CA60((__int64)(v174 + 56), (__int64)v331);
        if ( v247 )
        {
          *v247 = -2;
          ++*((_DWORD *)v174 + 20);
          ++*((_QWORD *)v174 + 7);
        }
      }
LABEL_167:
      v174 = *(const char **)v174;
    }
    while ( v174 );
    v157 = v319;
  }
  *v172 = (const char *)-8192LL;
  --*(_DWORD *)(v157 + 16);
  ++*(_DWORD *)(v157 + 20);
  v157 = a1[152];
  v180 = *(const char **)(v3 + 24);
  v158 = *(unsigned int *)(v157 + 24);
  v159 = *(_QWORD *)(v157 + 8);
  if ( (_DWORD)v158 )
  {
    v160 = v158 - 1;
    goto LABEL_171;
  }
LABEL_184:
  if ( *(_BYTE *)(v3 + 361) )
  {
    v260 = a1[152];
    v261 = *(_DWORD *)(v260 + 24);
    v262 = *(_QWORD *)(v260 + 8);
    if ( v261 )
    {
      v263 = (v261 - 1) & (((unsigned int)v303 >> 9) ^ ((unsigned int)v303 >> 4));
      v264 = (__int64 *)(v262 + 16LL * v263);
      v265 = *v264;
      if ( v303 == *v264 )
      {
LABEL_267:
        if ( v264 != (__int64 *)(v262 + 16LL * v261) )
        {
          if ( v264[1] )
          {
            v322 = a1[152];
            v266 = (__int64 *)v264[1];
            do
            {
              v331 = (char *)v303;
              v267 = sub_2813C40((_QWORD *)v266[4], v266[5], (__int64 *)&v331);
              sub_F681A0((__int64)(v266 + 4), v267);
              if ( *((_BYTE *)v266 + 84) )
              {
                v268 = (const char **)v266[8];
                v269 = &v268[*((unsigned int *)v266 + 19)];
                v270 = v268;
                if ( v268 != v269 )
                {
                  while ( v331 != *v270 )
                  {
                    if ( v269 == ++v270 )
                      goto LABEL_276;
                  }
                  v271 = (unsigned int)(*((_DWORD *)v266 + 19) - 1);
                  *((_DWORD *)v266 + 19) = v271;
                  *v270 = v268[v271];
                  ++v266[7];
                }
              }
              else
              {
                v272 = sub_C8CA60((__int64)(v266 + 7), (__int64)v331);
                if ( v272 )
                {
                  *v272 = -2;
                  ++*((_DWORD *)v266 + 20);
                  ++v266[7];
                }
              }
LABEL_276:
              v266 = (__int64 *)*v266;
            }
            while ( v266 );
            v260 = v322;
          }
          *v264 = -8192;
          --*(_DWORD *)(v260 + 16);
          ++*(_DWORD *)(v260 + 20);
        }
      }
      else
      {
        v300 = 1;
        while ( v265 != -4096 )
        {
          v263 = (v261 - 1) & (v300 + v263);
          v264 = (__int64 *)(v262 + 16LL * v263);
          v265 = *v264;
          if ( v303 == *v264 )
            goto LABEL_267;
          ++v300;
        }
      }
    }
    sub_FFBF00(v325, (_QWORD *)v303);
  }
  sub_FFBF00(v325, (_QWORD *)v304);
  sub_FFBF00(v325, *a3);
  v190 = *(_QWORD **)(v3 + 24);
  sub_FFBF00(v325, v190);
  sub_FFCE90(v325, (__int64)v190, v191, v192, v193, v194);
  sub_FFD870(v325, (__int64)v190, v195, v196, v197, v198);
  sub_FFBC40(v325, (__int64)v190);
  sub_DAC210(a1[155], (unsigned __int64)a3[5]);
  sub_DAC210(a1[155], *(_QWORD *)(v3 + 40));
  sub_D9D700(a1[155], 0);
  sub_29BECA0(*(_QWORD *)(v3 + 32), a3[4], a1[153], a1[156], a1[154]);
  v201 = sub_AA5780(*(_QWORD *)(v3 + 32));
  if ( v201 )
  {
    sub_F39690(v201, v325, a1[152], 0, 0, 0, 0);
    sub_FFCE90(v325, v325, v203, v204, v205, v206);
    sub_FFD870(v325, v325, v207, v208, v209, v210);
    sub_FFBC40(v325, v325);
    v199 = v302;
  }
  v211 = a3[5];
  v212 = (_BYTE *)v211[5];
  v213 = (_BYTE *)v211[4];
  v331 = (char *)v333;
  v214 = v212 - v213;
  v332 = 0x800000000LL;
  v215 = (v212 - v213) >> 3;
  if ( (unsigned __int64)(v212 - v213) > 0x40 )
  {
    sub_C8D5F0((__int64)&v331, v333, (v212 - v213) >> 3, 8u, v214, v202);
    v216 = (__int64 *)v331;
    v217 = v332;
    v214 = v212 - v213;
    v218 = &v331[8 * (unsigned int)v332];
  }
  else
  {
    v216 = v333;
    v217 = 0;
    v218 = (char *)v333;
  }
  if ( v213 != v212 )
  {
    memcpy(v218, v213, v214);
    v216 = (__int64 *)v331;
    v217 = v332;
  }
  LODWORD(v332) = v215 + v217;
  v321 = &v216[(unsigned int)(v215 + v217)];
  if ( v321 != v216 )
  {
    v326 = v3;
    while ( 1 )
    {
      v219 = *v216;
      v220 = *(_QWORD *)(v326 + 40);
      v327 = (_QWORD *)*v216;
      v221 = *(_BYTE **)(v220 + 40);
      if ( v221 == *(_BYTE **)(v220 + 48) )
      {
        sub_9319A0(v220 + 32, v221, &v327);
        v222 = (__int64)v327;
      }
      else
      {
        if ( v221 )
        {
          *(_QWORD *)v221 = v219;
          v221 = *(_BYTE **)(v220 + 40);
        }
        *(_QWORD *)(v220 + 40) = v221 + 8;
        v222 = v219;
      }
      if ( !*(_BYTE *)(v220 + 84) )
        break;
      v223 = *(_QWORD **)(v220 + 64);
      v224 = *(unsigned int *)(v220 + 76);
      v199 = (__int64)&v223[v224];
      if ( v223 == (_QWORD *)v199 )
      {
LABEL_230:
        if ( (unsigned int)v224 >= *(_DWORD *)(v220 + 72) )
          break;
        *(_DWORD *)(v220 + 76) = v224 + 1;
        *(_QWORD *)v199 = v222;
        ++*(_QWORD *)(v220 + 56);
      }
      else
      {
        while ( v222 != *v223 )
        {
          if ( (_QWORD *)v199 == ++v223 )
            goto LABEL_230;
        }
      }
LABEL_202:
      v225 = a3[5];
      v327 = (_QWORD *)v219;
      v226 = sub_2813C40((_QWORD *)v225[4], v225[5], (__int64 *)&v327);
      sub_F681A0((__int64)(v225 + 4), v226);
      if ( *((_BYTE *)v225 + 84) )
      {
        v214 = v225[8];
        v227 = (_QWORD *)(v214 + 8LL * *((unsigned int *)v225 + 19));
        v228 = (_QWORD *)v214;
        if ( (_QWORD *)v214 != v227 )
        {
          while ( v327 != (_QWORD *)*v228 )
          {
            if ( v227 == ++v228 )
              goto LABEL_208;
          }
          v229 = (unsigned int)(*((_DWORD *)v225 + 19) - 1);
          *((_DWORD *)v225 + 19) = v229;
          *v228 = *(_QWORD *)(v214 + 8 * v229);
          ++v225[7];
        }
      }
      else
      {
        v242 = sub_C8CA60((__int64)(v225 + 7), (__int64)v327);
        if ( v242 )
        {
          *v242 = -2;
          ++*((_DWORD *)v225 + 20);
          ++v225[7];
        }
      }
LABEL_208:
      v230 = a1[152];
      v231 = *(_DWORD *)(v230 + 24);
      v199 = *(_QWORD *)(v230 + 8);
      if ( v231 )
      {
        v214 = v231 - 1;
        v232 = v214 & (((unsigned int)v219 >> 9) ^ ((unsigned int)v219 >> 4));
        v233 = (__int64 *)(v199 + 16LL * v232);
        v234 = *v233;
        if ( v219 == *v233 )
        {
LABEL_210:
          v200 = v233[1];
          goto LABEL_211;
        }
        v245 = 1;
        while ( v234 != -4096 )
        {
          v202 = (unsigned int)(v245 + 1);
          v232 = v214 & (v245 + v232);
          v233 = (__int64 *)(v199 + 16LL * v232);
          v234 = *v233;
          if ( v219 == *v233 )
            goto LABEL_210;
          v245 = v202;
        }
      }
      v200 = 0;
LABEL_211:
      if ( a3[5] == (_QWORD *)v200 )
      {
        v200 = v326;
        v243 = *(_QWORD *)(v326 + 40);
        if ( !v243 )
        {
          if ( v231 )
          {
            v249 = v231 - 1;
            v250 = v249 & (((unsigned int)v219 >> 9) ^ ((unsigned int)v219 >> 4));
            v200 = v199 + 16LL * v250;
            v202 = *(_QWORD *)v200;
            if ( v219 == *(_QWORD *)v200 )
            {
LABEL_253:
              *(_QWORD *)v200 = -8192;
              --*(_DWORD *)(v230 + 16);
              ++*(_DWORD *)(v230 + 20);
            }
            else
            {
              v200 = 1;
              while ( v202 != -4096 )
              {
                v214 = (unsigned int)(v200 + 1);
                v250 = v249 & (v200 + v250);
                v200 = v199 + 16LL * v250;
                v202 = *(_QWORD *)v200;
                if ( v219 == *(_QWORD *)v200 )
                  goto LABEL_253;
                v200 = (unsigned int)v214;
              }
            }
          }
          goto LABEL_212;
        }
        if ( v231 )
        {
          v312 = ((unsigned int)v219 >> 9) ^ ((unsigned int)v219 >> 4);
          v214 = (v231 - 1) & v312;
          v244 = (__int64 *)(v199 + 16 * v214);
          v202 = *v244;
          if ( v219 == *v244 )
          {
LABEL_237:
            v200 = (__int64)(v244 + 1);
LABEL_238:
            *(_QWORD *)v200 = v243;
            goto LABEL_212;
          }
          v274 = 1;
          v275 = 0;
          while ( v202 != -4096 )
          {
            if ( !v275 && v202 == -8192 )
              v275 = (size_t *)v244;
            v301 = v274++;
            v214 = (v231 - 1) & (v301 + (_DWORD)v214);
            v244 = (__int64 *)(v199 + 16LL * (unsigned int)v214);
            v202 = *v244;
            if ( v219 == *v244 )
              goto LABEL_237;
          }
          if ( !v275 )
            v275 = (size_t *)v244;
          v276 = *(_DWORD *)(v230 + 16);
          ++*(_QWORD *)v230;
          v199 = (unsigned int)(v276 + 1);
          if ( 4 * (int)v199 < 3 * v231 )
          {
            v214 = v231 >> 3;
            if ( v231 - *(_DWORD *)(v230 + 20) - (unsigned int)v199 <= (unsigned int)v214 )
            {
              v309 = v230;
              v307 = v243;
              sub_D4F150(v230, v231);
              v230 = v309;
              v292 = *(_DWORD *)(v309 + 24);
              if ( !v292 )
              {
LABEL_386:
                ++*(_DWORD *)(v230 + 16);
                BUG();
              }
              v202 = *(_QWORD *)(v309 + 8);
              v293 = *(_DWORD *)(v309 + 16);
              v294 = 1;
              v310 = v292 - 1;
              v199 = (unsigned int)(v293 + 1);
              v280 = 0;
              v243 = v307;
              v295 = v310 & v312;
              v275 = (size_t *)(v202 + 16LL * (v310 & v312));
              v214 = *v275;
              if ( v219 != *v275 )
              {
                while ( v214 != -4096 )
                {
                  if ( v214 == -8192 && !v280 )
                    v280 = v275;
                  v295 = v310 & (v294 + v295);
                  v275 = (size_t *)(v202 + 16LL * v295);
                  v214 = *v275;
                  if ( v219 == *v275 )
                    goto LABEL_294;
                  ++v294;
                }
                goto LABEL_340;
              }
            }
            goto LABEL_294;
          }
        }
        else
        {
          ++*(_QWORD *)v230;
        }
        v313 = v230;
        v308 = v243;
        sub_D4F150(v230, 2 * v231);
        v230 = v313;
        v277 = *(_DWORD *)(v313 + 24);
        if ( !v277 )
          goto LABEL_386;
        v202 = *(_QWORD *)(v313 + 8);
        v314 = v277 - 1;
        v243 = v308;
        v278 = (v277 - 1) & (((unsigned int)v219 >> 9) ^ ((unsigned int)v219 >> 4));
        v199 = (unsigned int)(*(_DWORD *)(v230 + 16) + 1);
        v275 = (size_t *)(v202 + 16LL * v278);
        v214 = *v275;
        if ( v219 != *v275 )
        {
          v279 = 1;
          v280 = 0;
          while ( v214 != -4096 )
          {
            if ( v214 == -8192 && !v280 )
              v280 = v275;
            v278 = v314 & (v279 + v278);
            v275 = (size_t *)(v202 + 16LL * v278);
            v214 = *v275;
            if ( v219 == *v275 )
              goto LABEL_294;
            ++v279;
          }
LABEL_340:
          if ( v280 )
            v275 = v280;
        }
LABEL_294:
        *(_DWORD *)(v230 + 16) = v199;
        if ( *v275 != -4096 )
          --*(_DWORD *)(v230 + 20);
        *v275 = v219;
        v200 = (__int64)(v275 + 1);
        *(_QWORD *)v200 = 0;
        goto LABEL_238;
      }
LABEL_212:
      if ( v321 == ++v216 )
      {
        v3 = v326;
        goto LABEL_214;
      }
    }
    sub_C8CC70(v220 + 56, v222, v199, v200, v214, v202);
    goto LABEL_202;
  }
LABEL_214:
  v235 = a3[5];
  for ( i = (_BYTE *)v235[1]; (_BYTE *)v235[2] != i; i = (_BYTE *)v235[1] )
  {
    while ( 1 )
    {
      v238 = *(_QWORD **)i;
      sub_D4C9B0((__int64)(v235 + 1), i);
      *v238 = 0;
      v239 = *(_QWORD *)(v3 + 40);
      v327 = v238;
      *v238 = v239;
      v237 = *(_BYTE **)(v239 + 16);
      if ( v237 != *(_BYTE **)(v239 + 24) )
        break;
      sub_D4C7F0(v239 + 8, v237, &v327);
      v235 = a3[5];
      i = (_BYTE *)v235[1];
      if ( (_BYTE *)v235[2] == i )
        goto LABEL_221;
    }
    if ( v237 )
    {
      *(_QWORD *)v237 = v327;
      v237 = *(_BYTE **)(v239 + 16);
    }
    *(_QWORD *)(v239 + 16) = v237 + 8;
    v235 = a3[5];
  }
LABEL_221:
  sub_D4F720(a1[152], v235);
  v240 = *(_QWORD *)(v3 + 40);
  if ( v331 != (char *)v333 )
    _libc_free((unsigned __int64)v331);
  if ( v328 != (__int64 *)v330 )
    _libc_free((unsigned __int64)v328);
  if ( v335 != (unsigned __int64 *)v337 )
    _libc_free((unsigned __int64)v335);
  return v240;
}
