// Function: sub_3146A80
// Address: 0x3146a80
//
void __fastcall sub_3146A80(__int64 *a1, _QWORD *a2, __int64 a3, __int64 a4, unsigned __int64 a5, __int64 a6)
{
  __int64 v7; // rdx
  __int64 v8; // rax
  __int64 v9; // rdx
  __int64 v10; // rdx
  __int64 v11; // rdx
  _QWORD *v12; // rsi
  unsigned int v13; // ecx
  unsigned int v14; // edx
  unsigned int v15; // eax
  __int64 v16; // rbx
  __int64 v17; // rsi
  _QWORD *v18; // rax
  __int64 v19; // rbx
  __int64 v20; // rdx
  int v21; // eax
  __int64 *v22; // rdx
  int v23; // eax
  bool v24; // zf
  unsigned __int64 v25; // rsi
  __int64 v26; // rax
  __int64 v27; // rdx
  __int64 v28; // rbx
  __int64 v29; // r9
  __int64 v30; // rdx
  int v31; // eax
  __int64 *v32; // rdx
  __int64 v33; // rdx
  int v34; // eax
  __int64 v35; // rbx
  _QWORD *v36; // rdx
  __int64 v37; // rdi
  unsigned int v38; // eax
  __int64 v39; // rax
  __int64 *v40; // rdx
  __int64 *v41; // r15
  __int64 v42; // rbx
  __int64 v43; // r9
  __int64 v44; // rax
  int v45; // esi
  _QWORD *v46; // rdi
  __int64 *v47; // rax
  __int64 v48; // rsi
  __int64 v49; // rbx
  __int64 v50; // r9
  __int64 v51; // rdx
  int v52; // eax
  __int64 *v53; // rdx
  __int64 v54; // r12
  unsigned __int64 v55; // rsi
  __int64 v56; // rax
  __int64 v57; // rdx
  __int64 v58; // rbx
  __int64 v59; // r9
  __int64 v60; // rdx
  int v61; // eax
  __int64 *v62; // rdx
  __int64 v63; // rax
  unsigned int v64; // esi
  int v65; // r10d
  __int64 v66; // r9
  __int64 v67; // rdi
  unsigned int v68; // ecx
  __int64 *v69; // rax
  __int64 v70; // rdx
  int v71; // ecx
  unsigned __int64 v72; // rsi
  __int64 v73; // rdx
  __int64 v74; // rbx
  int v75; // eax
  __int64 *v76; // rdi
  __int64 *v77; // rdx
  __int64 v78; // rax
  __int64 v79; // r11
  unsigned int v80; // edx
  unsigned int v81; // esi
  unsigned int *v82; // r10
  __int64 v83; // r9
  int v84; // r12d
  unsigned int i; // edi
  int *v86; // rax
  int v87; // ecx
  unsigned int v88; // eax
  unsigned int v89; // edi
  unsigned __int64 v90; // rax
  __int64 v91; // r12
  int v92; // ebx
  unsigned int v93; // r15d
  __int64 *v94; // rdx
  __int64 v95; // rcx
  __int64 v96; // r14
  __int64 *v97; // rax
  char v98; // dl
  __int64 v99; // rax
  unsigned __int64 v100; // rdx
  unsigned int v101; // eax
  __int64 *v102; // r11
  int v103; // eax
  int v104; // r9d
  __int64 v105; // rdi
  unsigned int v106; // edx
  __int64 v107; // rcx
  int v108; // ebx
  __int64 *v109; // rsi
  int v110; // r8d
  int v111; // r8d
  __int64 v112; // rsi
  __int64 *v113; // rcx
  unsigned int v114; // ebx
  __int64 v115; // rdx
  int v116; // esi
  __int64 v117; // rcx
  int v118; // edi
  unsigned int *v119; // rsi
  int v120; // r8d
  unsigned int v121; // eax
  unsigned int v122; // r9d
  __int64 v123; // rax
  unsigned __int64 v124; // rdx
  int v125; // eax
  int v126; // ecx
  int v127; // eax
  int v128; // ecx
  __int64 v129; // rsi
  int v130; // edi
  unsigned int *v131; // rax
  unsigned int j; // r12d
  unsigned int v133; // r8d
  unsigned int v134; // eax
  unsigned int v135; // r12d
  __int64 v136; // [rsp+10h] [rbp-280h]
  unsigned int v137; // [rsp+18h] [rbp-278h]
  unsigned int v138; // [rsp+18h] [rbp-278h]
  int v139; // [rsp+20h] [rbp-270h]
  int v140; // [rsp+20h] [rbp-270h]
  int v141; // [rsp+20h] [rbp-270h]
  int v142; // [rsp+20h] [rbp-270h]
  __int64 v143; // [rsp+20h] [rbp-270h]
  __int64 v144; // [rsp+20h] [rbp-270h]
  __int64 v145; // [rsp+28h] [rbp-268h]
  __int64 *v146; // [rsp+40h] [rbp-250h]
  __int64 v147; // [rsp+48h] [rbp-248h]
  unsigned int v148; // [rsp+50h] [rbp-240h]
  unsigned int v149; // [rsp+54h] [rbp-23Ch]
  unsigned int v150; // [rsp+6Ch] [rbp-224h] BYREF
  _QWORD *v151; // [rsp+70h] [rbp-220h] BYREF
  __int64 v152; // [rsp+78h] [rbp-218h]
  _QWORD v153[6]; // [rsp+80h] [rbp-210h] BYREF
  _QWORD *v154; // [rsp+B0h] [rbp-1E0h] BYREF
  __int64 v155; // [rsp+B8h] [rbp-1D8h]
  _QWORD v156[6]; // [rsp+C0h] [rbp-1D0h] BYREF
  _BYTE *v157; // [rsp+F0h] [rbp-1A0h] BYREF
  __int64 v158; // [rsp+F8h] [rbp-198h]
  _BYTE v159[48]; // [rsp+100h] [rbp-190h] BYREF
  __int64 *v160; // [rsp+130h] [rbp-160h] BYREF
  __int64 v161; // [rsp+138h] [rbp-158h]
  __int64 v162; // [rsp+140h] [rbp-150h] BYREF
  __int64 v163; // [rsp+148h] [rbp-148h]
  _QWORD *v164; // [rsp+170h] [rbp-120h] BYREF
  unsigned int v165; // [rsp+178h] [rbp-118h]
  unsigned int v166; // [rsp+17Ch] [rbp-114h]
  _QWORD v167[8]; // [rsp+180h] [rbp-110h] BYREF
  __int64 v168; // [rsp+1C0h] [rbp-D0h] BYREF
  __int64 *v169; // [rsp+1C8h] [rbp-C8h]
  unsigned int v170; // [rsp+1D0h] [rbp-C0h]
  unsigned int v171; // [rsp+1D4h] [rbp-BCh]
  int v172; // [rsp+1D8h] [rbp-B8h]
  char v173; // [rsp+1DCh] [rbp-B4h]
  __int64 v174; // [rsp+1E0h] [rbp-B0h] BYREF

  v7 = *a1;
  v8 = a2[10];
  v151 = v153;
  v153[0] = v7;
  v9 = a2[3];
  v153[1] = 0x62642D6B6B2D6B72LL;
  v152 = 0x600000002LL;
  LODWORD(v9) = *(_DWORD *)(v9 + 8);
  LODWORD(v152) = 4;
  v164 = v167;
  v166 = 8;
  v153[2] = (unsigned int)v9 >> 8 != 0;
  v10 = a2[13];
  v170 = 16;
  v153[3] = v10;
  v169 = &v174;
  v172 = 0;
  v173 = 1;
  if ( v8 )
  {
    v8 -= 24;
    v11 = v8;
  }
  else
  {
    v11 = 0;
  }
  v165 = 1;
  v12 = v167;
  v13 = 6;
  v171 = 1;
  v168 = 1;
  v167[0] = v11;
  v14 = 4;
  v174 = v8;
  v15 = 1;
  while ( 1 )
  {
    v16 = v12[v15 - 1];
    v165 = v15 - 1;
    v17 = v14;
    v136 = v16;
    if ( v14 >= (unsigned __int64)v13 )
    {
      v124 = v14 + 1LL;
      if ( v13 < (unsigned __int64)(v17 + 1) )
      {
        sub_C8D5F0((__int64)&v151, v153, v124, 8u, a5, a6);
        v17 = (unsigned int)v152;
      }
      v151[v17] = 45798;
      LODWORD(v152) = v152 + 1;
    }
    else
    {
      v18 = &v151[v14];
      if ( v18 )
      {
        *v18 = 45798;
        v14 = v152;
      }
      LODWORD(v152) = v14 + 1;
    }
    v145 = v16 + 48;
    v147 = *(_QWORD *)(v16 + 56);
    if ( v147 != v16 + 48 )
    {
      do
      {
        if ( !v147 )
        {
          v154 = v156;
          v155 = 0x600000000LL;
          BUG();
        }
        v155 = 0x600000000LL;
        v154 = v156;
        v23 = *(unsigned __int8 *)(v147 - 24);
        LODWORD(v155) = 1;
        v24 = *((_BYTE *)a1 + 8) == 0;
        v156[0] = (unsigned int)(v23 - 29);
        if ( v24 )
        {
          v19 = sub_CBF760(v156, 8u);
        }
        else
        {
          v25 = 8;
          v26 = *(_QWORD *)(v147 - 16);
          v161 = 0x600000000LL;
          v160 = &v162;
          v27 = *(unsigned __int8 *)(v26 + 8);
          LODWORD(v161) = 1;
          v162 = v27;
          if ( *(_BYTE *)(v26 + 8) == 12 )
          {
            v101 = *(_DWORD *)(v26 + 8);
            v25 = 16;
            LODWORD(v161) = 2;
            v163 = v101 >> 8;
          }
          v28 = sub_CBF760(&v162, v25);
          if ( v160 != &v162 )
            _libc_free((unsigned __int64)v160);
          v30 = (unsigned int)v155;
          v31 = v155;
          if ( (unsigned int)v155 >= (unsigned __int64)HIDWORD(v155) )
          {
            if ( HIDWORD(v155) < (unsigned __int64)(unsigned int)v155 + 1 )
            {
              sub_C8D5F0((__int64)&v154, v156, (unsigned int)v155 + 1LL, 8u, (unsigned int)v155 + 1LL, v29);
              v30 = (unsigned int)v155;
            }
            v154[v30] = v28;
            LODWORD(v155) = v155 + 1;
          }
          else
          {
            v32 = &v154[(unsigned int)v155];
            if ( v32 )
            {
              *v32 = v28;
              v31 = v155;
            }
            LODWORD(v155) = v31 + 1;
          }
          if ( (unsigned __int8)(*(_BYTE *)(v147 - 24) - 82) <= 1u )
          {
            v33 = (unsigned int)v155;
            v34 = v155;
            v35 = *(_WORD *)(v147 - 22) & 0x3F;
            if ( (unsigned int)v155 >= (unsigned __int64)HIDWORD(v155) )
            {
              if ( HIDWORD(v155) < (unsigned __int64)(unsigned int)v155 + 1 )
              {
                sub_C8D5F0((__int64)&v154, v156, (unsigned int)v155 + 1LL, 8u, (unsigned int)v155 + 1LL, v29);
                v33 = (unsigned int)v155;
              }
              v154[v33] = v35;
              LODWORD(v155) = v155 + 1;
            }
            else
            {
              v36 = &v154[(unsigned int)v155];
              if ( v36 )
              {
                *v36 = v35;
                v34 = v155;
              }
              LODWORD(v155) = v34 + 1;
            }
          }
          v37 = a1[6];
          v150 = 0;
          if ( v37 )
          {
            v38 = *(_DWORD *)(v37 + 40);
            v160 = (__int64 *)(v147 - 24);
            v150 = v38;
            sub_31467B0(v37, &v150, (__int64 *)&v160);
          }
          v39 = 4LL * (*(_DWORD *)(v147 - 20) & 0x7FFFFFF);
          if ( (*(_BYTE *)(v147 - 17) & 0x40) != 0 )
          {
            v40 = *(__int64 **)(v147 - 32);
            v146 = &v40[v39];
          }
          else
          {
            v146 = (__int64 *)(v147 - 24);
            v40 = (__int64 *)(v147 - 24 - v39 * 8);
          }
          if ( v146 != v40 )
          {
            v41 = v40;
            v148 = 0;
            v149 = 0;
            while ( 1 )
            {
              v54 = *v41;
              v55 = 8;
              v158 = 0x600000000LL;
              v157 = v159;
              v56 = *(_QWORD *)(v54 + 8);
              v161 = 0x600000000LL;
              v160 = &v162;
              v57 = *(unsigned __int8 *)(v56 + 8);
              LODWORD(v161) = 1;
              v162 = v57;
              if ( *(_BYTE *)(v56 + 8) == 12 )
              {
                v88 = *(_DWORD *)(v56 + 8);
                v55 = 16;
                LODWORD(v161) = 2;
                v163 = v88 >> 8;
              }
              v58 = sub_CBF760(&v162, v55);
              if ( v160 != &v162 )
                _libc_free((unsigned __int64)v160);
              v60 = (unsigned int)v158;
              v61 = v158;
              if ( (unsigned int)v158 >= (unsigned __int64)HIDWORD(v158) )
              {
                if ( HIDWORD(v158) < (unsigned __int64)(unsigned int)v158 + 1 )
                {
                  sub_C8D5F0((__int64)&v157, v159, (unsigned int)v158 + 1LL, 8u, (unsigned int)v158 + 1LL, v59);
                  v60 = (unsigned int)v158;
                }
                *(_QWORD *)&v157[8 * v60] = v58;
                LODWORD(v158) = v158 + 1;
              }
              else
              {
                v62 = (__int64 *)&v157[8 * (unsigned int)v158];
                if ( v62 )
                {
                  *v62 = v58;
                  v61 = v158;
                }
                LODWORD(v158) = v61 + 1;
              }
              if ( *(_BYTE *)v54 > 0x15u )
                break;
              v42 = sub_3146240(v54);
LABEL_40:
              v44 = (unsigned int)v158;
              v45 = v158;
              if ( (unsigned int)v158 >= (unsigned __int64)HIDWORD(v158) )
              {
                if ( HIDWORD(v158) < (unsigned __int64)(unsigned int)v158 + 1 )
                {
                  sub_C8D5F0((__int64)&v157, v159, (unsigned int)v158 + 1LL, 8u, (unsigned int)v158 + 1LL, v43);
                  v44 = (unsigned int)v158;
                }
                *(_QWORD *)&v157[8 * v44] = v42;
                v46 = v157;
                v48 = (unsigned int)(v158 + 1);
                LODWORD(v158) = v158 + 1;
              }
              else
              {
                v46 = v157;
                v47 = (__int64 *)&v157[8 * (unsigned int)v158];
                if ( v47 )
                {
                  *v47 = v42;
                  v45 = v158;
                  v46 = v157;
                }
                v48 = (unsigned int)(v45 + 1);
                LODWORD(v158) = v48;
              }
              v49 = sub_CBF760(v46, 8 * v48);
              if ( v157 != v159 )
                _libc_free((unsigned __int64)v157);
              if ( !a1[4]
                || (v160 = (__int64 *)(v147 - 24),
                    LODWORD(v157) = v149,
                    !((unsigned __int8 (__fastcall *)(__int64 *, __int64 **, _BYTE **))a1[5])(a1 + 2, &v160, &v157)) )
              {
                v51 = (unsigned int)v155;
                v52 = v155;
                if ( (unsigned int)v155 >= (unsigned __int64)HIDWORD(v155) )
                {
                  if ( HIDWORD(v155) < (unsigned __int64)(unsigned int)v155 + 1 )
                  {
                    sub_C8D5F0((__int64)&v154, v156, (unsigned int)v155 + 1LL, 8u, (unsigned int)v155 + 1LL, v50);
                    v51 = (unsigned int)v155;
                  }
                  v154[v51] = v49;
                  LODWORD(v155) = v155 + 1;
                }
                else
                {
                  v53 = &v154[(unsigned int)v155];
                  if ( v53 )
                  {
                    *v53 = v49;
                    v52 = v155;
                  }
                  LODWORD(v155) = v52 + 1;
                }
                goto LABEL_52;
              }
              v79 = a1[7];
              v80 = v150;
              v81 = *(_DWORD *)(v79 + 24);
              if ( !v81 )
              {
                ++*(_QWORD *)v79;
                goto LABEL_150;
              }
              v82 = 0;
              v83 = *(_QWORD *)(v79 + 8);
              v139 = 1;
              v84 = ((0xBF58476D1CE4E5B9LL * (v148 | ((unsigned __int64)(37 * v150) << 32))) >> 31) ^ (484763065 * v148);
              for ( i = v84 & (v81 - 1); ; i = (v81 - 1) & v89 )
              {
                v86 = (int *)(v83 + 16LL * i);
                v87 = *v86;
                if ( v150 == *v86 )
                  break;
                if ( v87 == -1 )
                  goto LABEL_95;
LABEL_77:
                if ( v87 == -2 && v86[1] == -2 && !v82 )
                  v82 = (unsigned int *)(v83 + 16LL * i);
LABEL_96:
                v89 = v139 + i;
                ++v139;
              }
              if ( v149 == v86[1] )
                goto LABEL_52;
              if ( v87 != -1 )
                goto LABEL_77;
LABEL_95:
              if ( v86[1] != -1 )
                goto LABEL_96;
              if ( !v82 )
                v82 = (unsigned int *)(v83 + 16LL * i);
              v125 = *(_DWORD *)(v79 + 16);
              ++*(_QWORD *)v79;
              v126 = v125 + 1;
              if ( 4 * (v125 + 1) < 3 * v81 )
              {
                if ( v81 - *(_DWORD *)(v79 + 20) - v126 > v81 >> 3 )
                  goto LABEL_177;
                v144 = v79;
                v138 = v80;
                sub_311B460(v79, v81);
                v79 = v144;
                v127 = *(_DWORD *)(v144 + 24);
                if ( v127 )
                {
                  v128 = v127 - 1;
                  v130 = 1;
                  v131 = 0;
                  v80 = v138;
                  for ( j = v128 & v84; ; j = v128 & v135 )
                  {
                    v129 = *(_QWORD *)(v144 + 8);
                    v82 = (unsigned int *)(v129 + 16LL * j);
                    v133 = *v82;
                    if ( v138 == *v82 && v149 == v82[1] )
                    {
                      v126 = *(_DWORD *)(v144 + 16) + 1;
                      goto LABEL_177;
                    }
                    if ( v133 == -1 )
                    {
                      if ( v82[1] == -1 )
                      {
                        v126 = *(_DWORD *)(v144 + 16) + 1;
                        if ( v131 )
                          v82 = v131;
                        goto LABEL_177;
                      }
                    }
                    else if ( v133 == -2 && v82[1] == -2 && !v131 )
                    {
                      v131 = (unsigned int *)(v129 + 16LL * j);
                    }
                    v135 = v130 + j;
                    ++v130;
                  }
                }
LABEL_223:
                ++*(_DWORD *)(v79 + 16);
                BUG();
              }
LABEL_150:
              v143 = v79;
              v137 = v80;
              sub_311B460(v79, 2 * v81);
              v79 = v143;
              v116 = *(_DWORD *)(v143 + 24);
              if ( !v116 )
                goto LABEL_223;
              v80 = v137;
              v118 = v116 - 1;
              v119 = 0;
              v120 = 1;
              v121 = v118
                   & (((0xBF58476D1CE4E5B9LL * (v148 | ((unsigned __int64)(37 * v137) << 32))) >> 31)
                    ^ (484763065 * v148));
              while ( 2 )
              {
                v117 = *(_QWORD *)(v143 + 8);
                v82 = (unsigned int *)(v117 + 16LL * v121);
                v122 = *v82;
                if ( v137 == *v82 && v149 == v82[1] )
                {
                  v126 = *(_DWORD *)(v143 + 16) + 1;
                  goto LABEL_177;
                }
                if ( v122 != -1 )
                {
                  if ( v122 == -2 && v82[1] == -2 && !v119 )
                    v119 = (unsigned int *)(v117 + 16LL * v121);
                  goto LABEL_202;
                }
                if ( v82[1] != -1 )
                {
LABEL_202:
                  v134 = v120 + v121;
                  ++v120;
                  v121 = v118 & v134;
                  continue;
                }
                break;
              }
              if ( v119 )
                v82 = v119;
              v126 = *(_DWORD *)(v143 + 16) + 1;
LABEL_177:
              *(_DWORD *)(v79 + 16) = v126;
              if ( *v82 != -1 || v82[1] != -1 )
                --*(_DWORD *)(v79 + 20);
              *v82 = v80;
              *((_QWORD *)v82 + 1) = v49;
              v82[1] = v149;
LABEL_52:
              ++v149;
              v41 += 4;
              v148 += 37;
              if ( v146 == v41 )
                goto LABEL_82;
            }
            v160 = &v162;
            v161 = 0x600000000LL;
            if ( *(_BYTE *)v54 == 22 )
            {
              v63 = *(unsigned int *)(v54 + 32);
              LODWORD(v161) = 1;
              v162 = v63;
            }
            v64 = *((_DWORD *)a1 + 22);
            v65 = *((_DWORD *)a1 + 20);
            v66 = (__int64)(a1 + 8);
            if ( v64 )
            {
              v67 = a1[9];
              v68 = (v64 - 1) & (((unsigned int)v54 >> 9) ^ ((unsigned int)v54 >> 4));
              v69 = (__int64 *)(v67 + 16LL * v68);
              v70 = *v69;
              if ( v54 == *v69 )
              {
LABEL_66:
                v71 = *((_DWORD *)v69 + 2);
                v72 = 6;
LABEL_67:
                v73 = (unsigned int)v161;
                v74 = v71;
                v75 = v161;
                if ( v72 <= (unsigned int)v161 )
                {
                  if ( v72 < (unsigned __int64)(unsigned int)v161 + 1 )
                  {
                    sub_C8D5F0((__int64)&v160, &v162, (unsigned int)v161 + 1LL, 8u, (unsigned int)v161 + 1LL, v66);
                    v73 = (unsigned int)v161;
                  }
                  v160[v73] = v74;
                  v76 = v160;
                  v78 = (unsigned int)(v161 + 1);
                  LODWORD(v161) = v161 + 1;
                }
                else
                {
                  v76 = v160;
                  v77 = &v160[(unsigned int)v161];
                  if ( v77 )
                  {
                    *v77 = v71;
                    v75 = v161;
                    v76 = v160;
                  }
                  v78 = (unsigned int)(v75 + 1);
                  LODWORD(v161) = v78;
                }
                v42 = sub_CBF760(v76, 8 * v78);
                if ( v160 != &v162 )
                  _libc_free((unsigned __int64)v160);
                goto LABEL_40;
              }
              v140 = 1;
              v102 = 0;
              while ( v70 != -4096 )
              {
                if ( v70 == -8192 && !v102 )
                  v102 = v69;
                v68 = (v64 - 1) & (v140 + v68);
                v69 = (__int64 *)(v67 + 16LL * v68);
                v70 = *v69;
                if ( v54 == *v69 )
                  goto LABEL_66;
                ++v140;
              }
              if ( !v102 )
                v102 = v69;
              v103 = v65 + 1;
              ++a1[8];
              if ( 4 * (v65 + 1) < 3 * v64 )
              {
                if ( v64 - *((_DWORD *)a1 + 21) - v103 <= v64 >> 3 )
                {
                  v142 = v65;
                  sub_28BB630((__int64)(a1 + 8), v64);
                  v110 = *((_DWORD *)a1 + 22);
                  if ( !v110 )
                  {
LABEL_221:
                    ++*((_DWORD *)a1 + 20);
                    BUG();
                  }
                  v111 = v110 - 1;
                  v112 = a1[9];
                  v113 = 0;
                  v114 = v111 & (((unsigned int)v54 >> 9) ^ ((unsigned int)v54 >> 4));
                  v65 = v142;
                  v66 = 1;
                  v103 = *((_DWORD *)a1 + 20) + 1;
                  v102 = (__int64 *)(v112 + 16LL * v114);
                  v115 = *v102;
                  if ( v54 != *v102 )
                  {
                    while ( v115 != -4096 )
                    {
                      if ( v115 == -8192 && !v113 )
                        v113 = v102;
                      v114 = v111 & (v66 + v114);
                      v102 = (__int64 *)(v112 + 16LL * v114);
                      v115 = *v102;
                      if ( v54 == *v102 )
                        goto LABEL_129;
                      v66 = (unsigned int)(v66 + 1);
                    }
                    if ( v113 )
                      v102 = v113;
                  }
                }
                goto LABEL_129;
              }
            }
            else
            {
              ++a1[8];
            }
            v141 = v65;
            sub_28BB630((__int64)(a1 + 8), 2 * v64);
            v104 = *((_DWORD *)a1 + 22);
            if ( !v104 )
              goto LABEL_221;
            v66 = (unsigned int)(v104 - 1);
            v105 = a1[9];
            v65 = v141;
            v106 = v66 & (((unsigned int)v54 >> 9) ^ ((unsigned int)v54 >> 4));
            v103 = *((_DWORD *)a1 + 20) + 1;
            v102 = (__int64 *)(v105 + 16LL * v106);
            v107 = *v102;
            if ( *v102 != v54 )
            {
              v108 = 1;
              v109 = 0;
              while ( v107 != -4096 )
              {
                if ( !v109 && v107 == -8192 )
                  v109 = v102;
                v106 = v66 & (v108 + v106);
                v102 = (__int64 *)(v105 + 16LL * v106);
                v107 = *v102;
                if ( v54 == *v102 )
                  goto LABEL_129;
                ++v108;
              }
              if ( v109 )
                v102 = v109;
            }
LABEL_129:
            *((_DWORD *)a1 + 20) = v103;
            if ( *v102 != -4096 )
              --*((_DWORD *)a1 + 21);
            *v102 = v54;
            v71 = v65;
            *((_DWORD *)v102 + 2) = v65;
            v72 = HIDWORD(v161);
            goto LABEL_67;
          }
LABEL_82:
          v19 = sub_CBF760(v154, 8LL * (unsigned int)v155);
        }
        if ( v154 != v156 )
          _libc_free((unsigned __int64)v154);
        v20 = (unsigned int)v152;
        v21 = v152;
        if ( (unsigned int)v152 >= (unsigned __int64)HIDWORD(v152) )
        {
          a5 = (unsigned int)v152 + 1LL;
          if ( HIDWORD(v152) < a5 )
          {
            sub_C8D5F0((__int64)&v151, v153, (unsigned int)v152 + 1LL, 8u, a5, a6);
            v20 = (unsigned int)v152;
          }
          v151[v20] = v19;
          LODWORD(v152) = v152 + 1;
        }
        else
        {
          v22 = &v151[(unsigned int)v152];
          if ( v22 )
          {
            *v22 = v19;
            v21 = v152;
          }
          LODWORD(v152) = v21 + 1;
        }
        v147 = *(_QWORD *)(v147 + 8);
      }
      while ( v145 != v147 );
    }
    v90 = *(_QWORD *)(v136 + 48) & 0xFFFFFFFFFFFFFFF8LL;
    if ( v145 != v90 )
    {
      if ( !v90 )
        BUG();
      v91 = v90 - 24;
      if ( (unsigned int)*(unsigned __int8 *)(v90 - 24) - 30 <= 0xA )
      {
        v92 = sub_B46E30(v91);
        if ( v92 )
        {
          v93 = 0;
          while ( 1 )
          {
            v96 = sub_B46EC0(v91, v93);
            if ( v173 )
            {
              v97 = v169;
              v95 = v171;
              v94 = &v169[v171];
              if ( v169 != v94 )
              {
                while ( v96 != *v97 )
                {
                  if ( v94 == ++v97 )
                    goto LABEL_115;
                }
                goto LABEL_107;
              }
LABEL_115:
              if ( v171 < v170 )
              {
                ++v171;
                *v94 = v96;
                ++v168;
                goto LABEL_111;
              }
            }
            sub_C8CC70((__int64)&v168, v96, (__int64)v94, v95, a5, a6);
            if ( v98 )
            {
LABEL_111:
              v99 = v165;
              v100 = v165 + 1LL;
              if ( v100 > v166 )
              {
                sub_C8D5F0((__int64)&v164, v167, v100, 8u, a5, a6);
                v99 = v165;
              }
              ++v93;
              v164[v99] = v96;
              ++v165;
              if ( v92 == v93 )
                break;
            }
            else
            {
LABEL_107:
              if ( v92 == ++v93 )
                break;
            }
          }
        }
      }
    }
    v15 = v165;
    v14 = v152;
    if ( !v165 )
      break;
    v12 = v164;
    v13 = HIDWORD(v152);
  }
  v123 = sub_CBF760(v151, 8LL * (unsigned int)v152);
  v24 = v173 == 0;
  *a1 = v123;
  if ( v24 )
    _libc_free((unsigned __int64)v169);
  if ( v164 != v167 )
    _libc_free((unsigned __int64)v164);
  if ( v151 != v153 )
    _libc_free((unsigned __int64)v151);
}
