// Function: sub_A360E0
// Address: 0xa360e0
//
__int64 __fastcall sub_A360E0(__int64 a1, __int64 a2, __int64 a3)
{
  __int64 v3; // r14
  __int64 v5; // r15
  _QWORD *v6; // r12
  __int64 v7; // r13
  __int64 v8; // rax
  unsigned int v9; // esi
  __int64 v10; // r12
  __int64 v11; // r9
  unsigned int v12; // edx
  _QWORD *v13; // rax
  __int64 v14; // r8
  _QWORD *v15; // rax
  __int64 v16; // rsi
  unsigned int v17; // eax
  unsigned int v18; // esi
  char v19; // al
  __int64 v20; // rsi
  __int64 v21; // rbx
  __int64 *v22; // rcx
  int v23; // r14d
  __int64 v24; // rsi
  __int64 v25; // rdi
  int v26; // r14d
  unsigned int v27; // ecx
  __int64 *v28; // rdx
  __int64 v29; // r10
  __int64 v30; // rax
  unsigned __int8 v31; // dl
  __int64 v32; // rsi
  int v33; // r14d
  __int64 v34; // rdi
  int v35; // r14d
  unsigned int v36; // ecx
  __int64 *v37; // rdx
  __int64 v38; // r9
  __int64 v39; // rax
  unsigned int v40; // r14d
  __int64 v41; // rdi
  __int64 v42; // rax
  __int64 v43; // r12
  int v44; // r14d
  __int64 v45; // rax
  unsigned __int64 v46; // rdx
  __int64 v47; // rax
  int v48; // r14d
  unsigned __int8 v49; // dl
  __int64 v50; // r9
  __int64 v51; // rax
  int v52; // ebx
  __int64 ***v53; // rbx
  __int64 v54; // rsi
  __int64 result; // rax
  _QWORD *v56; // rdx
  unsigned int v57; // eax
  __int64 v58; // rcx
  __int64 v59; // rdx
  __int64 v60; // rbx
  _BYTE *v61; // r12
  __int64 v62; // r12
  _QWORD *v63; // rax
  __int64 v64; // rdx
  __int64 v65; // rdi
  __int64 v66; // rdx
  _QWORD *v67; // rdx
  _QWORD *v68; // rax
  _QWORD *v69; // rdx
  __int64 v70; // rax
  unsigned __int64 v71; // rdx
  int v72; // r11d
  __int64 *v73; // r10
  unsigned int v74; // edx
  __int64 *v75; // rcx
  __int64 v76; // rdi
  int v77; // eax
  __int64 v78; // rax
  __int64 v79; // r12
  unsigned __int64 v80; // rdx
  unsigned __int64 v81; // rdx
  __int64 v82; // rax
  __int64 *v83; // r12
  __int64 *v84; // r13
  unsigned int v85; // eax
  __int64 *v86; // rdi
  __int64 v87; // rcx
  unsigned int v88; // edx
  __int64 *v89; // r10
  __int64 v90; // rdi
  int v91; // eax
  __int64 v92; // r12
  __int64 v93; // rdx
  __int64 v94; // rax
  int v95; // esi
  __int64 v96; // rdi
  __int64 v97; // rdx
  int v98; // esi
  unsigned int v99; // ecx
  __int64 *v100; // rax
  __int64 v101; // r8
  int v102; // r14d
  __int64 v103; // rax
  unsigned __int64 v104; // rdx
  __int64 v105; // rax
  int v106; // esi
  __int64 v107; // rdi
  __int64 v108; // rdx
  int v109; // esi
  unsigned int v110; // ecx
  __int64 *v111; // rax
  __int64 v112; // r8
  int v113; // r14d
  __int64 v114; // rax
  unsigned __int64 v115; // rdx
  __int64 v116; // rdi
  __int64 v117; // rsi
  bool v118; // zf
  __int64 v119; // rax
  __int64 v120; // rdx
  __int64 v121; // rax
  __int64 v122; // rax
  int v123; // esi
  __int64 v124; // rdi
  __int64 v125; // rcx
  int v126; // esi
  unsigned int v127; // edx
  __int64 *v128; // rax
  __int64 v129; // r8
  int v130; // eax
  __int64 v131; // rdx
  __int64 v132; // rax
  int v133; // esi
  __int64 v134; // rdi
  __int64 v135; // rcx
  int v136; // esi
  unsigned int v137; // edx
  __int64 *v138; // rax
  __int64 v139; // r8
  int v140; // eax
  __int64 v141; // rdx
  char v142; // al
  __int64 v143; // rsi
  __int64 v144; // rdi
  __int64 v145; // rax
  __int64 v146; // rax
  __int64 v147; // rax
  __int64 v148; // rax
  __int64 v149; // rax
  __int64 v150; // rax
  __int64 v151; // rsi
  __int64 v152; // rax
  int v153; // eax
  int v154; // eax
  int v155; // eax
  int v156; // eax
  char v157; // dl
  unsigned __int8 *v158; // r8
  __int64 v159; // rsi
  char v160; // al
  __int64 v161; // rax
  __int64 v162; // rax
  __int64 v163; // r8
  __int64 v164; // r9
  int v165; // edx
  int v166; // edx
  int v167; // r11d
  __int64 *v168; // rcx
  unsigned int v169; // edx
  __int64 v170; // rdi
  int v171; // ecx
  __int64 *v172; // rax
  __int64 **v173; // r13
  __int64 *v174; // rax
  __int64 *v175; // rbx
  __int64 *v176; // r14
  unsigned int v177; // r12d
  unsigned int v178; // eax
  __int64 v179; // rdx
  char *v180; // r8
  __int64 v181; // r15
  __int64 v182; // rdx
  unsigned int v183; // r15d
  unsigned __int8 *v184; // rax
  unsigned __int8 *v185; // r14
  unsigned int v186; // r13d
  __int64 *v187; // rdi
  unsigned __int8 *v188; // r12
  __int64 v189; // rbx
  __int64 **v190; // rax
  __int64 *v191; // rdx
  __int64 *v192; // rdx
  __int64 v193; // r12
  unsigned int v194; // eax
  __int64 v195; // rdx
  __int64 v196; // rbx
  unsigned int v197; // r13d
  unsigned __int64 v198; // r12
  __int64 v199; // rbx
  __int64 v200; // r10
  __int64 v201; // rax
  unsigned __int64 v202; // rdx
  __int64 v203; // r13
  int v204; // esi
  __int64 v205; // rax
  __int64 v206; // r10
  __int64 v207; // rdi
  int v208; // esi
  unsigned int v209; // ecx
  __int64 *v210; // rdx
  __int64 v211; // r13
  __int64 v212; // r14
  int v213; // ecx
  int v214; // r12d
  unsigned int v215; // ecx
  int v216; // r12d
  _QWORD *v217; // rax
  __int64 v218; // rdx
  int v219; // eax
  unsigned int v220; // ebx
  unsigned int v221; // r9d
  unsigned int v222; // r12d
  unsigned int v223; // ebx
  unsigned int v224; // ecx
  unsigned __int64 v225; // r13
  unsigned int v226; // eax
  __int64 v227; // r12
  unsigned __int64 v228; // r14
  unsigned int v229; // r13d
  int v230; // eax
  int v231; // eax
  _QWORD *v232; // rax
  __int64 v233; // rdx
  __int64 v234; // rcx
  __int64 v235; // rax
  __int64 v236; // rdx
  __int64 v237; // rcx
  unsigned __int64 v238; // rax
  __int64 *v239; // rsi
  __int64 v240; // rsi
  unsigned int v241; // r13d
  int v242; // edx
  unsigned int v243; // ecx
  int v244; // ebx
  _QWORD *v245; // rdi
  __int64 v246; // rdx
  int v247; // edx
  unsigned int v248; // eax
  __int64 v249; // r12
  unsigned int m; // r14d
  int v251; // edx
  int v252; // edx
  _QWORD *v253; // rdi
  __int64 v254; // rdx
  int v255; // edx
  int v256; // ebx
  _QWORD *v257; // r13
  __int64 v258; // rdx
  int v259; // edx
  int v260; // r8d
  __int64 v261; // rax
  _DWORD *v262; // rax
  _DWORD *j; // rdx
  _BYTE *v264; // r12
  __int64 v265; // r13
  _BYTE *v266; // rbx
  int v267; // eax
  int v268; // r10d
  int v269; // r11d
  int v270; // r9d
  int v271; // r9d
  int v272; // r9d
  int v273; // r9d
  __int64 v274; // rax
  int v275; // r11d
  __int64 *v276; // r8
  int v277; // edi
  _QWORD *v278; // rcx
  int v279; // edi
  int v280; // edx
  __int64 v281; // rcx
  __int64 v282; // [rsp-8h] [rbp-498h]
  unsigned __int8 *v283; // [rsp+18h] [rbp-478h]
  int v284; // [rsp+18h] [rbp-478h]
  int v285; // [rsp+18h] [rbp-478h]
  int v286; // [rsp+18h] [rbp-478h]
  __int64 v287; // [rsp+20h] [rbp-470h]
  __int64 v288; // [rsp+20h] [rbp-470h]
  __int64 v289; // [rsp+28h] [rbp-468h]
  __int64 v290; // [rsp+38h] [rbp-458h]
  __int64 v291; // [rsp+40h] [rbp-450h]
  __int64 v292; // [rsp+50h] [rbp-440h]
  char v294; // [rsp+68h] [rbp-428h]
  __int64 v295; // [rsp+70h] [rbp-420h]
  unsigned int v296; // [rsp+70h] [rbp-420h]
  unsigned int v297; // [rsp+70h] [rbp-420h]
  __int64 v298; // [rsp+78h] [rbp-418h]
  __int64 v299; // [rsp+78h] [rbp-418h]
  __int64 *v300; // [rsp+78h] [rbp-418h]
  __int64 k; // [rsp+78h] [rbp-418h]
  __int64 v302; // [rsp+80h] [rbp-410h]
  __int64 i; // [rsp+80h] [rbp-410h]
  __int64 v304; // [rsp+80h] [rbp-410h]
  __int64 v305; // [rsp+80h] [rbp-410h]
  __int64 v306; // [rsp+80h] [rbp-410h]
  unsigned int v307; // [rsp+80h] [rbp-410h]
  unsigned int v308; // [rsp+80h] [rbp-410h]
  unsigned int v309; // [rsp+80h] [rbp-410h]
  unsigned int v310; // [rsp+80h] [rbp-410h]
  unsigned int v311; // [rsp+88h] [rbp-408h]
  char *v312; // [rsp+88h] [rbp-408h]
  __int64 **v313; // [rsp+88h] [rbp-408h]
  _QWORD *v314; // [rsp+88h] [rbp-408h]
  _QWORD *v315; // [rsp+88h] [rbp-408h]
  _QWORD *v316; // [rsp+88h] [rbp-408h]
  __int64 v317; // [rsp+88h] [rbp-408h]
  unsigned int v318; // [rsp+88h] [rbp-408h]
  __int64 v319; // [rsp+90h] [rbp-400h] BYREF
  __int64 *v320; // [rsp+98h] [rbp-3F8h] BYREF
  __int64 v321; // [rsp+A0h] [rbp-3F0h] BYREF
  __int64 v322; // [rsp+A8h] [rbp-3E8h]
  __int64 v323; // [rsp+B0h] [rbp-3E0h]
  __int64 v324; // [rsp+B8h] [rbp-3D8h]
  _BYTE *v325; // [rsp+C0h] [rbp-3D0h] BYREF
  __int64 v326; // [rsp+C8h] [rbp-3C8h]
  _BYTE v327[32]; // [rsp+D0h] [rbp-3C0h] BYREF
  _QWORD *v328; // [rsp+F0h] [rbp-3A0h] BYREF
  __int64 v329; // [rsp+F8h] [rbp-398h]
  _QWORD v330[8]; // [rsp+100h] [rbp-390h] BYREF
  _BYTE *v331; // [rsp+140h] [rbp-350h] BYREF
  __int64 v332; // [rsp+148h] [rbp-348h]
  _BYTE v333[256]; // [rsp+150h] [rbp-340h] BYREF
  __int64 v334; // [rsp+250h] [rbp-240h] BYREF
  __int64 v335; // [rsp+258h] [rbp-238h]
  __int64 v336; // [rsp+260h] [rbp-230h] BYREF
  int v337; // [rsp+268h] [rbp-228h]
  char v338; // [rsp+26Ch] [rbp-224h]
  __int64 v339; // [rsp+270h] [rbp-220h] BYREF

  v3 = a1;
  v5 = *(_QWORD *)a1;
  v6 = *(_QWORD **)(*(_QWORD *)a1 + 32LL);
  v7 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a1 + 24LL) + 8LL);
  if ( v6 && (unsigned __int8)sub_CB7440(*(_QWORD *)(v5 + 32)) )
  {
    if ( !(unsigned __int8)sub_CB7440(v6) )
      BUG();
    v7 += (*(__int64 (__fastcall **)(_QWORD *))(*v6 + 80LL))(v6) + v6[4] - v6[2];
  }
  v8 = *(unsigned int *)(v5 + 48);
  v9 = *(_DWORD *)(a3 + 24);
  v331 = (_BYTE *)a2;
  v10 = v8 + 8 * v7;
  if ( !v9 )
  {
    ++*(_QWORD *)a3;
    v334 = 0;
LABEL_383:
    sub_A2B080(a3, 2 * v9);
LABEL_384:
    sub_A19CC0(a3, (__int64 *)&v331, &v334);
    v281 = (__int64)v331;
    v280 = *(_DWORD *)(a3 + 16) + 1;
    v13 = (_QWORD *)v334;
    goto LABEL_377;
  }
  v11 = *(_QWORD *)(a3 + 8);
  v12 = (v9 - 1) & (((unsigned int)a2 >> 9) ^ ((unsigned int)a2 >> 4));
  v13 = (_QWORD *)(v11 + 16LL * v12);
  v14 = *v13;
  if ( a2 == *v13 )
  {
LABEL_7:
    v15 = v13 + 1;
    goto LABEL_8;
  }
  v277 = 1;
  v278 = 0;
  while ( v14 != -4096 )
  {
    if ( v14 == -8192 && !v278 )
      v278 = v13;
    v12 = (v9 - 1) & (v277 + v12);
    v13 = (_QWORD *)(v11 + 16LL * v12);
    v14 = *v13;
    if ( a2 == *v13 )
      goto LABEL_7;
    ++v277;
  }
  v279 = *(_DWORD *)(a3 + 16);
  if ( v278 )
    v13 = v278;
  ++*(_QWORD *)a3;
  v280 = v279 + 1;
  v334 = (__int64)v13;
  if ( 4 * (v279 + 1) >= 3 * v9 )
    goto LABEL_383;
  v281 = a2;
  if ( v9 - *(_DWORD *)(a3 + 20) - v280 <= v9 >> 3 )
  {
    sub_A2B080(a3, v9);
    goto LABEL_384;
  }
LABEL_377:
  *(_DWORD *)(a3 + 16) = v280;
  if ( *v13 != -4096 )
    --*(_DWORD *)(a3 + 20);
  *v13 = v281;
  v15 = v13 + 1;
  *v15 = 0;
LABEL_8:
  *v15 = v10;
  sub_A19830(*(_QWORD *)v3, 0xCu, 4u);
  v289 = v3 + 24;
  sub_A49700(v3 + 24, a2);
  v16 = *(_QWORD *)(v3 + 544) - *(_QWORD *)(v3 + 536);
  v331 = v333;
  v332 = 0x4000000000LL;
  sub_9C8C60((__int64)&v331, v16 >> 3);
  sub_A214F0(*(_QWORD *)v3, 1u, (__int64)&v331, 0);
  v17 = *(_DWORD *)(v3 + 576);
  v18 = *(_DWORD *)(v3 + 572);
  LODWORD(v332) = 0;
  v311 = v17;
  if ( v17 != v18 )
    sub_A25DF0((__int64 *)v3, v18, v17, 0);
  if ( *(unsigned int *)(v3 + 564) < (unsigned __int64)((__int64)(*(_QWORD *)(v3 + 240) - *(_QWORD *)(v3 + 232)) >> 3) )
  {
    sub_A19830(*(_QWORD *)v3, 0xFu, 3u);
    v234 = *(unsigned int *)(v3 + 564);
    v335 = 0x4000000000LL;
    v235 = *(_QWORD *)(v3 + 232);
    v236 = *(unsigned int *)(v3 + 568);
    v334 = (__int64)&v336;
    sub_A24AF0((__int64 *)v3, (_QWORD *)(v235 + 8 * v234), v236, (__int64)&v334);
    v237 = *(_QWORD *)(v3 + 232);
    v238 = *(unsigned int *)(v3 + 568) + (unsigned __int64)*(unsigned int *)(v3 + 564);
    v239 = (__int64 *)(v237 + 8 * v238);
    sub_A24040((__int64 *)v3, v239, ((*(_QWORD *)(v3 + 240) - v237) >> 3) - v238, (__int64)&v334, 0, 0);
    sub_A192A0(*(_QWORD *)v3);
    if ( (__int64 *)v334 != &v336 )
      _libc_free(v334, v239);
  }
  v321 = 0;
  v322 = 0;
  v19 = *(_BYTE *)(a2 + 7);
  v20 = a2 + 72;
  v323 = 0;
  v324 = 0;
  v291 = a2 + 72;
  v294 = (v19 & 0x20) != 0;
  v325 = v327;
  v326 = 0x400000000LL;
  v292 = *(_QWORD *)(a2 + 80);
  if ( v292 != a2 + 72 )
  {
    v287 = v3;
    v298 = 0;
LABEL_13:
    if ( !v292 )
      BUG();
    v21 = *(_QWORD *)(v292 + 32);
    v20 = v292 - 24;
    while ( v292 + 24 != v21 )
    {
      if ( !v21 )
      {
        sub_A21BF0((__int64 *)v287, 0, v311, (__int64)&v331);
        BUG();
      }
      v20 = v21 - 24;
      sub_A21BF0((__int64 *)v287, (unsigned __int8 *)(v21 - 24), v311, (__int64)&v331);
      v311 += *(_BYTE *)(*(_QWORD *)(v21 - 16) + 8LL) != 7;
      v294 |= (*(_BYTE *)(v21 - 17) & 0x20) != 0;
      v42 = sub_B10CD0(v21 + 24);
      v163 = v21 - 24;
      v43 = v42;
      if ( !v42 )
        goto LABEL_32;
      if ( v42 == v298 )
      {
        v20 = 33;
        sub_A214F0(*(_QWORD *)v287, 0x21u, (__int64)&v331, 0);
        v163 = v21 - 24;
        goto LABEL_32;
      }
      v44 = *(_DWORD *)(v42 + 4);
      v45 = (unsigned int)v332;
      v46 = (unsigned int)v332 + 1LL;
      if ( v46 > HIDWORD(v332) )
      {
        sub_C8D5F0(&v331, v333, v46, 4);
        v45 = (unsigned int)v332;
        v163 = v21 - 24;
      }
      *(_DWORD *)&v331[4 * v45] = v44;
      LODWORD(v332) = v332 + 1;
      v47 = (unsigned int)v332;
      v48 = *(unsigned __int16 *)(v43 + 2);
      if ( (unsigned __int64)(unsigned int)v332 + 1 > HIDWORD(v332) )
      {
        v304 = v163;
        sub_C8D5F0(&v331, v333, (unsigned int)v332 + 1LL, 4);
        v47 = (unsigned int)v332;
        v163 = v304;
      }
      v164 = v43 - 16;
      *(_DWORD *)&v331[4 * v47] = v48;
      v162 = (unsigned int)(v332 + 1);
      LODWORD(v332) = v332 + 1;
      v49 = *(_BYTE *)(v43 - 16);
      if ( (v49 & 2) != 0 )
        v22 = *(__int64 **)(v43 - 32);
      else
        v22 = (__int64 *)(v164 - 8LL * ((v49 >> 2) & 0xF));
      v23 = *(_DWORD *)(v287 + 304);
      v24 = *v22;
      v25 = *(_QWORD *)(v287 + 288);
      if ( v23 )
      {
        v26 = v23 - 1;
        v27 = v26 & (((unsigned int)v24 >> 9) ^ ((unsigned int)v24 >> 4));
        v28 = (__int64 *)(v25 + 16LL * v27);
        v29 = *v28;
        if ( v24 == *v28 )
        {
LABEL_19:
          v23 = *((_DWORD *)v28 + 3);
        }
        else
        {
          v166 = 1;
          while ( v29 != -4096 )
          {
            v269 = v166 + 1;
            v27 = v26 & (v166 + v27);
            v28 = (__int64 *)(v25 + 16LL * v27);
            v29 = *v28;
            if ( v24 == *v28 )
              goto LABEL_19;
            v166 = v269;
          }
          v23 = 0;
        }
      }
      if ( v162 + 1 > (unsigned __int64)HIDWORD(v332) )
      {
        v299 = v163;
        sub_C8D5F0(&v331, v333, v162 + 1, 4);
        v162 = (unsigned int)v332;
        v163 = v299;
        v164 = v43 - 16;
      }
      *(_DWORD *)&v331[4 * v162] = v23;
      v30 = (unsigned int)(v332 + 1);
      LODWORD(v332) = v332 + 1;
      v31 = *(_BYTE *)(v43 - 16);
      if ( (v31 & 2) != 0 )
      {
        v32 = 0;
        if ( *(_DWORD *)(v43 - 24) == 2 )
        {
          v50 = *(_QWORD *)(v43 - 32);
          goto LABEL_47;
        }
      }
      else
      {
        v32 = 0;
        if ( ((*(_WORD *)(v43 - 16) >> 6) & 0xF) == 2 )
        {
          v50 = v164 - 8LL * ((v31 >> 2) & 0xF);
LABEL_47:
          v32 = *(_QWORD *)(v50 + 8);
        }
      }
      v33 = *(_DWORD *)(v287 + 304);
      v34 = *(_QWORD *)(v287 + 288);
      if ( v33 )
      {
        v35 = v33 - 1;
        v36 = v35 & (((unsigned int)v32 >> 9) ^ ((unsigned int)v32 >> 4));
        v37 = (__int64 *)(v34 + 16LL * v36);
        v38 = *v37;
        if ( v32 == *v37 )
        {
LABEL_26:
          v33 = *((_DWORD *)v37 + 3);
        }
        else
        {
          v165 = 1;
          while ( v38 != -4096 )
          {
            v268 = v165 + 1;
            v36 = v35 & (v165 + v36);
            v37 = (__int64 *)(v34 + 16LL * v36);
            v38 = *v37;
            if ( v32 == *v37 )
              goto LABEL_26;
            v165 = v268;
          }
          v33 = 0;
        }
      }
      if ( v30 + 1 > (unsigned __int64)HIDWORD(v332) )
      {
        v306 = v163;
        sub_C8D5F0(&v331, v333, v30 + 1, 4);
        v30 = (unsigned int)v332;
        v163 = v306;
      }
      *(_DWORD *)&v331[4 * v30] = v33;
      LODWORD(v332) = v332 + 1;
      v39 = (unsigned int)v332;
      v40 = (unsigned int)*(char *)(v43 + 1) >> 31;
      if ( (unsigned __int64)(unsigned int)v332 + 1 > HIDWORD(v332) )
      {
        v305 = v163;
        sub_C8D5F0(&v331, v333, (unsigned int)v332 + 1LL, 4);
        v39 = (unsigned int)v332;
        v163 = v305;
      }
      v20 = 35;
      v302 = v163;
      *(_DWORD *)&v331[4 * v39] = v40;
      v41 = *(_QWORD *)v287;
      LODWORD(v332) = v332 + 1;
      sub_A214F0(v41, 0x23u, (__int64)&v331, 0);
      v298 = v43;
      v163 = v302;
      LODWORD(v332) = 0;
LABEL_32:
      if ( (unsigned __int8)sub_B44020(v163) )
      {
        if ( unk_4F80E08 )
        {
          v92 = sub_B14240(*(_QWORD *)(v21 + 40));
          for ( i = v93; v92 != i; v92 = *(_QWORD *)(v92 + 8) )
          {
            while ( 1 )
            {
              v117 = *(_QWORD *)(v92 + 24);
              v118 = *(_BYTE *)(v92 + 32) == 1;
              v334 = v117;
              if ( v118 )
                break;
              if ( v117 )
                sub_B96E90(&v334, v117, 1);
              v119 = sub_B10CD0(&v334);
              v121 = sub_A18650(v287 + 280, v119);
              v120 = (unsigned int)v332;
              LODWORD(v121) = HIDWORD(v121) - 1;
              if ( (unsigned __int64)(unsigned int)v332 + 1 > HIDWORD(v332) )
              {
                v286 = HIDWORD(v121) - 1;
                sub_C8D5F0(&v331, v333, (unsigned int)v332 + 1LL, 4);
                v120 = (unsigned int)v332;
                LODWORD(v121) = v286;
              }
              *(_DWORD *)&v331[4 * v120] = v121;
              LODWORD(v332) = v332 + 1;
              if ( v334 )
                sub_B91220(&v334);
              v122 = sub_B12000(v92 + 72);
              v123 = *(_DWORD *)(v287 + 304);
              v124 = *(_QWORD *)(v287 + 288);
              v125 = v122;
              if ( v123 )
              {
                v126 = v123 - 1;
                v127 = v126 & (((unsigned int)v122 >> 9) ^ ((unsigned int)v122 >> 4));
                v128 = (__int64 *)(v124 + 16LL * v127);
                v129 = *v128;
                if ( v125 == *v128 )
                {
LABEL_153:
                  v130 = *((_DWORD *)v128 + 3) - 1;
                  goto LABEL_154;
                }
                v156 = 1;
                while ( v129 != -4096 )
                {
                  v272 = v156 + 1;
                  v127 = v126 & (v156 + v127);
                  v128 = (__int64 *)(v124 + 16LL * v127);
                  v129 = *v128;
                  if ( v125 == *v128 )
                    goto LABEL_153;
                  v156 = v272;
                }
              }
              v130 = -1;
LABEL_154:
              v131 = (unsigned int)v332;
              if ( (unsigned __int64)(unsigned int)v332 + 1 > HIDWORD(v332) )
              {
                v284 = v130;
                sub_C8D5F0(&v331, v333, (unsigned int)v332 + 1LL, 4);
                v131 = (unsigned int)v332;
                v130 = v284;
              }
              *(_DWORD *)&v331[4 * v131] = v130;
              LODWORD(v332) = v332 + 1;
              v132 = sub_B11F60(v92 + 80);
              v133 = *(_DWORD *)(v287 + 304);
              v134 = *(_QWORD *)(v287 + 288);
              v135 = v132;
              if ( v133 )
              {
                v136 = v133 - 1;
                v137 = v136 & (((unsigned int)v132 >> 9) ^ ((unsigned int)v132 >> 4));
                v138 = (__int64 *)(v134 + 16LL * v137);
                v139 = *v138;
                if ( v135 == *v138 )
                {
LABEL_158:
                  v140 = *((_DWORD *)v138 + 3) - 1;
                  goto LABEL_159;
                }
                v155 = 1;
                while ( v139 != -4096 )
                {
                  v273 = v155 + 1;
                  v274 = v136 & (v137 + v155);
                  v137 = v274;
                  v138 = (__int64 *)(v134 + 16 * v274);
                  v139 = *v138;
                  if ( v135 == *v138 )
                    goto LABEL_158;
                  v155 = v273;
                }
              }
              v140 = -1;
LABEL_159:
              v141 = (unsigned int)v332;
              if ( (unsigned __int64)(unsigned int)v332 + 1 > HIDWORD(v332) )
              {
                v285 = v140;
                sub_C8D5F0(&v331, v333, (unsigned int)v332 + 1LL, 4);
                v141 = (unsigned int)v332;
                v140 = v285;
              }
              *(_DWORD *)&v331[4 * v141] = v140;
              LODWORD(v332) = v332 + 1;
              v142 = *(_BYTE *)(v92 + 64);
              if ( v142 == 1 )
              {
                v158 = *(unsigned __int8 **)(v92 + 40);
                if ( (unsigned int)*v158 - 1 <= 1 )
                {
                  v334 = (__int64)&v336;
                  v335 = 0x200000000LL;
                  v159 = *((_QWORD *)v158 + 17);
                  v283 = v158;
                  v160 = sub_A18590(v287, v159, v311, (__int64)&v334);
                  v158 = v283;
                  if ( !v160 )
                  {
                    v240 = *(unsigned int *)v334;
                    sub_9C8C60((__int64)&v331, v240);
                    if ( (__int64 *)v334 != &v336 )
                      _libc_free(v334, v240);
                    sub_A20C50(*(_QWORD *)v287, 0xFu, (__int64)v331, (unsigned int)v332, 0, 0, 0x40u, 1);
                    v20 = v282;
                    goto LABEL_164;
                  }
                  if ( (__int64 *)v334 != &v336 )
                  {
                    _libc_free(v334, v159);
                    v158 = v283;
                  }
                }
                v161 = sub_A18650(v287 + 280, (__int64)v158);
                sub_9C8C60((__int64)&v331, HIDWORD(v161) - 1);
                v20 = 61;
                sub_A214F0(*(_QWORD *)v287, 0x3Du, (__int64)&v331, 0);
              }
              else
              {
                v143 = *(_QWORD *)(v92 + 40);
                v144 = v287 + 280;
                if ( v142 )
                {
                  v146 = sub_A18650(v144, v143);
                  sub_9C8C60((__int64)&v331, HIDWORD(v146) - 1);
                  v147 = sub_B13870(v92);
                  v148 = sub_A18650(v287 + 280, v147);
                  sub_9C8C60((__int64)&v331, HIDWORD(v148) - 1);
                  v149 = sub_B11F60(v92 + 88);
                  v150 = sub_A18650(v287 + 280, v149);
                  sub_9C8C60((__int64)&v331, HIDWORD(v150) - 1);
                  if ( *(_BYTE *)(v92 + 64) == 2 )
                    v151 = *(_QWORD *)(v92 + 48);
                  else
                    v151 = *(_QWORD *)(v92 + 40);
                  v152 = sub_A18650(v287 + 280, v151);
                  sub_9C8C60((__int64)&v331, HIDWORD(v152) - 1);
                  v20 = 63;
                  sub_A214F0(*(_QWORD *)v287, 0x3Fu, (__int64)&v331, 0);
                }
                else
                {
                  v145 = sub_A18650(v144, v143);
                  sub_9C8C60((__int64)&v331, HIDWORD(v145) - 1);
                  v20 = 62;
                  sub_A214F0(*(_QWORD *)v287, 0x3Eu, (__int64)&v331, 0);
                }
              }
LABEL_164:
              LODWORD(v332) = 0;
              v92 = *(_QWORD *)(v92 + 8);
              if ( v92 == i )
                goto LABEL_34;
            }
            if ( v117 )
              sub_B96E90(&v334, v117, 1);
            v94 = sub_B10CD0(&v334);
            v95 = *(_DWORD *)(v287 + 304);
            v96 = *(_QWORD *)(v287 + 288);
            v97 = v94;
            if ( v95 )
            {
              v98 = v95 - 1;
              v99 = v98 & (((unsigned int)v94 >> 9) ^ ((unsigned int)v94 >> 4));
              v100 = (__int64 *)(v96 + 16LL * v99);
              v101 = *v100;
              if ( v97 == *v100 )
              {
LABEL_133:
                v102 = *((_DWORD *)v100 + 3) - 1;
                goto LABEL_134;
              }
              v153 = 1;
              while ( v101 != -4096 )
              {
                v271 = v153 + 1;
                v99 = v98 & (v153 + v99);
                v100 = (__int64 *)(v96 + 16LL * v99);
                v101 = *v100;
                if ( v97 == *v100 )
                  goto LABEL_133;
                v153 = v271;
              }
            }
            v102 = -1;
LABEL_134:
            v103 = (unsigned int)v332;
            v104 = (unsigned int)v332 + 1LL;
            if ( v104 > HIDWORD(v332) )
            {
              sub_C8D5F0(&v331, v333, v104, 4);
              v103 = (unsigned int)v332;
            }
            *(_DWORD *)&v331[4 * v103] = v102;
            LODWORD(v332) = v332 + 1;
            if ( v334 )
              sub_B91220(&v334);
            v105 = sub_B11FB0(v92 + 40);
            v106 = *(_DWORD *)(v287 + 304);
            v107 = *(_QWORD *)(v287 + 288);
            v108 = v105;
            if ( !v106 )
              goto LABEL_174;
            v109 = v106 - 1;
            v110 = v109 & (((unsigned int)v105 >> 9) ^ ((unsigned int)v105 >> 4));
            v111 = (__int64 *)(v107 + 16LL * v110);
            v112 = *v111;
            if ( v108 != *v111 )
            {
              v154 = 1;
              while ( v112 != -4096 )
              {
                v270 = v154 + 1;
                v110 = v109 & (v154 + v110);
                v111 = (__int64 *)(v107 + 16LL * v110);
                v112 = *v111;
                if ( v108 == *v111 )
                  goto LABEL_140;
                v154 = v270;
              }
LABEL_174:
              v113 = -1;
              goto LABEL_141;
            }
LABEL_140:
            v113 = *((_DWORD *)v111 + 3) - 1;
LABEL_141:
            v114 = (unsigned int)v332;
            v115 = (unsigned int)v332 + 1LL;
            if ( v115 > HIDWORD(v332) )
            {
              sub_C8D5F0(&v331, v333, v115, 4);
              v114 = (unsigned int)v332;
            }
            v20 = 65;
            *(_DWORD *)&v331[4 * v114] = v113;
            v116 = *(_QWORD *)v287;
            LODWORD(v332) = v332 + 1;
            sub_A214F0(v116, 0x41u, (__int64)&v331, 0);
            LODWORD(v332) = 0;
          }
        }
      }
LABEL_34:
      v21 = *(_QWORD *)(v21 + 8);
    }
    v51 = sub_AC3FA0(v292 - 24);
    if ( !v51 )
      goto LABEL_50;
    v20 = 0x600000001LL;
    v329 = 0x600000001LL;
    v336 = 0x100000008LL;
    v337 = 0;
    v338 = 1;
    v334 = 1;
    v328 = v330;
    v335 = (__int64)&v339;
    v56 = v330;
    v330[0] = v51;
    v339 = v51;
    v57 = 1;
    while ( 1 )
    {
      v58 = v57--;
      v59 = v56[v58 - 1];
      LODWORD(v329) = v57;
      v60 = *(_QWORD *)(v59 + 16);
      if ( !v60 )
        goto LABEL_77;
      do
      {
        v61 = *(_BYTE **)(v60 + 24);
        if ( *v61 <= 0x1Cu )
        {
          if ( (unsigned __int8)(*v61 - 4) > 0x11u )
            goto LABEL_75;
          if ( !v338 )
            goto LABEL_181;
          v68 = (_QWORD *)v335;
          v69 = (_QWORD *)(v335 + 8LL * HIDWORD(v336));
          if ( (_QWORD *)v335 != v69 )
          {
            while ( v61 != (_BYTE *)*v68 )
            {
              if ( v69 == ++v68 )
                goto LABEL_84;
            }
            goto LABEL_75;
          }
LABEL_84:
          if ( HIDWORD(v336) < (unsigned int)v336 )
          {
            ++HIDWORD(v336);
            *v69 = v61;
            ++v334;
          }
          else
          {
LABEL_181:
            v20 = *(_QWORD *)(v60 + 24);
            sub_C8CC70(&v334, v20);
            if ( !v157 )
              goto LABEL_75;
          }
          v70 = (unsigned int)v329;
          v71 = (unsigned int)v329 + 1LL;
          if ( v71 > HIDWORD(v329) )
          {
            v20 = (__int64)v330;
            sub_C8D5F0(&v328, v330, v71, 8);
            v70 = (unsigned int)v329;
          }
          v328[v70] = v61;
          LODWORD(v329) = v329 + 1;
          goto LABEL_75;
        }
        v319 = sub_B43CB0(*(_QWORD *)(v60 + 24));
        v62 = v319;
        if ( a2 == v319 )
          goto LABEL_75;
        if ( (_DWORD)v323 )
        {
          v20 = (unsigned int)v324;
          if ( (_DWORD)v324 )
          {
            v72 = 1;
            v73 = 0;
            v74 = (v324 - 1) & (((unsigned int)v319 >> 9) ^ ((unsigned int)v319 >> 4));
            v75 = (__int64 *)(v322 + 8LL * v74);
            v76 = *v75;
            if ( v319 == *v75 )
              goto LABEL_75;
            while ( v76 != -4096 )
            {
              if ( v76 != -8192 || v73 )
                v75 = v73;
              v74 = (v324 - 1) & (v72 + v74);
              v76 = *(_QWORD *)(v322 + 8LL * v74);
              if ( v319 == v76 )
                goto LABEL_75;
              ++v72;
              v73 = v75;
              v75 = (__int64 *)(v322 + 8LL * v74);
            }
            if ( !v73 )
              v73 = v75;
            v77 = v323 + 1;
            ++v321;
            v320 = v73;
            if ( 4 * ((int)v323 + 1) < (unsigned int)(3 * v324) )
            {
              if ( (int)v324 - HIDWORD(v323) - v77 > (unsigned int)v324 >> 3 )
              {
LABEL_96:
                LODWORD(v323) = v77;
                if ( *v73 != -4096 )
                  --HIDWORD(v323);
                *v73 = v62;
                v78 = (unsigned int)v326;
                v79 = v319;
                v80 = (unsigned int)v326 + 1LL;
                if ( v80 > HIDWORD(v326) )
                {
                  v20 = (__int64)v327;
                  sub_C8D5F0(&v325, v327, v80, 8);
                  v78 = (unsigned int)v326;
                }
                *(_QWORD *)&v325[8 * v78] = v79;
                LODWORD(v326) = v326 + 1;
                goto LABEL_75;
              }
LABEL_213:
              sub_A35F10((__int64)&v321, v20);
              v20 = (__int64)&v319;
              sub_A2AFD0((__int64)&v321, &v319, &v320);
              v62 = v319;
              v73 = v320;
              v77 = v323 + 1;
              goto LABEL_96;
            }
          }
          else
          {
            ++v321;
            v320 = 0;
          }
          LODWORD(v20) = 2 * v324;
          goto LABEL_213;
        }
        v63 = v325;
        v64 = 8LL * (unsigned int)v326;
        v20 = (__int64)&v325[v64];
        v65 = v64 >> 3;
        v66 = v64 >> 5;
        if ( !v66 )
          goto LABEL_102;
        v67 = &v325[32 * v66];
        do
        {
          if ( v319 == *v63 )
            goto LABEL_74;
          if ( v319 == v63[1] )
          {
            ++v63;
            goto LABEL_74;
          }
          if ( v319 == v63[2] )
          {
            v63 += 2;
            goto LABEL_74;
          }
          if ( v319 == v63[3] )
          {
            v63 += 3;
            goto LABEL_74;
          }
          v63 += 4;
        }
        while ( v67 != v63 );
        v65 = (v20 - (__int64)v63) >> 3;
LABEL_102:
        switch ( v65 )
        {
          case 2LL:
            goto LABEL_119;
          case 3LL:
            if ( v319 != *v63 )
            {
              ++v63;
LABEL_119:
              if ( v319 != *v63 )
              {
                ++v63;
LABEL_121:
                if ( v319 != *v63 )
                {
                  v81 = (unsigned int)v326 + 1LL;
                  if ( v81 > HIDWORD(v326) )
                    goto LABEL_123;
                  goto LABEL_106;
                }
              }
            }
LABEL_74:
            if ( (_QWORD *)v20 == v63 )
              break;
            goto LABEL_75;
          case 1LL:
            goto LABEL_121;
        }
        v81 = (unsigned int)v326 + 1LL;
        if ( v81 <= HIDWORD(v326) )
          goto LABEL_106;
LABEL_123:
        sub_C8D5F0(&v325, v327, v81, 8);
        v20 = (__int64)&v325[8 * (unsigned int)v326];
LABEL_106:
        *(_QWORD *)v20 = v62;
        v82 = (unsigned int)(v326 + 1);
        LODWORD(v326) = v82;
        if ( (unsigned int)v82 > 4 )
        {
          v83 = (__int64 *)v325;
          v84 = (__int64 *)&v325[8 * v82];
          while ( 1 )
          {
            v20 = (unsigned int)v324;
            if ( !(_DWORD)v324 )
              break;
            v85 = (v324 - 1) & (((unsigned int)*v83 >> 9) ^ ((unsigned int)*v83 >> 4));
            v86 = (__int64 *)(v322 + 8LL * v85);
            v87 = *v86;
            if ( *v83 != *v86 )
            {
              v167 = 1;
              v89 = 0;
              while ( v87 != -4096 )
              {
                if ( v87 != -8192 || v89 )
                  v86 = v89;
                v85 = (v324 - 1) & (v167 + v85);
                v87 = *(_QWORD *)(v322 + 8LL * v85);
                if ( *v83 == v87 )
                  goto LABEL_109;
                ++v167;
                v89 = v86;
                v86 = (__int64 *)(v322 + 8LL * v85);
              }
              if ( !v89 )
                v89 = v86;
              ++v321;
              v91 = v323 + 1;
              if ( 4 * ((int)v323 + 1) < (unsigned int)(3 * v324) )
              {
                if ( (int)v324 - HIDWORD(v323) - v91 <= (unsigned int)v324 >> 3 )
                {
                  sub_A35F10((__int64)&v321, v324);
                  if ( !(_DWORD)v324 )
                  {
LABEL_403:
                    LODWORD(v323) = v323 + 1;
                    BUG();
                  }
                  v20 = 1;
                  v168 = 0;
                  v169 = (v324 - 1) & (((unsigned int)*v83 >> 9) ^ ((unsigned int)*v83 >> 4));
                  v89 = (__int64 *)(v322 + 8LL * v169);
                  v170 = *v89;
                  v91 = v323 + 1;
                  if ( *v89 != *v83 )
                  {
                    while ( v170 != -4096 )
                    {
                      if ( !v168 && v170 == -8192 )
                        v168 = v89;
                      v169 = (v324 - 1) & (v20 + v169);
                      v297 = v20 + 1;
                      v20 = v169;
                      v89 = (__int64 *)(v322 + 8LL * v169);
                      v170 = *v89;
                      if ( *v83 == *v89 )
                        goto LABEL_114;
                      v20 = v297;
                    }
                    if ( v168 )
                      v89 = v168;
                  }
                }
                goto LABEL_114;
              }
LABEL_112:
              sub_A35F10((__int64)&v321, 2 * v324);
              if ( !(_DWORD)v324 )
                goto LABEL_403;
              v20 = *v83;
              v88 = (v324 - 1) & (((unsigned int)*v83 >> 9) ^ ((unsigned int)*v83 >> 4));
              v89 = (__int64 *)(v322 + 8LL * v88);
              v90 = *v89;
              v91 = v323 + 1;
              if ( *v83 != *v89 )
              {
                v275 = 1;
                v276 = 0;
                while ( v90 != -4096 )
                {
                  if ( !v276 && v90 == -8192 )
                    v276 = v89;
                  v88 = (v324 - 1) & (v275 + v88);
                  v89 = (__int64 *)(v322 + 8LL * v88);
                  v90 = *v89;
                  if ( v20 == *v89 )
                    goto LABEL_114;
                  ++v275;
                }
                if ( v276 )
                  v89 = v276;
              }
LABEL_114:
              LODWORD(v323) = v91;
              if ( *v89 != -4096 )
                --HIDWORD(v323);
              *v89 = *v83;
            }
LABEL_109:
            if ( v84 == ++v83 )
              goto LABEL_75;
          }
          ++v321;
          goto LABEL_112;
        }
LABEL_75:
        v60 = *(_QWORD *)(v60 + 8);
      }
      while ( v60 );
      v57 = v329;
LABEL_77:
      if ( !v57 )
      {
        if ( !v338 )
          _libc_free(v335, v20);
        if ( v328 != v330 )
          _libc_free(v328, v20);
LABEL_50:
        v292 = *(_QWORD *)(v292 + 8);
        if ( v291 == v292 )
        {
          v52 = v326;
          v3 = v287;
          if ( (_DWORD)v326 )
          {
            v261 = (unsigned int)v332;
            if ( (unsigned int)v326 != (unsigned __int64)(unsigned int)v332 )
            {
              if ( (unsigned int)v326 < (unsigned __int64)(unsigned int)v332 )
              {
                LODWORD(v332) = v326;
                v261 = (unsigned int)v326;
              }
              else
              {
                if ( (unsigned int)v326 > (unsigned __int64)HIDWORD(v332) )
                {
                  sub_C8D5F0(&v331, v333, (unsigned int)v326, 4);
                  v261 = (unsigned int)v332;
                }
                v262 = &v331[4 * v261];
                for ( j = &v331[4 * v52]; j != v262; ++v262 )
                {
                  if ( v262 )
                    *v262 = 0;
                }
                LODWORD(v332) = v52;
                v261 = (unsigned int)v326;
              }
            }
            v264 = v325;
            v265 = 0;
            v266 = &v325[8 * v261];
            if ( v266 != v325 )
            {
              do
              {
                v264 += 8;
                v267 = sub_A3F3B0(v289);
                *(_DWORD *)&v331[v265] = v267;
                v265 += 4;
              }
              while ( v266 != v264 );
            }
            v20 = 60;
            sub_A214F0(*(_QWORD *)v287, 0x3Cu, (__int64)&v331, 0);
            LODWORD(v332) = 0;
          }
          break;
        }
        goto LABEL_13;
      }
      v56 = v328;
    }
  }
  v53 = *(__int64 ****)(a2 + 112);
  if ( !v53 || !*((_DWORD *)v53 + 3) )
    goto LABEL_54;
  v20 = 14;
  sub_A19830(*(_QWORD *)v3, 0xEu, 4u);
  v334 = (__int64)&v336;
  v335 = 0x4000000000LL;
  v171 = *((_DWORD *)v53 + 2);
  if ( v171 )
  {
    v172 = **v53;
    v173 = *v53;
    if ( !v172 || v172 == (__int64 *)-8LL )
    {
      do
      {
        do
        {
          v174 = v173[1];
          ++v173;
        }
        while ( v174 == (__int64 *)-8LL );
      }
      while ( !v174 );
    }
    v295 = (__int64)&(*v53)[v171];
    if ( (__int64 **)v295 != v173 )
    {
      v300 = (__int64 *)v3;
      v175 = &v334;
      while ( 1 )
      {
        v176 = *v173;
        v312 = (char *)(*v173 + 2);
        v177 = sub_A16070(v312, **v173);
        v178 = sub_A3F3B0(v289);
        v179 = (unsigned int)v335;
        v180 = v312;
        v181 = v178;
        if ( (unsigned __int64)(unsigned int)v335 + 1 > HIDWORD(v335) )
        {
          sub_C8D5F0(v175, &v336, (unsigned int)v335 + 1LL, 8);
          v179 = (unsigned int)v335;
          v180 = v312;
        }
        *(_QWORD *)(v334 + 8 * v179) = v181;
        v182 = (unsigned int)(v335 + 1);
        LODWORD(v335) = v335 + 1;
        if ( *(_BYTE *)v176[1] == 23 )
        {
          v118 = v177 == 0;
          v183 = 7;
          v177 = 2;
          if ( !v118 )
            goto LABEL_227;
        }
        else
        {
          if ( v177 )
          {
            v183 = 5;
            if ( v177 == 1 )
              goto LABEL_228;
            v177 = 1;
LABEL_227:
            v183 = 4;
            goto LABEL_228;
          }
          v177 = 1;
          v183 = 6;
        }
LABEL_228:
        v184 = (unsigned __int8 *)&v180[*v176];
        if ( v180 != (char *)v184 )
        {
          v313 = v173;
          v185 = (unsigned __int8 *)v180;
          v186 = v177;
          v187 = v175;
          v188 = v184;
          do
          {
            v189 = *v185;
            if ( v182 + 1 > (unsigned __int64)HIDWORD(v335) )
            {
              sub_C8D5F0(v187, &v336, v182 + 1, 8);
              v182 = (unsigned int)v335;
            }
            ++v185;
            *(_QWORD *)(v334 + 8 * v182) = v189;
            v182 = (unsigned int)(v335 + 1);
            LODWORD(v335) = v335 + 1;
          }
          while ( v188 != v185 );
          v177 = v186;
          v173 = v313;
          v175 = v187;
        }
        v20 = v177;
        sub_A1FB70(*v300, v177, (__int64)v175, v183);
        v190 = v173 + 1;
        LODWORD(v335) = 0;
        v191 = v173[1];
        if ( !v191 || v191 == (__int64 *)-8LL )
        {
          do
          {
            do
            {
              v192 = v190[1];
              ++v190;
            }
            while ( v192 == (__int64 *)-8LL );
          }
          while ( !v192 );
        }
        if ( (__int64 **)v295 == v190 )
        {
          v3 = (__int64)v300;
          break;
        }
        v173 = v190;
      }
    }
  }
  sub_A192A0(*(_QWORD *)v3);
  if ( (__int64 *)v334 != &v336 )
  {
    _libc_free(v334, v20);
    if ( !v294 )
      goto LABEL_55;
    goto LABEL_243;
  }
LABEL_54:
  if ( !v294 )
    goto LABEL_55;
LABEL_243:
  v20 = 16;
  sub_A19830(*(_QWORD *)v3, 0x10u, 3u);
  v334 = (__int64)&v336;
  v335 = 0x4000000000LL;
  if ( (*(_BYTE *)(a2 + 7) & 0x20) != 0 )
  {
    sub_A16D70(v3, (__int64)&v334, a2);
    v20 = 11;
    sub_A1FB70(*(_QWORD *)v3, 0xBu, (__int64)&v334, 0);
    LODWORD(v335) = 0;
  }
  v328 = v330;
  v329 = 0x400000000LL;
  v288 = *(_QWORD *)(a2 + 80);
  if ( v291 != v288 )
  {
    v290 = v3;
    do
    {
      if ( !v288 )
        BUG();
      v20 = *(_QWORD *)(v288 + 32);
      for ( k = v20; v288 + 24 != k; k = *(_QWORD *)(k + 8) )
      {
        v193 = 0;
        v20 = (__int64)&v328;
        LODWORD(v329) = 0;
        if ( k )
          v193 = k - 24;
        sub_B9A9D0(v193, &v328);
        if ( (_DWORD)v329 )
        {
          v194 = sub_A3F2D0(v289, v193);
          v195 = (unsigned int)v335;
          v196 = v194;
          if ( (unsigned __int64)(unsigned int)v335 + 1 > HIDWORD(v335) )
          {
            sub_C8D5F0(&v334, &v336, (unsigned int)v335 + 1LL, 8);
            v195 = (unsigned int)v335;
          }
          *(_QWORD *)(v334 + 8 * v195) = v196;
          v197 = v335 + 1;
          LODWORD(v335) = v335 + 1;
          if ( (_DWORD)v329 )
          {
            v198 = 0;
            v199 = 16LL * (unsigned int)v329;
            do
            {
              v200 = LODWORD(v328[v198 / 8]);
              v201 = v197;
              v202 = v197 + 1LL;
              if ( v202 > HIDWORD(v335) )
              {
                v317 = LODWORD(v328[v198 / 8]);
                sub_C8D5F0(&v334, &v336, v202, 8);
                v201 = (unsigned int)v335;
                v200 = v317;
              }
              v203 = 0xFFFFFFFFLL;
              *(_QWORD *)(v334 + 8 * v201) = v200;
              v204 = *(_DWORD *)(v290 + 304);
              v205 = (unsigned int)(v335 + 1);
              v206 = *(_QWORD *)(v290 + 288);
              LODWORD(v335) = v335 + 1;
              v207 = v328[v198 / 8 + 1];
              if ( v204 )
              {
                v208 = v204 - 1;
                v209 = v208 & (((unsigned int)v207 >> 9) ^ ((unsigned int)v207 >> 4));
                v210 = (__int64 *)(v206 + 16LL * v209);
                v211 = *v210;
                if ( *v210 == v207 )
                {
LABEL_262:
                  v203 = (unsigned int)(*((_DWORD *)v210 + 3) - 1);
                }
                else
                {
                  v259 = 1;
                  while ( v211 != -4096 )
                  {
                    v260 = v259 + 1;
                    v209 = v208 & (v259 + v209);
                    v210 = (__int64 *)(v206 + 16LL * v209);
                    v211 = *v210;
                    if ( v207 == *v210 )
                      goto LABEL_262;
                    v259 = v260;
                  }
                  v203 = 0xFFFFFFFFLL;
                }
              }
              if ( v205 + 1 > (unsigned __int64)HIDWORD(v335) )
              {
                sub_C8D5F0(&v334, &v336, v205 + 1, 8);
                v205 = (unsigned int)v335;
              }
              v198 += 16LL;
              *(_QWORD *)(v334 + 8 * v205) = v203;
              v197 = v335 + 1;
              LODWORD(v335) = v335 + 1;
            }
            while ( v198 != v199 );
          }
          v212 = *(_QWORD *)v290;
          sub_A17B10(*(_QWORD *)v290, 3u, *(_DWORD *)(*(_QWORD *)v290 + 56LL));
          sub_A17B10(v212, 0xBu, 6);
          if ( v197 > 0x1F )
          {
            v307 = v197;
            do
            {
              while ( 1 )
              {
                v213 = *(_DWORD *)(v212 + 48);
                v214 = (v197 & 0x1F | 0x20) << v213;
                v215 = v213 + 6;
                v216 = *(_DWORD *)(v212 + 52) | v214;
                *(_DWORD *)(v212 + 52) = v216;
                if ( v215 > 0x1F )
                  break;
                v197 >>= 5;
                *(_DWORD *)(v212 + 48) = v215;
                if ( v197 <= 0x1F )
                  goto LABEL_275;
              }
              v217 = *(_QWORD **)(v212 + 24);
              v218 = v217[1];
              if ( (unsigned __int64)(v218 + 4) > v217[2] )
              {
                v315 = *(_QWORD **)(v212 + 24);
                sub_C8D290(v315, v217 + 3, v218 + 4, 1);
                v217 = v315;
                v218 = v315[1];
              }
              *(_DWORD *)(*v217 + v218) = v216;
              v217[1] += 4LL;
              v219 = *(_DWORD *)(v212 + 48);
              v220 = (v197 & 0x1F | 0x20) >> (32 - v219);
              if ( !v219 )
                v220 = 0;
              v197 >>= 5;
              *(_DWORD *)(v212 + 52) = v220;
              *(_DWORD *)(v212 + 48) = ((_BYTE)v219 + 6) & 0x1F;
            }
            while ( v197 > 0x1F );
LABEL_275:
            v221 = v197;
            v197 = v307;
            v20 = v221;
            sub_A17B10(v212, v221, 6);
LABEL_276:
            v296 = v197;
            v222 = 0;
LABEL_277:
            v223 = *(_DWORD *)(v212 + 52);
            v224 = *(_DWORD *)(v212 + 48);
            v225 = *(_QWORD *)(v334 + 8LL * v222);
            v226 = v225;
            if ( v225 == (unsigned int)v225 )
            {
              if ( (unsigned int)v225 > 0x1F )
              {
                v310 = v222;
                v249 = v212;
                for ( m = v225; m > 0x1F; m >>= 5 )
                {
                  v252 = (m & 0x1F | 0x20) << v224;
                  v224 += 6;
                  v223 |= v252;
                  *(_DWORD *)(v249 + 52) = v223;
                  if ( v224 > 0x1F )
                  {
                    v253 = *(_QWORD **)(v249 + 24);
                    v254 = v253[1];
                    if ( (unsigned __int64)(v254 + 4) > v253[2] )
                    {
                      v20 = (__int64)(v253 + 3);
                      v316 = *(_QWORD **)(v249 + 24);
                      sub_C8D290(v253, v253 + 3, v254 + 4, 1);
                      v253 = v316;
                      v254 = v316[1];
                    }
                    *(_DWORD *)(*v253 + v254) = v223;
                    v223 = 0;
                    v253[1] += 4LL;
                    v251 = *(_DWORD *)(v249 + 48);
                    if ( v251 )
                      v223 = (m & 0x1F | 0x20) >> (32 - v251);
                    v224 = ((_BYTE)v251 + 6) & 0x1F;
                    *(_DWORD *)(v249 + 52) = v223;
                  }
                  *(_DWORD *)(v249 + 48) = v224;
                }
                v226 = m;
                v212 = v249;
                v222 = v310;
              }
              v255 = v226 << v224;
              v243 = v224 + 6;
              v256 = v255 | v223;
              *(_DWORD *)(v212 + 52) = v256;
              if ( v243 <= 0x1F )
                goto LABEL_302;
              v257 = *(_QWORD **)(v212 + 24);
              v258 = v257[1];
              if ( (unsigned __int64)(v258 + 4) > v257[2] )
              {
                v20 = (__int64)(v257 + 3);
                v318 = v226;
                sub_C8D290(*(_QWORD *)(v212 + 24), v257 + 3, v258 + 4, 1);
                v258 = v257[1];
                v226 = v318;
              }
              *(_DWORD *)(*v257 + v258) = v256;
              v257[1] += 4LL;
LABEL_297:
              v247 = *(_DWORD *)(v212 + 48);
              v248 = v226 >> (32 - v247);
              if ( !v247 )
                v248 = 0;
              *(_DWORD *)(v212 + 52) = v248;
              *(_DWORD *)(v212 + 48) = ((_BYTE)v247 + 6) & 0x1F;
            }
            else
            {
              if ( v225 > 0x1F )
              {
                v308 = v222;
                v227 = v212;
                v228 = v225;
                v229 = v223;
                do
                {
                  v231 = (v228 & 0x1F | 0x20) << v224;
                  v224 += 6;
                  v229 |= v231;
                  *(_DWORD *)(v227 + 52) = v229;
                  if ( v224 > 0x1F )
                  {
                    v232 = *(_QWORD **)(v227 + 24);
                    v233 = v232[1];
                    if ( (unsigned __int64)(v233 + 4) > v232[2] )
                    {
                      v20 = (__int64)(v232 + 3);
                      v314 = *(_QWORD **)(v227 + 24);
                      sub_C8D290(v314, v232 + 3, v233 + 4, 1);
                      v232 = v314;
                      v233 = v314[1];
                    }
                    *(_DWORD *)(*v232 + v233) = v229;
                    v229 = 0;
                    v232[1] += 4LL;
                    v230 = *(_DWORD *)(v227 + 48);
                    if ( v230 )
                      v229 = (v228 & 0x1F | 0x20) >> (32 - (unsigned __int8)v230);
                    v224 = ((_BYTE)v230 + 6) & 0x1F;
                    *(_DWORD *)(v227 + 52) = v229;
                  }
                  v228 >>= 5;
                  *(_DWORD *)(v227 + 48) = v224;
                }
                while ( v228 > 0x1F );
                v223 = v229;
                v241 = v228;
                v212 = v227;
                v222 = v308;
                v226 = v241;
              }
              v242 = v226 << v224;
              v243 = v224 + 6;
              v244 = v242 | v223;
              *(_DWORD *)(v212 + 52) = v244;
              if ( v243 > 0x1F )
              {
                v245 = *(_QWORD **)(v212 + 24);
                v246 = v245[1];
                if ( (unsigned __int64)(v246 + 4) > v245[2] )
                {
                  v20 = (__int64)(v245 + 3);
                  v309 = v226;
                  sub_C8D290(v245, v245 + 3, v246 + 4, 1);
                  v226 = v309;
                  v246 = v245[1];
                }
                *(_DWORD *)(*v245 + v246) = v244;
                v245[1] += 4LL;
                goto LABEL_297;
              }
LABEL_302:
              *(_DWORD *)(v212 + 48) = v243;
            }
            if ( v296 == ++v222 )
            {
              LODWORD(v335) = 0;
              continue;
            }
            goto LABEL_277;
          }
          v20 = v197;
          sub_A17B10(v212, v197, 6);
          if ( v197 )
            goto LABEL_276;
          LODWORD(v335) = 0;
        }
      }
      v288 = *(_QWORD *)(v288 + 8);
    }
    while ( v291 != v288 );
    v3 = v290;
  }
  sub_A192A0(*(_QWORD *)v3);
  if ( v328 != v330 )
    _libc_free(v328, v20);
  if ( (__int64 *)v334 != &v336 )
    _libc_free(v334, v20);
LABEL_55:
  if ( *(_BYTE *)(v3 + 344) )
  {
    v20 = a2;
    sub_A207F0((__int64 *)v3, a2);
  }
  sub_A40A70(v289);
  sub_A192A0(*(_QWORD *)v3);
  if ( v325 != v327 )
    _libc_free(v325, v20);
  v54 = 8LL * (unsigned int)v324;
  result = sub_C7D6A0(v322, v54, 8);
  if ( v331 != v333 )
    return _libc_free(v331, v54);
  return result;
}
