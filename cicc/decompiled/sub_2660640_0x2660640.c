// Function: sub_2660640
// Address: 0x2660640
//
void __fastcall sub_2660640(__m128i *a1, signed __int64 a2, __int64 a3, __int64 a4)
{
  __m128i *v4; // r14
  __m128i *v5; // rdi
  __m128i *v6; // rdi
  __m128i *v7; // rcx
  __int64 v8; // rcx
  __m128i *v9; // rbx
  __int64 v10; // rsi
  __int64 v11; // rax
  _QWORD *v12; // r12
  __int64 *v13; // rax
  char *v14; // rsi
  __int64 v15; // rsi
  unsigned __int64 v16; // r12
  _QWORD *v17; // rax
  __int64 v18; // rcx
  __int64 v19; // rdx
  unsigned __int64 v20; // rax
  _QWORD *v21; // rax
  __int64 v22; // rdx
  __int64 v23; // rcx
  __int64 v24; // rax
  __int64 v25; // rax
  unsigned __int8 v26; // al
  __m128i *v27; // rax
  __int64 v28; // rcx
  __int64 *v29; // rbx
  char *v30; // r14
  __int64 v31; // r15
  char v32; // al
  __int64 v33; // r9
  __int64 v34; // r13
  unsigned __int8 v35; // al
  bool v36; // dl
  __int64 *v37; // r15
  unsigned int i; // ebx
  __int64 v39; // rax
  _BYTE *v40; // rax
  unsigned __int8 v41; // dl
  _QWORD *v42; // rax
  __int64 v43; // rsi
  _QWORD *v44; // rdx
  __int64 v45; // rax
  __int64 v46; // rsi
  _QWORD *v47; // rax
  __int64 v48; // rsi
  __m128i *v49; // r8
  __m128i *v50; // rax
  __int64 *v51; // r9
  __int64 v52; // r13
  __m128i *v53; // rax
  __int64 v54; // rbx
  unsigned __int64 v55; // rdx
  __m128i *v56; // rcx
  __int64 v57; // rdx
  __int64 v58; // rdx
  __int64 v59; // rcx
  __int64 v60; // rbx
  __int64 v61; // rcx
  __int64 v62; // rax
  __int64 v63; // rbx
  unsigned __int64 v64; // r14
  __m128i *v65; // r12
  const __m128i *v66; // r13
  __int64 v67; // r15
  __int64 v68; // rdx
  __m128i *v69; // rax
  __m128i v70; // xmm7
  const __m128i *v71; // rbx
  __int64 v72; // r14
  unsigned __int8 *v73; // rax
  int v74; // r11d
  __int64 v75; // r10
  __int64 v76; // rcx
  __int64 v77; // rdi
  __m128i *v78; // rax
  unsigned __int64 *v79; // rdi
  _BYTE *v80; // r13
  __int64 v81; // rsi
  unsigned __int64 v82; // rdi
  __int64 v83; // rcx
  unsigned __int64 v84; // r8
  unsigned __int64 v85; // rbx
  __int64 v86; // r12
  volatile signed __int32 *v87; // r13
  signed __int32 v88; // eax
  signed __int32 v89; // eax
  __int64 v90; // rcx
  unsigned __int64 v91; // r8
  unsigned __int64 v92; // rbx
  __int64 v93; // r12
  volatile signed __int32 *v94; // r13
  signed __int32 v95; // eax
  signed __int32 v96; // eax
  unsigned __int64 v97; // rdi
  __int64 *v98; // rbx
  __int64 v99; // rax
  __int64 *v100; // rax
  __int64 **v101; // rbx
  __int64 **v102; // r15
  unsigned __int64 v103; // rsi
  unsigned __int64 v104; // r8
  _QWORD *v105; // rax
  __int64 v106; // rcx
  __int64 v107; // rdx
  int v108; // esi
  unsigned int v109; // r9d
  __int32 v110; // r10d
  __int64 v111; // rax
  unsigned int v112; // r12d
  _QWORD *v113; // rcx
  __int64 v114; // rdi
  __int64 v115; // r11
  int v116; // esi
  __int64 *v117; // r8
  _OWORD *v118; // r12
  __int64 v119; // rdi
  unsigned __int32 v120; // ecx
  __int64 v121; // r9
  _QWORD *v122; // rax
  __int64 **v123; // r14
  __int64 *v124; // rbx
  __int64 v125; // rcx
  int v126; // esi
  __int64 v127; // r9
  unsigned int v128; // edx
  __int64 *v129; // rax
  __int64 v130; // rdi
  const __m128i **v131; // rbx
  __int64 *v132; // rsi
  __int64 v133; // r13
  _QWORD *v134; // r15
  _QWORD *v135; // rax
  _QWORD *v136; // rdx
  _QWORD *v137; // rbx
  int *v138; // r15
  __int64 v139; // rdx
  __int64 v140; // rcx
  __int64 v141; // r8
  __int64 v142; // r9
  __int64 v143; // rbx
  __int64 v144; // r15
  char v145; // al
  __int64 *v146; // rcx
  __int64 v147; // rax
  __int64 v148; // rdx
  __int64 v149; // r13
  int *v150; // r13
  int *v151; // r14
  int *v152; // rbx
  char v153; // al
  __int64 v154; // rbx
  __int64 k; // r13
  __int64 v156; // rdi
  __int64 v157; // rbx
  __int64 m; // r13
  __int64 v159; // rdi
  char v160; // bl
  __int64 v161; // rdi
  __int64 v162; // rsi
  __int64 v163; // rax
  _QWORD *v164; // r12
  _QWORD *v165; // r13
  unsigned __int64 v166; // rdi
  __int64 v167; // r13
  __m128i *v168; // r15
  __m128i *v169; // r12
  __int64 v170; // rdx
  __int64 v171; // rax
  __int32 v172; // r8d
  __int32 v173; // edx
  __int32 v174; // r9d
  int v175; // r10d
  unsigned int jj; // eax
  __int64 v177; // r8
  unsigned int v178; // eax
  char v179; // al
  char v180; // r14
  _QWORD *v181; // rax
  _QWORD *v182; // r13
  __int64 v183; // rsi
  __int64 *v184; // rax
  __int64 v185; // r11
  __int64 v186; // r15
  int j; // r10d
  __int64 *v188; // rax
  unsigned __int64 v189; // rbx
  __int64 v190; // r12
  __int64 v191; // rdx
  __int64 v192; // r15
  const __m128i *v193; // rsi
  unsigned __int64 v194; // rbx
  _BYTE *v195; // r12
  __int64 v196; // r15
  const __m128i *v197; // rsi
  __int64 v198; // r13
  __int64 kk; // r14
  __int64 *v200; // r12
  __int64 *mm; // rbx
  __int64 v202; // rdi
  int v203; // ecx
  __int64 *v204; // rcx
  __int64 *v205; // rcx
  __int64 *v206; // rax
  __int64 v207; // rax
  __int32 v208; // edx
  const __m128i *v209; // r8
  const __m128i *v210; // r13
  const __m128i *v211; // r15
  __int64 v212; // rcx
  __int64 v213; // rax
  __m128i *v214; // rdx
  __m128i v215; // xmm5
  int v216; // r11d
  __int64 *v217; // r12
  int v218; // eax
  int v219; // edx
  _QWORD *v220; // rax
  __int64 *v221; // rax
  __int64 v222; // rdx
  volatile signed __int32 *v223; // rax
  __int64 v224; // r12
  volatile signed __int32 *v225; // rax
  __int64 v226; // r13
  unsigned __int8 v227; // cl
  bool v228; // bl
  __m128i *v229; // rsi
  unsigned __int64 v230; // rdi
  __int64 v231; // r13
  __int64 *v232; // r15
  __int64 v233; // rcx
  int v234; // r10d
  unsigned int n; // eax
  __int64 v236; // rdi
  unsigned int v237; // eax
  unsigned __int64 *v238; // rax
  __int64 v239; // rdx
  __m128i *v240; // rsi
  __int64 v241; // rcx
  __int64 v242; // rbx
  __int64 v243; // rax
  __int64 v244; // rax
  const __m128i *ii; // r13
  __int64 v246; // r14
  bool v247; // zf
  __int64 v248; // r15
  unsigned __int8 *v249; // r14
  unsigned __int8 *v250; // rax
  __int64 v251; // r8
  __int64 v252; // r9
  __int64 v253; // rax
  __m128i v254; // xmm0
  __int64 v255; // r15
  _QWORD *v256; // rdx
  unsigned __int64 v257; // r13
  __int64 v258; // rax
  __int64 v259; // rbx
  unsigned __int64 v260; // rbx
  __m128i *v261; // rax
  unsigned __int64 v262; // rbx
  __int64 *v263; // rax
  _QWORD *v264; // rax
  __int64 v265; // r12
  _QWORD *v266; // rbx
  __int64 v267; // rax
  __int64 v268; // rsi
  __int64 v269; // rdx
  const __m128i *v270; // rdx
  __m128i *v271; // rax
  __int64 v272; // rax
  __m128i *v273; // r12
  const __m128i *v274; // rcx
  __m128i *v275; // rax
  __int64 *v276; // rdi
  _QWORD *v277; // rsi
  __int64 v278; // rdx
  int v279; // r11d
  __int64 *v280; // r10
  int v281; // edx
  __int64 v282; // rdx
  __int64 v283; // rax
  __int64 v284; // rbx
  __int64 v285; // r12
  __int64 v286; // rdi
  __int64 v287; // rdi
  __int64 v288; // rsi
  __int64 v289; // rdi
  __int32 v290; // edi
  unsigned int v291; // esi
  int v292; // edx
  _DWORD *v293; // rax
  int v294; // edx
  char v295; // [rsp+17h] [rbp-279h]
  __int64 v296; // [rsp+18h] [rbp-278h]
  __int64 v297; // [rsp+20h] [rbp-270h]
  __m128i *v298; // [rsp+28h] [rbp-268h]
  char *v299; // [rsp+30h] [rbp-260h]
  unsigned __int64 *v300; // [rsp+30h] [rbp-260h]
  __m128i *v301; // [rsp+38h] [rbp-258h]
  __int32 v302; // [rsp+38h] [rbp-258h]
  unsigned __int64 *v303; // [rsp+40h] [rbp-250h]
  __int64 v304; // [rsp+40h] [rbp-250h]
  __int64 **v305; // [rsp+48h] [rbp-248h]
  __m128i *v306; // [rsp+48h] [rbp-248h]
  __int64 v307; // [rsp+50h] [rbp-240h]
  const __m128i *v308; // [rsp+50h] [rbp-240h]
  __int64 *v309; // [rsp+60h] [rbp-230h]
  __int64 m128i_i64; // [rsp+68h] [rbp-228h]
  __int64 v311; // [rsp+68h] [rbp-228h]
  __m128i *v312; // [rsp+70h] [rbp-220h]
  __int64 *v313; // [rsp+78h] [rbp-218h]
  __m128i *v314; // [rsp+80h] [rbp-210h]
  int *v315; // [rsp+80h] [rbp-210h]
  __int64 v316; // [rsp+80h] [rbp-210h]
  _BYTE *v317; // [rsp+80h] [rbp-210h]
  __m128i *v318; // [rsp+88h] [rbp-208h]
  __int64 v319; // [rsp+90h] [rbp-200h]
  volatile signed __int32 *v320; // [rsp+90h] [rbp-200h]
  __int64 v321; // [rsp+98h] [rbp-1F8h]
  __int64 **v322; // [rsp+98h] [rbp-1F8h]
  volatile signed __int32 *v323; // [rsp+98h] [rbp-1F8h]
  _QWORD *v324; // [rsp+A0h] [rbp-1F0h]
  _QWORD *v325; // [rsp+A0h] [rbp-1F0h]
  __int64 v326; // [rsp+A0h] [rbp-1F0h]
  int v327; // [rsp+A0h] [rbp-1F0h]
  __m128i v328; // [rsp+B0h] [rbp-1E0h] BYREF
  __m128i *v329; // [rsp+C0h] [rbp-1D0h]
  __m128i *v330; // [rsp+C8h] [rbp-1C8h]
  __m128i *v331; // [rsp+D8h] [rbp-1B8h] BYREF
  __m128i v332; // [rsp+E0h] [rbp-1B0h] BYREF
  _QWORD *v333; // [rsp+F0h] [rbp-1A0h] BYREF
  volatile signed __int32 *v334; // [rsp+F8h] [rbp-198h]
  unsigned __int64 v335; // [rsp+100h] [rbp-190h] BYREF
  __int64 v336; // [rsp+108h] [rbp-188h]
  __int64 v337; // [rsp+110h] [rbp-180h]
  __m128i *v338; // [rsp+128h] [rbp-168h]
  __m128i *v339; // [rsp+130h] [rbp-160h]
  __int64 **v340; // [rsp+140h] [rbp-150h] BYREF
  __int64 **v341; // [rsp+148h] [rbp-148h]
  __int64 *v342; // [rsp+160h] [rbp-130h] BYREF
  _QWORD *v343; // [rsp+168h] [rbp-128h]
  __int64 v344; // [rsp+170h] [rbp-120h]
  unsigned int v345; // [rsp+178h] [rbp-118h]
  __m128i v346; // [rsp+180h] [rbp-110h] BYREF
  __int64 v347; // [rsp+190h] [rbp-100h]
  unsigned int v348; // [rsp+198h] [rbp-F8h]
  __int64 v349; // [rsp+1A0h] [rbp-F0h] BYREF
  __int64 v350; // [rsp+1A8h] [rbp-E8h]
  __int64 v351; // [rsp+1B0h] [rbp-E0h]
  unsigned int v352; // [rsp+1B8h] [rbp-D8h]
  __int64 v353[2]; // [rsp+1C0h] [rbp-D0h] BYREF
  int *v354; // [rsp+1D0h] [rbp-C0h]
  int *v355; // [rsp+1D8h] [rbp-B8h]
  __m128i v356; // [rsp+1E0h] [rbp-B0h] BYREF
  int *v357; // [rsp+1F0h] [rbp-A0h]
  int *v358; // [rsp+1F8h] [rbp-98h]
  __m128i v359; // [rsp+200h] [rbp-90h] BYREF
  __int64 **v360; // [rsp+210h] [rbp-80h]
  __int64 v361; // [rsp+218h] [rbp-78h]
  __m128i v362; // [rsp+230h] [rbp-60h] BYREF
  __int64 v363; // [rsp+240h] [rbp-50h]
  __int64 v364; // [rsp+248h] [rbp-48h]
  _BYTE *v365; // [rsp+250h] [rbp-40h]
  __int64 v366; // [rsp+258h] [rbp-38h]
  _BYTE v367[48]; // [rsp+260h] [rbp-30h] BYREF

  v4 = a1;
  v5 = a1 + 3;
  v5[-3].m128i_i64[0] = 0;
  v5[-3].m128i_i64[1] = 0;
  v5[-2].m128i_i64[0] = 0;
  v5[-2].m128i_i32[2] = 0;
  v309 = (__int64 *)v5;
  v4[2].m128i_i64[0] = (__int64)v5;
  v313 = &v4[3].m128i_i64[1];
  v4[4].m128i_i64[1] = (__int64)&v4[3].m128i_i64[1];
  v4[5].m128i_i64[0] = (__int64)&v4[3].m128i_i64[1];
  v4[2].m128i_i64[1] = 0;
  v4[3].m128i_i32[2] = 0;
  v4[4].m128i_i64[0] = 0;
  v4[5].m128i_i64[1] = 0;
  v4[6].m128i_i64[0] = 0;
  v4[6].m128i_i64[1] = 0;
  v4[7].m128i_i64[0] = 0;
  v4[7].m128i_i32[2] = 0;
  v4[8].m128i_i64[0] = 0;
  v4[8].m128i_i64[1] = 0;
  v4[9].m128i_i64[0] = 0;
  v4[9].m128i_i32[2] = 0;
  v4[10].m128i_i64[0] = 0;
  v4[10].m128i_i64[1] = 0;
  v4[11].m128i_i64[0] = 0;
  v4[11].m128i_i32[2] = 0;
  v4[12].m128i_i64[0] = 0;
  m128i_i64 = (__int64)v4[14].m128i_i64;
  v4[16].m128i_i64[0] = (__int64)v4[17].m128i_i64;
  v297 = (__int64)v4[17].m128i_i64;
  v6 = v4 + 20;
  v4[14].m128i_i64[0] = 0;
  v4[16].m128i_i64[1] = 0;
  v4[17].m128i_i64[0] = 0;
  v4[19].m128i_i64[0] = (__int64)v4[20].m128i_i64;
  v4[19].m128i_i64[1] = 0;
  v4[20].m128i_i64[0] = 0;
  v4[20].m128i_i64[1] = 0;
  v4[21].m128i_i64[0] = 0;
  v4[21].m128i_i32[2] = 0;
  v4[23].m128i_i64[0] = a4;
  v7 = *(__m128i **)(a2 + 32);
  v4[12].m128i_i64[1] = 0;
  v4[13].m128i_i64[0] = 0;
  v4[13].m128i_i32[2] = 0;
  v4[14].m128i_i64[1] = 0;
  v4[15].m128i_i64[0] = 0;
  v4[15].m128i_i32[2] = 0;
  v4[17].m128i_i64[1] = 0;
  v4[18].m128i_i64[0] = 0;
  v4[18].m128i_i32[2] = 0;
  v303 = (unsigned __int64 *)&v4[20];
  v4[22].m128i_i64[0] = a2;
  v4[22].m128i_i64[1] = a3;
  v301 = v7;
  v299 = (char *)(a2 + 24);
  if ( v7 != (__m128i *)(a2 + 24) )
  {
    v330 = v4;
    while ( 1 )
    {
      if ( !v301 )
      {
        v359 = 0u;
        v360 = 0;
        BUG();
      }
      v360 = 0;
      v359 = 0u;
      v314 = (__m128i *)v301[1].m128i_i64[1];
      if ( v314 == &v301[1] )
        goto LABEL_81;
      do
      {
        if ( !v314 )
          BUG();
        v6 = &v362;
        for ( v328.m128i_i64[0] = v314[2].m128i_i64[0];
              &v314[1].m128i_u64[1] != (unsigned __int64 *)v328.m128i_i64[0];
              v328.m128i_i64[0] = *(_QWORD *)(v328.m128i_i64[0] + 8) )
        {
          v6 = (__m128i *)v328.m128i_i64[0];
          if ( !v328.m128i_i64[0] )
            BUG();
          LOBYTE(v329) = *(_BYTE *)(v328.m128i_i64[0] - 24);
          if ( (unsigned __int8)((_BYTE)v329 - 34) <= 0x33u )
          {
            v8 = 0x8000000000041LL;
            if ( _bittest64(&v8, (unsigned int)(unsigned __int8)v329 - 34) )
            {
              if ( (*(_BYTE *)(v328.m128i_i64[0] - 17) & 0x20) != 0 )
              {
                v6 = (__m128i *)(v328.m128i_i64[0] - 24);
                v321 = v328.m128i_i64[0] - 24;
                v9 = (__m128i *)sub_B91C10(v328.m128i_i64[0] - 24, 34);
                if ( v9 )
                {
                  v362.m128i_i64[0] = v328.m128i_i64[0] - 24;
                  v10 = v359.m128i_i64[1];
                  v362.m128i_i32[2] = 0;
                  if ( (__int64 **)v359.m128i_i64[1] == v360 )
                  {
                    sub_26401C0((unsigned __int64 *)&v359, (const __m128i *)v359.m128i_i64[1], &v362);
                  }
                  else
                  {
                    if ( v359.m128i_i64[1] )
                    {
                      *(__m128i *)v359.m128i_i64[1] = _mm_load_si128(&v362);
                      v10 = v359.m128i_i64[1];
                    }
                    v359.m128i_i64[1] = v10 + 16;
                  }
                  v362.m128i_i32[2] = 0;
                  v362.m128i_i64[0] = v321;
                  v11 = sub_22077B0(0x80u);
                  v12 = (_QWORD *)v11;
                  if ( v11 )
                  {
                    *(_BYTE *)(v11 + 2) = 0;
                    *(_WORD *)v11 = 1;
                    *(_QWORD *)(v11 + 8) = v321;
                    *(_DWORD *)(v11 + 16) = 0;
                    *(_QWORD *)(v11 + 24) = v11 + 40;
                    *(_QWORD *)(v11 + 32) = 0;
                    *(_QWORD *)(v11 + 40) = 0;
                    *(_QWORD *)(v11 + 48) = 0;
                    *(_QWORD *)(v11 + 56) = 0;
                    *(_QWORD *)(v11 + 64) = 0;
                    *(_QWORD *)(v11 + 72) = 0;
                    *(_QWORD *)(v11 + 80) = 0;
                    *(_QWORD *)(v11 + 88) = 0;
                    *(_QWORD *)(v11 + 96) = 0;
                    *(_QWORD *)(v11 + 104) = 0;
                    *(_QWORD *)(v11 + 112) = 0;
                    *(_QWORD *)(v11 + 120) = 0;
                  }
                  v13 = (__int64 *)v330;
                  v356.m128i_i64[0] = (__int64)v12;
                  v14 = (char *)v330[20].m128i_i64[1];
                  if ( v14 == (char *)v330[21].m128i_i64[0] )
                  {
                    sub_2647A60(v303, v14, v356.m128i_i64);
                    v12 = (_QWORD *)v356.m128i_i64[0];
                  }
                  else
                  {
                    if ( v14 )
                    {
                      *(_QWORD *)v14 = v12;
                      v13[41] += 8;
LABEL_21:
                      v15 = (__int64)v313;
                      v16 = *(_QWORD *)(v330[20].m128i_i64[1] - 8);
                      v17 = (_QWORD *)v330[4].m128i_i64[0];
                      v353[0] = v16;
                      if ( !v17 )
                        goto LABEL_28;
                      do
                      {
                        while ( 1 )
                        {
                          v18 = v17[2];
                          v19 = v17[3];
                          if ( v17[4] >= v16 )
                            break;
                          v17 = (_QWORD *)v17[3];
                          if ( !v19 )
                            goto LABEL_26;
                        }
                        v15 = (__int64)v17;
                        v17 = (_QWORD *)v17[2];
                      }
                      while ( v18 );
LABEL_26:
                      if ( v313 == (__int64 *)v15 || *(_QWORD *)(v15 + 32) > v16 )
                      {
LABEL_28:
                        v356.m128i_i64[0] = (__int64)v353;
                        v20 = sub_263EC90(v309, v15, (unsigned __int64 **)&v356);
                        v16 = v353[0];
                        v15 = v20;
                      }
                      *(_QWORD *)(v15 + 40) = (char *)v301 - 56;
                      v21 = (_QWORD *)sub_2645C20(m128i_i64, &v362);
                      v23 = v328.m128i_i64[0];
                      *v21 = v16;
                      v24 = v330[21].m128i_u32[2];
                      *(_BYTE *)(v16 + 2) = 0;
                      *(_QWORD *)(v16 + 40) = v24;
                      v25 = 0;
                      if ( (*(_BYTE *)(v23 - 17) & 0x20) != 0 )
                        v25 = sub_B91C10(v321, 35);
                      v353[0] = v25;
                      v26 = v9[-1].m128i_u8[0];
                      if ( (v26 & 2) != 0 )
                      {
                        v27 = (__m128i *)v9[-2].m128i_i64[0];
                        v28 = v9[-2].m128i_u32[2];
                      }
                      else
                      {
                        v22 = -16 - 8LL * ((v26 >> 2) & 0xF);
                        v28 = ((unsigned __int16)v9[-1].m128i_i16[0] >> 6) & 0xF;
                        v27 = (__m128i *)((char *)v9 + v22);
                      }
                      v29 = (__int64 *)v27;
                      v329 = (__m128i *)((char *)v27 + 8 * v28);
                      if ( v329 != v27 )
                      {
LABEL_39:
                        v34 = *v29;
                        v362 = 0u;
                        v363 = 0;
                        v35 = *(_BYTE *)(v34 - 16);
                        v36 = (v35 & 2) != 0;
                        if ( (v35 & 2) != 0 )
                        {
                          if ( *(_DWORD *)(v34 - 24) <= 2u )
                            goto LABEL_36;
                        }
                        else if ( ((*(_WORD *)(v34 - 16) >> 6) & 0xFu) <= 2 )
                        {
                          goto LABEL_36;
                        }
                        v37 = v29;
                        for ( i = 2; ; ++i )
                        {
                          if ( v36 )
                          {
                            if ( i >= *(_DWORD *)(v34 - 24) )
                              goto LABEL_119;
                            v39 = *(_QWORD *)(v34 - 32);
                          }
                          else
                          {
                            if ( i >= ((*(_WORD *)(v34 - 16) >> 6) & 0xFu) )
                            {
LABEL_119:
                              v29 = v37;
LABEL_36:
                              v356.m128i_i64[0] = sub_10390E0(v34);
                              v30 = (char *)v362.m128i_i64[0];
                              v31 = (v362.m128i_i64[1] - v362.m128i_i64[0]) >> 4;
                              v32 = sub_1039110(v34);
                              sub_265B4A0((__int64)v330, v16, v356.m128i_i64, v353, v32, v33, v30, v31);
                              if ( v362.m128i_i64[0] )
                                j_j___libc_free_0(v362.m128i_u64[0]);
                              if ( v329 == (__m128i *)++v29 )
                                break;
                              goto LABEL_39;
                            }
                            v39 = v34 + -16 - 8LL * ((v35 >> 2) & 0xF);
                          }
                          v40 = *(_BYTE **)(v39 + 8LL * i);
                          if ( (unsigned __int8)(*v40 - 5) > 0x1Fu )
                            BUG();
                          v41 = *(v40 - 16);
                          if ( (v41 & 2) != 0 )
                            v42 = (_QWORD *)*((_QWORD *)v40 - 4);
                          else
                            v42 = &v40[-16 - 8LL * ((v41 >> 2) & 0xF)];
                          if ( *(_BYTE *)*v42 != 1 )
                            goto LABEL_544;
                          v43 = *(_QWORD *)(*v42 + 136LL);
                          if ( *(_BYTE *)v43 != 17 )
                            goto LABEL_544;
                          v44 = *(_QWORD **)(v43 + 24);
                          if ( *(_DWORD *)(v43 + 32) > 0x40u )
                            v44 = (_QWORD *)*v44;
                          v45 = v42[1];
                          if ( *(_BYTE *)v45 != 1 || (v46 = *(_QWORD *)(v45 + 136), *(_BYTE *)v46 != 17) )
LABEL_544:
                            BUG();
                          v47 = *(_QWORD **)(v46 + 24);
                          if ( *(_DWORD *)(v46 + 32) > 0x40u )
                            v47 = (_QWORD *)*v47;
                          v356.m128i_i64[0] = (__int64)v44;
                          v48 = v362.m128i_i64[1];
                          v356.m128i_i64[1] = (__int64)v47;
                          if ( v362.m128i_i64[1] == v363 )
                          {
                            sub_9D3F90((__int64)&v362, (_BYTE *)v362.m128i_i64[1], &v356);
                          }
                          else
                          {
                            if ( v362.m128i_i64[1] )
                            {
                              *(__m128i *)v362.m128i_i64[1] = _mm_load_si128(&v356);
                              v48 = v362.m128i_i64[1];
                            }
                            v362.m128i_i64[1] = v48 + 16;
                          }
                          v35 = *(_BYTE *)(v34 - 16);
                          v36 = (v35 & 2) != 0;
                        }
                      }
                      if ( byte_4FF4088 && *(_QWORD *)(v16 + 40) == (unsigned int)qword_4FF3D48 )
                      {
                        sub_264D230((__int64)&v362, v16, v22);
                        v98 = (__int64 *)v330;
                        sub_C7D6A0(v330[6].m128i_i64[1], 4LL * v330[7].m128i_u32[2], 4);
                        v99 = v362.m128i_i64[1];
                        ++v330[6].m128i_i64[0];
                        ++v362.m128i_i64[0];
                        v98[13] = v99;
                        v362.m128i_i64[1] = 0;
                        v98[14] = v363;
                        v363 = 0;
                        *((_DWORD *)v98 + 30) = v364;
                        LODWORD(v364) = 0;
                        sub_C7D6A0(0, 0, 4);
                      }
                      sub_B99FD0(v321, 0x22u, 0);
                      v6 = (__m128i *)v321;
                      sub_B99FD0(v321, 0x23u, 0);
                      continue;
                    }
                    v330[20].m128i_i64[1] = 8;
                  }
                  if ( v12 )
                  {
                    v82 = v12[12];
                    if ( v82 )
                      j_j___libc_free_0(v82);
                    v83 = v12[10];
                    v84 = v12[9];
                    if ( v83 != v84 )
                    {
                      v329 = v9;
                      v85 = v84;
                      v324 = v12;
                      v86 = v83;
                      do
                      {
                        while ( 1 )
                        {
                          v87 = *(volatile signed __int32 **)(v85 + 8);
                          if ( v87 )
                          {
                            if ( &_pthread_key_create )
                            {
                              v88 = _InterlockedExchangeAdd(v87 + 2, 0xFFFFFFFF);
                            }
                            else
                            {
                              v88 = *((_DWORD *)v87 + 2);
                              *((_DWORD *)v87 + 2) = v88 - 1;
                            }
                            if ( v88 == 1 )
                            {
                              (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v87 + 16LL))(v87);
                              if ( &_pthread_key_create )
                              {
                                v89 = _InterlockedExchangeAdd(v87 + 3, 0xFFFFFFFF);
                              }
                              else
                              {
                                v89 = *((_DWORD *)v87 + 3);
                                *((_DWORD *)v87 + 3) = v89 - 1;
                              }
                              if ( v89 == 1 )
                                break;
                            }
                          }
                          v85 += 16LL;
                          if ( v86 == v85 )
                            goto LABEL_137;
                        }
                        v85 += 16LL;
                        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v87 + 24LL))(v87);
                      }
                      while ( v86 != v85 );
LABEL_137:
                      v12 = v324;
                      v9 = v329;
                      v84 = v324[9];
                    }
                    if ( v84 )
                      j_j___libc_free_0(v84);
                    v90 = v12[7];
                    v91 = v12[6];
                    if ( v90 != v91 )
                    {
                      v329 = v9;
                      v92 = v91;
                      v325 = v12;
                      v93 = v90;
                      do
                      {
                        while ( 1 )
                        {
                          v94 = *(volatile signed __int32 **)(v92 + 8);
                          if ( v94 )
                          {
                            if ( &_pthread_key_create )
                            {
                              v95 = _InterlockedExchangeAdd(v94 + 2, 0xFFFFFFFF);
                            }
                            else
                            {
                              v95 = *((_DWORD *)v94 + 2);
                              *((_DWORD *)v94 + 2) = v95 - 1;
                            }
                            if ( v95 == 1 )
                            {
                              (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v94 + 16LL))(v94);
                              if ( &_pthread_key_create )
                              {
                                v96 = _InterlockedExchangeAdd(v94 + 3, 0xFFFFFFFF);
                              }
                              else
                              {
                                v96 = *((_DWORD *)v94 + 3);
                                *((_DWORD *)v94 + 3) = v96 - 1;
                              }
                              if ( v96 == 1 )
                                break;
                            }
                          }
                          v92 += 16LL;
                          if ( v93 == v92 )
                            goto LABEL_151;
                        }
                        v92 += 16LL;
                        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v94 + 24LL))(v94);
                      }
                      while ( v93 != v92 );
LABEL_151:
                      v12 = v325;
                      v9 = v329;
                      v91 = v325[6];
                    }
                    if ( v91 )
                      j_j___libc_free_0(v91);
                    v97 = v12[3];
                    if ( (_QWORD *)v97 != v12 + 5 )
                      _libc_free(v97);
                    j_j___libc_free_0((unsigned __int64)v12);
                  }
                  goto LABEL_21;
                }
                if ( (*(_BYTE *)(v328.m128i_i64[0] - 17) & 0x20) != 0 )
                {
                  v6 = (__m128i *)(v328.m128i_i64[0] - 24);
                  if ( sub_B91C10(v321, 35) )
                  {
                    v362.m128i_i64[0] = v328.m128i_i64[0] - 24;
                    v81 = v359.m128i_i64[1];
                    v362.m128i_i32[2] = 0;
                    if ( (__int64 **)v359.m128i_i64[1] == v360 )
                    {
                      v6 = &v359;
                      sub_26401C0((unsigned __int64 *)&v359, (const __m128i *)v359.m128i_i64[1], &v362);
                    }
                    else
                    {
                      if ( v359.m128i_i64[1] )
                      {
                        *(__m128i *)v359.m128i_i64[1] = _mm_load_si128(&v362);
                        v81 = v359.m128i_i64[1];
                      }
                      v359.m128i_i64[1] = v81 + 16;
                    }
                  }
                }
              }
            }
          }
        }
        v314 = (__m128i *)v314->m128i_i64[1];
      }
      while ( &v301[1] != v314 );
      v49 = (__m128i *)v359.m128i_i64[0];
      if ( v359.m128i_i64[1] != v359.m128i_i64[0] )
      {
        v6 = v330;
        v362.m128i_i64[0] = (__int64)&v301[-4].m128i_i64[1];
        v50 = (__m128i *)sub_265BBD0((__int64)v330, v362.m128i_i64);
        v49 = (__m128i *)v359.m128i_i64[0];
        v51 = (__int64 *)v50;
        if ( v50 != &v359 )
          break;
      }
LABEL_79:
      a2 = (char *)v360 - (char *)v49;
      if ( v49 )
      {
        v6 = v49;
        j_j___libc_free_0((unsigned __int64)v49);
      }
LABEL_81:
      v301 = (__m128i *)v301->m128i_i64[1];
      if ( v299 == (char *)v301 )
      {
        v4 = v330;
        goto LABEL_83;
      }
    }
    v52 = v359.m128i_i64[1];
    v49 = (__m128i *)v359.m128i_i64[0];
    v53 = (__m128i *)v50->m128i_i64[0];
    v54 = v359.m128i_i64[1] - v359.m128i_i64[0];
    v55 = v51[2] - *v51;
    if ( v359.m128i_i64[1] - v359.m128i_i64[0] > v55 )
    {
      if ( v54 )
      {
        if ( (unsigned __int64)v54 > 0x7FFFFFFFFFFFFFF0LL )
          sub_4261EA(v330, &v362, v55);
        v329 = (__m128i *)v359.m128i_i64[0];
        v328.m128i_i64[0] = (__int64)v51;
        v272 = sub_22077B0(v359.m128i_i64[1] - v359.m128i_i64[0]);
        v51 = (__int64 *)v328.m128i_i64[0];
        v49 = v329;
        v273 = (__m128i *)v272;
      }
      else
      {
        v273 = 0;
      }
      if ( (__m128i *)v52 != v49 )
      {
        v274 = v49;
        v275 = v273;
        do
        {
          if ( v275 )
            *v275 = _mm_loadu_si128(v274);
          ++v275;
          ++v274;
        }
        while ( v275 != (__m128i *)&v273->m128i_i8[v52 - (_QWORD)v49] );
      }
      v6 = (__m128i *)*v51;
      if ( *v51 )
      {
        v328.m128i_i64[0] = (__int64)v51;
        j_j___libc_free_0((unsigned __int64)v6);
        v51 = (__int64 *)v328.m128i_i64[0];
      }
      v60 = (__int64)v273->m128i_i64 + v54;
      *v51 = (__int64)v273;
      v51[2] = v60;
      v49 = (__m128i *)v359.m128i_i64[0];
      goto LABEL_78;
    }
    v56 = (__m128i *)v51[1];
    v57 = (char *)v56 - (char *)v53;
    if ( v54 > (unsigned __int64)((char *)v56 - (char *)v53) )
    {
      v268 = v57 >> 4;
      if ( v57 > 0 )
      {
        do
        {
          v269 = v49->m128i_i64[0];
          ++v53;
          ++v49;
          v53[-1].m128i_i64[0] = v269;
          v53[-1].m128i_i32[2] = v49[-1].m128i_i32[2];
          --v268;
        }
        while ( v268 );
        v56 = (__m128i *)v51[1];
        v53 = (__m128i *)*v51;
        v52 = v359.m128i_i64[1];
        v49 = (__m128i *)v359.m128i_i64[0];
        v57 = (__int64)v56->m128i_i64 - *v51;
      }
      v270 = (__m128i *)((char *)v49 + v57);
      if ( v270 != (const __m128i *)v52 )
      {
        v271 = (__m128i *)((char *)v56 + v52 - (_QWORD)v270);
        do
        {
          if ( v56 )
            *v56 = _mm_loadu_si128(v270);
          ++v56;
          ++v270;
        }
        while ( v56 != v271 );
        v49 = (__m128i *)v359.m128i_i64[0];
        v60 = *v51 + v54;
        goto LABEL_78;
      }
    }
    else if ( v54 > 0 )
    {
      v58 = v54 >> 4;
      do
      {
        v59 = v49->m128i_i64[0];
        ++v53;
        ++v49;
        v53[-1].m128i_i64[0] = v59;
        v53[-1].m128i_i32[2] = v49[-1].m128i_i32[2];
        --v58;
      }
      while ( v58 );
      v53 = (__m128i *)*v51;
      v49 = (__m128i *)v359.m128i_i64[0];
    }
    v60 = (__int64)v53->m128i_i64 + v54;
LABEL_78:
    v51[1] = v60;
    goto LABEL_79;
  }
LABEL_83:
  if ( (_BYTE)qword_4FF3B88 )
  {
    v289 = sub_C5F790((__int64)v6, a2);
    sub_904010(v289, "CCG before updating call stack chains:\n");
    a2 = sub_C5F790(v289, (__int64)"CCG before updating call stack chains:\n");
    sub_264D7D0((__int64)v4, a2);
  }
  if ( byte_4FF4088 )
  {
    sub_263F570(v362.m128i_i64, "prestackupdate");
    a2 = (signed __int64)&v362;
    sub_265EF70((__int64)v4, (__int64)&v362);
    sub_2240A30((unsigned __int64 *)&v362);
  }
  sub_2652EB0((__int64)v4);
  v61 = v4[19].m128i_i64[0];
  v362 = 0u;
  v365 = v367;
  v62 = v4[19].m128i_u32[2];
  v363 = 0;
  LODWORD(v364) = 0;
  v366 = 0;
  v335 = 0;
  v336 = 0;
  v337 = 0;
  v304 = v61;
  v296 = v61 + 24 * v62;
  if ( v61 == v296 )
  {
    v4[19].m128i_i32[2] = 0;
    goto LABEL_274;
  }
  v330 = v4;
  do
  {
    v63 = *(_QWORD *)(v304 + 16);
    v318 = (__m128i *)v63;
    v64 = 16 * (*(unsigned int *)(v63 + 32) + 1LL);
    v312 = (__m128i *)sub_22077B0(v64);
    v339 = &v312[v64 / 0x10];
    if ( v312 )
    {
      v328 = _mm_loadu_si128((const __m128i *)(v63 + 8));
      *v312 = v328;
    }
    v65 = v312 + 1;
    v338 = v312 + 1;
    v66 = *(const __m128i **)(v63 + 24);
    v67 = 16LL * *(unsigned int *)(v63 + 32);
    v68 = (__int64)v66[(unsigned __int64)v67 / 0x10].m128i_i64;
    if ( v66 != &v66[(unsigned __int64)v67 / 0x10] )
    {
      if ( v67 > v64 - 16 )
      {
        v259 = v67 >> 4;
        if ( !(v67 >> 4) )
          v259 = 1;
        v260 = 16 * (v259 + 1);
        v68 = sub_22077B0(v260);
        v261 = (__m128i *)(v68 + 16);
        v262 = v68 + v260;
        if ( v68 )
        {
          v328 = _mm_loadu_si128(v312);
          *(__m128i *)v68 = v328;
        }
        v65 = &v261[(unsigned __int64)v67 / 0x10];
        do
        {
          if ( v261 )
            *v261 = _mm_loadu_si128(v66);
          ++v261;
          ++v66;
        }
        while ( v261 != v65 );
        if ( v312 )
        {
          a2 = v64;
          v328.m128i_i64[0] = v68;
          j_j___libc_free_0((unsigned __int64)v312);
          v68 = v328.m128i_i64[0];
        }
        v338 = v65;
        v339 = (__m128i *)v262;
        v312 = (__m128i *)v68;
      }
      else
      {
        v69 = v312 + 1;
        do
        {
          v70 = _mm_loadu_si128(v66++);
          ++v69;
          v69[-1] = v70;
        }
        while ( (const __m128i *)v68 != v66 );
        v65 = (__m128i *)((char *)v65 + v67);
        v338 = v65;
      }
    }
    v71 = v312;
    v342 = 0;
    v343 = 0;
    v331 = v318;
    v344 = 0;
    v345 = 0;
    if ( v312 != v65 )
    {
      v72 = 0x8000000000041LL;
      while ( 1 )
      {
        v80 = (_BYTE *)v71->m128i_i64[0];
        v359 = _mm_loadu_si128(v71);
        if ( (unsigned __int8)(*v80 - 34) > 0x33u || !_bittest64(&v72, (unsigned int)(unsigned __int8)*v80 - 34) )
LABEL_543:
          BUG();
        if ( !*((_QWORD *)v80 - 4) || sub_B491E0((__int64)v80) )
          goto LABEL_109;
        v73 = sub_BD3990(*((unsigned __int8 **)v80 - 4), a2);
        v68 = *v73;
        if ( (_BYTE)v68 != 1 )
          break;
        v73 = (unsigned __int8 *)*((_QWORD *)v73 - 4);
        if ( !*v73 )
          goto LABEL_103;
LABEL_109:
        if ( v65 == ++v71 )
        {
          v100 = (__int64 *)v331;
          goto LABEL_167;
        }
      }
      if ( (_BYTE)v68 )
        goto LABEL_109;
LABEL_103:
      v346.m128i_i64[0] = (__int64)v73;
      if ( v345 )
      {
        v74 = 1;
        v75 = 0;
        LODWORD(v76) = (v345 - 1) & (((unsigned int)v73 >> 9) ^ ((unsigned int)v73 >> 4));
        v68 = (__int64)&v343[5 * (unsigned int)v76];
        v77 = *(_QWORD *)v68;
        if ( *(unsigned __int8 **)v68 == v73 )
        {
LABEL_105:
          v78 = *(__m128i **)(v68 + 16);
          a2 = *(_QWORD *)(v68 + 24);
          v79 = (unsigned __int64 *)(v68 + 8);
          if ( v78 != (__m128i *)a2 )
          {
            if ( v78 )
            {
              *v78 = _mm_load_si128(&v359);
              v78 = *(__m128i **)(v68 + 16);
            }
            *(_QWORD *)(v68 + 16) = v78 + 1;
            goto LABEL_109;
          }
          goto LABEL_300;
        }
        while ( v77 != -4096 )
        {
          if ( v77 == -8192 && !v75 )
            v75 = v68;
          v76 = (v345 - 1) & ((_DWORD)v76 + v74);
          v68 = (__int64)&v343[5 * v76];
          v77 = *(_QWORD *)v68;
          if ( *(unsigned __int8 **)v68 == v73 )
            goto LABEL_105;
          ++v74;
        }
        if ( v75 )
          v68 = v75;
        v342 = (__int64 *)((char *)v342 + 1);
        v203 = v344 + 1;
        v349 = v68;
        if ( 4 * ((int)v344 + 1) < 3 * v345 )
        {
          if ( v345 - HIDWORD(v344) - v203 <= v345 >> 3 )
          {
            sub_2645780((__int64)&v342, v345);
            sub_263E0E0((__int64)&v342, v346.m128i_i64, &v349);
            v73 = (unsigned __int8 *)v346.m128i_i64[0];
            v68 = v349;
            v203 = v344 + 1;
          }
          goto LABEL_297;
        }
      }
      else
      {
        v342 = (__int64 *)((char *)v342 + 1);
        v349 = 0;
      }
      sub_2645780((__int64)&v342, 2 * v345);
      sub_263E0E0((__int64)&v342, v346.m128i_i64, &v349);
      v73 = (unsigned __int8 *)v346.m128i_i64[0];
      v68 = v349;
      v203 = v344 + 1;
LABEL_297:
      LODWORD(v344) = v203;
      if ( *(_QWORD *)v68 != -4096 )
        --HIDWORD(v344);
      *(_QWORD *)v68 = v73;
      v79 = (unsigned __int64 *)(v68 + 8);
      a2 = 0;
      *(_OWORD *)(v68 + 8) = 0;
      *(_OWORD *)(v68 + 24) = 0;
LABEL_300:
      sub_26401C0(v79, (const __m128i *)a2, &v359);
      goto LABEL_109;
    }
    v100 = (__int64 *)v318;
LABEL_167:
    v346 = 0u;
    v347 = 0;
    v348 = 0;
    v101 = (__int64 **)v100[6];
    v102 = (__int64 **)v100[7];
    if ( v101 == v102 )
    {
      v161 = 0;
      v162 = 0;
      v160 = 0;
      goto LABEL_237;
    }
    do
    {
      v103 = **v101;
      if ( *(_QWORD *)(v103 + 8) )
      {
        v104 = (unsigned __int64)v313;
        v105 = (_QWORD *)v330[4].m128i_i64[0];
        if ( !v105 )
          goto LABEL_176;
        do
        {
          while ( 1 )
          {
            v106 = v105[2];
            v107 = v105[3];
            if ( v105[4] >= v103 )
              break;
            v105 = (_QWORD *)v105[3];
            if ( !v107 )
              goto LABEL_174;
          }
          v104 = (unsigned __int64)v105;
          v105 = (_QWORD *)v105[2];
        }
        while ( v106 );
LABEL_174:
        if ( v313 == (__int64 *)v104 || *(_QWORD *)(v104 + 32) > v103 )
        {
LABEL_176:
          v359.m128i_i64[0] = (__int64)*v101;
          v104 = sub_263EC90(v309, v104, (unsigned __int64 **)&v359);
        }
        v68 = *(_QWORD *)(v104 + 40);
        v108 = v345;
        v349 = v68;
        if ( v345 )
        {
          v109 = v345 - 1;
          v110 = 1;
          LODWORD(v111) = (v345 - 1) & (((unsigned int)v68 >> 9) ^ ((unsigned int)v68 >> 4));
          v112 = v111;
          v113 = &v343[5 * (unsigned int)v111];
          v114 = *v113;
          v115 = *v113;
          if ( *v113 == v68 )
          {
LABEL_179:
            v116 = v348;
            v117 = *v101;
            v118 = v113 + 1;
            if ( v348 )
            {
LABEL_180:
              v119 = *v117;
              v120 = (v116 - 1) & (((unsigned int)*v117 >> 9) ^ ((unsigned int)*v117 >> 4));
              v68 = v346.m128i_i64[1] + 16LL * v120;
              v121 = *(_QWORD *)v68;
              if ( *(_QWORD *)v68 == *v117 )
              {
LABEL_181:
                v122 = (_QWORD *)(v68 + 8);
LABEL_182:
                *v122 = v118;
                goto LABEL_183;
              }
              v328.m128i_i32[0] = 1;
              v220 = 0;
              LODWORD(v329) = v116;
              while ( v121 != -4096 )
              {
                if ( !v220 && v121 == -8192 )
                  v220 = (_QWORD *)v68;
                v120 = (v116 - 1) & (v328.m128i_i32[0] + v120);
                v68 = v346.m128i_i64[1] + 16LL * v120;
                v121 = *(_QWORD *)v68;
                if ( v119 == *(_QWORD *)v68 )
                  goto LABEL_181;
                ++v328.m128i_i32[0];
              }
              v116 = (int)v329;
              if ( !v220 )
                v220 = (_QWORD *)v68;
              ++v346.m128i_i64[0];
              v219 = v347 + 1;
              v359.m128i_i64[0] = (__int64)v220;
              if ( 4 * ((int)v347 + 1) < (unsigned int)(3 * (_DWORD)v329) )
              {
                if ( (int)v329 - HIDWORD(v347) - v219 > (unsigned int)v329 >> 3 )
                  goto LABEL_431;
                v328.m128i_i64[0] = (__int64)v117;
LABEL_330:
                sub_2644E40((__int64)&v346, v116);
                sub_263DD50((__int64)&v346, (__int64 *)v328.m128i_i64[0], &v359);
                v117 = (__int64 *)v328.m128i_i64[0];
                v219 = v347 + 1;
                v220 = (_QWORD *)v359.m128i_i64[0];
LABEL_431:
                LODWORD(v347) = v219;
                if ( *v220 != -4096 )
                  --HIDWORD(v347);
                v68 = *v117;
                v122 = v220 + 1;
                *v122 = 0;
                *(v122 - 1) = v68;
                goto LABEL_182;
              }
            }
            else
            {
LABEL_328:
              ++v346.m128i_i64[0];
              v359.m128i_i64[0] = 0;
            }
            v328.m128i_i64[0] = (__int64)v117;
            v116 *= 2;
            goto LABEL_330;
          }
          while ( 1 )
          {
            if ( v115 == -4096 )
              goto LABEL_183;
            v112 = v109 & (v110 + v112);
            v328.m128i_i32[0] = v110 + 1;
            v115 = v343[5 * v112];
            if ( v68 == v115 )
              break;
            v110 = v328.m128i_i32[0];
          }
          v216 = 1;
          v217 = 0;
          while ( v114 != -4096 )
          {
            if ( v114 == -8192 && !v217 )
              v217 = v113;
            v111 = v109 & ((_DWORD)v111 + v216);
            v113 = &v343[5 * v111];
            v114 = *v113;
            if ( v68 == *v113 )
              goto LABEL_179;
            ++v216;
          }
          if ( !v217 )
            v217 = v113;
          v342 = (__int64 *)((char *)v342 + 1);
          v218 = v344 + 1;
          v359.m128i_i64[0] = (__int64)v217;
          if ( 4 * ((int)v344 + 1) >= 3 * v345 )
          {
            v108 = 2 * v345;
          }
          else if ( v345 - HIDWORD(v344) - v218 > v345 >> 3 )
          {
            goto LABEL_325;
          }
          sub_2645780((__int64)&v342, v108);
          sub_263E0E0((__int64)&v342, &v349, &v359);
          v68 = v349;
          v217 = (__int64 *)v359.m128i_i64[0];
          v218 = v344 + 1;
LABEL_325:
          LODWORD(v344) = v218;
          if ( *v217 != -4096 )
            --HIDWORD(v344);
          *v217 = v68;
          v118 = v217 + 1;
          *v118 = 0;
          v118[1] = 0;
          v116 = v348;
          v117 = *v101;
          if ( v348 )
            goto LABEL_180;
          goto LABEL_328;
        }
      }
LABEL_183:
      v101 += 2;
    }
    while ( v102 != v101 );
    if ( (_DWORD)v347 )
    {
      sub_2640E50(&v340, (__m128i *)v331[3].m128i_i64, v68);
      v305 = v341;
      if ( v340 != v341 )
      {
        v123 = v340;
        v295 = 0;
        v298 = 0;
        v328.m128i_i64[0] = (__int64)&v349;
        while ( 2 )
        {
          v124 = *v123;
          v125 = **v123;
          if ( *(_QWORD *)(v125 + 8) )
          {
            v126 = v348;
            if ( v348 )
            {
              v127 = v348 - 1;
              v128 = v127 & (((unsigned int)v125 >> 9) ^ ((unsigned int)v125 >> 4));
              v129 = (__int64 *)(v346.m128i_i64[1] + 16LL * v128);
              v130 = *v129;
              if ( v125 != *v129 )
              {
                v185 = *v129;
                LODWORD(v186) = v127 & (((unsigned int)v125 >> 9) ^ ((unsigned int)v125 >> 4));
                for ( j = 1; ; ++j )
                {
                  if ( v185 == -4096 )
                    goto LABEL_266;
                  v186 = (unsigned int)v127 & ((_DWORD)v186 + j);
                  v185 = *(_QWORD *)(v346.m128i_i64[1] + 16 * v186);
                  if ( v125 == v185 )
                    break;
                }
                v279 = 1;
                v280 = 0;
                while ( v130 != -4096 )
                {
                  if ( !v280 && v130 == -8192 )
                    v280 = v129;
                  v128 = v127 & (v279 + v128);
                  v129 = (__int64 *)(v346.m128i_i64[1] + 16LL * v128);
                  v130 = *v129;
                  if ( v125 == *v129 )
                    goto LABEL_190;
                  ++v279;
                }
                if ( v280 )
                  v129 = v280;
                ++v346.m128i_i64[0];
                v281 = v347 + 1;
                v359.m128i_i64[0] = (__int64)v129;
                if ( 4 * ((int)v347 + 1) >= 3 * v348 )
                {
                  v126 = 2 * v348;
                }
                else if ( v348 - HIDWORD(v347) - v281 > v348 >> 3 )
                {
LABEL_497:
                  LODWORD(v347) = v281;
                  if ( *v129 != -4096 )
                    --HIDWORD(v347);
                  v282 = *v124;
                  v129[1] = 0;
                  v131 = 0;
                  *v129 = v282;
                  goto LABEL_191;
                }
                sub_2644E40((__int64)&v346, v126);
                sub_263DD50((__int64)&v346, v124, &v359);
                v281 = v347 + 1;
                v129 = (__int64 *)v359.m128i_i64[0];
                goto LABEL_497;
              }
LABEL_190:
              v131 = (const __m128i **)v129[1];
LABEL_191:
              v329 = (__m128i *)v131[3];
              if ( !v329 )
              {
                if ( v295 )
                {
                  v359.m128i_i64[0] = 0;
                  v359.m128i_i32[2] = 0;
                  v263 = (__int64 *)sub_263EE40(v309, (unsigned __int64 *)&v331);
                  v207 = sub_2648220(v330, 0, *v263, v359.m128i_i64[0], v359.m128i_i32[2]);
                  v131[3] = (const __m128i *)v207;
                }
                else
                {
                  v206 = (__int64 *)v331;
                  v131[3] = v331;
                  *((_DWORD *)v206 + 8) = 0;
                  v207 = (__int64)v131[3];
                }
                v208 = (*v131)->m128i_i32[2];
                *(_QWORD *)(v207 + 8) = (*v131)->m128i_i64[0];
                *(_DWORD *)(v207 + 16) = v208;
                v209 = v131[1];
                v210 = v131[3];
                v211 = *v131 + 1;
                v212 = v210[2].m128i_u32[0];
                v213 = v209 - v211;
                if ( v212 + v213 > (unsigned __int64)v210[2].m128i_u32[1] )
                {
                  v327 = v131[1] - v211;
                  v329 = (__m128i *)v131[1];
                  sub_C8D5F0(
                    (__int64)&v210[1].m128i_i64[1],
                    &v210[2].m128i_u64[1],
                    v212 + v213,
                    0x10u,
                    (__int64)v209,
                    v127);
                  v212 = v210[2].m128i_u32[0];
                  LODWORD(v213) = v327;
                  v209 = v329;
                }
                v214 = (__m128i *)(v210[1].m128i_i64[1] + 16 * v212);
                if ( v209 != v211 )
                {
                  do
                  {
                    if ( v214 )
                      *v214 = _mm_loadu_si128(v211);
                    ++v211;
                    ++v214;
                  }
                  while ( v209 != v211 );
                  LODWORD(v212) = v210[2].m128i_i32[0];
                }
                v210[2].m128i_i32[0] = v212 + v213;
                v215 = _mm_loadu_si128((const __m128i *)&v131[3]->m128i_u64[1]);
                v360 = (__int64 **)v131[3];
                v359 = v215;
                sub_263FBE0(&v335, &v359);
                v295 = 1;
                v329 = (__m128i *)v131[3];
              }
            }
            else
            {
LABEL_266:
              v329 = v298;
              if ( !v298 )
              {
                v359.m128i_i64[0] = 0;
                v359.m128i_i32[2] = 0;
                v188 = (__int64 *)sub_263EE40(v309, (unsigned __int64 *)&v331);
                v298 = (__m128i *)sub_2648220(v330, 0, *v188, v359.m128i_i64[0], v359.m128i_i32[2]);
                v329 = v298;
              }
            }
            if ( v331 != v329 )
            {
              v132 = *v123;
              v133 = **v123;
              v326 = (*v123)[1];
              if ( v133 == v326 )
              {
                sub_2647840(v133, (__int64)v132);
                v134 = v329->m128i_i64;
                v135 = (_QWORD *)v329[3].m128i_i64[0];
                v136 = (_QWORD *)v329[3].m128i_i64[1];
                if ( v135 == v136 )
                {
                  v204 = (__int64 *)v329;
                  (*v123)[1] = (__int64)v329;
                  sub_2647660((unsigned __int64 *)v204 + 6, v123);
                  goto LABEL_303;
                }
LABEL_197:
                while ( 1 )
                {
                  v137 = (_QWORD *)*v135;
                  if ( v134 == *(_QWORD **)*v135 )
                    break;
                  v135 += 2;
                  if ( v136 == v135 )
                  {
                    v205 = (__int64 *)v329;
                    v277 = v123;
                    (*v123)[1] = (__int64)v329;
                    sub_2647660((unsigned __int64 *)v205 + 6, v123);
                    if ( v133 != v326 )
                      goto LABEL_305;
LABEL_303:
                    **v123 = (__int64)v134;
                    sub_2647660(v134 + 9, v123);
                    v277 = *v123;
                    sub_2647750(v133, (__int64)*v123);
                    v329->m128i_i8[2] |= *((_BYTE *)*v123 + 16);
                    goto LABEL_219;
                  }
                }
                v138 = (int *)((*v123)[4] + 4LL * *((unsigned int *)*v123 + 12));
                sub_22B0690(&v356, *v123 + 3);
                sub_264C8F0(
                  (__int64)(v137 + 3),
                  v138,
                  v139,
                  v140,
                  v141,
                  v142,
                  v356.m128i_i32[0],
                  v356.m128i_i32[2],
                  v357,
                  v358);
                *((_BYTE *)v137 + 16) |= *((_BYTE *)*v123 + 16);
                sub_264E600((__int64)(*v123 + 3));
                *((_BYTE *)*v123 + 16) = 0;
                v277 = *v123;
                sub_2647750(v133, (__int64)*v123);
                v329->m128i_i8[2] |= *((_BYTE *)*v123 + 16);
                if ( v133 != v326 )
                  goto LABEL_199;
              }
              else
              {
                v134 = (_QWORD *)**v123;
                sub_2647840(v326, (__int64)v132);
                v135 = (_QWORD *)v329[3].m128i_i64[0];
                v136 = (_QWORD *)v329[3].m128i_i64[1];
                if ( v136 != v135 )
                  goto LABEL_197;
                v276 = (__int64 *)v329;
                v277 = v123;
                (*v123)[1] = (__int64)v329;
                sub_2647660((unsigned __int64 *)v276 + 6, v123);
LABEL_305:
                v329->m128i_i8[2] |= *((_BYTE *)*v123 + 16);
LABEL_199:
                v143 = *(_QWORD *)(v326 + 72);
                v319 = *(_QWORD *)(v326 + 80);
                v300 = &v329[4].m128i_u64[1];
                if ( v143 != v319 )
                {
                  v322 = v123;
                  while ( 1 )
                  {
                    v144 = *(_QWORD *)(*(_QWORD *)v143 + 8LL);
                    if ( *(_DWORD *)(*(_QWORD *)v143 + 40LL) < *((_DWORD *)*v322 + 10) )
                    {
                      sub_264FCD0(v328.m128i_i64[0], *(_QWORD *)v143 + 24LL, (__int64)(*v322 + 3));
                      if ( v326 == v144 )
                        goto LABEL_202;
                    }
                    else
                    {
                      sub_264FCD0(v328.m128i_i64[0], (__int64)(*v322 + 3), *(_QWORD *)v143 + 24LL);
                      if ( v326 == v144 )
                        goto LABEL_202;
                    }
                    sub_2649AE0(*(_QWORD *)v143 + 24LL, v328.m128i_i64[0]);
                    v145 = sub_26484B0((__int64)v330, *(_QWORD *)v143 + 24LL);
                    v146 = (__int64 *)v329;
                    *(_BYTE *)(*(_QWORD *)v143 + 16LL) = v145;
                    v147 = v146[9];
                    v148 = v146[10];
                    if ( v147 == v148 )
                    {
LABEL_259:
                      v179 = sub_26484B0((__int64)v330, v328.m128i_i64[0]);
                      v333 = 0;
                      v180 = v179;
                      v181 = (_QWORD *)sub_22077B0(0x48u);
                      v182 = v181;
                      if ( v181 )
                      {
                        v183 = v328.m128i_i64[0];
                        v359.m128i_i64[0] = 0;
                        v181[1] = 0x100000001LL;
                        *v181 = off_49D3C50;
                        v359.m128i_i64[1] = 0;
                        v360 = 0;
                        v361 = 0;
                        sub_264A680((__int64)&v359, v183);
                        v182[3] = v144;
                        v184 = (__int64 *)v329;
                        *((_BYTE *)v182 + 32) = v180;
                        *((_BYTE *)v182 + 33) = 0;
                        v182[2] = v184;
                        v182[5] = 0;
                        v182[6] = 0;
                        v182[7] = 0;
                        *((_DWORD *)v182 + 16) = 0;
                        sub_2649AA0((__int64)(v182 + 5), (__int64)&v359);
                        sub_2342640((__int64)&v359);
                      }
                      v334 = (volatile signed __int32 *)v182;
                      v333 = v182 + 2;
                      sub_2647660(v300, &v333);
                      v277 = &v333;
                      sub_2647660((unsigned __int64 *)(v333[1] + 48LL), &v333);
                      if ( v334 )
                        sub_A191D0(v334);
                      sub_2342640(v328.m128i_i64[0]);
                      goto LABEL_203;
                    }
                    while ( 1 )
                    {
                      v149 = *(_QWORD *)v147;
                      if ( v144 == *(_QWORD *)(*(_QWORD *)v147 + 8LL) )
                        break;
                      v147 += 16;
                      if ( v148 == v147 )
                        goto LABEL_259;
                    }
                    v311 = v149 + 24;
                    v315 = (int *)(v350 + 4LL * v352);
                    sub_22B0690(v353, (__int64 *)v328.m128i_i64[0]);
                    if ( v354 != v315 )
                    {
                      v307 = v149;
                      v150 = v354;
                      v151 = v315;
                      v316 = v143;
                      v152 = v355;
                      do
                      {
                        sub_22B6470((__int64)&v359, v311, v150);
                        do
                          ++v150;
                        while ( v152 != v150 && (unsigned int)*v150 > 0xFFFFFFFD );
                      }
                      while ( v150 != v151 );
                      v149 = v307;
                      v143 = v316;
                    }
                    *(_BYTE *)(v149 + 16) |= sub_26484B0((__int64)v330, v328.m128i_i64[0]);
LABEL_202:
                    v277 = (_QWORD *)(4LL * v352);
                    sub_C7D6A0(v350, (__int64)v277, 4);
LABEL_203:
                    v143 += 16;
                    if ( v319 == v143 )
                    {
                      v123 = v322;
                      break;
                    }
                  }
                }
              }
LABEL_219:
              v153 = sub_2647F70(v326, (__int64)v277, v278);
              *(_BYTE *)(v326 + 2) = v153;
              if ( (_BYTE)qword_4FF3AA8 )
              {
                if ( v153 )
                  sub_264C780((_QWORD *)v326);
                if ( v329->m128i_i8[2] )
                  sub_264C780(v329);
                v154 = *(_QWORD *)(v326 + 80);
                for ( k = *(_QWORD *)(v326 + 72); v154 != k; k += 16 )
                {
                  v156 = *(_QWORD *)(*(_QWORD *)k + 8LL);
                  if ( *(_BYTE *)(v156 + 2) )
                    sub_264C780((_QWORD *)v156);
                }
                v157 = v329[5].m128i_i64[0];
                for ( m = v329[4].m128i_i64[1]; v157 != m; m += 16 )
                {
                  v159 = *(_QWORD *)(*(_QWORD *)m + 8LL);
                  if ( *(_BYTE *)(v159 + 2) )
                    sub_264C780((_QWORD *)v159);
                }
              }
            }
          }
          v123 += 2;
          if ( v305 == v123 )
          {
            if ( !(_DWORD)v347 )
              goto LABEL_234;
            goto LABEL_454;
          }
          continue;
        }
      }
      if ( (_DWORD)v347 )
      {
        v298 = 0;
LABEL_454:
        v264 = (_QWORD *)v346.m128i_i64[1];
        v265 = v346.m128i_i64[1] + 16LL * v348;
        if ( v346.m128i_i64[1] != v265 )
        {
          while ( 1 )
          {
            v266 = v264;
            if ( *v264 != -4096 && *v264 != -8192 )
              break;
            v264 += 2;
            if ( (_QWORD *)v265 == v264 )
              goto LABEL_234;
          }
          while ( v266 != (_QWORD *)v265 )
          {
            v267 = v266[1];
            v266 += 2;
            sub_2647930(*(_QWORD *)(v267 + 24));
            if ( v266 == (_QWORD *)v265 )
              break;
            while ( *v266 == -4096 || *v266 == -8192 )
            {
              v266 += 2;
              if ( (_QWORD *)v265 == v266 )
                goto LABEL_234;
            }
          }
        }
LABEL_234:
        if ( v298 )
          sub_2647930((__int64)v298);
      }
      v160 = 1;
      sub_2647930((__int64)v331);
      sub_2644030((unsigned __int64 *)&v340);
      v161 = v346.m128i_i64[1];
      v162 = 16LL * v348;
    }
    else
    {
      v161 = v346.m128i_i64[1];
      v160 = 0;
      v162 = 16LL * v348;
    }
LABEL_237:
    sub_C7D6A0(v161, v162, 8);
    v163 = v345;
    if ( v345 )
    {
      v164 = v343;
      v165 = &v343[5 * v345];
      do
      {
        if ( *v164 != -8192 && *v164 != -4096 )
        {
          v166 = v164[1];
          if ( v166 )
            j_j___libc_free_0(v166);
        }
        v164 += 5;
      }
      while ( v165 != v164 );
      v163 = v345;
    }
    a2 = 40 * v163;
    sub_C7D6A0((__int64)v343, 40 * v163, 8);
    if ( v160 )
      goto LABEL_246;
    v308 = v338;
    if ( v312 == v338 )
      goto LABEL_409;
    v306 = v312;
    while ( 2 )
    {
      v302 = v306->m128i_i32[2];
      v221 = (__int64 *)v318[3].m128i_i64[0];
      v317 = (_BYTE *)v306->m128i_i64[0];
      v342 = v221;
      if ( v221 != (__int64 *)v318[3].m128i_i64[1] )
      {
LABEL_334:
        v222 = *v221;
        v223 = (volatile signed __int32 *)v221[1];
        v323 = v223;
        if ( v223 )
        {
          if ( &_pthread_key_create )
            _InterlockedAdd(v223 + 2, 1u);
          else
            ++*((_DWORD *)v223 + 2);
          if ( !*(_QWORD *)(*(_QWORD *)v222 + 8LL) )
            goto LABEL_401;
LABEL_338:
          v224 = *v342;
          v225 = (volatile signed __int32 *)v342[1];
          v320 = v225;
          if ( v225 )
          {
            if ( &_pthread_key_create )
              _InterlockedAdd(v225 + 2, 1u);
            else
              ++*((_DWORD *)v225 + 2);
          }
          a2 = v224 + 8;
          v226 = *(_QWORD *)sub_263EE40(v309, (unsigned __int64 *)v224);
          sub_263EE40(v309, (unsigned __int64 *)(v224 + 8));
          v349 = 0;
          v350 = 0;
          v351 = 0;
          v227 = *v317 - 34;
          v328.m128i_i8[0] = *v317;
          if ( v227 > 0x33u )
            goto LABEL_543;
          v228 = ((0x8000000000041uLL >> v227) & 1) == 0;
          if ( ((0x8000000000041uLL >> v227) & 1) == 0 )
            goto LABEL_543;
          if ( !*((_QWORD *)v317 - 4) )
          {
            if ( v320 )
              sub_A191D0(v320);
LABEL_406:
            if ( v323 )
              sub_A191D0(v323);
            if ( ++v306 == v308 )
            {
LABEL_409:
              v318[2].m128i_i32[0] = 0;
              goto LABEL_410;
            }
            continue;
          }
          if ( !sub_B491E0((__int64)v317) )
          {
            v229 = (__m128i *)sub_BD3990(*((unsigned __int8 **)v317 - 4), a2);
            if ( !v229->m128i_i8[0] )
            {
              if ( (__m128i *)v226 != v229 )
                goto LABEL_347;
LABEL_348:
              v230 = v349;
              v328.m128i_i64[0] = v350;
              if ( v350 == v349 )
              {
                v228 = 1;
              }
              else
              {
                v359.m128i_i64[0] = v224;
                v359.m128i_i64[1] = (__int64)v320;
                if ( v320 )
                {
                  if ( &_pthread_key_create )
                  {
                    _InterlockedAdd(v320 + 2, 1u);
                    v230 = v349;
                  }
                  else
                  {
                    ++*((_DWORD *)v320 + 2);
                  }
                  v328.m128i_i64[0] = v350;
                  v360 = &v342;
                  v231 = *(_QWORD *)v224;
                  if ( v230 != v350 )
                    goto LABEL_353;
                  v255 = *(_QWORD *)v224;
                }
                else
                {
                  v360 = &v342;
                  v231 = *(_QWORD *)v224;
LABEL_353:
                  v232 = (__int64 *)v230;
                  v329 = &v346;
                  while ( 1 )
                  {
                    v233 = *v232;
                    if ( !(_DWORD)v364 )
                      goto LABEL_550;
                    v234 = 1;
                    for ( n = (v364 - 1) & (969526130 * (((unsigned int)v233 >> 9) ^ ((unsigned int)v233 >> 4)));
                          ;
                          n = (v364 - 1) & v237 )
                    {
                      v236 = v362.m128i_i64[1] + 24LL * n;
                      if ( v233 == *(_QWORD *)v236 && !*(_DWORD *)(v236 + 8) )
                        break;
                      if ( *(_QWORD *)v236 == -4096 && *(_DWORD *)(v236 + 8) == -1 )
                        goto LABEL_360;
                      v237 = v234 + n;
                      ++v234;
                    }
                    if ( v236 == v362.m128i_i64[1] + 24LL * (unsigned int)v364 )
                    {
LABEL_550:
                    {
LABEL_360:
                      v238 = (unsigned __int64 *)sub_265BBD0((__int64)v330, v232 + 1);
                      v239 = *v232;
                      v346.m128i_i32[2] = 0;
                      v346.m128i_i64[0] = v239;
                      v240 = (__m128i *)v238[1];
                      if ( v240 == (__m128i *)v238[2] )
                      {
                        sub_26401C0(v238, v240, v329);
                      }
                      else
                      {
                        if ( v240 )
                        {
                          *v240 = _mm_load_si128(&v346);
                          v240 = (__m128i *)v238[1];
                        }
                        v238[1] = (unsigned __int64)&v240[1];
                      }
                    }
                      v241 = *v232;
                      v346.m128i_i32[2] = 0;
                      v346.m128i_i64[0] = v241;
                      v242 = sub_2648220(v330, 0, v232[1], v241, 0);
                      v243 = *v232;
                      v346.m128i_i32[2] = 0;
                      v346.m128i_i64[0] = v243;
                      *(_QWORD *)sub_2645C20((__int64)&v362, v329) = v242;
                      *(_BYTE *)(v242 + 2) = *(_BYTE *)(v224 + 16);
                    }
                    else
                    {
                      v346.m128i_i64[0] = *v232;
                      v346.m128i_i32[2] = 0;
                      v244 = sub_2645C20((__int64)&v362, v329);
                      v242 = *(_QWORD *)v244;
                      *(_BYTE *)(*(_QWORD *)v244 + 2LL) |= *(_BYTE *)(v224 + 16);
                    }
                    v232 += 2;
                    sub_264CE30(&v359, (_QWORD *)v242, v231);
                    if ( (__int64 *)v328.m128i_i64[0] == v232 )
                      break;
                    v231 = v242;
                  }
                  v255 = v242;
                }
                sub_264CE30(&v359, *(_QWORD **)(v224 + 8), v255);
                sub_264E780(v224, (__int64 *)&v342, 1);
                v342 -= 2;
                if ( v359.m128i_i64[1] )
                  sub_A191D0((volatile signed __int32 *)v359.m128i_i64[1]);
                v230 = v349;
                v228 = 1;
              }
LABEL_395:
              a2 = v351 - v230;
              if ( v230 )
                j_j___libc_free_0(v230);
              if ( v320 )
                sub_A191D0(v320);
              if ( !v228 )
                goto LABEL_406;
              if ( v323 )
LABEL_401:
                sub_A191D0(v323);
LABEL_371:
              v221 = v342 + 2;
              v342 = v221;
              if ( (__int64 *)v318[3].m128i_i64[1] == v221 )
                break;
              goto LABEL_334;
            }
            if ( !v226 || v229->m128i_i8[0] == 1 && v226 == v229[-2].m128i_i64[0] )
              goto LABEL_348;
LABEL_347:
            v359.m128i_i8[0] = 0;
            v228 = sub_264A8F0(v226, v229, 1u, (unsigned __int64 *)&v349, &v359);
            if ( v228 )
              goto LABEL_348;
          }
          v230 = v349;
          goto LABEL_395;
        }
        if ( *(_QWORD *)(*(_QWORD *)v222 + 8LL) )
          goto LABEL_338;
        goto LABEL_371;
      }
      break;
    }
    if ( v317 != (_BYTE *)v318->m128i_i64[1] || v302 != v318[1].m128i_i32[0] )
    {
      a2 = (signed __int64)&v359;
      v318[1].m128i_i32[0] = v302;
      v318->m128i_i64[1] = (__int64)v317;
      v359.m128i_i32[2] = v302;
      v359.m128i_i64[0] = (__int64)v317;
      v360 = (__int64 **)v318;
      sub_263FBE0(&v335, &v359);
    }
    v318[2].m128i_i32[0] = 0;
    if ( v306 == v308 )
    {
LABEL_410:
      v318->m128i_i64[1] = 0;
      v318[1].m128i_i32[0] = 0;
LABEL_246:
      if ( v312 )
        goto LABEL_247;
      goto LABEL_248;
    }
    for ( ii = v306 + 1; v308 != ii; ++ii )
    {
      v246 = v318->m128i_i64[1];
      v247 = *(_QWORD *)(v246 - 32) == 0;
      v332 = _mm_loadu_si128(ii);
      if ( !v247 )
      {
        v248 = ii->m128i_i64[0];
        if ( !sub_B491E0(v246) )
        {
          v249 = sub_BD3990(*(unsigned __int8 **)(v246 - 32), a2);
          if ( *v249 )
            v249 = 0;
          if ( *(_QWORD *)(v248 - 32) && !sub_B491E0(v248) )
          {
            v250 = sub_BD3990(*(unsigned __int8 **)(v248 - 32), a2);
            if ( *v250 )
              v250 = 0;
            if ( v250 == v249 )
            {
              v253 = v318[2].m128i_u32[0];
              v254 = _mm_load_si128(&v332);
              if ( v253 + 1 > (unsigned __int64)v318[2].m128i_u32[1] )
              {
                a2 = (signed __int64)&v318[2].m128i_i64[1];
                v328 = v254;
                sub_C8D5F0((__int64)&v318[1].m128i_i64[1], &v318[2].m128i_u64[1], v253 + 1, 0x10u, v251, v252);
                v253 = v318[2].m128i_u32[0];
                v254 = _mm_load_si128(&v328);
              }
              *(__m128i *)(v318[1].m128i_i64[1] + 16 * v253) = v254;
              ++v318[2].m128i_i32[0];
            }
          }
        }
      }
    }
    if ( v312 )
    {
LABEL_247:
      a2 = (char *)v339 - (char *)v312;
      j_j___libc_free_0((unsigned __int64)v312);
    }
LABEL_248:
    v304 += 24;
  }
  while ( v296 != v304 );
  v4 = v330;
  v167 = v330[19].m128i_i64[0];
  if ( v167 == v167 + 24LL * v330[19].m128i_u32[2] )
  {
    v189 = v335;
    v190 = v336;
    v191 = v330[19].m128i_i64[0];
    goto LABEL_272;
  }
  v330 = (__m128i *)(v167 + 24LL * v330[19].m128i_u32[2]);
  v168 = (__m128i *)v167;
  v328.m128i_i64[0] = (__int64)&v349;
  v169 = (__m128i *)v167;
  while ( 2 )
  {
    while ( 2 )
    {
      v170 = v168[1].m128i_i64[0];
      v171 = *(_QWORD *)(v170 + 8);
      if ( v171 && v171 == v168->m128i_i64[0] && *(_DWORD *)(v170 + 16) == v168->m128i_i32[2] )
      {
        if ( v169 == v168 )
          goto LABEL_438;
        v169->m128i_i64[0] = v171;
        v256 = (_QWORD *)v328.m128i_i64[0];
        v169->m128i_i32[2] = v168->m128i_i32[2];
        v169[1].m128i_i64[0] = v168[1].m128i_i64[0];
        v257 = 0xAAAAAAAAAAAAAAABLL * (((__int64)v169->m128i_i64 - v4[19].m128i_i64[0]) >> 3);
        v247 = (unsigned __int8)sub_26404E0(v297, v169->m128i_i64, v256) == 0;
        v258 = v349;
        if ( !v247 )
        {
          *(_DWORD *)(v349 + 16) = v257;
          goto LABEL_438;
        }
        v290 = v4[18].m128i_i32[0];
        v291 = v4[18].m128i_u32[2];
        v359.m128i_i64[0] = v349;
        ++v4[17].m128i_i64[0];
        v292 = v290 + 1;
        if ( 4 * (v290 + 1) >= 3 * v291 )
        {
          v291 *= 2;
        }
        else if ( v291 - v4[18].m128i_i32[1] - v292 > v291 >> 3 )
        {
          goto LABEL_532;
        }
        sub_26459A0(v297, v291);
        sub_26404E0(v297, v169->m128i_i64, &v359);
        v292 = v4[18].m128i_i32[0] + 1;
        v258 = v359.m128i_i64[0];
LABEL_532:
        v4[18].m128i_i32[0] = v292;
        if ( *(_QWORD *)v258 != -4096 || *(_DWORD *)(v258 + 8) != -1 )
          --v4[18].m128i_i32[1];
        v293 = (_DWORD *)(v258 + 16);
        *((_QWORD *)v293 - 2) = v169->m128i_i64[0];
        v294 = v169->m128i_i32[2];
        *v293 = 0;
        *(v293 - 2) = v294;
        *v293 = v257;
LABEL_438:
        v169 = (__m128i *)((char *)v169 + 24);
        v168 = (__m128i *)((char *)v168 + 24);
        if ( v330 == v168 )
          goto LABEL_271;
        continue;
      }
      break;
    }
    v172 = v4[18].m128i_i32[2];
    if ( v172 )
    {
      v173 = v168->m128i_i32[2];
      v174 = v172 - 1;
      v175 = 1;
      for ( jj = (v172 - 1)
               & (((0xBF58476D1CE4E5B9LL
                  * ((unsigned int)(37 * v173)
                   | ((unsigned __int64)(((unsigned int)v168->m128i_i64[0] >> 9)
                                       ^ ((unsigned int)v168->m128i_i64[0] >> 4)) << 32))) >> 31)
                ^ (756364221 * v173)); ; jj = v174 & v178 )
      {
        v177 = v4[17].m128i_i64[1] + 24LL * jj;
        if ( *(_QWORD *)v177 == v168->m128i_i64[0] && *(_DWORD *)(v177 + 8) == v173 )
          break;
        if ( *(_QWORD *)v177 == -4096 && *(_DWORD *)(v177 + 8) == -1 )
          goto LABEL_270;
        v178 = v175 + jj;
        ++v175;
      }
      *(_QWORD *)v177 = -8192;
      *(_DWORD *)(v177 + 8) = -2;
      --v4[18].m128i_i32[0];
      ++v4[18].m128i_i32[1];
    }
LABEL_270:
    v168 = (__m128i *)((char *)v168 + 24);
    if ( v330 != v168 )
      continue;
    break;
  }
LABEL_271:
  v167 = (__int64)v169;
  v189 = v335;
  v190 = v336;
  v191 = v4[19].m128i_i64[0];
LABEL_272:
  for ( v4[19].m128i_i32[2] = -1431655765 * ((v167 - v191) >> 3); v189 != v190; *(_QWORD *)sub_2645C20(v297, v193) = v192 )
  {
    v192 = *(_QWORD *)(v189 + 16);
    v193 = (const __m128i *)v189;
    v189 += 24LL;
  }
LABEL_274:
  v194 = (unsigned __int64)v365;
  v195 = &v365[24 * (unsigned int)v366];
  if ( v365 != v195 )
  {
    do
    {
      v196 = *(_QWORD *)(v194 + 16);
      v197 = (const __m128i *)v194;
      v194 += 24LL;
      *(_QWORD *)sub_2645C20(v297, v197) = v196;
    }
    while ( v195 != (_BYTE *)v194 );
  }
  if ( v335 )
    j_j___libc_free_0(v335);
  if ( v365 != v367 )
    _libc_free((unsigned __int64)v365);
  sub_C7D6A0(v362.m128i_i64[1], 24LL * (unsigned int)v364, 8);
  if ( byte_4FF3628 )
  {
    v283 = v4[19].m128i_u32[2];
    v284 = v4[19].m128i_i64[0];
    v359 = 0u;
    v360 = 0;
    v285 = v284 + 24 * v283;
    v361 = 0;
    v362 = 0u;
    v363 = 0;
    v364 = 0;
    if ( v284 == v285 )
    {
      v287 = 0;
      v288 = 0;
    }
    else
    {
      do
      {
        while ( 1 )
        {
          v286 = *(_QWORD *)(v284 + 16);
          if ( *(_BYTE *)(v286 + 2) )
          {
            if ( *(_QWORD *)(v286 + 80) == *(_QWORD *)(v286 + 72) )
              break;
          }
          v284 += 24;
          if ( v285 == v284 )
            goto LABEL_510;
        }
        v284 += 24;
        sub_2646530(v286, (__int64)&v359, (__int64)&v362);
      }
      while ( v285 != v284 );
LABEL_510:
      v287 = v362.m128i_i64[1];
      v288 = 8LL * (unsigned int)v364;
    }
    sub_C7D6A0(v287, v288, 8);
    sub_C7D6A0(v359.m128i_i64[1], 8LL * (unsigned int)v361, 8);
  }
  v198 = v4[2].m128i_i64[0];
  for ( kk = v198 + 32LL * v4[2].m128i_u32[2]; v198 != kk; v198 += 32 )
  {
    v200 = *(__int64 **)(v198 + 16);
    for ( mm = *(__int64 **)(v198 + 8); v200 != mm; mm += 2 )
    {
      v202 = *mm;
      sub_B99FD0(v202, 0x23u, 0);
    }
  }
}
