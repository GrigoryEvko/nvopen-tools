// Function: sub_129C3D0
// Address: 0x129c3d0
//
__int64 __fastcall sub_129C3D0(__int64 a1, __int64 a2, __int64 a3, __int64 a4, unsigned int a5)
{
  __int64 *v5; // r14
  __int64 *v6; // rbx
  __int64 v7; // rax
  __int64 v8; // rbx
  __int64 v9; // r12
  char i; // al
  char v11; // al
  unsigned __int64 v12; // rax
  char *v13; // rax
  __int64 *v14; // r13
  __int64 *v15; // r15
  __int64 v16; // rax
  __m128i *v17; // rax
  __int64 *v18; // rbx
  int v19; // r9d
  __int64 v20; // rax
  __int64 v21; // rax
  __int64 v22; // rax
  __int64 v23; // rax
  __int64 v24; // r14
  unsigned int v25; // eax
  unsigned __int16 v26; // dx
  __int64 j; // rax
  __int64 *v28; // rdi
  __int64 v30; // rbx
  __int64 v31; // rax
  _BYTE *v32; // rbx
  __int64 v33; // r12
  _BYTE *v34; // r15
  unsigned int v35; // eax
  unsigned __int64 v36; // r10
  int v37; // edx
  unsigned int v38; // r8d
  __int64 v39; // rax
  _QWORD *v40; // r13
  __int64 v41; // rdi
  unsigned __int64 v42; // rsi
  __int64 v43; // rax
  __int64 v44; // rsi
  _QWORD *v45; // rdx
  __int64 v46; // rsi
  __int64 v47; // rax
  __int64 v48; // rax
  __int64 v49; // rdi
  __int64 v50; // rsi
  _QWORD *v51; // rcx
  _QWORD *v52; // rdx
  int *v53; // rax
  int v54; // r12d
  int v55; // r12d
  int v56; // r12d
  __int64 v57; // rdx
  __int64 v58; // rax
  __int64 v59; // r15
  __int64 v60; // rdx
  __int64 v61; // rax
  unsigned int v62; // edx
  __int64 v63; // r8
  __int64 v64; // rax
  __int64 v65; // rdi
  __int64 v66; // r15
  __int64 v67; // rax
  _QWORD *v68; // rax
  __int64 v69; // rax
  __int64 v70; // rax
  __int64 v71; // rsi
  __int64 v72; // rdx
  _QWORD *v73; // r13
  __int32 v74; // r12d
  __int64 v75; // rdx
  __int64 v76; // rcx
  __int64 v77; // rdi
  __int64 v78; // rbx
  __int64 v79; // rax
  __int64 v80; // rbx
  __int64 v81; // r15
  __int64 v82; // rdx
  __int64 v83; // rcx
  __int64 v84; // rdi
  __int64 v85; // r8
  __int64 v86; // rax
  unsigned int v87; // eax
  bool v88; // cc
  unsigned int v89; // r12d
  __int64 v90; // rax
  _QWORD *v91; // r15
  __int64 v92; // rax
  unsigned __int64 *v93; // r12
  __int64 v94; // rax
  unsigned __int64 v95; // rcx
  __int64 v96; // rsi
  __int64 v97; // rsi
  __int64 v98; // rax
  __m128i *v99; // r12
  __int64 v100; // rbx
  __int64 v101; // rax
  unsigned __int64 v102; // r8
  __int64 v103; // rax
  _BYTE *v104; // rax
  _BYTE *k; // rdx
  __int64 v106; // r13
  __int64 v107; // r15
  _BYTE *v108; // rax
  __m128i *v109; // rbx
  __m128i *v110; // rdi
  __int64 v111; // r13
  __int64 v112; // rax
  __int64 v113; // rdi
  __int64 v114; // rax
  __int64 v115; // rax
  __int64 v116; // rdx
  __int64 v117; // rcx
  __int64 v118; // r12
  __int64 v119; // rax
  __int64 v120; // r13
  __int64 v121; // rax
  __int64 v122; // rdi
  __int64 v123; // rax
  __int64 v124; // rax
  __int64 v125; // rdx
  __int64 v126; // rcx
  __int64 v127; // r12
  __int64 v128; // rax
  __int64 v129; // r13
  __int64 v130; // rax
  __int64 v131; // rdi
  __int64 v132; // rax
  __int64 v133; // rax
  __int64 v134; // rdx
  __int64 v135; // rcx
  __int64 v136; // r12
  __int64 v137; // rax
  __m128i v138; // xmm2
  __int64 v139; // r15
  __int64 v140; // r12
  _QWORD *v141; // rdi
  size_t v142; // rdx
  char v143; // al
  bool v144; // al
  const char *v145; // rsi
  unsigned __int64 v146; // rax
  __int64 v147; // rax
  __int64 *v148; // r13
  __int64 v149; // rax
  __int64 v150; // rcx
  __int64 v151; // r8
  __int64 v152; // rax
  __int64 *v153; // r12
  __int64 v154; // rcx
  __int64 v155; // rax
  __int64 v156; // rsi
  __int64 v157; // r12
  __int64 v158; // rsi
  __int64 v159; // r12
  unsigned int v160; // r13d
  __int64 v161; // rax
  _QWORD *v162; // r15
  __int64 v163; // rax
  unsigned __int64 *v164; // r12
  __int64 v165; // rax
  unsigned __int64 v166; // rcx
  __int64 v167; // rsi
  __int64 v168; // rsi
  int v169; // edi
  int v170; // edi
  int v171; // esi
  _QWORD *v172; // rax
  __int64 v173; // [rsp-8h] [rbp-508h]
  __int64 v174; // [rsp+8h] [rbp-4F8h]
  unsigned int v175; // [rsp+18h] [rbp-4E8h]
  unsigned int v177; // [rsp+20h] [rbp-4E0h]
  unsigned __int64 v178; // [rsp+28h] [rbp-4D8h]
  __int64 v179; // [rsp+28h] [rbp-4D8h]
  __int64 v180; // [rsp+28h] [rbp-4D8h]
  __int64 v181; // [rsp+28h] [rbp-4D8h]
  __int64 v182; // [rsp+28h] [rbp-4D8h]
  char v183; // [rsp+30h] [rbp-4D0h]
  __int64 v184; // [rsp+30h] [rbp-4D0h]
  unsigned __int64 *v185; // [rsp+30h] [rbp-4D0h]
  __int64 *v186; // [rsp+30h] [rbp-4D0h]
  unsigned __int64 v187; // [rsp+30h] [rbp-4D0h]
  unsigned int dest; // [rsp+38h] [rbp-4C8h]
  void *desta; // [rsp+38h] [rbp-4C8h]
  __int64 v191; // [rsp+48h] [rbp-4B8h]
  unsigned int *v192; // [rsp+50h] [rbp-4B0h]
  __int64 *v193; // [rsp+50h] [rbp-4B0h]
  unsigned __int64 v194; // [rsp+88h] [rbp-478h]
  __int64 v196; // [rsp+98h] [rbp-468h]
  __int64 v198; // [rsp+A8h] [rbp-458h]
  unsigned __int64 v199; // [rsp+A8h] [rbp-458h]
  __int64 v200; // [rsp+A8h] [rbp-458h]
  unsigned __int64 v201; // [rsp+A8h] [rbp-458h]
  char v202[4]; // [rsp+B4h] [rbp-44Ch] BYREF
  __int64 v203; // [rsp+B8h] [rbp-448h] BYREF
  _BYTE v204[16]; // [rsp+C0h] [rbp-440h] BYREF
  __int16 v205; // [rsp+D0h] [rbp-430h]
  _QWORD v206[2]; // [rsp+E0h] [rbp-420h] BYREF
  __int16 v207; // [rsp+F0h] [rbp-410h]
  _BYTE *v208; // [rsp+100h] [rbp-400h] BYREF
  __int64 v209; // [rsp+108h] [rbp-3F8h]
  _BYTE v210[16]; // [rsp+110h] [rbp-3F0h] BYREF
  _BYTE *v211; // [rsp+120h] [rbp-3E0h] BYREF
  __int64 v212; // [rsp+128h] [rbp-3D8h]
  _BYTE v213[16]; // [rsp+130h] [rbp-3D0h] BYREF
  _BYTE *v214; // [rsp+140h] [rbp-3C0h] BYREF
  __int64 v215; // [rsp+148h] [rbp-3B8h]
  _BYTE v216[16]; // [rsp+150h] [rbp-3B0h] BYREF
  __m128i v217; // [rsp+160h] [rbp-3A0h] BYREF
  _QWORD v218[4]; // [rsp+170h] [rbp-390h] BYREF
  void *src; // [rsp+190h] [rbp-370h] BYREF
  __int64 v220; // [rsp+198h] [rbp-368h]
  _BYTE v221[128]; // [rsp+1A0h] [rbp-360h] BYREF
  unsigned __int64 *v222; // [rsp+220h] [rbp-2E0h] BYREF
  __int64 v223; // [rsp+228h] [rbp-2D8h]
  _BYTE v224[128]; // [rsp+230h] [rbp-2D0h] BYREF
  __m128i v225; // [rsp+2B0h] [rbp-250h] BYREF
  _QWORD v226[16]; // [rsp+2C0h] [rbp-240h] BYREF
  _BYTE *v227; // [rsp+340h] [rbp-1C0h] BYREF
  __int64 v228; // [rsp+348h] [rbp-1B8h]
  _BYTE v229[432]; // [rsp+350h] [rbp-1B0h] BYREF

  v5 = (__int64 *)a2;
  v6 = *(__int64 **)(a3 + 72);
  v208 = v210;
  v211 = v213;
  v214 = v216;
  src = v221;
  v227 = v229;
  v198 = (__int64)v6;
  v220 = 0x1000000000LL;
  v209 = 0x1000000000LL;
  v212 = 0x1000000000LL;
  v215 = 0x1000000000LL;
  v228 = 0x1000000000LL;
  v222 = (unsigned __int64 *)v224;
  v223 = 0x1000000000LL;
  v7 = sub_72B0F0((__int64)v6, 0);
  v8 = *v6;
  v9 = v7;
  for ( i = *(_BYTE *)(v8 + 140); i == 12; i = *(_BYTE *)(v8 + 140) )
    v8 = *(_QWORD *)(v8 + 160);
  if ( i != 6 )
    sub_127B550("Expected pointer to function!", (_DWORD *)(a3 + 36), 1);
  do
  {
    v8 = *(_QWORD *)(v8 + 160);
    v11 = *(_BYTE *)(v8 + 140);
  }
  while ( v11 == 12 );
  if ( v11 != 7 )
    sub_127B550("unexpected: Callee does not have routine type!", (_DWORD *)(a3 + 36), 1);
  v12 = *(_QWORD *)(v8 + 160);
  v194 = v12;
  if ( *(char *)(v12 + 142) >= 0 && (v12 = *(_QWORD *)(v8 + 160), *(_BYTE *)(v194 + 140) == 12) )
    v175 = sub_8D4AB0(v194);
  else
    v175 = *(_DWORD *)(v12 + 136);
  if ( *(_BYTE *)(v198 + 24) != 20 )
  {
    if ( !v9 )
      goto LABEL_13;
    goto LABEL_36;
  }
  if ( (*(_BYTE *)(v9 + 199) & 2) != 0 )
  {
    sub_12B3FD0(&v217, a2, a3);
    if ( !sub_127B420(v194) )
    {
      v138 = _mm_loadu_si128(&v217);
      *(_QWORD *)(a1 + 16) = v218[0];
      *(__m128i *)a1 = v138;
LABEL_189:
      v28 = (__int64 *)v222;
      goto LABEL_45;
    }
    v159 = v217.m128i_i64[0];
    if ( (a4 & 0xFFFFFFFFFFFFFFF8LL) != 0 )
    {
      v201 = a4 & 0xFFFFFFFFFFFFFFF8LL;
      v160 = 1;
      if ( (a4 & 4) != 0 )
      {
LABEL_223:
        LOWORD(v226[0]) = 257;
        v161 = sub_1648A60(64, 2);
        v162 = (_QWORD *)v161;
        if ( v161 )
          sub_15F9650(v161, v159, v201, v160, 0);
        v163 = *(_QWORD *)(a2 + 56);
        if ( v163 )
        {
          v164 = *(unsigned __int64 **)(a2 + 64);
          sub_157E9D0(v163 + 40, v162);
          v165 = v162[3];
          v166 = *v164;
          v162[4] = v164;
          v166 &= 0xFFFFFFFFFFFFFFF8LL;
          v162[3] = v166 | v165 & 7;
          *(_QWORD *)(v166 + 8) = v162 + 3;
          *v164 = *v164 & 7 | (unsigned __int64)(v162 + 3);
        }
        sub_164B780(v162, &v225);
        v167 = *(_QWORD *)(a2 + 48);
        if ( v167 )
        {
          v206[0] = v5[6];
          sub_1623A60(v206, v167, 2);
          if ( v162[6] )
            sub_161E7C0(v162 + 6);
          v168 = v206[0];
          v162[6] = v206[0];
          if ( v168 )
            sub_1623210(v206, v168, v162 + 6);
        }
        a2 = a5;
        sub_15F9450(v162, a5);
        *(_BYTE *)(a1 + 12) &= ~1u;
        *(_QWORD *)a1 = v201;
        *(_DWORD *)(a1 + 8) = 1;
        *(_DWORD *)(a1 + 16) = a5;
        goto LABEL_189;
      }
    }
    else
    {
      v225.m128i_i64[0] = (__int64)"agg.tmp";
      LOWORD(v226[0]) = 259;
      v201 = (unsigned __int64)sub_127FE40((_QWORD *)a2, v194, (__int64)&v225);
      a5 = v175;
    }
    v160 = unk_4D0463C;
    if ( unk_4D0463C )
      v160 = sub_126A420(*(_QWORD *)(a2 + 32), v201);
    goto LABEL_223;
  }
LABEL_36:
  sub_5E3780(v9, (__int64)v202);
  if ( !*(_BYTE *)(v9 + 174) )
  {
    v26 = *(_WORD *)(v9 + 176);
    if ( v26 )
    {
      for ( j = *(_QWORD *)(v9 + 152); *(_BYTE *)(j + 140) == 12; j = *(_QWORD *)(j + 160) )
        ;
      if ( (*(_BYTE *)(*(_QWORD *)(j + 168) + 16LL) & 1) != 0
        && (((v26 - 10219) & 0xFFF7) == 0 || v26 == 10214 || v26 == 15752) )
      {
        sub_1298D60(a1, a2, v26, (const char *)v198);
        v28 = (__int64 *)v222;
        goto LABEL_45;
      }
    }
  }
LABEL_13:
  v13 = sub_128F980(a2, v198);
  v14 = *(__int64 **)(v198 + 16);
  v196 = (__int64)v13;
  if ( !v14 )
    goto LABEL_58;
  v15 = **(__int64 ***)(v8 + 168);
  if ( (*(_BYTE *)(a3 + 60) & 2) == 0 )
  {
    do
    {
      sub_1280010((__int64)&v225, (_QWORD *)a2, v14, 0);
      v16 = (unsigned int)v228;
      if ( (unsigned int)v228 >= HIDWORD(v228) )
      {
        sub_16CD150(&v227, v229, 0, 24);
        v16 = (unsigned int)v228;
      }
      v17 = (__m128i *)&v227[24 * v16];
      *v17 = _mm_loadu_si128(&v225);
      LODWORD(v228) = v228 + 1;
      v17[1].m128i_i64[0] = v226[0];
      v14 = (__int64 *)v14[2];
    }
    while ( v14 );
    goto LABEL_18;
  }
  v99 = &v217;
  v100 = 0;
  v218[0] = 0;
  v217.m128i_i64[1] = (__int64)&v217;
  v217.m128i_i64[0] = (__int64)&v217;
  while ( 1 )
  {
    v101 = sub_22077B0(24);
    *(_QWORD *)(v101 + 16) = v14;
    sub_2208C80(v101, v99);
    ++v218[0];
    v14 = (__int64 *)v14[2];
    v102 = v100 + 1;
    if ( !v14 )
      break;
    v99 = (__m128i *)v217.m128i_i64[0];
    ++v100;
  }
  v103 = (unsigned int)v228;
  if ( v102 < (unsigned int)v228 )
    goto LABEL_162;
  if ( v102 > (unsigned int)v228 )
  {
    if ( v102 > HIDWORD(v228) )
    {
      sub_16CD150(&v227, v229, v100 + 1, 24);
      v103 = (unsigned int)v228;
      v102 = v100 + 1;
    }
    v104 = &v227[24 * v103];
    for ( k = &v227[24 * v102]; k != v104; v104 += 24 )
    {
      if ( v104 )
      {
        v104[12] &= ~1u;
        *(_QWORD *)v104 = 0;
        *((_DWORD *)v104 + 2) = 0;
        *((_DWORD *)v104 + 4) = 0;
      }
    }
LABEL_162:
    LODWORD(v228) = v102;
  }
  v106 = v217.m128i_i64[0];
  if ( (__m128i *)v217.m128i_i64[0] != &v217 )
  {
    v193 = v15;
    v107 = 24 * v100;
    do
    {
      sub_1280010((__int64)&v225, (_QWORD *)a2, *(__int64 **)(v106 + 16), 0);
      v108 = v227;
      *(__m128i *)&v227[v107] = _mm_loadu_si128(&v225);
      *(_DWORD *)&v108[v107 + 16] = v226[0];
      v106 = *(_QWORD *)v106;
      v107 -= 24;
    }
    while ( (__m128i *)v106 != &v217 );
    v109 = (__m128i *)v217.m128i_i64[0];
    v15 = v193;
    while ( v109 != &v217 )
    {
      v110 = v109;
      v109 = (__m128i *)v109->m128i_i64[0];
      j_j___libc_free_0(v110, 24);
    }
  }
LABEL_18:
  v18 = *(__int64 **)(v198 + 16);
  if ( v18 )
  {
    do
    {
      if ( v15 )
      {
        v24 = v15[1];
        if ( dword_4F0690C )
        {
          v19 = (*((_DWORD *)v15 + 8) >> 13) & 1;
          goto LABEL_21;
        }
        LOBYTE(v19) = 0;
        if ( (*(_BYTE *)(v24 + 140) & 0xFB) != 8 )
          goto LABEL_21;
        v25 = sub_8D4C10(v15[1], dword_4F077C4 != 2);
        v24 = v15[1];
        LOBYTE(v19) = v25 >> 2;
        v20 = (unsigned int)v209;
        LOBYTE(v19) = v19 & 1;
        if ( (unsigned int)v209 < HIDWORD(v209) )
          goto LABEL_22;
LABEL_34:
        v183 = v19;
        sub_16CD150(&v208, v210, 0, 1);
        v20 = (unsigned int)v209;
        LOBYTE(v19) = v183;
        goto LABEL_22;
      }
      while ( 1 )
      {
        v24 = *v18;
        LOBYTE(v19) = 0;
        if ( (*(_BYTE *)(*v18 + 140) & 0xFB) == 8 )
        {
          v143 = sub_8D4C10(*v18, dword_4F077C4 != 2);
          v24 = *v18;
          LOBYTE(v19) = (v143 & 4) != 0;
        }
        v15 = 0;
LABEL_21:
        v20 = (unsigned int)v209;
        if ( (unsigned int)v209 >= HIDWORD(v209) )
          goto LABEL_34;
LABEL_22:
        v208[v20] = v19;
        v21 = (unsigned int)v220;
        LODWORD(v209) = v209 + 1;
        if ( (unsigned int)v220 >= HIDWORD(v220) )
        {
          sub_16CD150(&src, v221, 0, 8);
          v21 = (unsigned int)v220;
        }
        *((_QWORD *)src + v21) = v24;
        v22 = (unsigned int)v212;
        LODWORD(v220) = v220 + 1;
        if ( (unsigned int)v212 >= HIDWORD(v212) )
        {
          sub_16CD150(&v211, v213, 0, 1);
          v22 = (unsigned int)v212;
        }
        v211[v22] = 0;
        v23 = (unsigned int)v215;
        LODWORD(v212) = v212 + 1;
        if ( (unsigned int)v215 >= HIDWORD(v215) )
        {
          sub_16CD150(&v214, v216, 0, 1);
          v23 = (unsigned int)v215;
        }
        v214[v23] = 0;
        v18 = (__int64 *)v18[2];
        LODWORD(v215) = v215 + 1;
        if ( v15 )
          break;
        if ( !v18 )
          goto LABEL_198;
      }
      v15 = (__int64 *)*v15;
    }
    while ( v18 );
LABEL_198:
    v5 = (__int64 *)a2;
  }
LABEL_58:
  v191 = sub_12975B0((_QWORD **)(v5[4] + 8), v194, (__int64)&src, (__int64 *)&v208, (__int64 *)&v211, (__int64 *)&v214);
  v174 = *(_QWORD *)(v191 + 16);
  if ( sub_1297BB0(v5[4], v191) )
  {
    v30 = a4 & 0xFFFFFFFFFFFFFFF8LL;
    if ( (a4 & 0xFFFFFFFFFFFFFFF8LL) == 0 )
    {
      v225.m128i_i64[0] = (__int64)"tmp";
      LOWORD(v226[0]) = 259;
      v30 = (__int64)sub_127FE40(v5, v194, (__int64)&v225);
    }
    v31 = (unsigned int)v223;
    if ( (unsigned int)v223 >= HIDWORD(v223) )
    {
      sub_16CD150(&v222, v224, 0, 8);
      v31 = (unsigned int)v223;
    }
    v222[v31] = v30;
    LODWORD(v223) = v223 + 1;
  }
  v32 = v227;
  v33 = *(_QWORD *)(v191 + 16) + 40LL;
  v34 = &v227[24 * (unsigned int)v228];
  v192 = (unsigned int *)(a3 + 36);
  if ( v227 != v34 )
  {
    do
    {
      v35 = *(_DWORD *)(v33 + 12);
      v36 = *(_QWORD *)v32;
      v37 = *((_DWORD *)v32 + 2);
      if ( v35 > 1 )
      {
        if ( v35 == 2 )
        {
          if ( !v37 )
            sub_127B550("passing scalars indirectly is not supported!", v192, 1);
LABEL_146:
          v98 = (unsigned int)v223;
          if ( (unsigned int)v223 >= HIDWORD(v223) )
          {
            desta = *(void **)v32;
            sub_16CD150(&v222, v224, 0, 8);
            v98 = (unsigned int)v223;
            v36 = (unsigned __int64)desta;
          }
          v222[v98] = v36;
          LODWORD(v223) = v223 + 1;
        }
      }
      else
      {
        if ( !v37 )
          goto LABEL_146;
        dest = *((_DWORD *)v32 + 4);
        LOWORD(v226[0]) = 257;
        v38 = unk_4D0463C;
        if ( unk_4D0463C )
        {
          v187 = v36;
          v144 = sub_126A420(v5[4], v36);
          v36 = v187;
          v38 = v144;
        }
        v177 = v38;
        v178 = v36;
        v184 = *(_QWORD *)(v36 + 56);
        v39 = sub_1648A60(64, 1);
        v40 = (_QWORD *)v39;
        if ( v39 )
          sub_15F9210(v39, v184, v178, 0, v177, 0);
        v41 = v5[7];
        if ( v41 )
        {
          v185 = (unsigned __int64 *)v5[8];
          sub_157E9D0(v41 + 40, v40);
          v42 = *v185;
          v43 = v40[3] & 7LL;
          v40[4] = v185;
          v42 &= 0xFFFFFFFFFFFFFFF8LL;
          v40[3] = v42 | v43;
          *(_QWORD *)(v42 + 8) = v40 + 3;
          *v185 = *v185 & 7 | (unsigned __int64)(v40 + 3);
        }
        sub_164B780(v40, &v225);
        v44 = v5[6];
        if ( v44 )
        {
          v217.m128i_i64[0] = v5[6];
          sub_1623A60(&v217, v44, 2);
          v45 = v40 + 6;
          if ( v40[6] )
          {
            sub_161E7C0(v40 + 6);
            v45 = v40 + 6;
          }
          v46 = v217.m128i_i64[0];
          v40[6] = v217.m128i_i64[0];
          if ( v46 )
            sub_1623210(&v217, v46, v45);
        }
        sub_15F8F50(v40, dest);
        v47 = (unsigned int)v223;
        if ( (unsigned int)v223 >= HIDWORD(v223) )
        {
          sub_16CD150(&v222, v224, 0, 8);
          v47 = (unsigned int)v223;
        }
        v222[v47] = (unsigned __int64)v40;
        LODWORD(v223) = v223 + 1;
      }
      v32 += 24;
      v33 += 40;
    }
    while ( v32 != v34 );
  }
  if ( *(_BYTE *)(v196 + 16) == 5 )
  {
    v48 = *(_QWORD *)(v196 - 24LL * (*(_DWORD *)(v196 + 20) & 0xFFFFFFF));
    if ( !*(_BYTE *)(v48 + 16) && *(_WORD *)(v196 + 18) == 47 )
    {
      v49 = *(_QWORD *)(v48 + 24);
      v50 = *(_QWORD *)(*(_QWORD *)v196 + 24LL);
      v51 = *(_QWORD **)(v49 + 16);
      v52 = *(_QWORD **)(v50 + 16);
      if ( *v52 == *v51 )
      {
        v169 = *(_DWORD *)(v49 + 12);
        if ( *(_DWORD *)(v50 + 12) == v169 )
        {
          v170 = v169 - 1;
          if ( v170 == (_DWORD)v223 )
          {
            v171 = 0;
            while ( v171 != v170 )
            {
              ++v171;
              if ( v52[v171] != v51[v171] )
                goto LABEL_86;
            }
            v196 = *(_QWORD *)(v196 - 24LL * (*(_DWORD *)(v196 + 20) & 0xFFFFFFF));
          }
        }
      }
    }
  }
LABEL_86:
  sub_1290930((__int64)v5, v192);
  sub_127C770(v192);
  if ( *(_BYTE *)(v198 + 24) == 20 )
  {
    v145 = *(const char **)(*(_QWORD *)(v198 + 56) + 8LL);
    if ( v145 )
    {
      if ( !strcmp(v145, "printf") )
      {
        a2 = v191;
        v73 = (_QWORD *)(sub_12992B0(v5, v191, (__int64 **)&v222, v192) & 0xFFFFFFFFFFFFFFF8LL);
        goto LABEL_108;
      }
    }
  }
  v186 = v5 + 6;
  v53 = *(int **)(a3 + 64);
  if ( v53 )
  {
    v225.m128i_i64[0] = (__int64)v226;
    v225.m128i_i64[1] = 0x400000000LL;
    v54 = *v53;
    if ( *v53 >= 0 )
    {
      v129 = sub_161FF10(v5[5], "preserve_n_data", 15);
      v130 = v225.m128i_u32[2];
      if ( v225.m128i_i32[2] >= (unsigned __int32)v225.m128i_i32[3] )
      {
        sub_16CD150(&v225, v226, 0, 8);
        v130 = v225.m128i_u32[2];
      }
      *(_QWORD *)(v225.m128i_i64[0] + 8 * v130) = v129;
      v131 = v5[5];
      ++v225.m128i_i32[2];
      v132 = sub_1643350(v131);
      v133 = sub_159C470(v132, v54, 0);
      v136 = sub_1624210(v133, v54, v134, v135);
      v137 = v225.m128i_u32[2];
      if ( v225.m128i_i32[2] >= (unsigned __int32)v225.m128i_i32[3] )
      {
        sub_16CD150(&v225, v226, 0, 8);
        v137 = v225.m128i_u32[2];
      }
      *(_QWORD *)(v225.m128i_i64[0] + 8 * v137) = v136;
      ++v225.m128i_i32[2];
      v53 = *(int **)(a3 + 64);
      v55 = v53[1];
      if ( v55 < 0 )
      {
LABEL_90:
        v56 = v53[2];
        if ( v56 < 0 )
        {
LABEL_91:
          v57 = v225.m128i_u32[2];
LABEL_92:
          v58 = sub_1627350(v5[5], v225.m128i_i64[0], v57, 0, 1);
          v205 = 257;
          v59 = v58;
          v217.m128i_i64[0] = (__int64)v218;
          v217.m128i_i64[1] = 0x200000000LL;
          v60 = *(_QWORD *)(v5[4] + 728);
          if ( v60 == *(_QWORD *)v196 )
          {
            v63 = v196;
            v64 = 0;
          }
          else
          {
            if ( *(_BYTE *)(v196 + 16) > 0x10u )
            {
              v207 = 257;
              v151 = sub_15FDBD0(47, v196, v60, v206, 0);
              v152 = v5[7];
              if ( v152 )
              {
                v153 = (__int64 *)v5[8];
                v179 = v151;
                sub_157E9D0(v152 + 40, v151);
                v151 = v179;
                v154 = *v153;
                v155 = *(_QWORD *)(v179 + 24);
                *(_QWORD *)(v179 + 32) = v153;
                v154 &= 0xFFFFFFFFFFFFFFF8LL;
                *(_QWORD *)(v179 + 24) = v154 | v155 & 7;
                *(_QWORD *)(v154 + 8) = v179 + 24;
                *v153 = *v153 & 7 | (v179 + 24);
              }
              v180 = v151;
              sub_164B780(v151, v204);
              v156 = v5[6];
              v63 = v180;
              if ( v156 )
              {
                v203 = v5[6];
                sub_1623A60(&v203, v156, 2);
                v63 = v180;
                v157 = v180 + 48;
                if ( *(_QWORD *)(v180 + 48) )
                {
                  sub_161E7C0(v180 + 48);
                  v63 = v180;
                }
                v158 = v203;
                *(_QWORD *)(v63 + 48) = v203;
                if ( v158 )
                {
                  v181 = v63;
                  sub_1623210(&v203, v158, v157);
                  v63 = v181;
                }
              }
              v64 = v217.m128i_u32[2];
              v62 = v217.m128i_u32[3];
            }
            else
            {
              v61 = sub_15A46C0(47, v196, v60, 0);
              v62 = v217.m128i_u32[3];
              v63 = v61;
              v64 = v217.m128i_u32[2];
            }
            if ( (unsigned int)v64 >= v62 )
            {
              v182 = v63;
              sub_16CD150(&v217, v218, 0, 8);
              v64 = v217.m128i_u32[2];
              v63 = v182;
            }
          }
          *(_QWORD *)(v217.m128i_i64[0] + 8 * v64) = v63;
          v65 = v5[5];
          ++v217.m128i_i32[2];
          v66 = sub_1628DA0(v65, v59);
          v67 = v217.m128i_u32[2];
          if ( v217.m128i_i32[2] >= (unsigned __int32)v217.m128i_i32[3] )
          {
            sub_16CD150(&v217, v218, 0, 8);
            v67 = v217.m128i_u32[2];
          }
          *(_QWORD *)(v217.m128i_i64[0] + 8 * v67) = v66;
          v68 = (_QWORD *)v5[4];
          ++v217.m128i_i32[2];
          v69 = sub_15E26F0(*v68, 3760, 0, 0);
          v207 = 257;
          v70 = sub_1285290(v186, *(_QWORD *)(v69 + 24), v69, v217.m128i_i32[0], v217.m128i_u32[2], (__int64)v206, 0);
          v71 = v70;
          v205 = 257;
          v72 = *(_QWORD *)v196;
          if ( *(_QWORD *)v196 == *(_QWORD *)v70 )
          {
            v196 = v70;
          }
          else if ( *(_BYTE *)(v70 + 16) > 0x10u )
          {
            v207 = 257;
            v196 = sub_15FDBD0(47, v70, v72, v206, 0);
            v147 = v5[7];
            if ( v147 )
            {
              v148 = (__int64 *)v5[8];
              sub_157E9D0(v147 + 40, v196);
              v149 = *(_QWORD *)(v196 + 24);
              v150 = *v148;
              *(_QWORD *)(v196 + 32) = v148;
              v150 &= 0xFFFFFFFFFFFFFFF8LL;
              *(_QWORD *)(v196 + 24) = v150 | v149 & 7;
              *(_QWORD *)(v150 + 8) = v196 + 24;
              *v148 = *v148 & 7 | (v196 + 24);
            }
            sub_164B780(v196, v204);
            v71 = v5[6];
            if ( v71 )
            {
              v203 = v5[6];
              sub_1623A60(&v203, v71, 2);
              if ( *(_QWORD *)(v196 + 48) )
                sub_161E7C0(v196 + 48);
              v71 = v203;
              *(_QWORD *)(v196 + 48) = v203;
              if ( v71 )
                sub_1623210(&v203, v71, v196 + 48);
            }
          }
          else
          {
            v196 = sub_15A46C0(47, v70, v72, 0);
          }
          if ( (_QWORD *)v217.m128i_i64[0] != v218 )
            _libc_free(v217.m128i_i64[0], v71);
          if ( (_QWORD *)v225.m128i_i64[0] != v226 )
            _libc_free(v225.m128i_i64[0], v71);
          goto LABEL_106;
        }
LABEL_169:
        v111 = sub_161FF10(v5[5], "preserve_n_after", 16);
        v112 = v225.m128i_u32[2];
        if ( v225.m128i_i32[2] >= (unsigned __int32)v225.m128i_i32[3] )
        {
          sub_16CD150(&v225, v226, 0, 8);
          v112 = v225.m128i_u32[2];
        }
        *(_QWORD *)(v225.m128i_i64[0] + 8 * v112) = v111;
        v113 = v5[5];
        ++v225.m128i_i32[2];
        v114 = sub_1643350(v113);
        v115 = sub_159C470(v114, v56, 0);
        v118 = sub_1624210(v115, v56, v116, v117);
        v119 = v225.m128i_u32[2];
        if ( v225.m128i_i32[2] >= (unsigned __int32)v225.m128i_i32[3] )
        {
          sub_16CD150(&v225, v226, 0, 8);
          v119 = v225.m128i_u32[2];
        }
        *(_QWORD *)(v225.m128i_i64[0] + 8 * v119) = v118;
        v57 = (unsigned int)++v225.m128i_i32[2];
        goto LABEL_92;
      }
    }
    else
    {
      v55 = v53[1];
      if ( v55 < 0 )
        goto LABEL_90;
    }
    v120 = sub_161FF10(v5[5], "preserve_n_control", 18);
    v121 = v225.m128i_u32[2];
    if ( v225.m128i_i32[2] >= (unsigned __int32)v225.m128i_i32[3] )
    {
      sub_16CD150(&v225, v226, 0, 8);
      v121 = v225.m128i_u32[2];
    }
    *(_QWORD *)(v225.m128i_i64[0] + 8 * v121) = v120;
    v122 = v5[5];
    ++v225.m128i_i32[2];
    v123 = sub_1643350(v122);
    v124 = sub_159C470(v123, v55, 0);
    v127 = sub_1624210(v124, v55, v125, v126);
    v128 = v225.m128i_u32[2];
    if ( v225.m128i_i32[2] >= (unsigned __int32)v225.m128i_i32[3] )
    {
      sub_16CD150(&v225, v226, 0, 8);
      v128 = v225.m128i_u32[2];
    }
    *(_QWORD *)(v225.m128i_i64[0] + 8 * v128) = v127;
    ++v225.m128i_i32[2];
    v56 = *(_DWORD *)(*(_QWORD *)(a3 + 64) + 8LL);
    if ( v56 < 0 )
      goto LABEL_91;
    goto LABEL_169;
  }
LABEL_106:
  v217 = 0u;
  LOWORD(v226[0]) = 257;
  v218[0] = 0;
  v73 = (_QWORD *)(sub_1285290(
                     v186,
                     *(_QWORD *)(*(_QWORD *)v196 + 24LL),
                     v196,
                     (int)v222,
                     (unsigned int)v223,
                     (__int64)&v225,
                     0)
                 & 0xFFFFFFFFFFFFFFF8LL);
  sub_129A750(v5[4], v191, 0, (char **)&v217);
  v73[7] = sub_1563520(v5[5], v217.m128i_i64[0], (v217.m128i_i64[1] - v217.m128i_i64[0]) >> 3);
  a2 = v173;
  if ( v217.m128i_i64[0] )
  {
    a2 = v218[0] - v217.m128i_i64[0];
    j_j___libc_free_0(v217.m128i_i64[0], v218[0] - v217.m128i_i64[0]);
  }
LABEL_108:
  if ( *(_BYTE *)(v198 + 24) != 20 )
  {
    v74 = v220;
    v225.m128i_i64[0] = (__int64)v226;
    v225.m128i_i64[1] = 0x1000000000LL;
    if ( (_DWORD)v220 )
    {
      v141 = v226;
      v142 = 8LL * (unsigned int)v220;
      if ( (unsigned int)v220 <= 0x10
        || (sub_16CD150(&v225, v226, (unsigned int)v220, 8),
            v141 = (_QWORD *)v225.m128i_i64[0],
            (v142 = 8LL * (unsigned int)v220) != 0) )
      {
        memcpy(v141, src, v142);
      }
      v225.m128i_i32[2] = v74;
    }
    a2 = v194;
    v217.m128i_i64[0] = (__int64)v218;
    v217.m128i_i64[1] = 0x400000000LL;
    v77 = sub_12971F0((__int64)v5, v194, 0);
    if ( v77 )
    {
      v78 = sub_1624210(v77, v194, v75, v76);
      v79 = v217.m128i_u32[2];
      if ( v217.m128i_i32[2] >= (unsigned __int32)v217.m128i_i32[3] )
      {
        a2 = (__int64)v218;
        sub_16CD150(&v217, v218, 0, 8);
        v79 = v217.m128i_u32[2];
      }
      *(_QWORD *)(v217.m128i_i64[0] + 8 * v79) = v78;
      ++v217.m128i_i32[2];
    }
    v80 = v225.m128i_u32[2];
    if ( v225.m128i_i32[2] )
    {
      v81 = 0;
      do
      {
        a2 = *(_QWORD *)(v225.m128i_i64[0] + 8 * v81);
        v84 = sub_12971F0((__int64)v5, a2, (int)v81 + 1);
        if ( v84 )
        {
          v85 = sub_1624210(v84, a2, v82, v83);
          v86 = v217.m128i_u32[2];
          if ( v217.m128i_i32[2] >= (unsigned __int32)v217.m128i_i32[3] )
          {
            a2 = (__int64)v218;
            v200 = v85;
            sub_16CD150(&v217, v218, 0, 8);
            v86 = v217.m128i_u32[2];
            v85 = v200;
          }
          *(_QWORD *)(v217.m128i_i64[0] + 8 * v86) = v85;
          ++v217.m128i_i32[2];
        }
        ++v81;
      }
      while ( v81 != v80 );
    }
    if ( v217.m128i_i32[2] )
    {
      v139 = v5[5];
      v140 = sub_1627350(v139, v217.m128i_i64[0], v217.m128i_u32[2], 0, 1);
      a2 = (unsigned int)sub_1602B80(v139, "callalign", 9);
      sub_1625C10(v73, a2, v140);
    }
    if ( (_QWORD *)v217.m128i_i64[0] != v218 )
      _libc_free(v217.m128i_i64[0], a2);
    if ( (_QWORD *)v225.m128i_i64[0] != v226 )
      _libc_free(v225.m128i_i64[0], a2);
  }
  if ( !*(_BYTE *)(*v73 + 8LL) )
  {
    v87 = *(_DWORD *)(v174 + 12);
    v88 = v87 <= 2;
    if ( v87 != 2 )
      goto LABEL_129;
LABEL_203:
    if ( sub_127B420(v194) )
    {
      v28 = (__int64 *)v222;
      a2 = v175;
      v146 = *v222;
      *(_BYTE *)(a1 + 12) &= ~1u;
      *(_DWORD *)(a1 + 8) = 1;
      *(_QWORD *)a1 = v146;
      *(_DWORD *)(a1 + 16) = v175;
    }
    else
    {
      a2 = *v222;
      v172 = sub_12810A0(v5, *v222, v175, 0);
      v28 = (__int64 *)v222;
      *(_BYTE *)(a1 + 12) &= ~1u;
      *(_QWORD *)a1 = v172;
      *(_DWORD *)(a1 + 8) = 0;
      *(_DWORD *)(a1 + 16) = 0;
    }
    goto LABEL_45;
  }
  a2 = (__int64)&v225;
  v225.m128i_i64[0] = (__int64)"call";
  LOWORD(v226[0]) = 259;
  sub_164B780(v73, &v225);
  v87 = *(_DWORD *)(v174 + 12);
  v88 = v87 <= 2;
  if ( v87 == 2 )
    goto LABEL_203;
LABEL_129:
  if ( v88 )
  {
    if ( !sub_127B420(v194) )
    {
      v28 = (__int64 *)v222;
      *(_BYTE *)(a1 + 12) &= ~1u;
      *(_QWORD *)a1 = v73;
      *(_DWORD *)(a1 + 8) = 0;
      *(_DWORD *)(a1 + 16) = 0;
      goto LABEL_45;
    }
    if ( (a4 & 0xFFFFFFFFFFFFFFF8LL) != 0 )
    {
      v199 = a4 & 0xFFFFFFFFFFFFFFF8LL;
      v89 = 1;
      if ( (a4 & 4) != 0 )
      {
LABEL_133:
        LOWORD(v226[0]) = 257;
        v90 = sub_1648A60(64, 2);
        v91 = (_QWORD *)v90;
        if ( v90 )
          sub_15F9650(v90, v73, v199, v89, 0);
        v92 = v5[7];
        if ( v92 )
        {
          v93 = (unsigned __int64 *)v5[8];
          sub_157E9D0(v92 + 40, v91);
          v94 = v91[3];
          v95 = *v93;
          v91[4] = v93;
          v95 &= 0xFFFFFFFFFFFFFFF8LL;
          v91[3] = v95 | v94 & 7;
          *(_QWORD *)(v95 + 8) = v91 + 3;
          *v93 = *v93 & 7 | (unsigned __int64)(v91 + 3);
        }
        sub_164B780(v91, &v225);
        v96 = v5[6];
        if ( v96 )
        {
          v217.m128i_i64[0] = v5[6];
          sub_1623A60(&v217, v96, 2);
          if ( v91[6] )
            sub_161E7C0(v91 + 6);
          v97 = v217.m128i_i64[0];
          v91[6] = v217.m128i_i64[0];
          if ( v97 )
            sub_1623210(&v217, v97, v91 + 6);
        }
        sub_15F9450(v91, a5);
        a2 = v199;
        v28 = (__int64 *)v222;
        *(_BYTE *)(a1 + 12) &= ~1u;
        *(_QWORD *)a1 = v199;
        *(_DWORD *)(a1 + 8) = 1;
        *(_DWORD *)(a1 + 16) = a5;
        goto LABEL_45;
      }
    }
    else
    {
      v225.m128i_i64[0] = (__int64)"agg.tmp";
      LOWORD(v226[0]) = 259;
      v199 = (unsigned __int64)sub_127FE40(v5, v194, (__int64)&v225);
      a5 = v175;
    }
    v89 = unk_4D0463C;
    if ( unk_4D0463C )
      v89 = sub_126A420(v5[4], v199);
    goto LABEL_133;
  }
  if ( v87 != 3 )
    sub_127B550("unexpected ABI kind for return value!", v192, 1);
  a2 = (__int64)v5;
  sub_1280E20(a1, (__int64)v5, v194);
  v28 = (__int64 *)v222;
LABEL_45:
  if ( v28 != (__int64 *)v224 )
    _libc_free(v28, a2);
  if ( v227 != v229 )
    _libc_free(v227, a2);
  if ( v214 != v216 )
    _libc_free(v214, a2);
  if ( v211 != v213 )
    _libc_free(v211, a2);
  if ( v208 != v210 )
    _libc_free(v208, a2);
  if ( src != v221 )
    _libc_free(src, a2);
  return a1;
}
