// Function: sub_2F7EA70
// Address: 0x2f7ea70
//
__int64 __fastcall sub_2F7EA70(__int64 *a1, __int64 a2)
{
  unsigned int v2; // r12d
  __int64 v3; // rbx
  _QWORD *v4; // r15
  __int64 *v5; // r14
  int v6; // eax
  __int64 v7; // rax
  int v8; // eax
  __int64 v9; // rdx
  unsigned __int64 v10; // r9
  __int64 v11; // rcx
  __m128i *v12; // r8
  __int64 v13; // r13
  __int64 v14; // rdi
  __int64 v15; // rdx
  __int64 v16; // rax
  __int64 v17; // r13
  char v18; // al
  int v19; // r8d
  __m128i *v20; // rbx
  __int64 *v21; // rax
  __int64 v22; // r14
  __int64 v23; // r12
  __int64 v24; // r15
  unsigned __int64 v25; // r8
  __int64 v26; // r9
  unsigned int v27; // r12d
  int v28; // ebx
  __int64 v29; // rdi
  __int64 v30; // r14
  unsigned __int64 v31; // r14
  __int64 v32; // rdx
  __int64 v33; // r15
  __int64 v34; // rdx
  __int64 v35; // r8
  int v36; // r15d
  __int64 v37; // rax
  __int64 v38; // r9
  unsigned int v39; // esi
  unsigned __int64 v40; // rcx
  unsigned int v41; // r13d
  __m128i *v42; // rbx
  unsigned __int64 v43; // r12
  unsigned __int64 v44; // rdi
  unsigned __int64 v46; // rsi
  __int64 v47; // rcx
  unsigned __int64 i; // rax
  __int64 j; // rdi
  __int16 v50; // dx
  unsigned int v51; // esi
  __int64 v52; // rdi
  unsigned int v53; // ecx
  __int64 *v54; // rdx
  __int64 v55; // r9
  unsigned __int64 v56; // rdx
  __int64 *v57; // rax
  unsigned int *v58; // rax
  int v59; // edx
  unsigned __int64 v60; // r13
  __int64 v61; // rax
  __int64 v62; // rdx
  __m128i *v63; // r8
  __m128i *v64; // r13
  unsigned int v65; // r14d
  __m128i *v66; // r12
  __int64 v67; // r15
  __int64 v68; // rbx
  __int64 v69; // rax
  __int64 v70; // r14
  __m128i *v71; // rbx
  unsigned __int64 v72; // r15
  unsigned int v73; // r13d
  __m128i *v74; // r12
  unsigned __int64 v75; // rdi
  int v76; // eax
  __int64 v77; // r11
  unsigned __int64 v78; // r10
  _QWORD *v79; // rsi
  _QWORD *v80; // rdi
  __int64 v81; // rdi
  __int64 v82; // rax
  __int64 v83; // r8
  unsigned __int64 *v84; // r9
  __int64 v85; // rdx
  int v86; // r14d
  __int64 v87; // r15
  __int64 k; // rbx
  char v89; // al
  __int64 v90; // r12
  __int64 v91; // rcx
  __int64 v92; // r9
  unsigned __int64 v93; // rax
  __int64 m; // rsi
  __int16 v95; // dx
  unsigned int v96; // esi
  __int64 v97; // r10
  unsigned int v98; // ecx
  __int64 *v99; // rdx
  __int64 v100; // r13
  signed __int64 v101; // rsi
  __int64 *v102; // rax
  __m128i *v103; // r14
  __int64 v104; // r12
  __m128i *v105; // rbx
  __int64 v106; // r13
  __int64 v107; // rax
  int v108; // r13d
  _QWORD *v109; // rax
  __m128i *v110; // r14
  unsigned int ii; // eax
  __int64 v112; // r12
  unsigned __int64 v113; // r13
  __int64 v114; // rax
  unsigned int v115; // ebx
  __int64 v116; // rdx
  __int64 v117; // r15
  __int64 v118; // rax
  __int64 *v119; // rdi
  unsigned __int64 v120; // rdx
  __int64 v121; // r13
  unsigned __int64 v122; // rbx
  __int64 v123; // r11
  int v124; // eax
  char *v125; // r15
  __int64 v126; // r14
  __m128i v127; // xmm0
  const __m128i *v128; // r12
  __int64 v129; // rax
  __int64 v130; // rdx
  unsigned __int64 v131; // rcx
  __m128i *v132; // rdx
  void *v133; // r10
  const void *v134; // r11
  size_t v135; // r15
  unsigned __int64 v136; // r10
  __int64 *v137; // rax
  unsigned int v138; // ebx
  int v139; // edx
  unsigned int v140; // r15d
  __int64 v141; // r14
  __int64 v142; // rax
  unsigned int v143; // r12d
  __int64 v144; // rdx
  unsigned int *v145; // rbx
  __int64 v146; // rax
  __int64 v147; // r13
  __int64 v148; // rax
  __int64 v149; // rdx
  _QWORD *v150; // rax
  _QWORD *jj; // rdx
  __int64 v152; // rcx
  __int64 v153; // r11
  __int64 v154; // r10
  _QWORD *v155; // rax
  __int64 *v156; // rax
  unsigned int *v157; // rax
  __int64 v158; // rax
  const void *v159; // rsi
  unsigned __int64 v160; // r12
  size_t v161; // rdx
  _QWORD *v162; // r14
  _QWORD *v163; // r15
  __int64 v164; // rbx
  __int64 v165; // rax
  __int64 v166; // rax
  unsigned __int64 v167; // rcx
  __int64 v168; // rax
  __int64 v169; // rbx
  __int64 v170; // r14
  __int64 v171; // rsi
  __int64 v172; // rcx
  __int64 v173; // r8
  __int64 v174; // r9
  _QWORD *v175; // r12
  __int64 v176; // rbx
  __int64 v177; // rsi
  _QWORD *v178; // rdi
  _QWORD *v179; // rax
  unsigned __int64 *v180; // r9
  unsigned __int64 v181; // r13
  unsigned __int64 v182; // rdx
  __int64 v183; // rax
  __int64 v184; // rsi
  unsigned __int64 v185; // r12
  __int64 v186; // rcx
  __int64 v187; // r8
  unsigned __int64 v188; // r9
  __int64 v189; // rdx
  __int64 v190; // r14
  __int64 v191; // rbx
  __int64 v192; // rdx
  unsigned __int64 v193; // r10
  __int64 v194; // rcx
  __int64 v195; // rdx
  int v196; // r13d
  __int64 v197; // rax
  unsigned __int64 v198; // rax
  unsigned __int64 v199; // r11
  __int64 v200; // rax
  _QWORD *v201; // rdi
  __int64 v202; // rdx
  __int64 v203; // rbx
  unsigned __int8 v204; // al
  __int64 v205; // rcx
  __int64 v206; // r8
  __int64 v207; // r9
  __int64 v208; // rdx
  _QWORD *v209; // rdi
  unsigned int v210; // r8d
  __int64 v211; // rsi
  __int64 *v212; // rcx
  unsigned __int64 v213; // rcx
  __int64 v214; // r8
  unsigned __int64 nn; // rax
  __int64 i1; // rsi
  __int16 v217; // dx
  unsigned int v218; // esi
  __int64 v219; // rdi
  unsigned int v220; // ecx
  __int64 *v221; // rdx
  __int64 v222; // r9
  unsigned __int64 v223; // rcx
  __int64 v224; // r8
  unsigned __int64 kk; // rax
  __int64 mm; // rsi
  __int16 v227; // dx
  unsigned int v228; // esi
  __int64 v229; // rdi
  unsigned int v230; // ecx
  __int64 *v231; // rdx
  __int64 v232; // r9
  int v233; // edx
  int v234; // edx
  int v235; // edx
  unsigned int v236; // eax
  unsigned int v237; // eax
  __int64 v238; // rax
  int v239; // r11d
  int v240; // r8d
  int v241; // r10d
  int v242; // r10d
  __int128 v243; // [rsp-20h] [rbp-360h]
  __int64 v244; // [rsp+10h] [rbp-330h]
  __int64 v245; // [rsp+28h] [rbp-318h]
  int v246; // [rsp+30h] [rbp-310h]
  __int64 v247; // [rsp+30h] [rbp-310h]
  __int64 v248; // [rsp+30h] [rbp-310h]
  unsigned __int64 v249; // [rsp+30h] [rbp-310h]
  unsigned __int64 *v250; // [rsp+30h] [rbp-310h]
  __m128i *v251; // [rsp+38h] [rbp-308h]
  __int64 v252; // [rsp+38h] [rbp-308h]
  unsigned __int64 v253; // [rsp+38h] [rbp-308h]
  __int64 v254; // [rsp+38h] [rbp-308h]
  __int64 v255; // [rsp+40h] [rbp-300h]
  __m128i *v256; // [rsp+40h] [rbp-300h]
  __int64 v257; // [rsp+40h] [rbp-300h]
  __int64 v258; // [rsp+40h] [rbp-300h]
  size_t na; // [rsp+48h] [rbp-2F8h]
  __int64 *n; // [rsp+48h] [rbp-2F8h]
  _QWORD *v261; // [rsp+50h] [rbp-2F0h]
  __int64 v262; // [rsp+50h] [rbp-2F0h]
  unsigned int v263; // [rsp+50h] [rbp-2F0h]
  __int64 v264; // [rsp+50h] [rbp-2F0h]
  unsigned __int64 v265; // [rsp+50h] [rbp-2F0h]
  unsigned __int64 *v266; // [rsp+50h] [rbp-2F0h]
  __int64 v267; // [rsp+50h] [rbp-2F0h]
  __int64 *v268; // [rsp+58h] [rbp-2E8h]
  _QWORD *v269; // [rsp+58h] [rbp-2E8h]
  __int64 v270; // [rsp+58h] [rbp-2E8h]
  __m128i *v271; // [rsp+58h] [rbp-2E8h]
  unsigned int v272; // [rsp+58h] [rbp-2E8h]
  unsigned __int64 v274; // [rsp+68h] [rbp-2D8h]
  __int64 *v275; // [rsp+68h] [rbp-2D8h]
  int v276; // [rsp+68h] [rbp-2D8h]
  __int64 v277; // [rsp+68h] [rbp-2D8h]
  __int64 v278; // [rsp+68h] [rbp-2D8h]
  __int64 v279; // [rsp+68h] [rbp-2D8h]
  __int64 v280; // [rsp+70h] [rbp-2D0h]
  __int64 v281; // [rsp+70h] [rbp-2D0h]
  _QWORD *v282; // [rsp+70h] [rbp-2D0h]
  __int64 v283; // [rsp+70h] [rbp-2D0h]
  __int64 v285; // [rsp+78h] [rbp-2C8h]
  __int128 v286; // [rsp+78h] [rbp-2C8h]
  unsigned __int64 v287; // [rsp+80h] [rbp-2C0h]
  __int64 v288; // [rsp+88h] [rbp-2B8h]
  __int64 v289; // [rsp+88h] [rbp-2B8h]
  unsigned int v290; // [rsp+88h] [rbp-2B8h]
  __int64 v291; // [rsp+88h] [rbp-2B8h]
  __int64 v292; // [rsp+88h] [rbp-2B8h]
  __int64 v293; // [rsp+88h] [rbp-2B8h]
  __m128i *v294; // [rsp+90h] [rbp-2B0h]
  unsigned int v295; // [rsp+90h] [rbp-2B0h]
  char v296; // [rsp+90h] [rbp-2B0h]
  __int64 v297; // [rsp+90h] [rbp-2B0h]
  unsigned __int64 v298; // [rsp+90h] [rbp-2B0h]
  __int64 v299; // [rsp+90h] [rbp-2B0h]
  __m128i *v300; // [rsp+98h] [rbp-2A8h]
  __int64 *v301; // [rsp+98h] [rbp-2A8h]
  int v302; // [rsp+98h] [rbp-2A8h]
  unsigned int v303; // [rsp+98h] [rbp-2A8h]
  __int64 v304; // [rsp+98h] [rbp-2A8h]
  _QWORD *v305; // [rsp+A0h] [rbp-2A0h] BYREF
  __int64 v306; // [rsp+A8h] [rbp-298h]
  _QWORD v307[4]; // [rsp+B0h] [rbp-290h] BYREF
  void *src; // [rsp+D0h] [rbp-270h] BYREF
  unsigned int v309; // [rsp+D8h] [rbp-268h]
  unsigned int v310; // [rsp+DCh] [rbp-264h]
  _BYTE v311[32]; // [rsp+E0h] [rbp-260h] BYREF
  __int64 *v312; // [rsp+100h] [rbp-240h] BYREF
  __int64 v313; // [rsp+108h] [rbp-238h]
  __int64 dest[4]; // [rsp+110h] [rbp-230h] BYREF
  unsigned __int64 v315[2]; // [rsp+130h] [rbp-210h] BYREF
  _BYTE v316[32]; // [rsp+140h] [rbp-200h] BYREF
  unsigned int v317; // [rsp+160h] [rbp-1E0h]
  __m128i v318; // [rsp+170h] [rbp-1D0h] BYREF
  __int64 v319; // [rsp+180h] [rbp-1C0h] BYREF
  _QWORD v320[4]; // [rsp+188h] [rbp-1B8h] BYREF
  int v321; // [rsp+1A8h] [rbp-198h]
  __int64 v322; // [rsp+1B0h] [rbp-190h]
  unsigned int v323; // [rsp+1B8h] [rbp-188h]
  __m128i *v324; // [rsp+1C0h] [rbp-180h] BYREF
  __int64 v325; // [rsp+1C8h] [rbp-178h]
  _BYTE v326[368]; // [rsp+1D0h] [rbp-170h] BYREF

  if ( *(_DWORD *)(a2 + 72) <= 1u )
    return 0;
  v317 = 0;
  v2 = 0;
  v324 = (__m128i *)v326;
  v325 = 0x400000000LL;
  v315[0] = (unsigned __int64)v316;
  v315[1] = 0x800000000LL;
  sub_3157150(v315, 0);
  v3 = *(_QWORD *)(a2 + 104);
  if ( v3 )
  {
    v4 = v320;
    v5 = &v318.m128i_i64[1];
    do
    {
      v318.m128i_i64[1] = (__int64)v4;
      v321 = 0;
      v318.m128i_i64[0] = *a1;
      v319 = 0x800000000LL;
      sub_3157150(v5, 0);
      v9 = (unsigned int)v325;
      v322 = v3;
      v323 = v2;
      v10 = (unsigned int)v325 + 1LL;
      v6 = v325;
      v11 = (__int64)v324;
      if ( v10 > HIDWORD(v325) )
      {
        if ( v324 <= &v318 && &v318 < &v324[5 * (unsigned int)v325] )
        {
          v296 = 1;
          v60 = 0xCCCCCCCCCCCCCCCDLL * (&v318 - v324);
        }
        else
        {
          v296 = 0;
          v60 = -1;
        }
        v61 = sub_C8D7D0((__int64)&v324, (__int64)v326, (unsigned int)v325 + 1LL, 0x50u, (unsigned __int64 *)&v312, v10);
        v62 = (unsigned int)v325;
        v11 = v61;
        v63 = &v324[5 * (unsigned int)v325];
        if ( v324 != v63 )
        {
          v274 = v60;
          v64 = &v324[5 * (unsigned int)v325];
          v268 = v5;
          v65 = v2;
          v66 = v324;
          v261 = v4;
          v67 = v3;
          v68 = v61;
          do
          {
            if ( v68 )
            {
              v69 = v66->m128i_i64[0];
              *(_DWORD *)(v68 + 16) = 0;
              *(_DWORD *)(v68 + 20) = 8;
              *(_QWORD *)v68 = v69;
              *(_QWORD *)(v68 + 8) = v68 + 24;
              if ( v66[1].m128i_i32[0] )
              {
                na = v11;
                sub_2F7E6B0(v68 + 8, (char **)&v66->m128i_i64[1], v62, v11, (__int64)v63, v10);
                v11 = na;
              }
              *(_DWORD *)(v68 + 56) = v66[3].m128i_i32[2];
              *(_QWORD *)(v68 + 64) = v66[4].m128i_i64[0];
              *(_DWORD *)(v68 + 72) = v66[4].m128i_i32[2];
            }
            v66 += 5;
            v68 += 80;
          }
          while ( v64 != v66 );
          v63 = v324;
          v2 = v65;
          v3 = v67;
          v60 = v274;
          v5 = v268;
          v4 = v261;
          if ( v324 != &v324[5 * (unsigned int)v325] )
          {
            v275 = v268;
            v70 = v3;
            v71 = &v324[5 * (unsigned int)v325];
            v269 = v261;
            v72 = v60;
            v73 = v2;
            v74 = v324;
            do
            {
              v71 -= 5;
              v75 = v71->m128i_u64[1];
              if ( (unsigned __int64 *)v75 != &v71[1].m128i_u64[1] )
              {
                v262 = v11;
                _libc_free(v75);
                v11 = v262;
              }
            }
            while ( v74 != v71 );
            v2 = v73;
            v3 = v70;
            v60 = v72;
            v5 = v275;
            v4 = v269;
            v63 = v324;
          }
        }
        v76 = (int)v312;
        if ( v63 != (__m128i *)v326 )
        {
          v270 = v11;
          v276 = (int)v312;
          _libc_free((unsigned __int64)v63);
          v11 = v270;
          v76 = v276;
        }
        v9 = (unsigned int)v325;
        HIDWORD(v325) = v76;
        v324 = (__m128i *)v11;
        v12 = &v318;
        v6 = v325;
        if ( v296 )
          v12 = (__m128i *)(v11 + 80 * v60);
      }
      else
      {
        v12 = &v318;
      }
      v13 = v11 + 80 * v9;
      if ( v13 )
      {
        *(_QWORD *)v13 = v12->m128i_i64[0];
        *(_QWORD *)(v13 + 8) = v13 + 24;
        *(_QWORD *)(v13 + 16) = 0x800000000LL;
        if ( v12[1].m128i_i32[0] )
        {
          v294 = v12;
          sub_2F7E6B0(v13 + 8, (char **)&v12->m128i_i64[1], v9, v11, (__int64)v12, v10);
          v12 = v294;
        }
        *(_DWORD *)(v13 + 56) = v12[3].m128i_i32[2];
        *(_QWORD *)(v13 + 64) = v12[4].m128i_i64[0];
        *(_DWORD *)(v13 + 72) = v12[4].m128i_i32[2];
        v6 = v325;
      }
      v7 = (unsigned int)(v6 + 1);
      LODWORD(v325) = v7;
      if ( (_QWORD *)v318.m128i_i64[1] != v4 )
      {
        _libc_free(v318.m128i_u64[1]);
        v7 = (unsigned int)v325;
      }
      v8 = sub_2E0BE90((__m128i *)v324[5 * v7 - 5].m128i_i32, v3);
      v3 = *(_QWORD *)(v3 + 104);
      v2 += v8;
    }
    while ( v3 );
  }
  if ( (unsigned int)v325 <= 1 )
    goto LABEL_41;
  v14 = *(_QWORD *)(*(_QWORD *)a1[1] + 16LL);
  v280 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v14 + 200LL))(v14);
  sub_3157150(v315, v2);
  v15 = a1[1];
  v16 = *(unsigned int *)(a2 + 112);
  if ( (int)v16 < 0 )
    v17 = *(_QWORD *)(*(_QWORD *)(v15 + 56) + 16 * (v16 & 0x7FFFFFFF) + 8);
  else
    v17 = *(_QWORD *)(*(_QWORD *)(v15 + 304) + 8 * v16);
  if ( v17 )
  {
    if ( (*(_BYTE *)(v17 + 4) & 8) != 0 )
    {
      while ( 1 )
      {
        v17 = *(_QWORD *)(v17 + 32);
        if ( !v17 )
          break;
        if ( (*(_BYTE *)(v17 + 4) & 8) == 0 )
          goto LABEL_18;
      }
    }
    else
    {
LABEL_18:
      if ( (*(_BYTE *)(v17 + 3) & 0x10) != 0 || (v18 = *(_BYTE *)(v17 + 4), (v18 & 1) == 0) && (v18 & 2) == 0 )
      {
        v19 = -1;
        v20 = v324;
        v21 = (__int64 *)(*(_QWORD *)(v280 + 272) + 16LL * ((*(_DWORD *)v17 >> 8) & 0xFFF));
        v22 = *v21;
        v23 = v21[1];
        v300 = &v324[5 * (unsigned int)v325];
        if ( v324 != v300 )
        {
          while ( 1 )
          {
            v24 = v20[4].m128i_i64[0];
            if ( v22 & *(_QWORD *)(v24 + 112) | v23 & *(_QWORD *)(v24 + 120) )
              break;
LABEL_23:
            v20 += 5;
            if ( v300 == v20 )
              goto LABEL_26;
          }
          v46 = *(_QWORD *)(v17 + 16);
          v47 = *(_QWORD *)(*a1 + 32);
          for ( i = v46; (*(_BYTE *)(i + 44) & 4) != 0; i = *(_QWORD *)i & 0xFFFFFFFFFFFFFFF8LL )
            ;
          for ( ; (*(_BYTE *)(v46 + 44) & 8) != 0; v46 = *(_QWORD *)(v46 + 8) )
            ;
          for ( j = *(_QWORD *)(v46 + 8); j != i; i = *(_QWORD *)(i + 8) )
          {
            v50 = *(_WORD *)(i + 68);
            if ( (unsigned __int16)(v50 - 14) > 4u && v50 != 24 )
              break;
          }
          v51 = *(_DWORD *)(v47 + 144);
          v52 = *(_QWORD *)(v47 + 128);
          if ( v51 )
          {
            v53 = (v51 - 1) & (((unsigned int)i >> 9) ^ ((unsigned int)i >> 4));
            v54 = (__int64 *)(v52 + 16LL * v53);
            v55 = *v54;
            if ( i == *v54 )
            {
LABEL_62:
              v56 = v54[1] & 0xFFFFFFFFFFFFFFF8LL;
              if ( (*(_BYTE *)(v17 + 3) & 0x10) != 0 )
                v56 |= (*(_BYTE *)(v17 + 4) & 4) == 0 ? 4LL : 2LL;
              v295 = v19;
              v288 = v56;
              v57 = (__int64 *)sub_2E09D00((__int64 *)v20[4].m128i_i64[0], v56);
              v19 = v295;
              if ( v57 != (__int64 *)(*(_QWORD *)v24 + 24LL * *(unsigned int *)(v24 + 8))
                && (*(_DWORD *)((*v57 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)((*v57 >> 1) & 3)) <= (*(_DWORD *)((v288 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(v288 >> 1) & 3) )
              {
                v58 = (unsigned int *)v57[2];
                if ( v58 )
                {
                  if ( v295 == -1 )
                    v19 = *(_DWORD *)(v20->m128i_i64[1] + 4LL * *v58) + v20[4].m128i_i32[2];
                  else
                    v19 = sub_31571F0(
                            v315,
                            v295,
                            (unsigned int)(*(_DWORD *)(v20->m128i_i64[1] + 4LL * *v58) + v20[4].m128i_i32[2]));
                }
              }
              goto LABEL_23;
            }
            v59 = 1;
            while ( v55 != -4096 )
            {
              v239 = v59 + 1;
              v53 = (v51 - 1) & (v59 + v53);
              v54 = (__int64 *)(v52 + 16LL * v53);
              v55 = *v54;
              if ( *v54 == i )
                goto LABEL_62;
              v59 = v239;
            }
          }
          v54 = (__int64 *)(v52 + 16LL * v51);
          goto LABEL_62;
        }
      }
LABEL_26:
      while ( 1 )
      {
        v17 = *(_QWORD *)(v17 + 32);
        if ( !v17 )
          break;
        if ( (*(_BYTE *)(v17 + 4) & 8) == 0 )
          goto LABEL_18;
      }
    }
  }
  sub_3157250(v315);
  v27 = v317;
  if ( v317 <= 1 )
  {
LABEL_41:
    v41 = 0;
    goto LABEL_42;
  }
  v28 = 1;
  v29 = a1[1];
  v30 = *(_QWORD *)(*(_QWORD *)(v29 + 56) + 16LL * (*(_DWORD *)(a2 + 112) & 0x7FFFFFFF));
  v307[0] = a2;
  v305 = v307;
  v31 = v30 & 0xFFFFFFFFFFFFFFF8LL;
  v306 = 0x400000001LL;
  while ( 1 )
  {
    v36 = sub_2EC06C0(v29, v31, byte_3F871B3, 0, v25, v26);
    v37 = *a1;
    v38 = v36 & 0x7FFFFFFF;
    v39 = v38 + 1;
    v40 = *(unsigned int *)(*a1 + 160);
    if ( (int)v38 + 1 <= (unsigned int)v40 || v39 == v40 )
      goto LABEL_29;
    if ( v39 < v40 )
    {
      *(_DWORD *)(v37 + 160) = v39;
LABEL_29:
      v32 = *(_QWORD *)(v37 + 152);
      goto LABEL_30;
    }
    v77 = *(_QWORD *)(v37 + 168);
    v78 = v39 - v40;
    if ( v39 > (unsigned __int64)*(unsigned int *)(v37 + 164) )
    {
      v287 = v39 - v40;
      v293 = *(_QWORD *)(v37 + 168);
      v304 = *a1;
      sub_C8D5F0(v37 + 152, (const void *)(v37 + 168), v39, 8u, v35, v38);
      v37 = v304;
      v78 = v287;
      v77 = v293;
      LODWORD(v38) = v36 & 0x7FFFFFFF;
      v40 = *(unsigned int *)(v304 + 160);
    }
    v32 = *(_QWORD *)(v37 + 152);
    v79 = (_QWORD *)(v32 + 8 * v40);
    v80 = &v79[v78];
    if ( v79 != v80 )
    {
      do
        *v79++ = v77;
      while ( v80 != v79 );
      LODWORD(v40) = *(_DWORD *)(v37 + 160);
      v32 = *(_QWORD *)(v37 + 152);
    }
    *(_DWORD *)(v37 + 160) = v78 + v40;
LABEL_30:
    v301 = (__int64 *)(v32 + 8LL * (unsigned int)v38);
    v33 = sub_2E10F30(v36);
    *v301 = v33;
    v34 = (unsigned int)v306;
    v25 = (unsigned int)v306 + 1LL;
    if ( v25 > HIDWORD(v306) )
    {
      sub_C8D5F0((__int64)&v305, v307, (unsigned int)v306 + 1LL, 8u, v25, v26);
      v34 = (unsigned int)v306;
    }
    ++v28;
    v305[v34] = v33;
    LODWORD(v306) = v306 + 1;
    if ( v28 == v27 )
      break;
    v29 = a1[1];
  }
  v81 = *(_QWORD *)(*(_QWORD *)a1[1] + 16LL);
  v82 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v81 + 200LL))(v81);
  v85 = a1[1];
  v285 = v82;
  v86 = *(_DWORD *)(*v305 + 112LL);
  if ( v86 < 0 )
    v87 = *(_QWORD *)(*(_QWORD *)(v85 + 56) + 16LL * (v86 & 0x7FFFFFFF) + 8);
  else
    v87 = *(_QWORD *)(*(_QWORD *)(v85 + 304) + 8LL * (unsigned int)v86);
  if ( v87 )
  {
    if ( (*(_BYTE *)(v87 + 4) & 8) == 0 )
    {
LABEL_104:
      v277 = 8LL * (unsigned int)v86;
      v281 = 16LL * (v86 & 0x7FFFFFFF);
      while ( 2 )
      {
        for ( k = *(_QWORD *)(v87 + 32); k; k = *(_QWORD *)(k + 32) )
        {
          if ( (*(_BYTE *)(k + 4) & 8) == 0 )
            break;
        }
        if ( (*(_BYTE *)(v87 + 3) & 0x10) == 0 )
        {
          v89 = *(_BYTE *)(v87 + 4);
          if ( (v89 & 1) != 0 || (v89 & 2) != 0 )
            goto LABEL_132;
        }
        v90 = *(_QWORD *)(v87 + 16);
        v91 = v90;
        v92 = *(_QWORD *)(*a1 + 32);
        v93 = v90;
        if ( (*(_DWORD *)(v90 + 44) & 4) != 0 )
        {
          do
            v93 = *(_QWORD *)v93 & 0xFFFFFFFFFFFFFFF8LL;
          while ( (*(_BYTE *)(v93 + 44) & 4) != 0 );
        }
        if ( (*(_DWORD *)(v90 + 44) & 8) != 0 )
        {
          do
            v91 = *(_QWORD *)(v91 + 8);
          while ( (*(_BYTE *)(v91 + 44) & 8) != 0 );
        }
        for ( m = *(_QWORD *)(v91 + 8); m != v93; v93 = *(_QWORD *)(v93 + 8) )
        {
          v95 = *(_WORD *)(v93 + 68);
          if ( (unsigned __int16)(v95 - 14) > 4u && v95 != 24 )
            break;
        }
        v96 = *(_DWORD *)(v92 + 144);
        v97 = *(_QWORD *)(v92 + 128);
        if ( v96 )
        {
          v98 = (v96 - 1) & (((unsigned int)v93 >> 9) ^ ((unsigned int)v93 >> 4));
          v99 = (__int64 *)(v97 + 16LL * v98);
          v100 = *v99;
          if ( v93 == *v99 )
          {
LABEL_122:
            v101 = v99[1] & 0xFFFFFFFFFFFFFFF8LL;
            if ( (*(_BYTE *)(v87 + 3) & 0x10) != 0 )
              v101 |= (*(_BYTE *)(v87 + 4) & 4) == 0 ? 4LL : 2LL;
            v102 = (__int64 *)(*(_QWORD *)(v285 + 272) + 16LL * ((*(_DWORD *)v87 >> 8) & 0xFFF));
            if ( v324 == &v324[5 * (unsigned int)v325] )
            {
LABEL_129:
              v107 = 0xFFFFFFFFLL;
            }
            else
            {
              v302 = v86;
              v103 = &v324[5 * (unsigned int)v325];
              v297 = *(_QWORD *)(v87 + 16);
              v104 = *v102;
              v289 = k;
              v105 = v324;
              v106 = v102[1];
              while ( 1 )
              {
                if ( v106 & *(_QWORD *)(v105[4].m128i_i64[0] + 120) | v104 & *(_QWORD *)(v105[4].m128i_i64[0] + 112) )
                {
                  v264 = v105[4].m128i_i64[0];
                  v156 = (__int64 *)sub_2E09D00((__int64 *)v264, v101);
                  if ( v156 != (__int64 *)(*(_QWORD *)v264 + 24LL * *(unsigned int *)(v264 + 8))
                    && (*(_DWORD *)((*v156 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v156 >> 1) & 3) <= ((unsigned int)(v101 >> 1) & 3 | *(_DWORD *)((v101 & 0xFFFFFFFFFFFFFFF8LL) + 24)) )
                  {
                    v157 = (unsigned int *)v156[2];
                    if ( v157 )
                      break;
                  }
                }
                v105 += 5;
                if ( v103 == v105 )
                {
                  v86 = v302;
                  v90 = v297;
                  k = v289;
                  goto LABEL_129;
                }
              }
              v86 = v302;
              v90 = v297;
              v158 = *(unsigned int *)(v315[0]
                                     + 4LL
                                     * (unsigned int)(*(_DWORD *)(v105->m128i_i64[1] + 4LL * *v157)
                                                    + v105[4].m128i_i32[2]));
              k = v289;
              v107 = v158;
            }
            v108 = *(_DWORD *)(v305[v107] + 112LL);
            sub_2EAB0C0(v87, v108);
            if ( (*(_WORD *)(v87 + 2) & 0xFF0) != 0 && v86 != v108 )
            {
              v236 = sub_2EAB0A0(v87);
              v237 = sub_2E89F40(v90, v236);
              sub_2EAB0C0(*(_QWORD *)(v90 + 32) + 40LL * v237, v108);
              v238 = a1[1];
              if ( v86 < 0 )
                k = *(_QWORD *)(*(_QWORD *)(v238 + 56) + v281 + 8);
              else
                k = *(_QWORD *)(*(_QWORD *)(v238 + 304) + v277);
              if ( !k )
                goto LABEL_133;
              if ( (*(_BYTE *)(k + 4) & 8) != 0 )
              {
                k = *(_QWORD *)(k + 32);
                if ( !k )
                  goto LABEL_133;
                do
                {
                  if ( (*(_BYTE *)(k + 4) & 8) == 0 )
                    break;
                  k = *(_QWORD *)(k + 32);
                }
                while ( k );
              }
            }
LABEL_132:
            v87 = k;
            if ( !k )
              goto LABEL_133;
            continue;
          }
          v235 = 1;
          while ( v100 != -4096 )
          {
            v240 = v235 + 1;
            v98 = (v96 - 1) & (v235 + v98);
            v99 = (__int64 *)(v97 + 16LL * v98);
            v100 = *v99;
            if ( *v99 == v93 )
              goto LABEL_122;
            v235 = v240;
          }
        }
        break;
      }
      v99 = (__int64 *)(v97 + 16LL * v96);
      goto LABEL_122;
    }
    while ( 1 )
    {
      v87 = *(_QWORD *)(v87 + 32);
      if ( !v87 )
        break;
      if ( (*(_BYTE *)(v87 + 4) & 8) == 0 )
        goto LABEL_104;
    }
  }
LABEL_133:
  v310 = 8;
  v109 = (_QWORD *)*a1;
  src = v311;
  v282 = v109;
  v278 = (__int64)(v109 + 7);
  v318.m128i_i64[0] = (__int64)&v319;
  v318.m128i_i64[1] = 0x800000000LL;
  v271 = &v324[5 * (unsigned int)v325];
  if ( v324 != v271 )
  {
    v110 = v324;
    v263 = v317 - 1;
    v298 = v317 - 1;
    for ( ii = 8; ; ii = v310 )
    {
      v112 = v110[4].m128i_i64[0];
      v113 = *(unsigned int *)(v112 + 72);
      v309 = 0;
      if ( ii < (unsigned int)v113 )
        sub_C8D5F0((__int64)&src, v311, v113, 4u, v83, (__int64)v84);
      v318.m128i_i32[2] = 0;
      if ( v298 )
      {
        v114 = 0;
        if ( v298 > v318.m128i_u32[3] )
        {
          sub_C8D5F0((__int64)&v318, &v319, v298, 8u, v83, (__int64)v84);
          v114 = 8LL * v318.m128i_u32[2];
        }
        memset((void *)(v318.m128i_i64[0] + v114), 0, 8 * v298);
        v318.m128i_i32[2] += v263;
      }
      v115 = v309;
      if ( (_DWORD)v113 )
      {
        v116 = v309;
        v117 = 0;
        do
        {
          v83 = v116 + 1;
          v118 = *(unsigned int *)(v315[0]
                                 + 4LL
                                 * (unsigned int)(*(_DWORD *)(v110->m128i_i64[1]
                                                            + 4LL * **(unsigned int **)(*(_QWORD *)(v112 + 64) + v117))
                                                + v110[4].m128i_i32[2]));
          if ( v116 + 1 > (unsigned __int64)v310 )
          {
            v290 = *(_DWORD *)(v315[0]
                             + 4LL
                             * (unsigned int)(*(_DWORD *)(v110->m128i_i64[1]
                                                        + 4LL * **(unsigned int **)(*(_QWORD *)(v112 + 64) + v117))
                                            + v110[4].m128i_i32[2]));
            sub_C8D5F0((__int64)&src, v311, v116 + 1, 4u, v83, (__int64)v84);
            v116 = v309;
            v118 = v290;
          }
          *((_DWORD *)src + v116) = v118;
          v116 = ++v309;
          if ( (_DWORD)v118 )
          {
            v83 = (unsigned int)(v118 - 1);
            if ( !*(_QWORD *)(v318.m128i_i64[0] + 8 * v83) )
            {
              v152 = v282[7];
              v153 = *(_QWORD *)(v112 + 112);
              v154 = *(_QWORD *)(v112 + 120);
              v84 = (unsigned __int64 *)v305[v118];
              v282[17] += 128LL;
              v155 = (_QWORD *)((v152 + 15) & 0xFFFFFFFFFFFFFFF0LL);
              if ( v282[8] >= (unsigned __int64)(v155 + 16) && v152 )
              {
                v282[7] = v155 + 16;
                if ( !v155 )
                {
                  MEMORY[0x68] = v84[13];
                  BUG();
                }
              }
              else
              {
                v250 = v84;
                v254 = v83;
                v258 = v154;
                v292 = v153;
                v155 = (_QWORD *)sub_9D1E70(v278, 128, 128, 4);
                v84 = v250;
                v83 = v254;
                v154 = v258;
                v153 = v292;
              }
              v155[13] = 0;
              *v155 = v155 + 2;
              v155[1] = 0x200000000LL;
              v155[8] = v155 + 10;
              v155[9] = 0x200000000LL;
              v155[12] = 0;
              v155[14] = v153;
              v155[15] = v154;
              v155[13] = v84[13];
              v84[13] = (unsigned __int64)v155;
              *(_QWORD *)(v318.m128i_i64[0] + 8 * v83) = v155;
              v116 = v309;
            }
          }
          v117 += 8;
        }
        while ( 8 * v113 != v117 );
        v115 = v116;
      }
      v119 = dest;
      v84 = (unsigned __int64 *)&v312;
      v312 = dest;
      v313 = 0x800000000LL;
      if ( v115 )
      {
        v161 = 4LL * v115;
        if ( v115 <= 8
          || (sub_C8D5F0((__int64)&v312, dest, v115, 4u, v83, (__int64)&v312), v119 = v312, (v161 = 4LL * v309) != 0) )
        {
          memcpy(v119, src, v161);
          v119 = v312;
        }
        LODWORD(v313) = v115;
      }
      v120 = *(_QWORD *)v112;
      v121 = v318.m128i_i64[0];
      v122 = *(_QWORD *)v112;
      v123 = *(_QWORD *)v112 + 24LL * *(unsigned int *)(v112 + 8);
      if ( *(_QWORD *)v112 == v123 )
        goto LABEL_163;
      while ( 1 )
      {
        v124 = *((_DWORD *)v119 + **(unsigned int **)(v122 + 16));
        if ( v124 )
          break;
        v122 += 24LL;
        if ( v123 == v122 )
          goto LABEL_163;
      }
      if ( v123 != v122 )
      {
        v251 = v110;
        v125 = (char *)v122;
        v126 = *(_QWORD *)v112 + 24LL * *(unsigned int *)(v112 + 8);
        v255 = v112;
        while ( 1 )
        {
          if ( v124 )
          {
            v128 = (const __m128i *)v122;
            v129 = *(_QWORD *)(v121 + 8LL * (unsigned int)(v124 - 1));
            v130 = *(unsigned int *)(v129 + 8);
            v131 = *(_QWORD *)v129;
            v84 = (unsigned __int64 *)(v130 + 1);
            if ( v130 + 1 > (unsigned __int64)*(unsigned int *)(v129 + 12) )
            {
              v159 = (const void *)(v129 + 16);
              if ( v131 > v122 || v131 + 24 * v130 <= v122 )
              {
                v128 = (const __m128i *)v122;
                v248 = v129;
                sub_C8D5F0(v129, v159, (unsigned __int64)v84, 0x18u, v83, (__int64)v84);
                v129 = v248;
                v131 = *(_QWORD *)v248;
                v130 = *(unsigned int *)(v248 + 8);
              }
              else
              {
                v160 = v122 - v131;
                v247 = v129;
                sub_C8D5F0(v129, v159, (unsigned __int64)v84, 0x18u, v83, (__int64)v84);
                v129 = v247;
                v131 = *(_QWORD *)v247;
                v130 = *(unsigned int *)(v247 + 8);
                v128 = (const __m128i *)(*(_QWORD *)v247 + v160);
              }
            }
            v122 += 24LL;
            v132 = (__m128i *)(v131 + 24 * v130);
            *v132 = _mm_loadu_si128(v128);
            v132[1].m128i_i64[0] = v128[1].m128i_i64[0];
            ++*(_DWORD *)(v129 + 8);
            if ( v126 == v122 )
            {
LABEL_161:
              v112 = v255;
              v133 = v125;
              v134 = (const void *)v126;
              v110 = v251;
              v120 = *(_QWORD *)v255;
              v135 = *(_QWORD *)v255 + 24LL * *(unsigned int *)(v255 + 8) - v122;
              v122 = (unsigned __int64)v133 + v135;
              if ( v134 == (const void *)(*(_QWORD *)v255 + 24LL * *(unsigned int *)(v255 + 8)) )
              {
                v119 = v312;
              }
              else
              {
                memmove(v133, v134, v135);
                v119 = v312;
                v120 = *(_QWORD *)v255;
              }
              break;
            }
          }
          else
          {
            v127 = _mm_loadu_si128((const __m128i *)v122);
            v122 += 24LL;
            v125 += 24;
            *(__m128i *)(v125 - 24) = v127;
            *((_QWORD *)v125 - 1) = *(_QWORD *)(v122 - 8);
            if ( v126 == v122 )
              goto LABEL_161;
          }
          v124 = *((_DWORD *)v312 + **(unsigned int **)(v122 + 16));
        }
      }
LABEL_163:
      v136 = *(unsigned int *)(v112 + 72);
      *(_DWORD *)(v112 + 8) = -1431655765 * ((__int64)(v122 - v120) >> 3);
      if ( (_DWORD)v136 )
      {
        v137 = v119;
        v138 = 0;
        while ( 1 )
        {
          v139 = *(_DWORD *)v137;
          if ( *(_DWORD *)v137 )
            break;
          ++v138;
          v137 = (__int64 *)((char *)v137 + 4);
          if ( (_DWORD)v136 == v138 )
            goto LABEL_176;
        }
        if ( (_DWORD)v136 != v138 )
        {
          v256 = v110;
          v140 = v138;
          v141 = v112;
          v142 = v138;
          v83 = v121;
          v143 = v138;
          while ( 1 )
          {
            v145 = *(unsigned int **)(*(_QWORD *)(v141 + 64) + 8 * v142);
            if ( v139 )
            {
              v146 = v83 + 8LL * (unsigned int)(v139 - 1);
              *v145 = *(_DWORD *)(*(_QWORD *)v146 + 72LL);
              v147 = *(_QWORD *)v146;
              v148 = *(unsigned int *)(*(_QWORD *)v146 + 72LL);
              if ( v148 + 1 > (unsigned __int64)*(unsigned int *)(v147 + 76) )
              {
                v246 = v136;
                v252 = v83;
                sub_C8D5F0(v147 + 64, (const void *)(v147 + 80), v148 + 1, 8u, v83, (__int64)v84);
                v148 = *(unsigned int *)(v147 + 72);
                LODWORD(v136) = v246;
                v83 = v252;
              }
              ++v140;
              *(_QWORD *)(*(_QWORD *)(v147 + 64) + 8 * v148) = v145;
              ++*(_DWORD *)(v147 + 72);
              if ( (_DWORD)v136 == v140 )
              {
LABEL_175:
                v138 = v143;
                v112 = v141;
                v110 = v256;
                v136 = *(unsigned int *)(v112 + 72);
LABEL_176:
                if ( v138 != v136 )
                {
                  if ( v138 >= v136 )
                  {
                    if ( v138 > (unsigned __int64)*(unsigned int *)(v112 + 76) )
                    {
                      sub_C8D5F0(v112 + 64, (const void *)(v112 + 80), v138, 8u, v83, (__int64)v84);
                      v136 = *(unsigned int *)(v112 + 72);
                    }
                    v149 = *(_QWORD *)(v112 + 64);
                    v150 = (_QWORD *)(v149 + 8 * v136);
                    for ( jj = (_QWORD *)(v149 + 8LL * v138); jj != v150; ++v150 )
                    {
                      if ( v150 )
                        *v150 = 0;
                    }
                  }
                  *(_DWORD *)(v112 + 72) = v138;
                }
                v119 = v312;
                break;
              }
            }
            else
            {
              *v145 = v143;
              v144 = v143;
              ++v140;
              ++v143;
              *(_QWORD *)(*(_QWORD *)(v141 + 64) + 8 * v144) = v145;
              if ( (_DWORD)v136 == v140 )
                goto LABEL_175;
            }
            v142 = v140;
            v139 = *((_DWORD *)v312 + v140);
          }
        }
      }
      if ( v119 != dest )
        _libc_free((unsigned __int64)v119);
      v110 += 5;
      if ( v271 == v110 )
        break;
    }
    if ( (__int64 *)v318.m128i_i64[0] != &v319 )
      _libc_free(v318.m128i_u64[0]);
    if ( src != v311 )
      _libc_free((unsigned __int64)src);
  }
  v245 = 0;
  v162 = (_QWORD *)*a1;
  n = (__int64 *)(*a1 + 56);
  v279 = *(_QWORD *)(*a1 + 32);
  v244 = (unsigned int)v306;
  if ( !(_DWORD)v306 )
    goto LABEL_272;
  while ( 2 )
  {
    v163 = v162;
    v164 = v305[v245];
    v291 = v164;
    v272 = *(_DWORD *)(v164 + 112);
    sub_2E0AF60(v164);
    v299 = *(_QWORD *)(v164 + 104);
    if ( !v299 )
      goto LABEL_259;
    while ( 2 )
    {
      v165 = 0;
      v303 = 0;
      if ( *(_DWORD *)(v299 + 72) )
      {
        while ( 1 )
        {
          v166 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(v299 + 64) + 8 * v165) + 8LL);
          v167 = v166 & 0xFFFFFFFFFFFFFFF8LL;
          if ( (v166 & 0xFFFFFFFFFFFFFFF8LL) != 0 && (v166 & 6) == 0 )
          {
            v168 = *(_QWORD *)(v167 + 16);
            if ( v168 )
            {
              v257 = *(_QWORD *)(v168 + 24);
            }
            else
            {
              v208 = *(unsigned int *)(v279 + 304);
              v209 = *(_QWORD **)(v279 + 296);
              if ( *(_DWORD *)(v279 + 304) )
              {
                v210 = *(_DWORD *)(v167 + 24);
                do
                {
                  while ( 1 )
                  {
                    v211 = v208 >> 1;
                    v212 = &v209[2 * (v208 >> 1)];
                    if ( v210 < (*(_DWORD *)((*v212 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(*v212 >> 1) & 3) )
                      break;
                    v209 = v212 + 2;
                    v208 = v208 - v211 - 1;
                    if ( v208 <= 0 )
                      goto LABEL_284;
                  }
                  v208 >>= 1;
                }
                while ( v211 > 0 );
              }
LABEL_284:
              v257 = *(v209 - 1);
            }
            v169 = *(_QWORD *)(v257 + 64);
            v283 = v169 + 8LL * *(unsigned int *)(v257 + 72);
            if ( v169 != v283 )
              break;
          }
LABEL_218:
          v165 = ++v303;
          if ( *(_DWORD *)(v299 + 72) <= v303 )
            goto LABEL_257;
        }
        v170 = *(_QWORD *)(v257 + 64);
        while ( 1 )
        {
          v175 = *(_QWORD **)v170;
          v176 = *(_QWORD *)(*(_QWORD *)(v279 + 152) + 16LL * *(unsigned int *)(*(_QWORD *)v170 + 24LL) + 8);
          v171 = ((v176 >> 1) & 3) != 0
               ? v176 & 0xFFFFFFFFFFFFFFF8LL | (2LL * (int)(((v176 >> 1) & 3) - 1))
               : *(_QWORD *)(v176 & 0xFFFFFFFFFFFFFFF8LL) & 0xFFFFFFFFFFFFFFF8LL | 6;
          if ( !(unsigned __int8)sub_2F7E810(*(_QWORD *)(v291 + 104), v171) )
            break;
LABEL_227:
          v170 += 8;
          if ( v283 == v170 )
            goto LABEL_218;
        }
        v265 = sub_2F38E30(v175, v257, v272, v172, v173, v174);
        v177 = *(_QWORD *)(a1[2] + 8);
        src = 0;
        v312 = 0;
        v313 = 0;
        dest[0] = 0;
        v178 = (_QWORD *)v175[4];
        v318.m128i_i64[0] = 0;
        v179 = sub_2E7B380(v178, v177 - 400, (unsigned __int8 **)&v318, 0);
        v180 = (unsigned __int64 *)v265;
        v181 = (unsigned __int64)v179;
        if ( v318.m128i_i64[0] )
        {
          sub_B91220((__int64)&v318, v318.m128i_i64[0]);
          v180 = (unsigned __int64 *)v265;
        }
        v266 = v180;
        sub_2E31040(v175 + 5, v181);
        v182 = *v266;
        v183 = *(_QWORD *)v181 & 7LL;
        *(_QWORD *)(v181 + 8) = v266;
        v182 &= 0xFFFFFFFFFFFFFFF8LL;
        *(_QWORD *)v181 = v182 | v183;
        *(_QWORD *)(v182 + 8) = v181;
        *v266 = v181 | *v266 & 7;
        if ( v313 )
          sub_2E882B0(v181, (__int64)v178, v313);
        if ( dest[0] )
          sub_2E88680(v181, (__int64)v178, dest[0]);
        v318.m128i_i64[0] = 0x10000000;
        v319 = 0;
        v318.m128i_i32[2] = v272;
        v320[0] = 0;
        v320[1] = 0;
        sub_2E8EAD0(v181, (__int64)v178, &v318);
        if ( v312 )
          sub_B91220((__int64)&v312, (__int64)v312);
        if ( src )
          sub_B91220((__int64)&src, (__int64)src);
        v184 = v272;
        v185 = sub_2E192D0(*(_QWORD *)(*a1 + 32), v181, 0) & 0xFFFFFFFFFFFFFFF8LL | 4;
        *((_QWORD *)&v286 + 1) = sub_2EBF1E0(a1[1], v272);
        *(_QWORD *)&v286 = v189;
        if ( !*(_QWORD *)(v291 + 104) )
        {
LABEL_252:
          if ( v286 != 0 )
          {
            v200 = v163[7];
            v163[17] += 128LL;
            v201 = (_QWORD *)((v200 + 15) & 0xFFFFFFFFFFFFFFF0LL);
            if ( v163[8] >= (unsigned __int64)(v201 + 16) && v200 )
            {
              v163[7] = v201 + 16;
              if ( !v201 )
              {
                MEMORY[0x68] = *(_QWORD *)(v291 + 104);
                BUG();
              }
            }
            else
            {
              v201 = (_QWORD *)sub_9D1E70((__int64)n, 128, 128, 4);
            }
            v201[13] = 0;
            *v201 = v201 + 2;
            v201[8] = v201 + 10;
            v201[1] = 0x200000000LL;
            v201[9] = 0x200000000LL;
            v201[14] = *((_QWORD *)&v286 + 1);
            v201[12] = 0;
            v201[15] = v286;
            v201[13] = *(_QWORD *)(v291 + 104);
            *(_QWORD *)(v291 + 104) = v201;
            sub_2E0E0B0((__int64)v201, v185, n, v186, v187, v188);
          }
          goto LABEL_227;
        }
        v267 = v170;
        v190 = v176;
        v191 = *(_QWORD *)(v291 + 104);
        while ( 1 )
        {
          v195 = v163[7];
          v196 = *(_DWORD *)(v191 + 72);
          *((_QWORD *)&v286 + 1) &= ~*(_QWORD *)(v191 + 112);
          v197 = *(_QWORD *)(v191 + 120);
          v163[17] += 16LL;
          *(_QWORD *)&v286 = ~v197 & v286;
          v198 = (v195 + 15) & 0xFFFFFFFFFFFFFFF0LL;
          if ( v163[8] >= v198 + 16 && v195 )
          {
            v163[7] = v198 + 16;
            v199 = 0;
            if ( !v198 )
            {
              v192 = *(unsigned int *)(v191 + 72);
              v193 = v192 + 1;
              if ( v192 + 1 > (unsigned __int64)*(unsigned int *)(v191 + 76) )
                goto LABEL_249;
              goto LABEL_243;
            }
            v199 = (v195 + 15) & 0xFFFFFFFFFFFFFFF0LL;
          }
          else
          {
            v184 = 16;
            v198 = sub_9D1E70((__int64)n, 16, 16, 4);
            v199 = v198;
          }
          *(_DWORD *)v199 = v196;
          *(_QWORD *)(v199 + 8) = v185;
          v192 = *(unsigned int *)(v191 + 72);
          v193 = v192 + 1;
          if ( v192 + 1 > (unsigned __int64)*(unsigned int *)(v191 + 76) )
          {
LABEL_249:
            v184 = v191 + 80;
            v249 = v199;
            v253 = v198;
            sub_C8D5F0(v191 + 64, (const void *)(v191 + 80), v193, 8u, v187, v188);
            v192 = *(unsigned int *)(v191 + 72);
            v199 = v249;
            v198 = v253;
          }
LABEL_243:
          v194 = *(_QWORD *)(v191 + 64);
          *(_QWORD *)(v194 + 8 * v192) = v198;
          ++*(_DWORD *)(v191 + 72);
          v318.m128i_i64[1] = v190;
          v319 = v199;
          *((_QWORD *)&v243 + 1) = v190;
          *(_QWORD *)&v243 = v185;
          v318.m128i_i64[0] = v185;
          sub_2E0F080(v191, v184, v192, v194, v187, v188, v243, v199);
          v191 = *(_QWORD *)(v191 + 104);
          if ( !v191 )
          {
            v170 = v267;
            goto LABEL_252;
          }
        }
      }
LABEL_257:
      v299 = *(_QWORD *)(v299 + 104);
      if ( v299 )
        continue;
      break;
    }
    v162 = v163;
LABEL_259:
    v202 = a1[1];
    if ( (v272 & 0x80000000) != 0 )
      v203 = *(_QWORD *)(*(_QWORD *)(v202 + 56) + 16LL * (v272 & 0x7FFFFFFF) + 8);
    else
      v203 = *(_QWORD *)(*(_QWORD *)(v202 + 304) + 8LL * v272);
    if ( !v203 )
      goto LABEL_270;
    if ( (*(_BYTE *)(v203 + 4) & 8) != 0 )
    {
      while ( 1 )
      {
        v203 = *(_QWORD *)(v203 + 32);
        if ( !v203 )
          break;
        if ( (*(_BYTE *)(v203 + 4) & 8) == 0 )
          goto LABEL_263;
      }
      if ( v245 )
        goto LABEL_271;
LABEL_278:
      *(_DWORD *)(v291 + 72) = 0;
      *(_DWORD *)(v291 + 8) = 0;
      goto LABEL_271;
    }
LABEL_263:
    v204 = *(_BYTE *)(v203 + 3);
    if ( (v204 & 0x10) == 0 || (*(_DWORD *)v203 & 0xFFF00) == 0 )
      goto LABEL_269;
    if ( (*(_BYTE *)(v203 + 4) & 1) == 0 )
    {
      v223 = *(_QWORD *)(v203 + 16);
      v224 = *(_QWORD *)(*a1 + 32);
      for ( kk = v223; (*(_BYTE *)(kk + 44) & 4) != 0; kk = *(_QWORD *)kk & 0xFFFFFFFFFFFFFFF8LL )
        ;
      for ( ; (*(_BYTE *)(v223 + 44) & 8) != 0; v223 = *(_QWORD *)(v223 + 8) )
        ;
      for ( mm = *(_QWORD *)(v223 + 8); mm != kk; kk = *(_QWORD *)(kk + 8) )
      {
        v227 = *(_WORD *)(kk + 68);
        if ( (unsigned __int16)(v227 - 14) > 4u && v227 != 24 )
          break;
      }
      v228 = *(_DWORD *)(v224 + 144);
      v229 = *(_QWORD *)(v224 + 128);
      if ( v228 )
      {
        v230 = (v228 - 1) & (((unsigned int)kk >> 9) ^ ((unsigned int)kk >> 4));
        v231 = (__int64 *)(v229 + 16LL * v230);
        v232 = *v231;
        if ( kk == *v231 )
        {
LABEL_308:
          if ( !(unsigned __int8)sub_2F7E810(*(_QWORD *)(v291 + 104), v231[1]) )
            *(_BYTE *)(v203 + 4) |= 1u;
          v204 = *(_BYTE *)(v203 + 3);
          goto LABEL_266;
        }
        v233 = 1;
        while ( v232 != -4096 )
        {
          v242 = v233 + 1;
          v230 = (v228 - 1) & (v233 + v230);
          v231 = (__int64 *)(v229 + 16LL * v230);
          v232 = *v231;
          if ( kk == *v231 )
            goto LABEL_308;
          v233 = v242;
        }
      }
      v231 = (__int64 *)(v229 + 16LL * v228);
      goto LABEL_308;
    }
LABEL_266:
    if ( (((v204 & 0x10) != 0) & (v204 >> 6)) != 0 )
      goto LABEL_269;
    v213 = *(_QWORD *)(v203 + 16);
    v214 = *(_QWORD *)(*a1 + 32);
    for ( nn = v213; (*(_BYTE *)(nn + 44) & 4) != 0; nn = *(_QWORD *)nn & 0xFFFFFFFFFFFFFFF8LL )
      ;
    for ( ; (*(_BYTE *)(v213 + 44) & 8) != 0; v213 = *(_QWORD *)(v213 + 8) )
      ;
    for ( i1 = *(_QWORD *)(v213 + 8); i1 != nn; nn = *(_QWORD *)(nn + 8) )
    {
      v217 = *(_WORD *)(nn + 68);
      if ( (unsigned __int16)(v217 - 14) > 4u && v217 != 24 )
        break;
    }
    v218 = *(_DWORD *)(v214 + 144);
    v219 = *(_QWORD *)(v214 + 128);
    if ( v218 )
    {
      v220 = (v218 - 1) & (((unsigned int)nn >> 9) ^ ((unsigned int)nn >> 4));
      v221 = (__int64 *)(v219 + 16LL * v220);
      v222 = *v221;
      if ( *v221 == nn )
        goto LABEL_296;
      v234 = 1;
      while ( v222 != -4096 )
      {
        v241 = v234 + 1;
        v220 = (v218 - 1) & (v234 + v220);
        v221 = (__int64 *)(v219 + 16LL * v220);
        v222 = *v221;
        if ( nn == *v221 )
          goto LABEL_296;
        v234 = v241;
      }
    }
    v221 = (__int64 *)(v219 + 16LL * v218);
LABEL_296:
    if ( !(unsigned __int8)sub_2F7E810(*(_QWORD *)(v291 + 104), v221[1] & 0xFFFFFFFFFFFFFFF8LL | 6) )
      *(_BYTE *)(v203 + 3) |= 0x40u;
LABEL_269:
    while ( 1 )
    {
      v203 = *(_QWORD *)(v203 + 32);
      if ( !v203 )
        break;
      if ( (*(_BYTE *)(v203 + 4) & 8) == 0 )
        goto LABEL_263;
    }
LABEL_270:
    if ( !v245 )
      goto LABEL_278;
LABEL_271:
    sub_2E15850((_QWORD *)*a1, v291);
    sub_2E168A0((_QWORD *)*a1, v291, 0, v205, v206, v207);
    if ( v244 != ++v245 )
      continue;
    break;
  }
LABEL_272:
  if ( v305 != v307 )
    _libc_free((unsigned __int64)v305);
  v41 = 1;
LABEL_42:
  if ( (_BYTE *)v315[0] != v316 )
    _libc_free(v315[0]);
  v42 = v324;
  v43 = (unsigned __int64)&v324[5 * (unsigned int)v325];
  if ( v324 != (__m128i *)v43 )
  {
    do
    {
      v43 -= 80LL;
      v44 = *(_QWORD *)(v43 + 8);
      if ( v44 != v43 + 24 )
        _libc_free(v44);
    }
    while ( v42 != (__m128i *)v43 );
    v43 = (unsigned __int64)v324;
  }
  if ( (_BYTE *)v43 != v326 )
    _libc_free(v43);
  return v41;
}
