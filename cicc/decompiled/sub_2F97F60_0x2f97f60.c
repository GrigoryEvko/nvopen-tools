// Function: sub_2F97F60
// Address: 0x2f97f60
//
void __fastcall sub_2F97F60(__int64 a1, __int64 a2, __int64 a3, _QWORD *a4, __int64 a5, unsigned __int8 a6)
{
  __int64 v6; // r15
  _QWORD *v9; // r14
  _QWORD *v10; // r13
  unsigned __int64 v11; // rsi
  _QWORD *v12; // rax
  _QWORD *v13; // rdi
  __int64 v14; // rcx
  __int64 v15; // rdx
  __int64 i; // rdx
  __int64 v17; // rcx
  __int64 v18; // r8
  __int64 v19; // r9
  __int64 v20; // rax
  _QWORD *v21; // rdi
  char v22; // al
  int v23; // eax
  _QWORD *v24; // rax
  __int64 v25; // rdx
  __int64 v26; // rcx
  __int64 v27; // r8
  __int64 v28; // r9
  __int64 *v29; // rax
  __int64 *v30; // rax
  __int64 *v31; // rax
  __int64 *v32; // rax
  __int64 *v33; // rax
  __int64 v34; // rax
  unsigned int v35; // ebx
  __int64 v36; // rax
  __int64 v37; // rax
  __int64 v38; // rax
  unsigned int v39; // ebx
  __int64 v40; // rax
  __int64 v41; // rax
  __int64 v42; // rax
  unsigned __int64 v43; // r14
  unsigned __int64 v44; // r12
  unsigned __int64 v45; // rdx
  unsigned __int64 v46; // rbx
  __int64 j; // rbx
  __m128i *v48; // rsi
  __int16 v49; // ax
  _QWORD *v50; // rax
  _QWORD *v51; // rdx
  __int64 v52; // rax
  __int64 n; // r12
  __int64 v54; // rdi
  _BYTE *v55; // r13
  _BYTE *v56; // rdi
  _QWORD **v57; // rbx
  _QWORD *v58; // r12
  _QWORD **v59; // r14
  unsigned __int64 v60; // rdi
  _BYTE *v61; // r13
  _BYTE *v62; // rdi
  _QWORD **v63; // rbx
  _QWORD *v64; // r12
  _QWORD **v65; // r14
  unsigned __int64 v66; // rdi
  _BYTE *v67; // r13
  _BYTE *v68; // rdi
  _QWORD **v69; // rbx
  _QWORD *v70; // r12
  _QWORD **v71; // r14
  unsigned __int64 v72; // rdi
  _BYTE *v73; // r13
  _BYTE *v74; // rdi
  _QWORD **v75; // rbx
  _QWORD *v76; // r12
  _QWORD **v77; // r14
  unsigned __int64 v78; // rdi
  _BYTE *v79; // r14
  _BYTE *v80; // rdi
  _QWORD **v81; // r12
  _QWORD *v82; // rbx
  _QWORD **v83; // r13
  unsigned __int64 v84; // rdi
  unsigned int v85; // esi
  unsigned __int64 v86; // r9
  __int64 v87; // rcx
  unsigned __int64 *v88; // rdx
  unsigned __int64 v89; // r8
  unsigned __int64 *v90; // rax
  unsigned __int64 v91; // rdi
  __int64 v92; // rdx
  __int64 v93; // rsi
  __int64 v94; // rcx
  __int64 v95; // r9
  __int64 v96; // rax
  int v97; // r14d
  __int64 v98; // rax
  __int64 v99; // r13
  unsigned __int64 v100; // r15
  __int64 v101; // rbx
  __int64 v102; // rax
  int v103; // eax
  unsigned int v104; // edx
  __int64 v105; // rax
  int v106; // r14d
  int v107; // r14d
  unsigned __int64 v108; // r15
  __int64 v109; // r13
  __int64 v110; // rbx
  __int64 v111; // rax
  int v112; // edx
  __int64 v113; // rcx
  unsigned int v114; // edx
  __int64 v115; // rax
  int v116; // eax
  __int64 (*v117)(); // rax
  __int64 v118; // rax
  __int64 v119; // rdx
  __int64 v120; // rcx
  unsigned __int64 v121; // r8
  unsigned __int64 v122; // r9
  __int64 v123; // r13
  __int64 v124; // rcx
  __int64 v125; // rdi
  int v126; // eax
  __int64 v127; // rax
  __int64 v128; // rax
  __int64 v129; // rdx
  __int64 v130; // rcx
  unsigned __int64 v131; // r9
  __int64 v132; // rdx
  __int64 v133; // rcx
  unsigned __int64 v134; // r8
  unsigned __int64 v135; // r9
  __int64 v136; // rdx
  __int64 v137; // rcx
  unsigned __int64 v138; // r8
  unsigned __int64 v139; // r9
  __int64 v140; // rdx
  __int64 v141; // rcx
  unsigned __int64 v142; // r8
  unsigned __int64 v143; // r9
  unsigned int v144; // eax
  _QWORD *v145; // rdi
  int v146; // eax
  int v147; // ebx
  _QWORD *v148; // rax
  _QWORD *v149; // rax
  _QWORD *v150; // rax
  char v151; // al
  int v152; // eax
  __int64 v153; // rax
  __int64 v154; // r13
  __int64 v155; // rcx
  __int64 v156; // rdi
  int v157; // eax
  __int64 v158; // rax
  __int64 v159; // rax
  _QWORD *v160; // rdi
  __int64 *v161; // rax
  int v162; // eax
  __int64 v163; // r8
  unsigned __int64 v164; // r9
  _BYTE *v165; // rdi
  _QWORD **v166; // r13
  _QWORD *v167; // r14
  unsigned __int64 v168; // rdi
  int v169; // eax
  __int64 v170; // rax
  __int64 v171; // r13
  __int64 v172; // rcx
  __int64 v173; // rdi
  int v174; // eax
  __int64 v175; // rax
  __int64 v176; // rax
  __int64 *v177; // rdi
  __int64 v178; // rax
  int *v179; // rdx
  __int64 v180; // r14
  int v181; // eax
  int *v182; // r13
  __int64 v183; // rax
  __int64 v184; // rdx
  unsigned __int64 v185; // rax
  unsigned __int64 v186; // r12
  unsigned __int8 v187; // al
  __int64 v188; // r8
  __int64 v189; // r9
  __int64 v190; // rcx
  int v191; // edx
  __int64 *v192; // rcx
  __int64 v193; // rax
  __int64 v194; // rax
  __int64 v195; // rdx
  __int64 v196; // rcx
  __int64 v197; // r8
  __int64 v198; // r9
  __int64 *v199; // rsi
  _QWORD *v200; // rdi
  __int64 v201; // rdx
  int v202; // eax
  unsigned int v203; // ecx
  int v204; // eax
  __int64 v205; // rax
  __int64 v206; // rdx
  __int64 v207; // rcx
  __int64 v208; // r9
  int v209; // eax
  __int64 v210; // rax
  __int64 v211; // r8
  __int64 v212; // r9
  __int64 *v213; // r12
  int *v214; // r15
  __int64 *v215; // r13
  __int64 *v216; // r12
  __int64 v217; // rsi
  __int64 v218; // rdx
  int v219; // ecx
  unsigned __int64 *v220; // rsi
  __int64 v221; // r12
  int v222; // eax
  __int64 v223; // rax
  unsigned __int64 v224; // rdx
  __int64 v225; // rdi
  unsigned __int64 k; // rax
  __int64 m; // rsi
  __int16 v228; // dx
  unsigned int v229; // esi
  __int64 v230; // r8
  unsigned int v231; // ecx
  __int64 *v232; // rdx
  __int64 v233; // rdi
  unsigned __int64 v234; // rdi
  int v235; // eax
  unsigned __int64 v236; // r9
  int v237; // eax
  __int64 v238; // r8
  unsigned __int64 v239; // r9
  __int64 *v240; // r8
  __int64 v241; // r12
  _QWORD *v242; // r15
  __int64 *v243; // rdx
  __int64 v244; // r9
  unsigned __int64 v245; // r14
  __int64 v246; // rcx
  __int64 *v247; // rdx
  _QWORD *v248; // r14
  _QWORD *v249; // r13
  __int64 *v250; // rbx
  __int64 v251; // r12
  _QWORD *v252; // rax
  _QWORD *v253; // r12
  __int64 v254; // rdx
  __int64 v255; // r8
  __int64 v256; // r9
  __int64 *v257; // rcx
  __int64 v258; // rbx
  _QWORD *v259; // rax
  unsigned __int64 v260; // rbx
  __int64 v261; // rdi
  int v262; // eax
  __int64 v263; // rdi
  int v264; // eax
  int v265; // r8d
  __int64 v266; // r10
  int v267; // edx
  __int64 v268; // rdi
  int v269; // eax
  unsigned __int64 v270; // rdx
  unsigned __int64 v271; // rax
  _QWORD *v272; // rax
  __int64 v273; // rdx
  int v274; // r11d
  int v275; // ecx
  int v276; // edi
  int v277; // edi
  int v278; // esi
  unsigned int v279; // r14d
  int v280; // edx
  int v281; // r9d
  int v282; // edi
  unsigned __int64 *v283; // rsi
  __int64 v284; // [rsp+8h] [rbp-848h]
  unsigned __int64 v286; // [rsp+48h] [rbp-808h]
  unsigned __int64 *v287; // [rsp+50h] [rbp-800h]
  int *v290; // [rsp+70h] [rbp-7E0h]
  __int64 *v291; // [rsp+70h] [rbp-7E0h]
  __int64 *v292; // [rsp+70h] [rbp-7E0h]
  __int64 v293; // [rsp+78h] [rbp-7D8h]
  __int64 v294; // [rsp+80h] [rbp-7D0h]
  char v295; // [rsp+90h] [rbp-7C0h]
  unsigned __int64 v296; // [rsp+90h] [rbp-7C0h]
  __int64 *v297; // [rsp+90h] [rbp-7C0h]
  unsigned __int64 v298; // [rsp+90h] [rbp-7C0h]
  _QWORD **v299; // [rsp+98h] [rbp-7B8h]
  _QWORD *v300; // [rsp+98h] [rbp-7B8h]
  bool v302; // [rsp+A8h] [rbp-7A8h]
  __int64 v303; // [rsp+A8h] [rbp-7A8h]
  _BYTE *v304; // [rsp+A8h] [rbp-7A8h]
  unsigned __int64 v305; // [rsp+A8h] [rbp-7A8h]
  unsigned __int64 v306; // [rsp+A8h] [rbp-7A8h]
  _QWORD *v307; // [rsp+A8h] [rbp-7A8h]
  __int64 v308; // [rsp+B0h] [rbp-7A0h]
  unsigned __int64 v309; // [rsp+B8h] [rbp-798h]
  __int64 v310; // [rsp+B8h] [rbp-798h]
  unsigned __int64 v311; // [rsp+C8h] [rbp-788h] BYREF
  _BYTE *v312; // [rsp+D0h] [rbp-780h] BYREF
  __int64 v313; // [rsp+D8h] [rbp-778h]
  _BYTE v314[32]; // [rsp+E0h] [rbp-770h] BYREF
  __int64 v315; // [rsp+100h] [rbp-750h] BYREF
  __int64 v316; // [rsp+108h] [rbp-748h]
  __int64 v317; // [rsp+110h] [rbp-740h] BYREF
  unsigned int v318; // [rsp+118h] [rbp-738h]
  _BYTE *v319; // [rsp+150h] [rbp-700h] BYREF
  __int64 v320; // [rsp+158h] [rbp-6F8h]
  _BYTE v321[128]; // [rsp+160h] [rbp-6F0h] BYREF
  __int64 v322; // [rsp+1E0h] [rbp-670h]
  __int64 v323; // [rsp+1F0h] [rbp-660h] BYREF
  __int64 v324; // [rsp+1F8h] [rbp-658h]
  __int64 v325; // [rsp+200h] [rbp-650h] BYREF
  unsigned int v326; // [rsp+208h] [rbp-648h]
  _BYTE *v327; // [rsp+240h] [rbp-610h] BYREF
  __int64 v328; // [rsp+248h] [rbp-608h]
  _BYTE v329[128]; // [rsp+250h] [rbp-600h] BYREF
  __int64 v330; // [rsp+2D0h] [rbp-580h]
  __int64 v331; // [rsp+2E0h] [rbp-570h] BYREF
  __int64 v332; // [rsp+2E8h] [rbp-568h]
  __int64 v333; // [rsp+2F0h] [rbp-560h] BYREF
  unsigned int v334; // [rsp+2F8h] [rbp-558h]
  _BYTE *v335; // [rsp+330h] [rbp-520h] BYREF
  __int64 v336; // [rsp+338h] [rbp-518h]
  _BYTE v337[128]; // [rsp+340h] [rbp-510h] BYREF
  __int64 v338; // [rsp+3C0h] [rbp-490h]
  __int64 v339; // [rsp+3D0h] [rbp-480h] BYREF
  __int64 v340; // [rsp+3D8h] [rbp-478h]
  __int64 v341; // [rsp+3E0h] [rbp-470h] BYREF
  unsigned int v342; // [rsp+3E8h] [rbp-468h]
  _BYTE *v343; // [rsp+420h] [rbp-430h] BYREF
  __int64 v344; // [rsp+428h] [rbp-428h]
  _BYTE v345[128]; // [rsp+430h] [rbp-420h] BYREF
  __int64 v346; // [rsp+4B0h] [rbp-3A0h]
  __int64 v347; // [rsp+4C0h] [rbp-390h] BYREF
  __int64 v348; // [rsp+4C8h] [rbp-388h]
  __int64 v349; // [rsp+4D0h] [rbp-380h] BYREF
  unsigned int v350; // [rsp+4D8h] [rbp-378h]
  _BYTE *v351; // [rsp+510h] [rbp-340h] BYREF
  __int64 v352; // [rsp+518h] [rbp-338h]
  _BYTE v353[128]; // [rsp+520h] [rbp-330h] BYREF
  __int64 v354; // [rsp+5A0h] [rbp-2B0h]
  __int64 *v355; // [rsp+5B0h] [rbp-2A0h] BYREF
  __int64 v356; // [rsp+5B8h] [rbp-298h]
  __int64 v357; // [rsp+5C0h] [rbp-290h] BYREF
  unsigned int v358; // [rsp+5C8h] [rbp-288h]
  _BYTE *v359; // [rsp+600h] [rbp-250h] BYREF
  __int64 v360; // [rsp+608h] [rbp-248h]
  _BYTE v361[112]; // [rsp+610h] [rbp-240h] BYREF
  _QWORD *v362; // [rsp+680h] [rbp-1D0h]
  __int64 v363; // [rsp+688h] [rbp-1C8h]
  _QWORD v364[24]; // [rsp+690h] [rbp-1C0h] BYREF
  _BYTE *v365; // [rsp+750h] [rbp-100h]
  __int64 v366; // [rsp+758h] [rbp-F8h]
  _BYTE v367[240]; // [rsp+760h] [rbp-F0h] BYREF

  v6 = a1;
  v293 = *(_QWORD *)(*(_QWORD *)(a1 + 32) + 16LL);
  v9 = sub_C52410();
  v10 = v9 + 1;
  v11 = sub_C959E0();
  v12 = (_QWORD *)v9[2];
  if ( v12 )
  {
    v13 = v9 + 1;
    do
    {
      while ( 1 )
      {
        v14 = v12[2];
        v15 = v12[3];
        if ( v11 <= v12[4] )
          break;
        v12 = (_QWORD *)v12[3];
        if ( !v15 )
          goto LABEL_6;
      }
      v13 = v12;
      v12 = (_QWORD *)v12[2];
    }
    while ( v14 );
LABEL_6:
    if ( v10 != v13 && v11 >= v13[4] )
      v10 = v13;
  }
  if ( v10 == (_QWORD *)((char *)sub_C52410() + 8) )
    goto LABEL_207;
  v20 = v10[7];
  v18 = (__int64)(v10 + 6);
  if ( !v20 )
    goto LABEL_207;
  v11 = (unsigned int)dword_5025528;
  v21 = v10 + 6;
  do
  {
    while ( 1 )
    {
      v17 = *(_QWORD *)(v20 + 16);
      i = *(_QWORD *)(v20 + 24);
      if ( *(_DWORD *)(v20 + 32) >= dword_5025528 )
        break;
      v20 = *(_QWORD *)(v20 + 24);
      if ( !i )
        goto LABEL_15;
    }
    v21 = (_QWORD *)v20;
    v20 = *(_QWORD *)(v20 + 16);
  }
  while ( v17 );
LABEL_15:
  if ( (_QWORD *)v18 == v21
    || dword_5025528 < *((_DWORD *)v21 + 8)
    || (i = *((unsigned int *)v21 + 9), v22 = qword_50255A8, (int)i <= 0) )
  {
LABEL_207:
    v22 = (*(__int64 (__fastcall **)(__int64, unsigned __int64, __int64, __int64, __int64))(*(_QWORD *)v293 + 408LL))(
            v293,
            v11,
            i,
            v17,
            v18);
  }
  if ( a2 && v22 )
  {
    v310 = v6 + 2608;
    if ( *(_BYTE *)(v6 + 2896) )
    {
      *(_BYTE *)(v6 + 2896) = 0;
      *(_QWORD *)(v6 + 2744) = &unk_49DDBE8;
      if ( (*(_BYTE *)(v6 + 2760) & 1) == 0 )
      {
        v11 = 16LL * *(unsigned int *)(v6 + 2776);
        sub_C7D6A0(*(_QWORD *)(v6 + 2768), v11, 8);
      }
      nullsub_184();
      v234 = *(_QWORD *)(v6 + 2592);
      if ( v234 != v310 )
        _libc_free(v234);
      if ( (*(_BYTE *)(v6 + 2240) & 1) == 0 )
      {
        v11 = 40LL * *(unsigned int *)(v6 + 2256);
        sub_C7D6A0(*(_QWORD *)(v6 + 2248), v11, 8);
      }
    }
    *(_QWORD *)(v6 + 2216) = a2;
    v149 = (_QWORD *)(v6 + 2248);
    *(_QWORD *)(v6 + 2224) = a2;
    *(_QWORD *)(v6 + 2232) = 0;
    *(_QWORD *)(v6 + 2240) = 1;
    do
    {
      if ( v149 )
      {
        *v149 = -4;
        v149[1] = -3;
        v149[2] = -4;
        v149[3] = -3;
      }
      v149 += 5;
    }
    while ( v149 != (_QWORD *)(v6 + 2568) );
    v18 = 256;
    *(_QWORD *)(v6 + 2568) = v6 + 2744;
    i = v6 + 2896;
    *(_QWORD *)(v6 + 2576) = 0;
    *(_QWORD *)(v6 + 2592) = v310;
    *(_BYTE *)(v6 + 2584) = 0;
    *(_WORD *)(v6 + 2736) = 256;
    *(_QWORD *)(v6 + 2752) = 0;
    *(_QWORD *)(v6 + 2760) = 1;
    *(_QWORD *)(v6 + 2600) = 0x400000000LL;
    *(_QWORD *)(v6 + 2744) = &unk_49DDBE8;
    v150 = (_QWORD *)(v6 + 2768);
    do
    {
      if ( v150 )
        *v150 = -4096;
      v150 += 2;
    }
    while ( v150 != (_QWORD *)i );
    *(_BYTE *)(v6 + 2896) = 1;
  }
  ++*(_QWORD *)(v6 + 936);
  v294 = v6 + 936;
  v23 = *(_DWORD *)(v6 + 952);
  *(_QWORD *)(v6 + 2904) = 0;
  *(_BYTE *)(v6 + 899) = a6;
  if ( v23 )
  {
    v17 = (unsigned int)(4 * v23);
    v11 = 64;
    i = *(unsigned int *)(v6 + 960);
    if ( (unsigned int)v17 < 0x40 )
      v17 = 64;
    if ( (unsigned int)v17 < (unsigned int)i )
    {
      v144 = v23 - 1;
      if ( v144 )
      {
        _BitScanReverse(&v144, v144);
        v145 = *(_QWORD **)(v6 + 944);
        v146 = v144 ^ 0x1F;
        v17 = (unsigned int)(33 - v146);
        v147 = 1 << (33 - v146);
        if ( v147 < 64 )
          v147 = 64;
        if ( v147 == (_DWORD)i )
        {
          *(_QWORD *)(v6 + 952) = 0;
          v148 = &v145[2 * (unsigned int)v147];
          do
          {
            if ( v145 )
              *v145 = -4096;
            v145 += 2;
          }
          while ( v148 != v145 );
          goto LABEL_26;
        }
      }
      else
      {
        v145 = *(_QWORD **)(v6 + 944);
        v147 = 64;
      }
      sub_C7D6A0((__int64)v145, 16 * i, 8);
      v11 = 8;
      v270 = ((((((((4 * v147 / 3u + 1) | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 2)
                | (4 * v147 / 3u + 1)
                | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 4)
              | (((4 * v147 / 3u + 1) | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 2)
              | (4 * v147 / 3u + 1)
              | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 8)
            | (((((4 * v147 / 3u + 1) | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 2)
              | (4 * v147 / 3u + 1)
              | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 4)
            | (((4 * v147 / 3u + 1) | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 2)
            | (4 * v147 / 3u + 1)
            | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 16;
      v271 = (v270
            | (((((((4 * v147 / 3u + 1) | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 2)
                | (4 * v147 / 3u + 1)
                | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 4)
              | (((4 * v147 / 3u + 1) | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 2)
              | (4 * v147 / 3u + 1)
              | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 8)
            | (((((4 * v147 / 3u + 1) | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 2)
              | (4 * v147 / 3u + 1)
              | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 4)
            | (((4 * v147 / 3u + 1) | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1)) >> 2)
            | (4 * v147 / 3u + 1)
            | ((unsigned __int64)(4 * v147 / 3u + 1) >> 1))
           + 1;
      *(_DWORD *)(v6 + 960) = v271;
      v272 = (_QWORD *)sub_C7D670(16 * v271, 8);
      v273 = *(unsigned int *)(v6 + 960);
      *(_QWORD *)(v6 + 952) = 0;
      *(_QWORD *)(v6 + 944) = v272;
      for ( i = (__int64)&v272[2 * v273]; (_QWORD *)i != v272; v272 += 2 )
      {
        if ( v272 )
          *v272 = -4096;
      }
      goto LABEL_26;
    }
    goto LABEL_23;
  }
  if ( *(_DWORD *)(v6 + 956) )
  {
    i = *(unsigned int *)(v6 + 960);
    if ( (unsigned int)i <= 0x40 )
    {
LABEL_23:
      v24 = *(_QWORD **)(v6 + 944);
      for ( i = (__int64)&v24[2 * i]; (_QWORD *)i != v24; v24 += 2 )
        *v24 = -4096;
      *(_QWORD *)(v6 + 952) = 0;
      goto LABEL_26;
    }
    v11 = 16 * i;
    sub_C7D6A0(*(_QWORD *)(v6 + 944), 16 * i, 8);
    *(_QWORD *)(v6 + 944) = 0;
    *(_QWORD *)(v6 + 952) = 0;
    *(_DWORD *)(v6 + 960) = 0;
  }
LABEL_26:
  sub_2F8EBD0(v6, v11, i, v17, v18, v19);
  sub_2F96280(v6, v11, v25, v26, v27, v28);
  if ( a4 )
    sub_2F769B0((__int64)a4, (__int64)(*(_QWORD *)(v6 + 56) - *(_QWORD *)(v6 + 48)) >> 8);
  v29 = &v317;
  v315 = 0;
  v316 = 1;
  do
  {
    *v29 = -4096;
    v29 += 2;
  }
  while ( v29 != (__int64 *)&v319 );
  v322 = 0;
  v323 = 0;
  v324 = 1;
  v319 = v321;
  v320 = 0x400000000LL;
  v30 = &v325;
  do
  {
    *v30 = -4096;
    v30 += 2;
  }
  while ( v30 != (__int64 *)&v327 );
  v331 = 0;
  v327 = v329;
  v332 = 1;
  v328 = 0x400000000LL;
  v330 = 0x100000000LL;
  v31 = &v333;
  do
  {
    *v31 = -4096;
    v31 += 2;
  }
  while ( v31 != (__int64 *)&v335 );
  v338 = 0;
  v339 = 0;
  v340 = 1;
  v335 = v337;
  v336 = 0x400000000LL;
  v32 = &v341;
  do
  {
    *v32 = -4096;
    v32 += 2;
  }
  while ( v32 != (__int64 *)&v343 );
  v347 = 0;
  v343 = v345;
  v348 = 1;
  v344 = 0x400000000LL;
  v346 = 0x100000000LL;
  v33 = &v349;
  do
  {
    *v33 = -4096;
    v33 += 2;
  }
  while ( v33 != (__int64 *)&v351 );
  v354 = 0;
  v351 = v353;
  v352 = 0x400000000LL;
  v287 = (unsigned __int64 *)(v6 + 3344);
  v34 = *(_QWORD *)(v6 + 3344);
  if ( *(_QWORD *)(v6 + 3352) != v34 )
    *(_QWORD *)(v6 + 3352) = v34;
  *(_QWORD *)(v6 + 3368) = 0;
  v35 = *(_DWORD *)(*(_QWORD *)(v6 + 24) + 16LL);
  if ( v35 < *(_DWORD *)(v6 + 1184) >> 2 || v35 > *(_DWORD *)(v6 + 1184) )
  {
    _libc_free(*(_QWORD *)(v6 + 1176));
    v36 = (__int64)_libc_calloc(v35, 2u);
    if ( !v36 && (v35 || (v36 = malloc(1u)) == 0) )
LABEL_442:
      sub_C64F00("Allocation failed", 1u);
    *(_QWORD *)(v6 + 1176) = v36;
    v37 = *(_QWORD *)(v6 + 24);
    *(_DWORD *)(v6 + 1184) = v35;
    v35 = *(_DWORD *)(v37 + 16);
  }
  if ( v35 < *(_DWORD *)(v6 + 1416) >> 2 || v35 > *(_DWORD *)(v6 + 1416) )
  {
    _libc_free(*(_QWORD *)(v6 + 1408));
    v38 = (__int64)_libc_calloc(v35, 2u);
    if ( !v38 )
    {
      if ( v35 )
        goto LABEL_442;
      v38 = malloc(1u);
      if ( !v38 )
        goto LABEL_442;
    }
    *(_QWORD *)(v6 + 1408) = v38;
    *(_DWORD *)(v6 + 1416) = v35;
  }
  v39 = *(_DWORD *)(*(_QWORD *)(v6 + 40) + 64LL);
  if ( v39 < *(_DWORD *)(v6 + 1776) >> 2 || v39 > *(_DWORD *)(v6 + 1776) )
  {
    _libc_free(*(_QWORD *)(v6 + 1768));
    v40 = (__int64)_libc_calloc(v39, 1u);
    if ( !v40 )
    {
      if ( v39 )
        goto LABEL_442;
      v40 = malloc(1u);
      if ( !v40 )
        goto LABEL_442;
    }
    *(_QWORD *)(v6 + 1768) = v40;
    *(_DWORD *)(v6 + 1776) = v39;
  }
  if ( v39 < *(_DWORD *)(v6 + 2200) >> 2 || v39 > *(_DWORD *)(v6 + 2200) )
  {
    _libc_free(*(_QWORD *)(v6 + 2192));
    v41 = (__int64)_libc_calloc(v39, 1u);
    if ( !v41 )
    {
      if ( v39 )
        goto LABEL_442;
      v41 = malloc(1u);
      if ( !v41 )
        goto LABEL_442;
    }
    *(_QWORD *)(v6 + 2192) = v41;
    *(_DWORD *)(v6 + 2200) = v39;
  }
  sub_2F93D20(v6);
  v42 = *(_QWORD *)(v6 + 912);
  v43 = *(_QWORD *)(v6 + 920);
  v311 = 0;
  v308 = v42;
  if ( v42 == v43 )
    goto LABEL_82;
  v44 = v43;
  do
  {
    v45 = *(_QWORD *)v44 & 0xFFFFFFFFFFFFFFF8LL;
    if ( !v45 )
LABEL_459:
      BUG();
    v46 = *(_QWORD *)v44 & 0xFFFFFFFFFFFFFFF8LL;
    if ( (*(_QWORD *)v45 & 4) == 0 && (*(_BYTE *)(v45 + 44) & 4) != 0 )
    {
      for ( j = *(_QWORD *)v45; ; j = *(_QWORD *)v46 )
      {
        v46 = j & 0xFFFFFFFFFFFFFFF8LL;
        if ( (*(_BYTE *)(v46 + 44) & 4) == 0 )
          break;
      }
    }
    if ( v311 )
    {
      v355 = (__int64 *)v46;
      v48 = *(__m128i **)(v6 + 3352);
      if ( v48 == *(__m128i **)(v6 + 3360) )
      {
        sub_2F94EE0(v287, v48, &v311, &v355);
      }
      else
      {
        if ( v48 )
        {
          v48->m128i_i64[0] = v311;
          v48->m128i_i64[1] = (__int64)v355;
          v48 = *(__m128i **)(v6 + 3352);
        }
        *(_QWORD *)(v6 + 3352) = v48 + 1;
      }
      v311 = 0;
    }
    v49 = *(_WORD *)(v46 + 68);
    if ( (unsigned __int16)(v49 - 14) <= 1u || v49 == 17 )
    {
      v311 = v46;
      goto LABEL_73;
    }
    v302 = v49 == 24 || (v49 & 0xFFFD) == 16;
    if ( v302 )
      goto LABEL_73;
    v85 = *(_DWORD *)(v6 + 960);
    if ( v85 )
    {
      v86 = *(_QWORD *)(v6 + 944);
      v87 = 1;
      v88 = 0;
      v89 = (v85 - 1) & (((unsigned int)v46 >> 4) ^ ((unsigned int)v46 >> 9));
      v90 = (unsigned __int64 *)(v86 + 16 * v89);
      v91 = *v90;
      if ( *v90 == v46 )
      {
LABEL_137:
        v309 = v90[1];
        goto LABEL_138;
      }
      while ( v91 != -4096 )
      {
        if ( v91 == -8192 && !v88 )
          v88 = v90;
        v274 = v87 + 1;
        v87 = (v85 - 1) & ((_DWORD)v89 + (_DWORD)v87);
        v89 = (unsigned int)v87;
        v90 = (unsigned __int64 *)(v86 + 16LL * (unsigned int)v87);
        v91 = *v90;
        if ( *v90 == v46 )
          goto LABEL_137;
        LODWORD(v87) = v274;
      }
      v275 = *(_DWORD *)(v6 + 952);
      if ( v88 )
        v90 = v88;
      ++*(_QWORD *)(v6 + 936);
      v267 = v275 + 1;
      if ( 4 * (v275 + 1) < 3 * v85 )
      {
        v87 = v85 - *(_DWORD *)(v6 + 956) - v267;
        if ( (unsigned int)v87 <= v85 >> 3 )
        {
          sub_2F960A0(v294, v85);
          v276 = *(_DWORD *)(v6 + 960);
          if ( !v276 )
          {
LABEL_457:
            ++*(_DWORD *)(v6 + 952);
            BUG();
          }
          v277 = v276 - 1;
          v86 = *(_QWORD *)(v6 + 944);
          v278 = 1;
          v279 = v277 & (((unsigned int)v46 >> 4) ^ ((unsigned int)v46 >> 9));
          v267 = *(_DWORD *)(v6 + 952) + 1;
          v87 = 0;
          v90 = (unsigned __int64 *)(v86 + 16LL * v279);
          v89 = *v90;
          if ( v46 != *v90 )
          {
            while ( v89 != -4096 )
            {
              if ( v89 == -8192 && !v87 )
                v87 = (__int64)v90;
              v279 = v277 & (v278 + v279);
              v90 = (unsigned __int64 *)(v86 + 16LL * v279);
              v89 = *v90;
              if ( *v90 == v46 )
                goto LABEL_378;
              ++v278;
            }
            if ( v87 )
              v90 = (unsigned __int64 *)v87;
          }
        }
        goto LABEL_378;
      }
    }
    else
    {
      ++*(_QWORD *)(v6 + 936);
    }
    sub_2F960A0(v294, 2 * v85);
    v265 = *(_DWORD *)(v6 + 960);
    if ( !v265 )
      goto LABEL_457;
    v89 = (unsigned int)(v265 - 1);
    v266 = *(_QWORD *)(v6 + 944);
    v87 = (unsigned int)v89 & (((unsigned int)v46 >> 9) ^ ((unsigned int)v46 >> 4));
    v267 = *(_DWORD *)(v6 + 952) + 1;
    v90 = (unsigned __int64 *)(v266 + 16 * v87);
    v86 = *v90;
    if ( v46 != *v90 )
    {
      v282 = 1;
      v283 = 0;
      while ( v86 != -4096 )
      {
        if ( v86 == -8192 && !v283 )
          v283 = v90;
        v87 = (unsigned int)v89 & (v282 + (_DWORD)v87);
        v90 = (unsigned __int64 *)(v266 + 16LL * (unsigned int)v87);
        v86 = *v90;
        if ( *v90 == v46 )
          goto LABEL_378;
        ++v282;
      }
      if ( v283 )
        v90 = v283;
    }
LABEL_378:
    *(_DWORD *)(v6 + 952) = v267;
    if ( *v90 != -4096 )
      --*(_DWORD *)(v6 + 956);
    *v90 = v46;
    v90[1] = 0;
    v309 = 0;
LABEL_138:
    if ( a3 )
    {
      v92 = *(_QWORD *)(v6 + 24);
      v93 = v46;
      v362 = v364;
      v365 = v367;
      v94 = *(_QWORD *)(v6 + 40);
      v355 = &v357;
      v356 = 0x800000000LL;
      v363 = 0x800000000LL;
      v366 = 0x800000000LL;
      sub_2F75980((__int64)&v355, v46, v92, v94, a6, 0);
      if ( !a6 )
      {
LABEL_140:
        if ( a4 )
        {
          v93 = *(unsigned int *)(v309 + 200);
          sub_2F76C40(a4, v93, (__int64 *)&v355, *(_QWORD **)(v6 + 40), 0, v95);
        }
        v96 = *(_QWORD *)(a3 + 64);
        if ( *(_QWORD *)(v6 + 920) == v96 || v96 != v46 )
          sub_2F771D0(a3, v93);
        sub_2F78160(a3, (__int64 *)&v355, 0);
        if ( v365 != v367 )
          _libc_free((unsigned __int64)v365);
        if ( v362 != v364 )
          _libc_free((unsigned __int64)v362);
        if ( v355 != &v357 )
          _libc_free((unsigned __int64)v355);
        goto LABEL_151;
      }
      v224 = v46;
      v225 = *(_QWORD *)(a5 + 32);
      for ( k = v46; (*(_BYTE *)(k + 44) & 4) != 0; k = *(_QWORD *)k & 0xFFFFFFFFFFFFFFF8LL )
        ;
      if ( (*(_DWORD *)(v46 + 44) & 8) != 0 )
      {
        do
          v224 = *(_QWORD *)(v224 + 8);
        while ( (*(_BYTE *)(v224 + 44) & 8) != 0 );
      }
      for ( m = *(_QWORD *)(v224 + 8); m != k; k = *(_QWORD *)(k + 8) )
      {
        v228 = *(_WORD *)(k + 68);
        if ( (unsigned __int16)(v228 - 14) > 4u && v228 != 24 )
          break;
      }
      v229 = *(_DWORD *)(v225 + 144);
      v230 = *(_QWORD *)(v225 + 128);
      if ( v229 )
      {
        v231 = (v229 - 1) & (((unsigned int)k >> 9) ^ ((unsigned int)k >> 4));
        v232 = (__int64 *)(v230 + 16LL * v231);
        v233 = *v232;
        if ( k == *v232 )
        {
LABEL_336:
          v93 = a5;
          sub_2F76630((__int64 *)&v355, a5, *(_QWORD *)(v6 + 40), v232[1], 0);
          goto LABEL_140;
        }
        v280 = 1;
        while ( v233 != -4096 )
        {
          v281 = v280 + 1;
          v231 = (v229 - 1) & (v231 + v280);
          v232 = (__int64 *)(v230 + 16LL * v231);
          v233 = *v232;
          if ( *v232 == k )
            goto LABEL_336;
          v280 = v281;
        }
      }
      v232 = (__int64 *)(v230 + 16LL * v229);
      goto LABEL_336;
    }
LABEL_151:
    v97 = *(_DWORD *)(v46 + 40) & 0xFFFFFF;
    if ( !v97 )
    {
      if ( !*(_DWORD *)(v309 + 212) )
      {
        v116 = *(unsigned __int16 *)(v309 + 252);
        if ( (unsigned __int16)v116 > 1u )
          goto LABEL_320;
      }
      goto LABEL_173;
    }
    v98 = v6;
    v99 = 0;
    v100 = v46;
    v101 = v98;
    do
    {
      while ( 1 )
      {
        v102 = *(_QWORD *)(v100 + 32) + 40 * v99;
        if ( !*(_BYTE *)v102 && (*(_BYTE *)(v102 + 3) & 0x10) != 0 )
          break;
LABEL_155:
        if ( v97 == (_DWORD)++v99 )
          goto LABEL_160;
      }
      v103 = *(_DWORD *)(v102 + 8);
      if ( (unsigned int)(v103 - 1) > 0x3FFFFFFE )
      {
        if ( v103 < 0 )
        {
          sub_2F941F0(v101, v309, v99);
          v302 = 1;
        }
        goto LABEL_155;
      }
      v104 = v99++;
      sub_2F934E0(v101, v309, v104);
    }
    while ( v97 != (_DWORD)v99 );
LABEL_160:
    v105 = v101;
    v46 = v100;
    v106 = *(_DWORD *)(v100 + 40);
    v6 = v105;
    v107 = v106 & 0xFFFFFF;
    if ( v107 )
    {
      v108 = v46;
      v109 = 0;
      v110 = v105;
      while ( 1 )
      {
        while ( 1 )
        {
          v111 = *(_QWORD *)(v108 + 32) + 40 * v109;
          if ( !*(_BYTE *)v111 && (*(_BYTE *)(v111 + 3) & 0x10) == 0 )
            break;
LABEL_163:
          if ( v107 == (_DWORD)++v109 )
            goto LABEL_168;
        }
        v112 = *(_DWORD *)(v111 + 8);
        v113 = (unsigned int)(v112 - 1);
        if ( (unsigned int)v113 > 0x3FFFFFFE )
        {
          if ( v112 < 0 )
          {
            v151 = *(_BYTE *)(v111 + 4);
            if ( (v151 & 1) == 0 && (v151 & 2) == 0 )
              sub_2F91D20(v110, v309, v109, v113, v89);
          }
          goto LABEL_163;
        }
        v114 = v109++;
        sub_2F934E0(v110, v309, v114);
        if ( v107 == (_DWORD)v109 )
        {
LABEL_168:
          v115 = v110;
          v46 = v108;
          v6 = v115;
          break;
        }
      }
    }
    v87 = *(unsigned int *)(v309 + 212);
    if ( !(_DWORD)v87 )
    {
      v116 = *(unsigned __int16 *)(v309 + 252);
      if ( (unsigned __int16)v116 > 1u )
      {
        if ( v302 )
          goto LABEL_172;
LABEL_320:
        if ( (unsigned int)*(unsigned __int16 *)(v46 + 68) - 1 <= 1
          && (*(_BYTE *)(*(_QWORD *)(v46 + 32) + 64LL) & 8) != 0 )
        {
LABEL_172:
          HIDWORD(v356) = v116 - 1;
          LODWORD(v356) = 3;
          v355 = (__int64 *)(v309 | 6);
          sub_2F8F1B0(v6 + 328, (__int64)&v355, 1u, v87, v89, v86);
        }
        else
        {
          v222 = *(_DWORD *)(v46 + 44);
          if ( (v222 & 4) != 0 || (v222 & 8) == 0 )
            v223 = (*(_QWORD *)(*(_QWORD *)(v46 + 16) + 24LL) >> 19) & 1LL;
          else
            LOBYTE(v223) = sub_2E88A90(v46, 0x80000, 1);
          if ( (_BYTE)v223 )
          {
            v116 = *(unsigned __int16 *)(v309 + 252);
            goto LABEL_172;
          }
        }
      }
    }
LABEL_173:
    v117 = *(__int64 (**)())(*(_QWORD *)v293 + 128LL);
    if ( v117 == sub_2DAC790 )
      BUG();
    v118 = v117();
    v295 = (*(__int64 (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)v118 + 24LL))(v118, v46);
    if ( v295 )
    {
      v123 = *(_QWORD *)(v6 + 2904);
      if ( v123 )
      {
        v124 = v309;
        v356 = 0;
        v355 = (__int64 *)(v309 | 6);
        v125 = *(_QWORD *)v309;
        if ( (unsigned int)*(unsigned __int16 *)(*(_QWORD *)v309 + 68LL) - 1 <= 1
          && (*(_BYTE *)(*(_QWORD *)(v125 + 32) + 64LL) & 0x10) != 0
          || ((v126 = *(_DWORD *)(v125 + 44), (v126 & 4) == 0) && (v126 & 8) != 0
            ? (LOBYTE(v127) = sub_2E88A90(v125, 0x100000, 1))
            : (v127 = (*(_QWORD *)(*(_QWORD *)(v125 + 16) + 24LL) >> 20) & 1LL),
              (_BYTE)v127) )
        {
          v263 = *(_QWORD *)v123;
          if ( (unsigned int)*(unsigned __int16 *)(*(_QWORD *)v123 + 68LL) - 1 > 1
            || (LODWORD(v128) = 1, (*(_BYTE *)(*(_QWORD *)(v263 + 32) + 64LL) & 8) == 0) )
          {
            v264 = *(_DWORD *)(v263 + 44);
            if ( (v264 & 4) != 0 || (v264 & 8) == 0 )
              v128 = (*(_QWORD *)(*(_QWORD *)(v263 + 16) + 24LL) >> 19) & 1LL;
            else
              LOBYTE(v128) = sub_2E88A90(v263, 0x80000, 1);
            LODWORD(v128) = (unsigned __int8)v128;
          }
        }
        else
        {
          LODWORD(v128) = 0;
        }
        HIDWORD(v356) = v128;
        sub_2F8F1B0(v123, (__int64)&v355, 1u, v124, v121, v122);
      }
      *(_QWORD *)(v6 + 2904) = v309;
      sub_2F92360(v6, (__int64)&v315, v119, v120, v121, v122);
      sub_2F92360(v6, (__int64)&v323, v129, v130, (unsigned __int64)&v323, v131);
      sub_2F92360(v6, (__int64)&v331, v132, v133, v134, v135);
      sub_2F92360(v6, (__int64)&v339, v136, v137, v138, v139);
      sub_2F92360(v6, (__int64)&v347, v140, v141, v142, v143);
      goto LABEL_73;
    }
    v152 = *(_DWORD *)(v46 + 44);
    if ( (v152 & 4) != 0 || (v152 & 8) == 0 )
      v153 = (*(_QWORD *)(*(_QWORD *)(v46 + 16) + 24LL) >> 21) & 1LL;
    else
      LOBYTE(v153) = sub_2E88A90(v46, 0x200000, 1);
    if ( (_BYTE)v153 && (*(_BYTE *)(v46 + 45) & 0x40) == 0 )
    {
      v154 = *(_QWORD *)(v6 + 2904);
      if ( v154 )
      {
        v155 = v309;
        v356 = 0;
        v355 = (__int64 *)(v309 | 6);
        v156 = *(_QWORD *)v309;
        if ( (unsigned int)*(unsigned __int16 *)(*(_QWORD *)v309 + 68LL) - 1 <= 1
          && (*(_BYTE *)(*(_QWORD *)(v156 + 32) + 64LL) & 0x10) != 0
          || ((v157 = *(_DWORD *)(v156 + 44), (v157 & 4) != 0) || (v157 & 8) == 0
            ? (v158 = (*(_QWORD *)(*(_QWORD *)(v156 + 16) + 24LL) >> 20) & 1LL)
            : (LOBYTE(v158) = sub_2E88A90(v156, 0x100000, 1)),
              (_BYTE)v158) )
        {
          v268 = *(_QWORD *)v154;
          if ( (unsigned int)*(unsigned __int16 *)(*(_QWORD *)v154 + 68LL) - 1 > 1
            || (LODWORD(v159) = 1, (*(_BYTE *)(*(_QWORD *)(v268 + 32) + 64LL) & 8) == 0) )
          {
            v269 = *(_DWORD *)(v268 + 44);
            if ( (v269 & 4) != 0 || (v269 & 8) == 0 )
              v159 = (*(_QWORD *)(*(_QWORD *)(v268 + 16) + 24LL) >> 19) & 1LL;
            else
              LOBYTE(v159) = sub_2E88A90(v268, 0x80000, 1);
            LODWORD(v159) = (unsigned __int8)v159;
          }
        }
        else
        {
          LODWORD(v159) = 0;
        }
        HIDWORD(v356) = v159;
        sub_2F8F1B0(v154, (__int64)&v355, 1u, v155, v121, v122);
      }
      v355 = (__int64 *)(*(_QWORD *)(v6 + 2920) & 0xFFFFFFFFFFFFFFFBLL);
      v303 = sub_2F96FE0((__int64)&v347, (__int64 *)&v355, v119, v120, v121, v122);
      v160 = (_QWORD *)sub_22077B0(0x18u);
      v160[2] = v309;
      sub_2208C80(v160, v303);
      ++*(_QWORD *)(v303 + 16);
      LODWORD(v354) = v354 + 1;
      if ( (unsigned int)qword_50253E8 <= (unsigned int)v354 )
      {
        v161 = &v357;
        v355 = 0;
        v356 = 1;
        do
        {
          *v161 = -4096;
          v161 += 2;
        }
        while ( v161 != (__int64 *)&v359 );
        v364[0] = 0;
        v359 = v361;
        v360 = 0x400000000LL;
        v162 = sub_2F91430(v160, v303, &v359);
        sub_2F97B50(v6, (__int64)&v347, (size_t)&v355, v162, v163, v164);
        v304 = v359;
        v165 = &v359[32 * (unsigned int)v360];
        if ( v359 != v165 )
        {
          v166 = (_QWORD **)(v165 - 24);
          do
          {
            v167 = *v166;
            v299 = v166 - 1;
            while ( v167 != v166 )
            {
              v168 = (unsigned __int64)v167;
              v167 = (_QWORD *)*v167;
              j_j___libc_free_0(v168);
            }
            v166 -= 4;
          }
          while ( v304 != (_BYTE *)v299 );
          v165 = v359;
        }
        if ( v165 != v361 )
          _libc_free((unsigned __int64)v165);
        if ( (v356 & 1) == 0 )
          sub_C7D6A0(v357, 16LL * v358, 8);
      }
    }
    if ( (unsigned int)*(unsigned __int16 *)(v46 + 68) - 1 <= 1
      && (*(_BYTE *)(*(_QWORD *)(v46 + 32) + 64LL) & 0x10) != 0
      || ((v169 = *(_DWORD *)(v46 + 44), (v169 & 4) != 0) || (v169 & 8) == 0
        ? (v170 = (*(_QWORD *)(*(_QWORD *)(v46 + 16) + 24LL) >> 20) & 1LL)
        : (LOBYTE(v170) = sub_2E88A90(v46, 0x100000, 1)),
          (_BYTE)v170)
      || ((unsigned int)*(unsigned __int16 *)(v46 + 68) - 1 <= 1 && (*(_BYTE *)(*(_QWORD *)(v46 + 32) + 64LL) & 8) != 0
       || ((v209 = *(_DWORD *)(v46 + 44), (v209 & 4) != 0) || (v209 & 8) == 0
         ? (v210 = (*(_QWORD *)(*(_QWORD *)(v46 + 16) + 24LL) >> 19) & 1LL)
         : (LOBYTE(v210) = sub_2E88A90(v46, 0x80000, 1)),
           (_BYTE)v210))
      && !(unsigned __int8)sub_2E8AED0(v46) )
    {
      v171 = *(_QWORD *)(v6 + 2904);
      if ( v171 )
      {
        v172 = v309;
        v356 = 0;
        v355 = (__int64 *)(v309 | 6);
        v173 = *(_QWORD *)v309;
        if ( (unsigned int)*(unsigned __int16 *)(*(_QWORD *)v309 + 68LL) - 1 <= 1
          && (*(_BYTE *)(*(_QWORD *)(v173 + 32) + 64LL) & 0x10) != 0
          || ((v174 = *(_DWORD *)(v173 + 44), (v174 & 4) == 0) && (v174 & 8) != 0
            ? (LOBYTE(v175) = sub_2E88A90(v173, 0x100000, 1))
            : (v175 = (*(_QWORD *)(*(_QWORD *)(v173 + 16) + 24LL) >> 20) & 1LL),
              (_BYTE)v175) )
        {
          v261 = *(_QWORD *)v171;
          if ( (unsigned int)*(unsigned __int16 *)(*(_QWORD *)v171 + 68LL) - 1 > 1
            || (LODWORD(v176) = 1, (*(_BYTE *)(*(_QWORD *)(v261 + 32) + 64LL) & 8) == 0) )
          {
            v262 = *(_DWORD *)(v261 + 44);
            if ( (v262 & 4) != 0 || (v262 & 8) == 0 )
              v176 = (*(_QWORD *)(*(_QWORD *)(v261 + 16) + 24LL) >> 19) & 1LL;
            else
              LOBYTE(v176) = sub_2E88A90(v261, 0x80000, 1);
            LODWORD(v176) = (unsigned __int8)v176;
          }
        }
        else
        {
          LODWORD(v176) = 0;
        }
        HIDWORD(v356) = v176;
        sub_2F8F1B0(v171, (__int64)&v355, 1u, v172, v121, v122);
      }
      v177 = *(__int64 **)(v6 + 32);
      v312 = v314;
      v313 = 0x400000000LL;
      sub_2E79000(v177);
      v178 = *(_QWORD *)(v46 + 48);
      v179 = (int *)(v178 & 0xFFFFFFFFFFFFFFF8LL);
      if ( (v178 & 0xFFFFFFFFFFFFFFF8LL) != 0 )
      {
        v180 = *(_QWORD *)(v6 + 592);
        v181 = v178 & 7;
        if ( v181 )
        {
          if ( v181 == 3 )
          {
            v182 = v179 + 4;
            v183 = 2LL * *v179;
            goto LABEL_253;
          }
        }
        else
        {
          *(_QWORD *)(v46 + 48) = v179;
          v182 = (int *)(v46 + 48);
          v183 = 2;
LABEL_253:
          v290 = &v182[v183];
          if ( v182 != &v182[v183] )
          {
            v305 = v44;
            while ( 1 )
            {
              v193 = *(_QWORD *)v182;
              if ( (*(_BYTE *)(*(_QWORD *)v182 + 32LL) & 4) != 0
                || (*(_BYTE *)(v193 + 37) & 0xF) != 0
                || (v194 = *(_QWORD *)v193) == 0 )
              {
LABEL_267:
                v44 = v305;
                goto LABEL_268;
              }
              v184 = v194 >> 2;
              if ( (v194 & 4) != 0 )
              {
                v185 = v194 & 0xFFFFFFFFFFFFFFF8LL;
                v186 = v185;
                if ( !v185
                  || *(_BYTE *)(v180 + 670)
                  || (*(unsigned __int8 (__fastcall **)(unsigned __int64, __int64, __int64))(*(_QWORD *)v185 + 32LL))(
                       v185,
                       v180,
                       v184) )
                {
                  goto LABEL_267;
                }
                v187 = (*(__int64 (__fastcall **)(unsigned __int64, __int64))(*(_QWORD *)v186 + 40LL))(v186, v180);
                v190 = (unsigned int)v313;
                v191 = v313;
                if ( (unsigned int)v313 >= (unsigned __int64)HIDWORD(v313) )
                {
                  v221 = (2LL * v187) | v186 | 4;
                  if ( HIDWORD(v313) < (unsigned __int64)(unsigned int)v313 + 1 )
                  {
                    sub_C8D5F0((__int64)&v312, v314, (unsigned int)v313 + 1LL, 8u, v188, v189);
                    v190 = (unsigned int)v313;
                  }
                  *(_QWORD *)&v312[8 * v190] = v221;
                  LODWORD(v313) = v313 + 1;
                }
                else
                {
                  v192 = (__int64 *)&v312[8 * (unsigned int)v313];
                  if ( v192 )
                  {
                    *v192 = v186 | (2LL * v187) | 4;
                    v191 = v313;
                  }
                  LODWORD(v313) = v191 + 1;
                }
              }
              else
              {
                if ( (v184 & 1) != 0 || (v194 & 0xFFFFFFFFFFFFFFF8LL) == 0 )
                  goto LABEL_267;
                v355 = &v357;
                v356 = 0x400000000LL;
                if ( !(unsigned __int8)sub_98BCC0(v194 & 0xFFFFFFFFFFFFFFF8LL, (__int64)&v355) )
                {
                  v44 = v305;
                  if ( v355 != &v357 )
                    _libc_free((unsigned __int64)v355);
LABEL_268:
                  LODWORD(v313) = 0;
                  if ( (unsigned int)*(unsigned __int16 *)(v46 + 68) - 1 > 1 )
                    goto LABEL_280;
LABEL_269:
                  if ( (*(_BYTE *)(*(_QWORD *)(v46 + 32) + 64LL) & 0x10) != 0 )
                  {
LABEL_270:
                    if ( v295 )
                    {
                      v240 = &v323;
                      if ( &v312[8 * (unsigned int)v313] != v312 )
                      {
                        v300 = &v312[8 * (unsigned int)v313];
                        v296 = v44;
                        v241 = v6;
                        v242 = v312;
                        do
                        {
                          v245 = *v242 & 0xFFFFFFFFFFFFFFFCLL;
                          if ( (*v242 & 2) != 0 )
                          {
                            sub_2F92220(v241, (__int64 *)v309, (__int64)&v315, *v242 & 0xFFFFFFFFFFFFFFFCLL);
                            v243 = &v323;
                          }
                          else
                          {
                            sub_2F92220(v241, (__int64 *)v309, (__int64)&v331, *v242 & 0xFFFFFFFFFFFFFFFCLL);
                            v243 = &v339;
                          }
                          ++v242;
                          sub_2F92220(v241, (__int64 *)v309, (__int64)v243, v245);
                        }
                        while ( v300 != v242 );
                        v6 = v241;
                        v240 = &v323;
                        v44 = v296;
                        v246 = (__int64)&v312[8 * (unsigned int)v313];
                        if ( (_BYTE *)v246 != v312 )
                        {
                          v306 = v296;
                          v247 = (__int64 *)&v355;
                          v248 = &v312[8 * (unsigned int)v313];
                          v249 = v312;
                          do
                          {
                            v250 = &v331;
                            v291 = v240;
                            v297 = v247;
                            if ( (*v249 & 2) != 0 )
                              v250 = &v315;
                            v355 = (__int64 *)(*v249++ & 0xFFFFFFFFFFFFFFFCLL);
                            v251 = sub_2F96FE0((__int64)v250, v247, (__int64)v247, v246, (__int64)v240, v244);
                            v252 = (_QWORD *)sub_22077B0(0x18u);
                            v252[2] = v309;
                            sub_2208C80(v252, v251);
                            ++*(_QWORD *)(v251 + 16);
                            v247 = v297;
                            ++*((_DWORD *)v250 + 56);
                            v240 = v291;
                          }
                          while ( v248 != v249 );
                          v44 = v306;
                        }
                      }
                      sub_2F92220(v6, (__int64 *)v309, (__int64)v240, *(_QWORD *)(v6 + 2920) & 0xFFFFFFFFFFFFFFFBLL);
                      v199 = (__int64 *)v309;
                      v200 = (_QWORD *)v6;
                      sub_2F92220(v6, (__int64 *)v309, (__int64)&v315, *(_QWORD *)(v6 + 2920) & 0xFFFFFFFFFFFFFFFBLL);
                      v201 = (unsigned int)v330;
                      v202 = v322;
                    }
                    else
                    {
                      sub_2F92180(v6, (__int64 *)v309, (__int64)&v315);
                      sub_2F92180(v6, (__int64 *)v309, (__int64)&v331);
                      sub_2F92180(v6, (__int64 *)v309, (__int64)&v323);
                      sub_2F92180(v6, (__int64 *)v309, (__int64)&v339);
                      v355 = (__int64 *)(*(_QWORD *)(v6 + 2920) & 0xFFFFFFFFFFFFFFFBLL);
                      v199 = (__int64 *)sub_2F96FE0((__int64)&v315, (__int64 *)&v355, v195, v196, v197, v198);
                      v200 = (_QWORD *)sub_22077B0(0x18u);
                      v200[2] = v309;
                      sub_2208C80(v200, (__int64)v199);
                      ++v199[2];
                      v201 = (unsigned int)v330;
                      v202 = v322 + 1;
                      LODWORD(v322) = v322 + 1;
                    }
                    goto LABEL_272;
                  }
LABEL_280:
                  v204 = *(_DWORD *)(v46 + 44);
                  if ( (v204 & 4) != 0 || (v204 & 8) == 0 )
                    v205 = (*(_QWORD *)(*(_QWORD *)(v46 + 16) + 24LL) >> 20) & 1LL;
                  else
                    LOBYTE(v205) = sub_2E88A90(v46, 0x100000, 1);
                  if ( (_BYTE)v205 )
                    goto LABEL_270;
                  if ( v295 )
                  {
                    v307 = &v312[8 * (unsigned int)v313];
                    if ( v307 != (_QWORD *)v312 )
                    {
                      v298 = v44;
                      v253 = v312;
                      do
                      {
                        v260 = *v253 & 0xFFFFFFFFFFFFFFFCLL;
                        if ( (*v253 & 2) != 0 )
                        {
                          sub_2F92220(v6, (__int64 *)v309, (__int64)&v315, *v253 & 0xFFFFFFFFFFFFFFFCLL);
                          v257 = &v323;
                        }
                        else
                        {
                          sub_2F92220(v6, (__int64 *)v309, (__int64)&v331, *v253 & 0xFFFFFFFFFFFFFFFCLL);
                          v257 = &v339;
                        }
                        ++v253;
                        v292 = v257;
                        v355 = (__int64 *)v260;
                        v258 = sub_2F96FE0((__int64)v257, (__int64 *)&v355, v254, (__int64)v257, v255, v256);
                        v259 = (_QWORD *)sub_22077B0(0x18u);
                        v259[2] = v309;
                        sub_2208C80(v259, v258);
                        ++*(_QWORD *)(v258 + 16);
                        ++*((_DWORD *)v292 + 56);
                      }
                      while ( v307 != v253 );
                      v44 = v298;
                    }
                    v199 = (__int64 *)v309;
                    v200 = (_QWORD *)v6;
                    sub_2F92220(v6, (__int64 *)v309, (__int64)&v315, *(_QWORD *)(v6 + 2920) & 0xFFFFFFFFFFFFFFFBLL);
                    v201 = (unsigned int)v330;
                    v202 = v322;
                  }
                  else
                  {
                    sub_2F92180(v6, (__int64 *)v309, (__int64)&v315);
                    sub_2F92180(v6, (__int64 *)v309, (__int64)&v331);
                    v355 = (__int64 *)(*(_QWORD *)(v6 + 2920) & 0xFFFFFFFFFFFFFFFBLL);
                    v199 = (__int64 *)sub_2F96FE0((__int64)&v323, (__int64 *)&v355, v206, v207, (__int64)&v323, v208);
                    v200 = (_QWORD *)sub_22077B0(0x18u);
                    v200[2] = v309;
                    sub_2208C80(v200, (__int64)v199);
                    ++v199[2];
                    v201 = (unsigned int)(v330 + 1);
                    v202 = v322;
                    LODWORD(v330) = v330 + 1;
                  }
LABEL_272:
                  v203 = qword_50253E8;
                  if ( (int)v201 + v202 >= (unsigned int)qword_50253E8 )
                  {
                    v235 = sub_2F91430(v200, v199, v201);
                    v199 = &v315;
                    v200 = (_QWORD *)v6;
                    sub_2F97B50(v6, (__int64)&v315, (size_t)&v323, v235, (__int64)&v323, v236);
                    v203 = qword_50253E8;
                  }
                  if ( (int)v346 + (int)v338 >= v203 )
                  {
                    v237 = sub_2F91430(v200, v199, v201);
                    sub_2F97B50(v6, (__int64)&v331, (size_t)&v339, v237, v238, v239);
                  }
                  if ( v312 != v314 )
                    _libc_free((unsigned __int64)v312);
                  goto LABEL_73;
                }
                v213 = &v355[(unsigned int)v356];
                if ( v355 != v213 )
                {
                  v284 = v6;
                  v214 = v182;
                  v215 = &v355[(unsigned int)v356];
                  v216 = v355;
                  do
                  {
                    v217 = (unsigned int)v313;
                    v218 = *v216;
                    v219 = v313;
                    if ( (unsigned int)v313 >= (unsigned __int64)HIDWORD(v313) )
                    {
                      v286 = v218 & 0xFFFFFFFFFFFFFFF9LL | 2;
                      if ( HIDWORD(v313) < (unsigned __int64)(unsigned int)v313 + 1 )
                      {
                        sub_C8D5F0((__int64)&v312, v314, (unsigned int)v313 + 1LL, 8u, v211, v212);
                        v217 = (unsigned int)v313;
                      }
                      *(_QWORD *)&v312[8 * v217] = v286;
                      LODWORD(v313) = v313 + 1;
                    }
                    else
                    {
                      v220 = (unsigned __int64 *)&v312[8 * (unsigned int)v313];
                      if ( v220 )
                      {
                        *v220 = v218 & 0xFFFFFFFFFFFFFFF9LL | 2;
                        v219 = v313;
                      }
                      LODWORD(v313) = v219 + 1;
                    }
                    ++v216;
                  }
                  while ( v215 != v216 );
                  v182 = v214;
                  v213 = v355;
                  v6 = v284;
                }
                if ( v213 != &v357 )
                  _libc_free((unsigned __int64)v213);
              }
              v182 += 2;
              if ( v290 == v182 )
              {
                v44 = v305;
                break;
              }
            }
          }
        }
      }
      v295 = 1;
      if ( (unsigned int)*(unsigned __int16 *)(v46 + 68) - 1 <= 1 )
        goto LABEL_269;
      goto LABEL_280;
    }
LABEL_73:
    v50 = (_QWORD *)(*(_QWORD *)v44 & 0xFFFFFFFFFFFFFFF8LL);
    v51 = v50;
    if ( !v50 )
      goto LABEL_459;
    v44 = *(_QWORD *)v44 & 0xFFFFFFFFFFFFFFF8LL;
    v52 = *v50;
    if ( (v52 & 4) == 0 && (*((_BYTE *)v51 + 44) & 4) != 0 )
    {
      for ( n = v52; ; n = *(_QWORD *)v44 )
      {
        v44 = n & 0xFFFFFFFFFFFFFFF8LL;
        if ( (*(_BYTE *)(v44 + 44) & 4) == 0 )
          break;
      }
    }
  }
  while ( v308 != v44 );
  if ( v311 )
    *(_QWORD *)(v6 + 3368) = v311;
LABEL_82:
  v54 = (unsigned int)v352;
  v55 = v351;
  *(_DWORD *)(v6 + 976) = 0;
  *(_QWORD *)(v6 + 1192) = 0xFFFFFFFFLL;
  *(_DWORD *)(v6 + 1208) = 0;
  v56 = &v55[32 * v54];
  *(_QWORD *)(v6 + 1424) = 0xFFFFFFFFLL;
  *(_DWORD *)(v6 + 1440) = 0;
  *(_QWORD *)(v6 + 1784) = 0xFFFFFFFFLL;
  *(_DWORD *)(v6 + 1800) = 0;
  *(_QWORD *)(v6 + 2208) = 0xFFFFFFFFLL;
  *(_BYTE *)(v6 + 2944) = 1;
  if ( v55 != v56 )
  {
    v57 = (_QWORD **)(v56 - 24);
    do
    {
      v58 = *v57;
      v59 = v57 - 1;
      while ( v58 != v57 )
      {
        v60 = (unsigned __int64)v58;
        v58 = (_QWORD *)*v58;
        j_j___libc_free_0(v60);
      }
      v57 -= 4;
    }
    while ( v55 != (_BYTE *)v59 );
    v56 = v351;
  }
  if ( v56 != v353 )
    _libc_free((unsigned __int64)v56);
  if ( (v348 & 1) == 0 )
    sub_C7D6A0(v349, 16LL * v350, 8);
  v61 = v343;
  v62 = &v343[32 * (unsigned int)v344];
  if ( v343 != v62 )
  {
    v63 = (_QWORD **)(v62 - 24);
    do
    {
      v64 = *v63;
      v65 = v63 - 1;
      while ( v64 != v63 )
      {
        v66 = (unsigned __int64)v64;
        v64 = (_QWORD *)*v64;
        j_j___libc_free_0(v66);
      }
      v63 -= 4;
    }
    while ( v61 != (_BYTE *)v65 );
    v62 = v343;
  }
  if ( v62 != v345 )
    _libc_free((unsigned __int64)v62);
  if ( (v340 & 1) == 0 )
    sub_C7D6A0(v341, 16LL * v342, 8);
  v67 = v335;
  v68 = &v335[32 * (unsigned int)v336];
  if ( v335 != v68 )
  {
    v69 = (_QWORD **)(v68 - 24);
    do
    {
      v70 = *v69;
      v71 = v69 - 1;
      while ( v70 != v69 )
      {
        v72 = (unsigned __int64)v70;
        v70 = (_QWORD *)*v70;
        j_j___libc_free_0(v72);
      }
      v69 -= 4;
    }
    while ( v67 != (_BYTE *)v71 );
    v68 = v335;
  }
  if ( v68 != v337 )
    _libc_free((unsigned __int64)v68);
  if ( (v332 & 1) == 0 )
    sub_C7D6A0(v333, 16LL * v334, 8);
  v73 = v327;
  v74 = &v327[32 * (unsigned int)v328];
  if ( v327 != v74 )
  {
    v75 = (_QWORD **)(v74 - 24);
    do
    {
      v76 = *v75;
      v77 = v75 - 1;
      while ( v76 != v75 )
      {
        v78 = (unsigned __int64)v76;
        v76 = (_QWORD *)*v76;
        j_j___libc_free_0(v78);
      }
      v75 -= 4;
    }
    while ( v73 != (_BYTE *)v77 );
    v74 = v327;
  }
  if ( v74 != v329 )
    _libc_free((unsigned __int64)v74);
  if ( (v324 & 1) == 0 )
    sub_C7D6A0(v325, 16LL * v326, 8);
  v79 = v319;
  v80 = &v319[32 * (unsigned int)v320];
  if ( v319 != v80 )
  {
    v81 = (_QWORD **)(v80 - 24);
    do
    {
      v82 = *v81;
      v83 = v81 - 1;
      while ( v81 != v82 )
      {
        v84 = (unsigned __int64)v82;
        v82 = (_QWORD *)*v82;
        j_j___libc_free_0(v84);
      }
      v81 -= 4;
    }
    while ( v79 != (_BYTE *)v83 );
    v80 = v319;
  }
  if ( v80 != v321 )
    _libc_free((unsigned __int64)v80);
  if ( (v316 & 1) == 0 )
    sub_C7D6A0(v317, 16LL * v318, 8);
}
