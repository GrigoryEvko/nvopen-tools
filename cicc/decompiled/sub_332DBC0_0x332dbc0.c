// Function: sub_332DBC0
// Address: 0x332dbc0
//
__int64 __fastcall sub_332DBC0(__int64 a1, __int64 a2, __int64 a3, __int64 a4, __int64 a5)
{
  unsigned int v5; // r14d
  __int64 v6; // rsi
  unsigned __int16 *v7; // rdx
  int v8; // eax
  __int64 v9; // rdx
  unsigned int *v10; // rdx
  __int64 v11; // rcx
  unsigned __int16 *v12; // rdx
  __int64 v13; // rsi
  __int64 v14; // rdi
  __int16 v15; // ax
  __int64 v16; // rdx
  unsigned __int64 v17; // r9
  unsigned __int32 v18; // r10d
  unsigned __int64 v19; // rbx
  __int64 v20; // rcx
  char v21; // r11
  __int128 *v22; // r12
  __int64 v23; // r8
  __int128 *v24; // rdx
  unsigned __int64 v25; // rsi
  int v26; // edi
  int v27; // eax
  __int64 v28; // r13
  __int64 v29; // r15
  __int128 *v30; // rax
  __int64 v31; // r12
  __int64 **v32; // rax
  __int64 v33; // rax
  __int64 v34; // rdx
  __int64 v35; // rdx
  int v36; // eax
  __int64 v37; // rax
  unsigned __int64 v38; // rdx
  int v39; // r12d
  __int64 v40; // r13
  __int64 v41; // r15
  __int64 (__fastcall *v42)(__int64, __int64, unsigned int); // r14
  __int64 v43; // rax
  int v44; // edx
  unsigned __int16 v45; // ax
  __int64 v46; // r12
  char v47; // al
  __int64 v48; // rdx
  __int64 v49; // r13
  __int64 v50; // r14
  __int16 v51; // bx
  __int64 v52; // rax
  void *v53; // rdi
  __int64 v54; // r13
  unsigned __int64 v56; // r8
  __int64 v57; // rcx
  __int64 v58; // r9
  char **v59; // r14
  __m128i *v60; // r13
  unsigned __int64 v61; // rdx
  __m128i *v62; // rbx
  __m128i *v63; // rax
  char *v64; // r12
  const __m128i *v65; // r13
  __int64 v66; // rax
  __int64 v67; // rdx
  char v68; // r14
  __m128i *v69; // rax
  _QWORD *v70; // rdx
  __int64 v71; // r9
  __int64 v72; // r10
  __int64 v73; // rdi
  unsigned int v74; // r14d
  bool (__fastcall *v75)(__int64, __int64, __int64, unsigned int); // rax
  size_t v76; // r12
  _BYTE *v77; // rsi
  __int64 v78; // r11
  __int64 v79; // rax
  __int64 v80; // rdx
  _DWORD *v81; // rcx
  __int64 v82; // r8
  unsigned int v83; // ecx
  __int64 v84; // rdi
  __int64 v85; // r8
  __int64 v86; // rcx
  __int64 (*v87)(); // rax
  int v88; // r14d
  int v89; // edx
  int v90; // r15d
  __int64 v91; // rdi
  __int64 v92; // rax
  __int64 v93; // rdx
  __int64 v94; // r12
  __int64 v95; // r13
  _QWORD *v96; // r9
  __int64 v97; // rax
  __int64 v98; // rax
  __m128i v99; // xmm0
  char v100; // al
  unsigned __int64 v101; // rax
  __int64 v102; // rsi
  __int16 *v103; // rax
  __int64 v104; // r14
  __int64 v105; // rdx
  void *v106; // rax
  __int64 v107; // rax
  unsigned __int64 v108; // rsi
  __int64 v109; // rcx
  const __m128i *v110; // rdx
  void **v111; // rsi
  __m128i *v112; // rax
  __m128i v113; // xmm3
  __int64 v114; // rcx
  __int64 *v115; // rax
  __int64 v116; // rax
  __int64 v117; // rdx
  char *v118; // r14
  __int64 v119; // r15
  const __m128i *v120; // rdx
  __int64 v121; // r13
  unsigned int v122; // eax
  char *v123; // rsi
  __int64 v124; // rbx
  unsigned int v125; // r15d
  __int64 v126; // r14
  int v127; // r12d
  __int64 v128; // rdx
  unsigned __int64 v129; // r9
  __int64 v130; // rax
  int v131; // r9d
  unsigned int v132; // r12d
  char *v133; // rsi
  __int64 v134; // rax
  __int64 v135; // rbx
  __int64 v136; // r9
  int v137; // r14d
  int v138; // r13d
  __int64 v139; // rdx
  __int64 (*v140)(); // rax
  __int64 v141; // rdx
  void *v142; // rax
  __int64 v143; // rdx
  char *v144; // rdi
  void **v145; // rbx
  unsigned __int64 v146; // rsi
  int v147; // eax
  __int64 v148; // rdx
  __m128i *v149; // rdi
  __m128i v150; // xmm1
  char *v151; // r12
  char *v152; // rbx
  unsigned __int64 v153; // rdi
  __int64 v154; // rdi
  __int64 v155; // rdi
  void *v156; // rdi
  _QWORD *v157; // rbx
  _QWORD *v158; // r12
  unsigned __int64 v159; // rdi
  const __m128i *v160; // rbx
  const __m128i *v161; // r12
  unsigned __int64 v162; // rdi
  signed __int64 v163; // rbx
  bool v164; // al
  void *v165; // rdx
  __int64 v166; // rcx
  unsigned __int64 v167; // rsi
  const __m128i *v168; // rbx
  char *v169; // rax
  unsigned __int64 v170; // rdx
  __m128i *v171; // rax
  __m128i v172; // xmm5
  __int64 v173; // r12
  __int64 v174; // r13
  unsigned __int64 *v175; // rax
  const __m128i *v176; // rcx
  __int64 v177; // rsi
  __int64 i; // rdx
  __int32 v179; // edi
  unsigned int v180; // edx
  __int64 v181; // rsi
  unsigned __int32 v182; // edi
  __int64 v183; // rcx
  _QWORD *v184; // rbx
  _QWORD *v185; // r12
  unsigned __int64 v186; // rdi
  const __m128i *v187; // rbx
  const __m128i *v188; // r12
  unsigned __int64 v189; // rdi
  __int64 v190; // rdx
  __int64 v191; // rax
  __int64 v192; // rbx
  unsigned int v193; // edx
  unsigned int v194; // r14d
  signed __int64 v195; // rbx
  __int64 v196; // rsi
  __int128 v197; // [rsp+0h] [rbp-FE0h]
  __int128 v198; // [rsp+0h] [rbp-FE0h]
  __int128 v199; // [rsp+0h] [rbp-FE0h]
  __int64 v200; // [rsp+10h] [rbp-FD0h]
  __int64 v201; // [rsp+30h] [rbp-FB0h]
  __int64 v202; // [rsp+50h] [rbp-F90h]
  __int64 n; // [rsp+60h] [rbp-F80h]
  char **v204; // [rsp+68h] [rbp-F78h]
  __int64 v205; // [rsp+68h] [rbp-F78h]
  __m128i *v206; // [rsp+70h] [rbp-F70h]
  __int64 v207; // [rsp+70h] [rbp-F70h]
  unsigned __int16 v208; // [rsp+78h] [rbp-F68h]
  unsigned __int64 v209; // [rsp+80h] [rbp-F60h]
  __int64 v210; // [rsp+80h] [rbp-F60h]
  __int64 v211; // [rsp+88h] [rbp-F58h]
  unsigned __int64 v212; // [rsp+90h] [rbp-F50h]
  unsigned __int32 v214; // [rsp+A0h] [rbp-F40h]
  unsigned __int64 v215; // [rsp+A0h] [rbp-F40h]
  char **v216; // [rsp+A8h] [rbp-F38h]
  __int64 v217; // [rsp+A8h] [rbp-F38h]
  __m128i v218; // [rsp+B0h] [rbp-F30h] BYREF
  void *v219; // [rsp+C0h] [rbp-F20h]
  __int64 v220; // [rsp+C8h] [rbp-F18h]
  char *v221; // [rsp+D0h] [rbp-F10h]
  int v222; // [rsp+D8h] [rbp-F08h]
  unsigned int v223; // [rsp+DCh] [rbp-F04h]
  void *v224[2]; // [rsp+E0h] [rbp-F00h]
  __int64 v225; // [rsp+F0h] [rbp-EF0h]
  _QWORD *v226; // [rsp+F8h] [rbp-EE8h]
  __int64 v227; // [rsp+100h] [rbp-EE0h]
  __int64 v228; // [rsp+108h] [rbp-ED8h]
  __int64 v229; // [rsp+110h] [rbp-ED0h] BYREF
  int v230; // [rsp+118h] [rbp-EC8h]
  __int64 v231; // [rsp+120h] [rbp-EC0h] BYREF
  __int64 v232; // [rsp+128h] [rbp-EB8h]
  __int16 v233; // [rsp+130h] [rbp-EB0h] BYREF
  __int64 v234; // [rsp+138h] [rbp-EA8h]
  __int64 v235; // [rsp+140h] [rbp-EA0h] BYREF
  int v236; // [rsp+148h] [rbp-E98h]
  void *v237; // [rsp+150h] [rbp-E90h] BYREF
  __int64 v238; // [rsp+158h] [rbp-E88h]
  char v239; // [rsp+160h] [rbp-E80h] BYREF
  char *v240; // [rsp+1A0h] [rbp-E40h] BYREF
  __int64 v241; // [rsp+1A8h] [rbp-E38h]
  _DWORD v242[16]; // [rsp+1B0h] [rbp-E30h] BYREF
  void *v243; // [rsp+1F0h] [rbp-DF0h] BYREF
  __int64 v244; // [rsp+1F8h] [rbp-DE8h]
  _BYTE *v245; // [rsp+200h] [rbp-DE0h] BYREF
  __int64 v246; // [rsp+208h] [rbp-DD8h]
  _BYTE v247[64]; // [rsp+210h] [rbp-DD0h] BYREF
  __int128 v248; // [rsp+250h] [rbp-D90h] BYREF
  __int64 v249[32]; // [rsp+260h] [rbp-D80h] BYREF
  char v250; // [rsp+360h] [rbp-C80h] BYREF
  __int64 v251; // [rsp+368h] [rbp-C78h] BYREF
  unsigned __int64 v252; // [rsp+370h] [rbp-C70h]
  __int64 *v253; // [rsp+378h] [rbp-C68h]
  __int64 *v254; // [rsp+380h] [rbp-C60h]
  __int64 v255; // [rsp+388h] [rbp-C58h]
  const __m128i *v256; // [rsp+390h] [rbp-C50h] BYREF
  __int64 v257; // [rsp+398h] [rbp-C48h]
  __m128i v258[96]; // [rsp+3A0h] [rbp-C40h] BYREF
  void *v259; // [rsp+9A0h] [rbp-640h] BYREF
  __int64 v260; // [rsp+9A8h] [rbp-638h]
  _BYTE v261[1584]; // [rsp+9B0h] [rbp-630h] BYREF

  v226 = (_QWORD *)a2;
  v5 = *(_DWORD *)(a2 + 64);
  v6 = *(_QWORD *)(a2 + 80);
  v229 = v6;
  if ( v6 )
    sub_B96E90((__int64)&v229, v6, 1);
  v7 = (unsigned __int16 *)v226[6];
  v230 = *((_DWORD *)v226 + 18);
  v8 = *v7;
  v9 = *((_QWORD *)v7 + 1);
  LOWORD(v231) = v8;
  v232 = v9;
  v10 = (unsigned int *)v226[5];
  v11 = *(_QWORD *)v10;
  v12 = (unsigned __int16 *)(*(_QWORD *)(*(_QWORD *)v10 + 48LL) + 16LL * v10[2]);
  v13 = *v12;
  v14 = *((_QWORD *)v12 + 1);
  LOWORD(v225) = *v12;
  v218.m128i_i64[0] = v14;
  if ( (_WORD)v8 )
  {
    v15 = word_4456580[v8 - 1];
    v16 = 0;
  }
  else
  {
    v15 = sub_3009970((__int64)&v231, v13, (__int64)v12, v11, a5);
  }
  v233 = v15;
  v234 = v16;
  if ( !v5 )
    goto LABEL_115;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  LODWORD(v224[0]) = 0;
  LODWORD(v20) = 0;
  v21 = 1;
  v22 = (__int128 *)v226[5];
  LOBYTE(v223) = 0;
  v23 = 1;
  v24 = v22;
  do
  {
    while ( 1 )
    {
      v25 = *(_QWORD *)v24;
      v26 = *((_DWORD *)v24 + 2);
      v27 = *(_DWORD *)(*(_QWORD *)v24 + 24LL);
      if ( v27 != 51 )
        break;
LABEL_12:
      v20 = (unsigned int)(v20 + 1);
      v24 = (__int128 *)((char *)v24 + 40);
      if ( (_DWORD)v20 == v5 )
        goto LABEL_20;
    }
    if ( (_DWORD)v20 )
      v23 = 0;
    if ( (unsigned int)(v27 - 11) > 1 && (unsigned int)(v27 - 35) > 1 )
      v21 = 0;
    if ( v19 )
    {
      if ( v17 )
      {
        if ( (v26 != v18 || v25 != v19) && (v26 != LODWORD(v224[0]) || v25 != v17) )
          LOBYTE(v223) = 1;
      }
      else if ( v26 != v18 || v25 != v19 )
      {
        LODWORD(v224[0]) = *((_DWORD *)v24 + 2);
        v17 = v25;
      }
      goto LABEL_12;
    }
    v20 = (unsigned int)(v20 + 1);
    v18 = *((_DWORD *)v24 + 2);
    v19 = *(_QWORD *)v24;
    v24 = (__int128 *)((char *)v24 + 40);
  }
  while ( (_DWORD)v20 != v5 );
LABEL_20:
  if ( !v19 )
  {
LABEL_115:
    v259 = 0;
    LODWORD(v260) = 0;
    v54 = sub_33F17F0(*(_QWORD *)(a1 + 16), 51, &v259, v231, v232);
    if ( v259 )
      sub_B91220((__int64)&v259, (__int64)v259);
    goto LABEL_47;
  }
  if ( (_BYTE)v23 )
  {
    v54 = sub_33FAF80(*(_QWORD *)(a1 + 16), 167, (unsigned int)&v229, v231, v232, v17, *v22);
    goto LABEL_47;
  }
  if ( !v21 )
  {
    v56 = 0;
    v57 = 0;
    LODWORD(v251) = 0;
    *(_QWORD *)&v248 = v249;
    *((_QWORD *)&v248 + 1) = 0x1000000000LL;
    v209 = v5;
    v253 = &v251;
    v225 = 40LL * v5;
    v221 = &v250;
    v252 = 0;
    v254 = &v251;
    v255 = 0;
    v214 = v18;
    v212 = v19;
    v216 = (char **)v17;
    v58 = (__int64)v22;
    v222 = v5;
    v59 = 0;
    while ( 1 )
    {
      v60 = (__m128i *)((char *)v59 + v58);
      v61 = *(unsigned __int64 *)((char *)v59 + v58);
      if ( *(_DWORD *)(v61 + 24) == 51 )
        goto LABEL_63;
      if ( !v57 )
      {
        v62 = (__m128i *)(v248 + 16LL * DWORD2(v248));
        if ( (__m128i *)v248 == v62 )
        {
          if ( DWORD2(v248) <= 0xFuLL )
          {
LABEL_106:
            v61 = DWORD2(v248) + 1LL;
            v99 = _mm_loadu_si128(v60);
            if ( v61 > HIDWORD(v248) )
            {
              v218 = v99;
              sub_C8D5F0((__int64)&v248, v249, v61, 0x10u, v56, v58);
              v99 = _mm_load_si128(&v218);
              v62 = (__m128i *)(v248 + 16LL * DWORD2(v248));
            }
            *v62 = v99;
            v57 = v255;
            ++DWORD2(v248);
LABEL_63:
            v59 += 5;
            if ( (char **)v225 == v59 )
              goto LABEL_76;
            goto LABEL_64;
          }
        }
        else
        {
          v63 = (__m128i *)v248;
          while ( v61 != v63->m128i_i64[0] || v63->m128i_i32[2] != v60->m128i_i32[2] )
          {
            if ( v62 == ++v63 )
              goto LABEL_65;
          }
          if ( v63 != v62 )
            goto LABEL_63;
LABEL_65:
          if ( DWORD2(v248) <= 0xFuLL )
            goto LABEL_106;
          v204 = v59;
          v64 = v221;
          v206 = (__m128i *)((char *)v59 + v58);
          v65 = (const __m128i *)v248;
          do
          {
            v66 = sub_3055200(v64, (__int64)&v251, (__int64)v65);
            if ( v67 )
            {
              v68 = 1;
              if ( !v66 && (__int64 *)v67 != &v251 )
              {
                v101 = *(_QWORD *)(v67 + 32);
                if ( v65->m128i_i64[0] >= v101
                  && (v65->m128i_i64[0] != v101 || v65->m128i_i32[2] >= *(_DWORD *)(v67 + 40)) )
                {
                  v68 = 0;
                }
              }
              v218.m128i_i64[0] = v67;
              v69 = (__m128i *)sub_22077B0(0x30u);
              v70 = (_QWORD *)v218.m128i_i64[0];
              v69[2] = _mm_loadu_si128(v65);
              sub_220F040(v68, (__int64)v69, v70, &v251);
              ++v255;
            }
            ++v65;
          }
          while ( v62 != v65 );
          v60 = v206;
          v59 = v204;
        }
        DWORD2(v248) = 0;
      }
      v59 += 5;
      sub_3055130((__int64)v221, v60);
      v57 = v255;
      if ( (char **)v225 == v59 )
      {
LABEL_76:
        if ( !v57 )
          v57 = DWORD2(v248);
        v71 = (__int64)v216;
        v72 = v214;
        v73 = *(_QWORD *)(a1 + 8);
        v74 = v222;
        v75 = *(bool (__fastcall **)(__int64, __int64, __int64, unsigned int))(*(_QWORD *)v73 + 192LL);
        if ( v75 == sub_2FE2F20 )
        {
          if ( (unsigned int)v57 > 2 )
            goto LABEL_112;
        }
        else
        {
          v218.m128i_i32[0] = v214;
          v225 = (__int64)v216;
          v164 = v75(v73, (unsigned int)v231, v232, v57);
          v71 = v225;
          v72 = v218.m128i_u32[0];
          if ( !v164 )
            goto LABEL_112;
        }
        if ( !(_BYTE)v223 )
        {
          v259 = v261;
          v260 = 0x800000000LL;
          v76 = 4 * v209;
          if ( v74 > 8 )
          {
            v223 = v72;
            v225 = v71;
            sub_C8D5F0((__int64)&v259, v261, v209, 4u, v56, v71);
            memset(v259, 255, v76);
            LODWORD(v260) = v74;
            v77 = v259;
            v71 = v225;
            v72 = v223;
          }
          else
          {
            if ( v76 )
            {
              v223 = v72;
              v225 = v71;
              memset(v261, 255, 4 * v209);
              v72 = v223;
              v71 = v225;
            }
            LODWORD(v260) = v74;
            v77 = v261;
          }
          v78 = (__int64)v226;
          v79 = 0;
          v80 = 0;
          do
          {
            v81 = (_DWORD *)(v80 + *(_QWORD *)(v78 + 40));
            v82 = *(_QWORD *)v81;
            if ( *(_DWORD *)(*(_QWORD *)v81 + 24LL) != 51 )
            {
              if ( v81[2] != (_DWORD)v72 || (v83 = 0, v212 != v82) )
                v83 = v74;
              *(_DWORD *)&v77[v79] = v83;
              v77 = v259;
            }
            v79 += 4;
            v80 += 40;
          }
          while ( 4 * v209 != v79 );
          v84 = *(_QWORD *)(a1 + 8);
          v85 = *(_QWORD *)(v226[6] + 8LL);
          v86 = *(unsigned __int16 *)v226[6];
          v87 = *(__int64 (**)())(*(_QWORD *)v84 + 624LL);
          if ( v87 != sub_2FE3180 )
          {
            v223 = v72;
            v225 = v71;
            v100 = ((__int64 (__fastcall *)(__int64, _BYTE *, _QWORD, __int64, __int64))v87)(
                     v84,
                     v77,
                     (unsigned int)v260,
                     v86,
                     v85);
            v71 = v225;
            v72 = v223;
            if ( !v100 )
            {
              if ( v259 != v261 )
                _libc_free((unsigned __int64)v259);
              goto LABEL_112;
            }
          }
          v226 = (_QWORD *)v71;
          *((_QWORD *)&v197 + 1) = v72;
          *(_QWORD *)&v197 = v212;
          v88 = sub_33FAF80(*(_QWORD *)(a1 + 16), 167, (unsigned int)&v229, v231, v232, v71, v197);
          v90 = v89;
          v91 = *(_QWORD *)(a1 + 16);
          if ( v226 )
          {
            *((_QWORD *)&v198 + 1) = LODWORD(v224[0]);
            *(_QWORD *)&v198 = v226;
            v92 = sub_33FAF80(v91, 167, (unsigned int)&v229, v231, v232, (_DWORD)v226, v198);
            v228 = v93;
            v94 = v92;
            v227 = v92;
            v95 = (unsigned int)v93;
          }
          else
          {
            v225 = (__int64)&v256;
            v256 = 0;
            LODWORD(v257) = 0;
            v226 = (_QWORD *)sub_33F17F0(v91, 51, &v256, v231, v232);
            v224[0] = v165;
            if ( v256 )
              sub_B91220(v225, (__int64)v256);
            v94 = (__int64)v226;
            v95 = LODWORD(v224[0]);
          }
          v54 = sub_33FCE10(
                  *(_QWORD *)(a1 + 16),
                  v231,
                  v232,
                  (unsigned int)&v229,
                  v88,
                  v90,
                  v94,
                  v95,
                  (__int64)v259,
                  (unsigned int)v260);
          if ( v259 != v261 )
            _libc_free((unsigned __int64)v259);
LABEL_113:
          sub_3325AF0(v252);
          v53 = (void *)v248;
          if ( (__int64 *)v248 != v249 )
            goto LABEL_46;
          goto LABEL_47;
        }
        v202 = *(_QWORD *)(a1 + 16);
        v205 = *(_QWORD *)(a1 + 8);
        v223 = *((_DWORD *)v226 + 16);
        v102 = v226[10];
        v235 = v102;
        if ( v102 )
          sub_B96E90((__int64)&v235, v102, 1);
        v201 = 0;
        v222 = 0;
        v236 = *((_DWORD *)v226 + 18);
        v103 = (__int16 *)v226[6];
        v207 = *((_QWORD *)v103 + 1);
        v208 = *v103;
        v215 = v223;
        n = 4LL * v223;
        while ( 1 )
        {
          v104 = 0;
          v257 = 0x1000000000LL;
          v256 = v258;
          v260 = 0x1000000000LL;
          v259 = v261;
          if ( !v223 )
          {
            v173 = 0;
            *(__m128i *)v224 = _mm_load_si128(v258);
            v174 = 0;
            if ( !v222 )
            {
              HIDWORD(v244) = 16;
              v243 = &v245;
              goto LABEL_234;
            }
LABEL_271:
            v243 = 0;
            LODWORD(v244) = 0;
            v192 = sub_33F17F0(v202, 51, &v243, v208, v207);
            v194 = v193;
            if ( v243 )
              sub_B91220((__int64)&v243, (__int64)v243);
            v173 = v192;
            v174 = v194;
LABEL_274:
            v243 = &v245;
            v244 = 0x1000000000LL;
            if ( v215 > 0x10 )
              goto LABEL_281;
            if ( v215 )
              goto LABEL_267;
LABEL_234:
            LODWORD(v244) = v223;
            v175 = (unsigned __int64 *)&v245;
            goto LABEL_235;
          }
          do
          {
            v115 = (__int64 *)(v226[5] + 40 * v104);
            v114 = *v115;
            if ( *(_DWORD *)(*v115 + 24) != 51 )
            {
              if ( v222 )
              {
                *((_QWORD *)&v199 + 1) = v115[1];
                v116 = v211;
                LOWORD(v116) = v208;
                *(_QWORD *)&v199 = v114;
                v211 = v116;
                v106 = (void *)sub_33FAF80(v202, 167, (unsigned int)&v235, v116, v207, v71, v199);
              }
              else
              {
                v105 = 0;
                v106 = 0;
              }
              v243 = v106;
              LODWORD(v244) = v105;
              v240 = (char *)v242;
              v242[0] = v104;
              v241 = 0x1000000001LL;
              v245 = v247;
              v246 = 0x1000000000LL;
              sub_33256C0((__int64)&v245, &v240, v105, v114, v56, v71);
              v107 = (unsigned int)v257;
              v108 = (unsigned int)v257 + 1LL;
              v109 = (unsigned int)v257;
              if ( v108 > HIDWORD(v257) )
              {
                if ( v256 > (const __m128i *)&v243
                  || (v224[0] = (void *)v256, &v243 >= (void **)&v256[6 * (unsigned int)v257]) )
                {
                  sub_332D670((__int64)&v256, v108, HIDWORD(v257), (__int64)v256, v56, v71);
                  v107 = (unsigned int)v257;
                  v110 = v256;
                  v111 = &v243;
                  v109 = (unsigned int)v257;
                }
                else
                {
                  sub_332D670((__int64)&v256, v108, HIDWORD(v257), (__int64)v256, v56, v71);
                  v110 = v256;
                  v107 = (unsigned int)v257;
                  v111 = (void **)((char *)v256->m128i_i64 + (char *)&v243 - (char *)v224[0]);
                  v109 = (unsigned int)v257;
                }
              }
              else
              {
                v110 = v256;
                v111 = &v243;
              }
              v112 = (__m128i *)&v110[6 * v107];
              if ( v112 )
              {
                v113 = _mm_loadu_si128((const __m128i *)v111);
                v112[1].m128i_i64[1] = 0x1000000000LL;
                v112[1].m128i_i64[0] = (__int64)v112[2].m128i_i64;
                *v112 = v113;
                if ( *((_DWORD *)v111 + 6) )
                  sub_33256C0((__int64)v112[1].m128i_i64, (char **)v111 + 2, (__int64)v112[2].m128i_i64, v109, v56, v71);
                LODWORD(v109) = v257;
              }
              v114 = (unsigned int)(v109 + 1);
              LODWORD(v257) = v114;
              if ( v245 != v247 )
                _libc_free((unsigned __int64)v245);
              if ( v240 != (char *)v242 )
                _libc_free((unsigned __int64)v240);
            }
            ++v104;
          }
          while ( v215 != v104 );
LABEL_180:
          if ( (unsigned int)v257 > 2uLL )
            break;
          v173 = 0;
          v174 = 0;
          *(__m128i *)v224 = _mm_loadu_si128(v256);
          if ( (unsigned int)v257 != 2 )
          {
            if ( v222 )
              goto LABEL_271;
            goto LABEL_274;
          }
          v173 = v256[6].m128i_i64[0];
          v190 = v256[6].m128i_u32[2];
          v243 = &v245;
          v174 = v190;
          v244 = 0x1000000000LL;
          if ( v215 <= 0x10 )
          {
LABEL_267:
            if ( n )
              memset(&v245, 255, n);
            goto LABEL_234;
          }
LABEL_281:
          sub_C8D5F0((__int64)&v243, &v245, v215, 4u, v56, v71);
          memset(v243, 255, n);
          LODWORD(v244) = v223;
          v175 = (unsigned __int64 *)v243;
LABEL_235:
          v176 = v256;
          v177 = v256[1].m128i_u32[2];
          if ( (_DWORD)v177 )
          {
            for ( i = 0; i != v177; ++i )
            {
              *((_DWORD *)v175 + *(int *)(v176[1].m128i_i64[0] + 4 * i)) = i;
              v176 = v256;
              v175 = (unsigned __int64 *)v243;
            }
          }
          v179 = v176[7].m128i_i32[2];
          if ( v179 )
          {
            v180 = v223;
            v181 = 0;
            v182 = v223 + v179;
            while ( 1 )
            {
              v183 = *(int *)(v176[7].m128i_i64[0] + v181);
              v181 += 4;
              *((_DWORD *)v175 + v183) = v180++;
              if ( v182 == v180 )
                break;
              v176 = v256;
              v175 = (unsigned __int64 *)v243;
            }
            v175 = (unsigned __int64 *)v243;
          }
          if ( v222 )
          {
            v200 = (__int64)v175;
            v191 = v211;
            LOWORD(v191) = v208;
            v211 = v191;
            v201 = sub_33FCE10(
                     v202,
                     v191,
                     v207,
                     (unsigned int)&v235,
                     v224[0],
                     v224[1],
                     v173,
                     v174,
                     v200,
                     (unsigned int)v244);
            v175 = (unsigned __int64 *)v243;
          }
          else
          {
            v71 = *(_QWORD *)(*(_QWORD *)v205 + 624LL);
            if ( (__int64 (*)())v71 != sub_2FE3180 )
            {
              v196 = v211;
              LOWORD(v196) = v208;
              v211 = v196;
              if ( !((unsigned __int8 (__fastcall *)(__int64, unsigned __int64 *, _QWORD, _QWORD, __int64))v71)(
                      v205,
                      v175,
                      (unsigned int)v244,
                      (unsigned int)v196,
                      v207) )
              {
                v156 = v243;
                if ( v243 != &v245 )
                  goto LABEL_194;
                goto LABEL_195;
              }
              v175 = (unsigned __int64 *)v243;
            }
          }
          if ( v175 != (unsigned __int64 *)&v245 )
            _libc_free((unsigned __int64)v175);
          v184 = v259;
          v185 = (char *)v259 + 96 * (unsigned int)v260;
          if ( v259 != v185 )
          {
            do
            {
              v185 -= 12;
              v186 = v185[2];
              if ( (_QWORD *)v186 != v185 + 4 )
                _libc_free(v186);
            }
            while ( v184 != v185 );
            v185 = v259;
          }
          if ( v185 != (_QWORD *)v261 )
            _libc_free((unsigned __int64)v185);
          v187 = v256;
          v188 = &v256[6 * (unsigned int)v257];
          if ( v256 != v188 )
          {
            do
            {
              v188 -= 6;
              v189 = v188[1].m128i_u64[0];
              if ( (const __m128i *)v189 != &v188[2] )
                _libc_free(v189);
            }
            while ( v187 != v188 );
            v188 = v256;
          }
          if ( v188 != v258 )
            _libc_free((unsigned __int64)v188);
          if ( v222 == 1 )
          {
            if ( v235 )
              sub_B91220((__int64)&v235, v235);
            v54 = v201;
            goto LABEL_113;
          }
          v222 = 1;
        }
        v151 = (char *)v259;
        v152 = (char *)v259 + 96 * (unsigned int)v260;
        while ( v151 != v152 )
        {
          while ( 1 )
          {
            v152 -= 96;
            v153 = *((_QWORD *)v152 + 2);
            if ( (char *)v153 == v152 + 32 )
              break;
            _libc_free(v153);
            if ( v151 == v152 )
              goto LABEL_141;
          }
        }
LABEL_141:
        LODWORD(v260) = 0;
        v117 = (unsigned int)v257;
        if ( (v257 & 0xFFFFFFFE) == 0 )
          goto LABEL_178;
        v118 = (char *)v242;
        v119 = 96;
        v210 = 192LL * ((((unsigned int)v257 & 0xFFFFFFFE) - 1) >> 1) + 288;
        v225 = (__int64)&v240;
        v224[0] = &v239;
        while ( 2 )
        {
          v237 = v224[0];
          v238 = 0x1000000000LL;
          if ( v215 > 0x10 )
          {
            sub_C8D5F0((__int64)&v237, v224[0], v215, 4u, v56, v71);
            memset(v237, 255, n);
            LODWORD(v238) = v223;
          }
          else
          {
            if ( n )
              memset(v224[0], 255, n);
            LODWORD(v238) = v223;
          }
          v120 = v256;
          v121 = v119 - 96;
          v240 = v118;
          v241 = 0x1000000000LL;
          v57 = *(unsigned int *)((char *)&v256[-4] + v119 - 8);
          v56 = v57 + *(unsigned int *)((char *)&v256[1].m128i_u32[2] + v119);
          v122 = *(_DWORD *)((char *)&v256[-4] + v119 - 8);
          if ( v56 > 0x10 )
          {
            sub_C8D5F0(v225, v118, v57 + *(unsigned int *)((char *)&v256[1].m128i_u32[2] + v119), 4u, v56, v71);
            v120 = v256;
            v122 = *(unsigned __int32 *)((char *)&v256[1].m128i_u32[2] + v121);
            if ( v122 )
              goto LABEL_149;
          }
          else if ( v122 )
          {
LABEL_149:
            v56 = v122;
            v218.m128i_i64[0] = v119;
            v123 = v118;
            v124 = 0;
            v125 = v122;
            v126 = v122;
            do
            {
              *((_DWORD *)v237 + v124) = v124;
              v127 = *(_DWORD *)(*(__int64 *)((char *)v256[1].m128i_i64 + v121) + 4 * v124);
              v128 = (unsigned int)v241;
              v129 = (unsigned int)v241 + 1LL;
              if ( v129 > HIDWORD(v241) )
              {
                v221 = v123;
                sub_C8D5F0(v225, v123, (unsigned int)v241 + 1LL, 4u, v56, v129);
                v128 = (unsigned int)v241;
                v123 = v221;
              }
              v57 = (__int64)v240;
              ++v124;
              *(_DWORD *)&v240[4 * v128] = v127;
              LODWORD(v241) = v241 + 1;
            }
            while ( v126 != v124 );
            v130 = (int)v125;
            v120 = v256;
            v119 = v218.m128i_i64[0];
            v118 = v123;
LABEL_154:
            v131 = *(__int32 *)((char *)&v120[1].m128i_i32[2] + v119);
            if ( v131 )
            {
              v132 = v223;
              v133 = v118;
              v134 = 4 * v130;
              v135 = 0;
              v218.m128i_i64[0] = v121;
              v136 = v223 + v131;
              v137 = v136;
              do
              {
                *(_DWORD *)((char *)v237 + v134 + v135) = v132;
                v138 = *(_DWORD *)(*(__int64 *)((char *)v256[1].m128i_i64 + v119) + v135);
                v139 = (unsigned int)v241;
                v56 = (unsigned int)v241 + 1LL;
                if ( v56 > HIDWORD(v241) )
                {
                  v217 = v134;
                  v221 = v133;
                  sub_C8D5F0(v225, v133, (unsigned int)v241 + 1LL, 4u, v56, v136);
                  v139 = (unsigned int)v241;
                  v134 = v217;
                  v133 = v221;
                }
                v57 = (__int64)v240;
                ++v132;
                v135 += 4;
                *(_DWORD *)&v240[4 * v139] = v138;
                LODWORD(v241) = v241 + 1;
              }
              while ( v137 != v132 );
              v121 = v218.m128i_i64[0];
              v118 = v133;
            }
            if ( v222 )
            {
              v154 = v211;
              v219 = v237;
              LOWORD(v154) = v208;
              v220 = (unsigned int)v238;
              v211 = v154;
              v142 = (void *)sub_33FCE10(
                               v202,
                               v154,
                               v207,
                               (unsigned int)&v235,
                               *(__int64 *)((char *)v256->m128i_i64 + v121),
                               *(__int64 *)((char *)&v256->m128i_i64[1] + v121),
                               *(__int64 *)((char *)v256->m128i_i64 + v119),
                               *(__int64 *)((char *)&v256->m128i_i64[1] + v119),
                               (__int64)v237,
                               (unsigned int)v238);
            }
            else
            {
              v140 = *(__int64 (**)())(*(_QWORD *)v205 + 624LL);
              if ( v140 != sub_2FE3180 )
              {
                v155 = v211;
                LOWORD(v155) = v208;
                v211 = v155;
                if ( !((unsigned __int8 (__fastcall *)(__int64, void *, _QWORD, _QWORD, __int64))v140)(
                        v205,
                        v237,
                        (unsigned int)v238,
                        (unsigned int)v155,
                        v207) )
                {
                  if ( v240 != v118 )
                    _libc_free((unsigned __int64)v240);
                  v156 = v237;
                  if ( v237 != v224[0] )
LABEL_194:
                    _libc_free((unsigned __int64)v156);
LABEL_195:
                  v157 = v259;
                  v158 = (char *)v259 + 96 * (unsigned int)v260;
                  if ( v259 != v158 )
                  {
                    do
                    {
                      v158 -= 12;
                      v159 = v158[2];
                      if ( (_QWORD *)v159 != v158 + 4 )
                        _libc_free(v159);
                    }
                    while ( v157 != v158 );
                    v158 = v259;
                  }
                  if ( v158 != (_QWORD *)v261 )
                    _libc_free((unsigned __int64)v158);
                  v160 = v256;
                  v161 = &v256[6 * (unsigned int)v257];
                  if ( v256 != v161 )
                  {
                    do
                    {
                      v161 -= 6;
                      v162 = v161[1].m128i_u64[0];
                      if ( (const __m128i *)v162 != &v161[2] )
                        _libc_free(v162);
                    }
                    while ( v160 != v161 );
                    v161 = v256;
                  }
                  if ( v161 != v258 )
                    _libc_free((unsigned __int64)v161);
                  if ( v235 )
                    sub_B91220((__int64)&v235, v235);
LABEL_112:
                  v54 = sub_33276F0(a1, (__int64)v226, v61, v57, v56);
                  goto LABEL_113;
                }
              }
              v141 = 0;
              v142 = 0;
            }
            v71 = (unsigned int)v241;
            v243 = v142;
            LODWORD(v244) = v141;
            v245 = v247;
            v246 = 0x1000000000LL;
            if ( (_DWORD)v241 )
              sub_33256C0((__int64)&v245, (char **)v225, v141, v57, v56, (unsigned int)v241);
            v143 = (unsigned int)v260;
            v114 = HIDWORD(v260);
            v144 = (char *)v259;
            v145 = &v243;
            v146 = (unsigned int)v260 + 1LL;
            v147 = v260;
            if ( v146 > HIDWORD(v260) )
            {
              if ( v259 > &v243 || &v243 >= (void **)((char *)v259 + 96 * (unsigned int)v260) )
              {
                sub_332D670((__int64)&v259, v146, (unsigned int)v260, HIDWORD(v260), v56, v71);
                v143 = (unsigned int)v260;
                v144 = (char *)v259;
                v145 = &v243;
                v147 = v260;
              }
              else
              {
                v163 = (char *)&v243 - (_BYTE *)v259;
                sub_332D670((__int64)&v259, v146, (unsigned int)v260, HIDWORD(v260), v56, v71);
                v144 = (char *)v259;
                v143 = (unsigned int)v260;
                v145 = (void **)((char *)v259 + v163);
                v147 = v260;
              }
            }
            v148 = 96 * v143;
            v149 = (__m128i *)&v144[v148];
            if ( v149 )
            {
              v150 = _mm_loadu_si128((const __m128i *)v145);
              v149[1].m128i_i64[0] = (__int64)v149[2].m128i_i64;
              v149[1].m128i_i64[1] = 0x1000000000LL;
              *v149 = v150;
              v56 = *((unsigned int *)v145 + 6);
              if ( (_DWORD)v56 )
                sub_33256C0((__int64)v149[1].m128i_i64, (char **)v145 + 2, v148, v114, v56, v71);
              v147 = v260;
            }
            LODWORD(v260) = v147 + 1;
            if ( v245 != v247 )
              _libc_free((unsigned __int64)v245);
            if ( v240 != v118 )
              _libc_free((unsigned __int64)v240);
            if ( v237 != v224[0] )
              _libc_free((unsigned __int64)v237);
            v119 += 192;
            if ( v210 == v119 )
            {
              v117 = (unsigned int)v257;
LABEL_178:
              if ( (v117 & 1) != 0 )
              {
                v166 = (unsigned int)v260;
                v167 = (unsigned int)v260 + 1LL;
                v168 = &v256[6 * v117 - 6];
                v169 = (char *)v259;
                v170 = (unsigned int)v260;
                if ( v167 > HIDWORD(v260) )
                {
                  if ( v259 > v168
                    || (v170 = (unsigned __int64)v259 + 96 * (unsigned int)v260, (unsigned __int64)v168 >= v170) )
                  {
                    sub_332D670((__int64)&v259, v167, v170, (unsigned int)v260, v56, v71);
                    v166 = (unsigned int)v260;
                    v169 = (char *)v259;
                    LODWORD(v170) = v260;
                  }
                  else
                  {
                    v195 = (char *)v168 - (_BYTE *)v259;
                    sub_332D670((__int64)&v259, v167, v170, (unsigned int)v260, v56, v71);
                    v169 = (char *)v259;
                    v166 = (unsigned int)v260;
                    v168 = (const __m128i *)((char *)v259 + v195);
                    LODWORD(v170) = v260;
                  }
                }
                v114 = 96 * v166;
                v171 = (__m128i *)&v169[v114];
                if ( v171 )
                {
                  v172 = _mm_loadu_si128(v168);
                  v171[1].m128i_i64[0] = (__int64)v171[2].m128i_i64;
                  v171[1].m128i_i64[1] = 0x1000000000LL;
                  *v171 = v172;
                  if ( v168[1].m128i_i32[2] )
                    sub_33255E0(
                      (__int64)v171[1].m128i_i64,
                      (__int64)v168[1].m128i_i64,
                      (__int64)v171[2].m128i_i64,
                      v114,
                      v56,
                      v71);
                  LODWORD(v170) = v260;
                }
                v117 = (unsigned int)(v170 + 1);
                LODWORD(v260) = v117;
              }
              sub_332D790((__int64)&v256, (__int64)&v259, v117, v114, v56, v71);
              goto LABEL_180;
            }
            continue;
          }
          break;
        }
        v130 = 0;
        goto LABEL_154;
      }
LABEL_64:
      v58 = v226[5];
    }
  }
  v28 = 0;
  v29 = (__int64)v226;
  v259 = v261;
  v260 = 0x1000000000LL;
  v30 = v22;
  v31 = 40 * v20;
  while ( 2 )
  {
    v35 = *(_QWORD *)((char *)v30 + v28);
    v36 = *(_DWORD *)(v35 + 24);
    if ( v36 != 36 && v36 != 12 )
    {
      if ( v36 == 35 || v36 == 11 )
      {
        v33 = *(_QWORD *)(v35 + 96);
        if ( (_WORD)v225 != v233 || v234 != v218.m128i_i64[0] && !(_WORD)v225 )
        {
          v96 = *(_QWORD **)(v33 + 24);
          if ( *(_DWORD *)(v33 + 32) > 0x40u )
            v96 = (_QWORD *)*v96;
          v97 = *(_QWORD *)(a1 + 16);
          v226 = v96;
          v98 = sub_3007410((__int64)&v233, *(__int64 **)(v97 + 64), v35, v20, v23, (__int64)v96);
          v33 = sub_AD64C0(v98, (__int64)v226, 0);
        }
      }
      else
      {
        v32 = (__int64 **)sub_3007410((__int64)&v233, *(__int64 **)(*(_QWORD *)(a1 + 16) + 64LL), v35, v20, v23, v17);
        v33 = sub_ACA8A0(v32);
      }
      v34 = (unsigned int)v260;
      v17 = (unsigned int)v260 + 1LL;
      if ( v17 > HIDWORD(v260) )
      {
        v226 = (_QWORD *)v33;
        sub_C8D5F0((__int64)&v259, v261, (unsigned int)v260 + 1LL, 8u, v23, v17);
        v34 = (unsigned int)v260;
        v33 = (__int64)v226;
      }
      v20 = (__int64)v259;
      v28 += 40;
      *((_QWORD *)v259 + v34) = v33;
      LODWORD(v260) = v260 + 1;
      if ( v31 == v28 )
        break;
      goto LABEL_31;
    }
    v37 = (unsigned int)v260;
    v20 = HIDWORD(v260);
    v17 = *(_QWORD *)(v35 + 96);
    v38 = (unsigned int)v260 + 1LL;
    if ( v38 > HIDWORD(v260) )
    {
      v226 = (_QWORD *)v17;
      sub_C8D5F0((__int64)&v259, v261, v38, 8u, v23, v17);
      v37 = (unsigned int)v260;
      v17 = (unsigned __int64)v226;
    }
    v28 += 40;
    *((_QWORD *)v259 + v37) = v17;
    LODWORD(v260) = v260 + 1;
    if ( v31 != v28 )
    {
LABEL_31:
      v30 = *(__int128 **)(v29 + 40);
      continue;
    }
    break;
  }
  v39 = sub_AD3730((__int64 *)v259, (unsigned int)v260);
  v40 = *(_QWORD *)(a1 + 16);
  v41 = *(_QWORD *)(a1 + 8);
  v42 = *(__int64 (__fastcall **)(__int64, __int64, unsigned int))(*(_QWORD *)v41 + 32LL);
  v43 = sub_2E79000(*(__int64 **)(v40 + 40));
  if ( v42 == sub_2D42F30 )
  {
    v44 = sub_AE2980(v43, 0)[1];
    v45 = 2;
    if ( v44 != 1 )
    {
      v45 = 3;
      if ( v44 != 2 )
      {
        v45 = 4;
        if ( v44 != 4 )
        {
          v45 = 5;
          if ( v44 != 8 )
          {
            v45 = 6;
            if ( v44 != 16 )
            {
              v45 = 7;
              if ( v44 != 32 )
              {
                v45 = 8;
                if ( v44 != 64 )
                  v45 = 9 * (v44 == 128);
              }
            }
          }
        }
      }
    }
  }
  else
  {
    v45 = v42(v41, v43, 0);
  }
  v46 = sub_33EE5B0(v40, v39, v45, 0, 0, 0, 0, 0);
  v47 = *(_BYTE *)(v46 + 108);
  v49 = v48;
  v256 = 0;
  v257 = 0;
  v50 = *(_QWORD *)(a1 + 16);
  v258[0] = 0u;
  LOBYTE(v51) = v47;
  HIBYTE(v51) = 1;
  sub_2EAC2B0((__int64)&v248, *(_QWORD *)(v50 + 40));
  v52 = sub_33F1F00(
          v50,
          v231,
          v232,
          (unsigned int)&v229,
          (unsigned int)*(_QWORD *)(a1 + 16) + 288,
          0,
          v46,
          v49,
          v248,
          v249[0],
          v51,
          0,
          (__int64)&v256,
          0);
  v53 = v259;
  v54 = v52;
  if ( v259 != v261 )
LABEL_46:
    _libc_free((unsigned __int64)v53);
LABEL_47:
  if ( v229 )
    sub_B91220((__int64)&v229, v229);
  return v54;
}
