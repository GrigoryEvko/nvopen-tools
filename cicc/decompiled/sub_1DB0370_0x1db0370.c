// Function: sub_1DB0370
// Address: 0x1db0370
//
__int64 __fastcall sub_1DB0370(__int64 a1, __int64 *a2)
{
  unsigned int v2; // r12d
  __int64 *v4; // r12
  __int64 v5; // rcx
  unsigned __int64 v6; // r9
  __int64 v7; // r15
  __int64 v8; // rbx
  __int64 v9; // r13
  __int64 v10; // r14
  __int64 v11; // r12
  __int64 v12; // rdi
  unsigned __int64 v13; // rdi
  unsigned __int64 v14; // r8
  unsigned __int64 v15; // rdi
  __int64 v16; // rsi
  int v17; // eax
  unsigned int v18; // edx
  int v19; // eax
  unsigned int v20; // esi
  __int64 v21; // rax
  __int64 *v22; // rdx
  __int64 v23; // rax
  __int64 k; // rdx
  __int64 (*v25)(void); // rdx
  __int64 v26; // rax
  __int64 v27; // rax
  __int64 *v28; // rbx
  __int64 v29; // rax
  __int64 v30; // r15
  __int64 v31; // r14
  _DWORD *v32; // rax
  unsigned int v33; // ecx
  _DWORD *v34; // rcx
  _DWORD *i; // rax
  unsigned int v36; // edx
  _QWORD *v37; // rdx
  _QWORD *j; // rax
  __int64 v39; // rdi
  unsigned __int64 v40; // rcx
  unsigned __int64 v41; // rdx
  __int16 v42; // si
  __int64 m; // rdx
  __int64 v44; // r8
  unsigned int v45; // esi
  __int64 v46; // rdi
  unsigned int v47; // ecx
  __int64 *v48; // rax
  __int64 v49; // r10
  __int64 v50; // rax
  int v51; // eax
  __int64 v52; // r12
  __int64 v53; // rax
  unsigned int v54; // esi
  __int64 v55; // r9
  unsigned int v56; // ecx
  __int64 *v57; // rbx
  __int64 v58; // rdi
  __int64 v59; // rax
  _QWORD *v60; // r9
  _QWORD *v61; // rdx
  _QWORD *v62; // rbx
  __int64 v63; // rax
  __int64 v64; // rdx
  __int64 v65; // rsi
  __int64 *v66; // rax
  unsigned __int64 v67; // r8
  __int64 *v68; // r13
  unsigned __int8 *v69; // rsi
  __int64 *v70; // rax
  unsigned int v71; // edx
  __int64 v72; // rax
  __int64 **v73; // rax
  __int64 v74; // rdx
  __int64 v75; // rcx
  __int64 v76; // r9
  __int64 v77; // rax
  __int64 v78; // rdi
  __int64 v79; // rdx
  __int64 v80; // rsi
  __int64 n; // rcx
  __int64 v82; // rax
  __int64 v83; // r12
  __int64 v84; // rbx
  __int64 v85; // r13
  unsigned __int64 *v86; // rcx
  unsigned __int64 v87; // rdx
  __int64 v88; // rax
  __int64 v89; // rsi
  __int64 v90; // rcx
  unsigned __int64 v91; // r8
  unsigned __int64 v92; // r9
  unsigned __int64 v93; // rdi
  unsigned __int64 v94; // rdi
  __int64 v95; // rsi
  __int64 v96; // rdx
  __int64 v97; // rax
  __int64 v98; // rdx
  __int64 v99; // rbx
  __int64 *v100; // rax
  __int64 v101; // rdi
  unsigned int v102; // esi
  unsigned int v103; // ecx
  int v104; // eax
  __int64 *v105; // rax
  unsigned __int64 v106; // rax
  unsigned __int64 v107; // rax
  unsigned __int64 v108; // rsi
  __int64 v109; // rax
  __int64 v110; // rax
  unsigned __int64 v111; // r9
  unsigned int v112; // edx
  _QWORD *v113; // rax
  __int64 v114; // rcx
  unsigned __int64 v115; // r12
  _QWORD *v116; // rdx
  _QWORD *v117; // rcx
  __int64 v118; // rcx
  __int64 v119; // r13
  __int64 v120; // rbx
  __int64 v121; // rdi
  unsigned __int64 v122; // rdi
  unsigned __int64 v123; // rdi
  __int64 v124; // rsi
  int v125; // r8d
  __int64 *v126; // rdx
  int v127; // edi
  int v128; // edx
  int v129; // r9d
  int v130; // r9d
  __int64 v131; // r10
  __int64 *v132; // rcx
  unsigned int v133; // eax
  int v134; // esi
  __int64 v135; // rdi
  int v136; // edi
  int v137; // edi
  __int64 v138; // r9
  unsigned int v139; // eax
  __int64 v140; // r11
  int v141; // esi
  _DWORD *v142; // rax
  _QWORD *v143; // rax
  _QWORD *v144; // rax
  __int64 *kk; // r15
  __int64 v146; // rbx
  __int64 v147; // rdx
  __int64 v148; // rax
  __int64 *v149; // r14
  _QWORD *v150; // r12
  unsigned __int64 *v151; // rcx
  unsigned __int64 v152; // rdx
  _DWORD *v153; // rdi
  unsigned int v154; // eax
  __int64 v155; // rax
  unsigned __int64 v156; // rax
  unsigned __int64 v157; // rax
  int v158; // ebx
  __int64 v159; // r13
  _DWORD *v160; // rax
  __int64 v161; // rdx
  _DWORD *jj; // rdx
  _DWORD *v163; // rax
  _QWORD *v164; // rdi
  unsigned int v165; // eax
  __int64 v166; // rax
  unsigned __int64 v167; // rax
  unsigned __int64 v168; // rax
  int v169; // ebx
  __int64 v170; // r13
  _QWORD *v171; // rax
  __int64 v172; // rdx
  _QWORD *ii; // rdx
  _QWORD *v174; // rax
  int v175; // r9d
  __int64 *v176; // [rsp+0h] [rbp-C0h]
  __int64 *v177; // [rsp+8h] [rbp-B8h]
  __int64 v178; // [rsp+10h] [rbp-B0h]
  int v179; // [rsp+10h] [rbp-B0h]
  __int64 *v180; // [rsp+18h] [rbp-A8h]
  __int64 v181; // [rsp+20h] [rbp-A0h]
  unsigned __int64 v182; // [rsp+28h] [rbp-98h]
  __int64 v183; // [rsp+30h] [rbp-90h]
  __int64 *v184; // [rsp+38h] [rbp-88h]
  unsigned int v185; // [rsp+38h] [rbp-88h]
  __int64 v186; // [rsp+38h] [rbp-88h]
  unsigned int v187; // [rsp+38h] [rbp-88h]
  bool v188; // [rsp+45h] [rbp-7Bh]
  unsigned __int8 v189; // [rsp+46h] [rbp-7Ah]
  unsigned __int8 v190; // [rsp+47h] [rbp-79h]
  __int64 v191; // [rsp+48h] [rbp-78h]
  _QWORD *v192; // [rsp+48h] [rbp-78h]
  __int64 v193; // [rsp+50h] [rbp-70h]
  __int64 *v194; // [rsp+50h] [rbp-70h]
  __int64 v196; // [rsp+58h] [rbp-68h]
  __m128i v197; // [rsp+60h] [rbp-60h] BYREF
  __int64 v198; // [rsp+70h] [rbp-50h]
  __int64 v199; // [rsp+78h] [rbp-48h]
  __int64 v200; // [rsp+80h] [rbp-40h]

  v190 = byte_4FC4400;
  if ( !byte_4FC4400 )
    return 0;
  v4 = a2;
  if ( sub_1626D20(*a2) )
  {
    v7 = *(_QWORD *)(a1 + 232);
    if ( v7 )
    {
      v8 = *(_QWORD *)(v7 + 152);
      v9 = v8 + 8LL * *(unsigned int *)(v7 + 160);
    }
    else
    {
      v143 = (_QWORD *)sub_22077B0(296);
      v7 = (__int64)v143;
      if ( v143 )
      {
        *v143 = a1;
        v144 = v143 + 6;
        v6 = 0;
        v8 = v7 + 168;
        *(v144 - 5) = 0;
        v9 = v7 + 168;
        *(v144 - 4) = 0;
        *(v144 - 3) = 0;
        *(_QWORD *)(v7 + 32) = v144;
        *(_QWORD *)(v7 + 40) = 0x400000000LL;
        *(_QWORD *)(v7 + 80) = v7 + 96;
        *(_QWORD *)(v7 + 88) = 0;
        *(_QWORD *)(v7 + 96) = 0;
        *(_QWORD *)(v7 + 104) = 1;
        *(_QWORD *)(v7 + 120) = 0;
        *(_WORD *)(v7 + 144) = 0;
        *(_QWORD *)(v7 + 152) = v7 + 168;
        *(_QWORD *)(v7 + 160) = 0x800000000LL;
        *(_QWORD *)(v7 + 232) = 0;
        *(_QWORD *)(v7 + 240) = 0;
        *(_QWORD *)(v7 + 248) = 0;
        *(_DWORD *)(v7 + 256) = 0;
        *(_QWORD *)(v7 + 264) = 0;
        *(_QWORD *)(v7 + 272) = 0;
        *(_QWORD *)(v7 + 280) = 0;
        *(_DWORD *)(v7 + 288) = 0;
      }
      else
      {
        v8 = MEMORY[0x98];
        v9 = MEMORY[0x98] + 8LL * MEMORY[0xA0];
      }
      *(_QWORD *)(a1 + 232) = v7;
    }
    *(_QWORD *)(v7 + 120) = 0;
    if ( v8 != v9 )
    {
      do
      {
        v10 = *(_QWORD *)(v9 - 8);
        v9 -= 8;
        if ( v10 )
        {
          v11 = *(_QWORD *)(v10 + 360);
          while ( v11 )
          {
            sub_1DA8360(*(_QWORD *)(v11 + 24));
            v12 = v11;
            v11 = *(_QWORD *)(v11 + 16);
            j_j___libc_free_0(v12, 40);
          }
          v13 = *(_QWORD *)(v10 + 312);
          if ( v13 != v10 + 328 )
            _libc_free(v13);
          v14 = *(unsigned int *)(v10 + 296);
          if ( (_DWORD)v14 )
          {
            sub_1DA9BF0(v10 + 216, (char *)sub_1DA8010, 0, v5, v14, v6);
            v32 = (_DWORD *)(v10 + 280);
            do
              *v32++ = 0;
            while ( (_DWORD *)(v10 + 296) != v32 );
          }
          v15 = *(_QWORD *)(v10 + 40);
          if ( v15 != v10 + 56 )
            _libc_free(v15);
          v16 = *(_QWORD *)(v10 + 16);
          if ( v16 )
            sub_161E7C0(v10 + 16, v16);
          j_j___libc_free_0(v10, 392);
        }
      }
      while ( v9 != v8 );
      v4 = a2;
    }
    v17 = *(_DWORD *)(v7 + 248);
    ++*(_QWORD *)(v7 + 232);
    *(_DWORD *)(v7 + 160) = 0;
    if ( !v17 )
    {
      if ( !*(_DWORD *)(v7 + 252) )
        goto LABEL_25;
      v18 = *(_DWORD *)(v7 + 256);
      if ( v18 > 0x40 )
      {
        j___libc_free_0(*(_QWORD *)(v7 + 240));
        *(_QWORD *)(v7 + 240) = 0;
        *(_QWORD *)(v7 + 248) = 0;
        *(_DWORD *)(v7 + 256) = 0;
        goto LABEL_25;
      }
      goto LABEL_50;
    }
    v33 = 4 * v17;
    v18 = *(_DWORD *)(v7 + 256);
    if ( (unsigned int)(4 * v17) < 0x40 )
      v33 = 64;
    if ( v33 >= v18 )
    {
LABEL_50:
      v34 = *(_DWORD **)(v7 + 240);
      for ( i = &v34[4 * v18]; i != v34; v34 += 4 )
        *v34 = -1;
      *(_QWORD *)(v7 + 248) = 0;
      goto LABEL_25;
    }
    v153 = *(_DWORD **)(v7 + 240);
    v154 = v17 - 1;
    if ( v154 )
    {
      _BitScanReverse(&v154, v154);
      v155 = (unsigned int)(1 << (33 - (v154 ^ 0x1F)));
      if ( (int)v155 < 64 )
        v155 = 64;
      if ( (_DWORD)v155 == v18 )
      {
        *(_QWORD *)(v7 + 248) = 0;
        v163 = &v153[4 * v155];
        do
        {
          if ( v153 )
            *v153 = -1;
          v153 += 4;
        }
        while ( v163 != v153 );
LABEL_25:
        ++*(_QWORD *)(v7 + 264);
        v181 = v7 + 264;
        v19 = *(_DWORD *)(v7 + 280);
        if ( !v19 )
        {
          if ( !*(_DWORD *)(v7 + 284) )
            goto LABEL_29;
          v20 = *(_DWORD *)(v7 + 288);
          if ( v20 > 0x40 )
          {
            j___libc_free_0(*(_QWORD *)(v7 + 272));
            *(_QWORD *)(v7 + 272) = 0;
            *(_QWORD *)(v7 + 280) = 0;
            *(_DWORD *)(v7 + 288) = 0;
            goto LABEL_29;
          }
          goto LABEL_56;
        }
        v36 = 4 * v19;
        v20 = *(_DWORD *)(v7 + 288);
        if ( (unsigned int)(4 * v19) < 0x40 )
          v36 = 64;
        if ( v20 <= v36 )
        {
LABEL_56:
          v37 = *(_QWORD **)(v7 + 272);
          for ( j = &v37[2 * v20]; j != v37; v37 += 2 )
            *v37 = -8;
          *(_QWORD *)(v7 + 280) = 0;
          goto LABEL_29;
        }
        v164 = *(_QWORD **)(v7 + 272);
        v165 = v19 - 1;
        if ( v165 )
        {
          _BitScanReverse(&v165, v165);
          v166 = (unsigned int)(1 << (33 - (v165 ^ 0x1F)));
          if ( (int)v166 < 64 )
            v166 = 64;
          if ( (_DWORD)v166 == v20 )
          {
            *(_QWORD *)(v7 + 280) = 0;
            v174 = &v164[2 * v166];
            do
            {
              if ( v164 )
                *v164 = -8;
              v164 += 2;
            }
            while ( v174 != v164 );
LABEL_29:
            v21 = *(_QWORD *)v7;
            *(_QWORD *)(v7 + 120) = v4;
            *(_WORD *)(v7 + 144) = 0;
            v22 = *(__int64 **)(v21 + 8);
            v23 = *v22;
            for ( k = v22[1]; k != v23; v23 += 16 )
            {
              if ( *(_UNKNOWN **)v23 == &unk_4FC450C )
              {
                *(_QWORD *)(v7 + 128) = (*(__int64 (__fastcall **)(_QWORD, void *))(**(_QWORD **)(v23 + 8) + 104LL))(
                                          *(_QWORD *)(v23 + 8),
                                          &unk_4FC450C);
                v25 = *(__int64 (**)(void))(*(_QWORD *)v4[2] + 112LL);
                v26 = 0;
                if ( v25 != sub_1D00B10 )
                  v26 = v25();
                *(_QWORD *)(v7 + 136) = v26;
                v27 = v4[41];
                v28 = v4 + 40;
                v2 = 0;
                v180 = v28;
                v193 = v27;
                if ( (__int64 *)v27 == v28 )
                  goto LABEL_43;
                while ( 1 )
                {
                  v196 = v193 + 24;
                  if ( *(_QWORD *)(v193 + 32) == v193 + 24 )
                    goto LABEL_42;
                  v29 = v7;
                  v30 = *(_QWORD *)(v193 + 32);
                  v31 = v29;
                  do
                  {
LABEL_38:
                    if ( **(_WORD **)(v30 + 16) == 12 )
                    {
                      if ( *(_QWORD *)(v193 + 32) == v30 )
                      {
                        v183 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(v31 + 128) + 272LL) + 392LL)
                                         + 16LL * *(unsigned int *)(v193 + 48));
                        v182 = v183 & 0xFFFFFFFFFFFFFFF8LL;
                        goto LABEL_77;
                      }
                      v39 = *(_QWORD *)(v31 + 128);
                      v40 = *(_QWORD *)v30 & 0xFFFFFFFFFFFFFFF8LL;
                      if ( !v40 )
                        BUG();
                      v41 = *(_QWORD *)v30 & 0xFFFFFFFFFFFFFFF8LL;
                      v42 = *(_WORD *)(v40 + 46) & 4;
                      if ( (*(_QWORD *)v40 & 4) != 0 )
                      {
                        v44 = *(_QWORD *)(v39 + 272);
                        if ( v42 )
                        {
                          do
                            v41 = *(_QWORD *)v41 & 0xFFFFFFFFFFFFFFF8LL;
                          while ( (*(_BYTE *)(v41 + 46) & 4) != 0 );
                        }
                      }
                      else
                      {
                        if ( v42 )
                        {
                          for ( m = *(_QWORD *)v40; ; m = *(_QWORD *)v41 )
                          {
                            v41 = m & 0xFFFFFFFFFFFFFFF8LL;
                            if ( (*(_BYTE *)(v41 + 46) & 4) == 0 )
                              break;
                          }
                        }
                        v44 = *(_QWORD *)(v39 + 272);
                      }
                      v45 = *(_DWORD *)(v44 + 384);
                      v46 = *(_QWORD *)(v44 + 368);
                      if ( v45 )
                      {
                        v47 = (v45 - 1) & (((unsigned int)v41 >> 9) ^ ((unsigned int)v41 >> 4));
                        v48 = (__int64 *)(v46 + 16LL * v47);
                        v49 = *v48;
                        if ( *v48 == v41 )
                          goto LABEL_72;
                        v104 = 1;
                        while ( v49 != -8 )
                        {
                          v175 = v104 + 1;
                          v47 = (v45 - 1) & (v104 + v47);
                          v48 = (__int64 *)(v46 + 16LL * v47);
                          v49 = *v48;
                          if ( *v48 == v41 )
                            goto LABEL_72;
                          v104 = v175;
                        }
                      }
                      v48 = (__int64 *)(v46 + 16LL * v45);
LABEL_72:
                      v182 = v48[1] & 0xFFFFFFFFFFFFFFF8LL;
                      v183 = v182 | 4;
LABEL_77:
                      if ( *(_DWORD *)(v30 + 40) != 4
                        || (v50 = *(_QWORD *)(v30 + 32), v189 = *(_BYTE *)(v50 + 40), v189 > 1u)
                        || *(_BYTE *)(v50 + 80) != 14 )
                      {
                        if ( (*(_BYTE *)v30 & 4) == 0 )
                        {
                          while ( (*(_BYTE *)(v30 + 46) & 8) != 0 )
                            v30 = *(_QWORD *)(v30 + 8);
                        }
                        v30 = *(_QWORD *)(v30 + 8);
                        goto LABEL_75;
                      }
                      v188 = 0;
                      if ( !*(_BYTE *)v50 )
                      {
                        v51 = *(_DWORD *)(v50 + 8);
                        if ( v51 < 0 )
                        {
                          v96 = *(_QWORD *)(v31 + 128);
                          v97 = v51 & 0x7FFFFFFF;
                          v188 = v190;
                          if ( (unsigned int)v97 < *(_DWORD *)(v96 + 408) )
                          {
                            v98 = *(_QWORD *)(v96 + 400);
                            v99 = *(_QWORD *)(v98 + 8 * v97);
                            if ( v99 )
                            {
                              v100 = (__int64 *)sub_1DB3C70(*(_QWORD *)(v98 + 8 * v97), v182);
                              v101 = *(_QWORD *)v99 + 24LL * *(unsigned int *)(v99 + 8);
                              if ( v100 == (__int64 *)v101 )
                                goto LABEL_216;
                              v102 = *(_DWORD *)(v182 + 24);
                              v103 = *(_DWORD *)((*v100 & 0xFFFFFFFFFFFFFFF8LL) + 24);
                              if ( (unsigned __int64)(v103 | (*v100 >> 1) & 3) > v102
                                || v182 != (v100[1] & 0xFFFFFFFFFFFFFFF8LL) )
                              {
                                goto LABEL_151;
                              }
                              if ( (__int64 *)v101 == v100 + 3 )
                              {
LABEL_216:
                                v188 = v190;
                              }
                              else
                              {
                                v103 = *(_DWORD *)((v100[3] & 0xFFFFFFFFFFFFFFF8LL) + 24);
                                v100 += 3;
LABEL_151:
                                v188 = v190;
                                if ( v103 <= v102 )
                                  v188 = v100[2] == 0;
                              }
                              v189 = *(_BYTE *)(*(_QWORD *)(v30 + 32) + 40LL);
                            }
                          }
                        }
                      }
                      v52 = sub_1E16500(v30);
                      v53 = sub_1E16510(v30);
                      v54 = *(_DWORD *)(v31 + 288);
                      v191 = v53;
                      if ( v54 )
                      {
                        v55 = *(_QWORD *)(v31 + 272);
                        v56 = (v54 - 1) & (((unsigned int)v52 >> 4) ^ ((unsigned int)v52 >> 9));
                        v57 = (__int64 *)(v55 + 16LL * v56);
                        v58 = *v57;
                        if ( v52 == *v57 )
                        {
LABEL_84:
                          v59 = v57[1];
                          if ( v59 )
                          {
                            v60 = *(_QWORD **)(v59 + 24);
                            do
                            {
                              v61 = v60;
                              v60 = (_QWORD *)v60[3];
                            }
                            while ( v61 != v60 );
                            *(_QWORD *)(v59 + 24) = v60;
                            v184 = v57;
                            v57[1] = (__int64)v60;
                            v62 = v60;
                            while ( 1 )
                            {
                              v63 = sub_15C70A0(v30 + 64);
                              v64 = 0;
                              if ( *(_DWORD *)(v63 + 8) == 2 )
                                v64 = *(_QWORD *)(v63 - 8);
                              if ( v52 == *v62 && v191 == v62[1] )
                              {
                                v178 = v64;
                                v88 = sub_15C70A0((__int64)(v62 + 2));
                                v89 = 0;
                                if ( *(_DWORD *)(v88 + 8) == 2 )
                                  v89 = *(_QWORD *)(v88 - 8);
                                if ( v178 == v89 )
                                  break;
                              }
                              v62 = (_QWORD *)v62[4];
                              if ( !v62 )
                              {
                                v57 = v184;
                                goto LABEL_93;
                              }
                            }
                            v76 = (__int64)v62;
                            if ( v188 )
                            {
LABEL_132:
                              v197 = (__m128i)0x800000000uLL;
                              v198 = 0;
                              v199 = 0;
                              v200 = 0;
                              sub_1DAD300(v76, v183, &v197, 0, v67, v76);
                              goto LABEL_116;
                            }
LABEL_115:
                            sub_1DAD300(v76, v183, *(const __m128i **)(v30 + 32), v189 == 1, v67, v76);
LABEL_116:
                            v82 = v30;
                            if ( (*(_BYTE *)v30 & 4) == 0 && (*(_BYTE *)(v30 + 46) & 8) != 0 )
                            {
                              do
                                v82 = *(_QWORD *)(v82 + 8);
                              while ( (*(_BYTE *)(v82 + 46) & 8) != 0 );
                            }
                            v83 = *(_QWORD *)(v82 + 8);
                            v84 = v193 + 16;
                            if ( v30 != v83 )
                            {
                              while ( 1 )
                              {
                                v85 = *(_QWORD *)(v30 + 8);
                                sub_1DD5BC0(v84, v30);
                                v86 = *(unsigned __int64 **)(v30 + 8);
                                v87 = *(_QWORD *)v30 & 0xFFFFFFFFFFFFFFF8LL;
                                *v86 = v87 | *v86 & 7;
                                *(_QWORD *)(v87 + 8) = v86;
                                *(_QWORD *)v30 &= 7uLL;
                                *(_QWORD *)(v30 + 8) = 0;
                                sub_1DD5C20(v84, v30);
                                if ( v85 == v83 )
                                  break;
                                v30 = v85;
                              }
                            }
                            v30 = v83;
                            v2 = v190;
LABEL_75:
                            if ( v30 == v196 )
                              break;
                            if ( **(_WORD **)(v30 + 16) != 12 )
                              goto LABEL_38;
                            goto LABEL_77;
                          }
LABEL_93:
                          v65 = *(_QWORD *)(v30 + 64);
                          v197.m128i_i64[0] = v65;
                          if ( v65 )
                            sub_1623A60((__int64)&v197, v65, 2);
                          v66 = (__int64 *)sub_22077B0(392);
                          v68 = v66;
                          if ( v66 )
                          {
                            *v66 = v52;
                            v69 = (unsigned __int8 *)v197.m128i_i64[0];
                            v66[2] = v197.m128i_i64[0];
                            v66[1] = v191;
                            if ( v69 )
                            {
                              sub_1623210((__int64)&v197, v69, (__int64)(v66 + 2));
                              v197.m128i_i64[0] = 0;
                            }
                            v68[3] = (__int64)v68;
                            v68[5] = (__int64)(v68 + 7);
                            v68[6] = 0x400000000LL;
                            v68[4] = 0;
                            v68[37] = 0;
                            v68[38] = v31 + 8;
                            v70 = v68 + 35;
                            *(_OWORD *)(v68 + 27) = 0;
                            *(_OWORD *)(v68 + 29) = 0;
                            *(_OWORD *)(v68 + 31) = 0;
                            *(_OWORD *)(v68 + 33) = 0;
                            *(_OWORD *)(v68 + 35) = 0;
                            do
                            {
                              *(_DWORD *)v70 = 0;
                              v70 = (__int64 *)((char *)v70 + 4);
                            }
                            while ( v68 + 37 != v70 );
                            *((_DWORD *)v68 + 88) = 0;
                            v68[39] = (__int64)(v68 + 41);
                            v68[40] = 0x200000000LL;
                            v68[45] = 0;
                            v68[46] = (__int64)(v68 + 44);
                            v68[47] = (__int64)(v68 + 44);
                            v68[48] = 0;
                          }
                          else if ( v197.m128i_i64[0] )
                          {
                            sub_161E7C0((__int64)&v197, v197.m128i_i64[0]);
                          }
                          v71 = *(_DWORD *)(v31 + 160);
                          v72 = *(unsigned int *)(v31 + 164);
                          if ( v71 >= (unsigned int)v72 )
                          {
                            v185 = *(_DWORD *)(v31 + 160);
                            v106 = (((v72 + 2) | ((unsigned __int64)(v72 + 2) >> 1)) >> 2)
                                 | (v72 + 2)
                                 | ((unsigned __int64)(v72 + 2) >> 1);
                            v107 = (((v106 >> 4) | v106) >> 8) | (v106 >> 4) | v106;
                            v108 = (v107 | (v107 >> 16) | HIDWORD(v107)) + 1;
                            v109 = 0xFFFFFFFFLL;
                            if ( v108 <= 0xFFFFFFFF )
                              v109 = v108;
                            v179 = v109;
                            v110 = malloc(8 * v109);
                            v112 = v185;
                            v192 = (_QWORD *)v110;
                            if ( !v110 )
                            {
                              sub_16BD1C0("Allocation failed", 1u);
                              v112 = *(_DWORD *)(v31 + 160);
                            }
                            v113 = *(_QWORD **)(v31 + 152);
                            v114 = v112;
                            v115 = (unsigned __int64)&v113[v114];
                            if ( v113 != &v113[v114] )
                            {
                              v116 = v192;
                              v117 = &v192[v114];
                              do
                              {
                                if ( v116 )
                                {
                                  *v116 = *v113;
                                  *v113 = 0;
                                }
                                ++v116;
                                ++v113;
                              }
                              while ( v116 != v117 );
                              v118 = *(_QWORD *)(v31 + 152);
                              v115 = v118 + 8LL * *(unsigned int *)(v31 + 160);
                              v186 = v118;
                              if ( v118 != v115 )
                              {
                                v177 = v57;
                                v176 = v68;
                                do
                                {
                                  v119 = *(_QWORD *)(v115 - 8);
                                  v115 -= 8LL;
                                  if ( v119 )
                                  {
                                    v120 = *(_QWORD *)(v119 + 360);
                                    while ( v120 )
                                    {
                                      sub_1DA8360(*(_QWORD *)(v120 + 24));
                                      v121 = v120;
                                      v120 = *(_QWORD *)(v120 + 16);
                                      j_j___libc_free_0(v121, 40);
                                    }
                                    v122 = *(_QWORD *)(v119 + 312);
                                    if ( v122 != v119 + 328 )
                                      _libc_free(v122);
                                    if ( *(_DWORD *)(v119 + 296) )
                                    {
                                      sub_1DA9BF0(v119 + 216, (char *)sub_1DA8010, 0, v118, v67, v111);
                                      v142 = (_DWORD *)(v119 + 280);
                                      do
                                        *v142++ = 0;
                                      while ( v142 != (_DWORD *)(v119 + 296) );
                                    }
                                    v123 = *(_QWORD *)(v119 + 40);
                                    if ( v123 != v119 + 56 )
                                      _libc_free(v123);
                                    v124 = *(_QWORD *)(v119 + 16);
                                    if ( v124 )
                                      sub_161E7C0(v119 + 16, v124);
                                    j_j___libc_free_0(v119, 392);
                                  }
                                }
                                while ( v186 != v115 );
                                v57 = v177;
                                v68 = v176;
                                v115 = *(_QWORD *)(v31 + 152);
                              }
                            }
                            if ( v115 != v31 + 168 )
                              _libc_free(v115);
                            v71 = *(_DWORD *)(v31 + 160);
                            *(_QWORD *)(v31 + 152) = v192;
                            *(_DWORD *)(v31 + 164) = v179;
                          }
                          else
                          {
                            v192 = *(_QWORD **)(v31 + 152);
                          }
                          v73 = (__int64 **)&v192[v71];
                          if ( v73 )
                          {
                            *v73 = v68;
                            v74 = (unsigned int)(*(_DWORD *)(v31 + 160) + 1);
                            *(_DWORD *)(v31 + 160) = v74;
                          }
                          else
                          {
                            v74 = v71 + 1;
                            *(_DWORD *)(v31 + 160) = v74;
                            if ( v68 )
                            {
                              sub_1DA8360(v68[45]);
                              v93 = v68[39];
                              if ( (__int64 *)v93 != v68 + 41 )
                                _libc_free(v93);
                              if ( *((_DWORD *)v68 + 74) )
                              {
                                sub_1DA9BF0((__int64)(v68 + 27), (char *)sub_1DA8010, 0, v90, v91, v92);
                                v105 = v68 + 35;
                                do
                                {
                                  *(_DWORD *)v105 = 0;
                                  v105 = (__int64 *)((char *)v105 + 4);
                                }
                                while ( v105 != v68 + 37 );
                              }
                              v94 = v68[5];
                              if ( (__int64 *)v94 != v68 + 7 )
                                _libc_free(v94);
                              v95 = v68[2];
                              if ( v95 )
                                sub_161E7C0((__int64)(v68 + 2), v95);
                              j_j___libc_free_0(v68, 392);
                              v74 = *(unsigned int *)(v31 + 160);
                            }
                          }
                          v75 = v57[1];
                          v76 = *(_QWORD *)(*(_QWORD *)(v31 + 152) + 8 * v74 - 8);
                          v77 = *(_QWORD *)(v76 + 24);
                          do
                          {
                            v78 = v77;
                            v77 = *(_QWORD *)(v77 + 24);
                          }
                          while ( v78 != v77 );
                          *(_QWORD *)(v76 + 24) = v77;
                          if ( v75 )
                          {
                            v79 = *(_QWORD *)(v75 + 24);
                            do
                            {
                              v80 = v79;
                              v79 = *(_QWORD *)(v79 + 24);
                            }
                            while ( v80 != v79 );
                            *(_QWORD *)(v75 + 24) = v79;
                            if ( v78 != v79 )
                            {
                              for ( n = *(_QWORD *)(v77 + 32); n; n = *(_QWORD *)(n + 32) )
                              {
                                *(_QWORD *)(v77 + 24) = v80;
                                v77 = n;
                              }
                              *(_QWORD *)(v77 + 24) = v80;
                              *(_QWORD *)(v77 + 32) = *(_QWORD *)(v80 + 32);
                              *(_QWORD *)(v80 + 32) = v78;
                            }
                          }
                          else
                          {
                            v79 = v77;
                          }
                          v57[1] = v79;
                          if ( v188 )
                            goto LABEL_132;
                          goto LABEL_115;
                        }
                        v125 = 1;
                        v126 = 0;
                        while ( v58 != -8 )
                        {
                          if ( v58 == -16 && !v126 )
                            v126 = v57;
                          v56 = (v54 - 1) & (v125 + v56);
                          v57 = (__int64 *)(v55 + 16LL * v56);
                          v58 = *v57;
                          if ( v52 == *v57 )
                            goto LABEL_84;
                          ++v125;
                        }
                        v127 = *(_DWORD *)(v31 + 280);
                        if ( v126 )
                          v57 = v126;
                        ++*(_QWORD *)(v31 + 264);
                        v128 = v127 + 1;
                        if ( 4 * (v127 + 1) < 3 * v54 )
                        {
                          if ( v54 - *(_DWORD *)(v31 + 284) - v128 <= v54 >> 3 )
                          {
                            v187 = ((unsigned int)v52 >> 4) ^ ((unsigned int)v52 >> 9);
                            sub_1DA8530(v181, v54);
                            v129 = *(_DWORD *)(v31 + 288);
                            if ( !v129 )
                              goto LABEL_289;
                            v130 = v129 - 1;
                            v131 = *(_QWORD *)(v31 + 272);
                            v132 = 0;
                            v133 = v130 & v187;
                            v128 = *(_DWORD *)(v31 + 280) + 1;
                            v134 = 1;
                            v57 = (__int64 *)(v131 + 16LL * (v130 & v187));
                            v135 = *v57;
                            if ( *v57 != v52 )
                            {
                              while ( v135 != -8 )
                              {
                                if ( !v132 && v135 == -16 )
                                  v132 = v57;
                                v133 = v130 & (v134 + v133);
                                v57 = (__int64 *)(v131 + 16LL * v133);
                                v135 = *v57;
                                if ( v52 == *v57 )
                                  goto LABEL_194;
                                ++v134;
                              }
                              goto LABEL_210;
                            }
                          }
                          goto LABEL_194;
                        }
                      }
                      else
                      {
                        ++*(_QWORD *)(v31 + 264);
                      }
                      sub_1DA8530(v181, 2 * v54);
                      v136 = *(_DWORD *)(v31 + 288);
                      if ( !v136 )
                      {
LABEL_289:
                        ++*(_DWORD *)(v31 + 280);
                        BUG();
                      }
                      v137 = v136 - 1;
                      v138 = *(_QWORD *)(v31 + 272);
                      v139 = v137 & (((unsigned int)v52 >> 9) ^ ((unsigned int)v52 >> 4));
                      v128 = *(_DWORD *)(v31 + 280) + 1;
                      v57 = (__int64 *)(v138 + 16LL * v139);
                      v140 = *v57;
                      if ( v52 != *v57 )
                      {
                        v141 = 1;
                        v132 = 0;
                        while ( v140 != -8 )
                        {
                          if ( !v132 && v140 == -16 )
                            v132 = v57;
                          v139 = v137 & (v141 + v139);
                          v57 = (__int64 *)(v138 + 16LL * v139);
                          v140 = *v57;
                          if ( v52 == *v57 )
                            goto LABEL_194;
                          ++v141;
                        }
LABEL_210:
                        if ( v132 )
                          v57 = v132;
                      }
LABEL_194:
                      *(_DWORD *)(v31 + 280) = v128;
                      if ( *v57 != -8 )
                        --*(_DWORD *)(v31 + 284);
                      *v57 = v52;
                      v57[1] = 0;
                      goto LABEL_93;
                    }
                    if ( (*(_BYTE *)v30 & 4) == 0 )
                    {
                      while ( (*(_BYTE *)(v30 + 46) & 8) != 0 )
                        v30 = *(_QWORD *)(v30 + 8);
                    }
                    v30 = *(_QWORD *)(v30 + 8);
                  }
                  while ( v196 != v30 );
                  v7 = v31;
LABEL_42:
                  v193 = *(_QWORD *)(v193 + 8);
                  if ( v180 == (__int64 *)v193 )
                  {
LABEL_43:
                    sub_1DAEBC0(v7);
                    *(_BYTE *)(v7 + 145) = v2;
                    return v2;
                  }
                }
              }
            }
            BUG();
          }
          v167 = (4 * (int)v166 / 3u + 1) | ((unsigned __int64)(4 * (int)v166 / 3u + 1) >> 1);
          v168 = ((v167 | (v167 >> 2)) >> 4)
               | v167
               | (v167 >> 2)
               | ((((v167 | (v167 >> 2)) >> 4) | v167 | (v167 >> 2)) >> 8);
          v169 = (v168 | (v168 >> 16)) + 1;
          v170 = 16 * ((v168 | (v168 >> 16)) + 1);
        }
        else
        {
          v170 = 2048;
          v169 = 128;
        }
        j___libc_free_0(v164);
        *(_DWORD *)(v7 + 288) = v169;
        v171 = (_QWORD *)sub_22077B0(v170);
        v172 = *(unsigned int *)(v7 + 288);
        *(_QWORD *)(v7 + 280) = 0;
        *(_QWORD *)(v7 + 272) = v171;
        for ( ii = &v171[2 * v172]; ii != v171; v171 += 2 )
        {
          if ( v171 )
            *v171 = -8;
        }
        goto LABEL_29;
      }
      v156 = (4 * (int)v155 / 3u + 1) | ((unsigned __int64)(4 * (int)v155 / 3u + 1) >> 1);
      v157 = ((v156 | (v156 >> 2)) >> 4)
           | v156
           | (v156 >> 2)
           | ((((v156 | (v156 >> 2)) >> 4) | v156 | (v156 >> 2)) >> 8);
      v158 = (v157 | (v157 >> 16)) + 1;
      v159 = 16 * ((v157 | (v157 >> 16)) + 1);
    }
    else
    {
      v159 = 2048;
      v158 = 128;
    }
    j___libc_free_0(v153);
    *(_DWORD *)(v7 + 256) = v158;
    v160 = (_DWORD *)sub_22077B0(v159);
    v161 = *(unsigned int *)(v7 + 256);
    *(_QWORD *)(v7 + 248) = 0;
    *(_QWORD *)(v7 + 240) = v160;
    for ( jj = &v160[4 * v161]; jj != v160; v160 += 4 )
    {
      if ( v160 )
        *v160 = -1;
    }
    goto LABEL_25;
  }
  for ( kk = (__int64 *)a2[41]; a2 + 40 != kk; kk = (__int64 *)kk[1] )
  {
    v146 = kk[4];
    v194 = kk + 3;
    if ( (__int64 *)v146 != kk + 3 )
    {
      do
      {
        while ( 1 )
        {
          v147 = (*(__int64 *)v146 >> 2) & 1;
          if ( **(_WORD **)(v146 + 16) != 12 )
            break;
          v148 = v146;
          if ( !(_BYTE)v147 && (*(_BYTE *)(v146 + 46) & 8) != 0 )
          {
            do
              v148 = *(_QWORD *)(v148 + 8);
            while ( (*(_BYTE *)(v148 + 46) & 8) != 0 );
          }
          v149 = *(__int64 **)(v148 + 8);
          while ( (__int64 *)v146 != v149 )
          {
            v150 = (_QWORD *)v146;
            v146 = *(_QWORD *)(v146 + 8);
            sub_1DD5BC0(kk + 2, v150);
            v151 = (unsigned __int64 *)v150[1];
            v152 = *v150 & 0xFFFFFFFFFFFFFFF8LL;
            *v151 = v152 | *v151 & 7;
            *(_QWORD *)(v152 + 8) = v151;
            *v150 &= 7uLL;
            v150[1] = 0;
            sub_1DD5C20(kk + 2, v150);
          }
          v146 = (__int64)v149;
          if ( v194 == v149 )
            goto LABEL_239;
        }
        if ( !(_BYTE)v147 )
        {
          while ( (*(_BYTE *)(v146 + 46) & 8) != 0 )
            v146 = *(_QWORD *)(v146 + 8);
        }
        v146 = *(_QWORD *)(v146 + 8);
      }
      while ( v194 != (__int64 *)v146 );
    }
LABEL_239:
    ;
  }
  return 0;
}
