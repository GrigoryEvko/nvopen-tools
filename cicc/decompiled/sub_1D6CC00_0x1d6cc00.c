// Function: sub_1D6CC00
// Address: 0x1d6cc00
//
void __fastcall sub_1D6CC00(__int64 *a1, __int64 *a2, __int64 a3, __int64 a4)
{
  __int64 v4; // rsi
  __int64 *v5; // r14
  __int64 v6; // r11
  __int64 v7; // rbx
  __int64 *v8; // r12
  __int64 *v9; // rbx
  char v10; // al
  __int64 *v11; // rdx
  __int64 v12; // rax
  __int64 v13; // rdx
  __int64 v14; // rax
  __int64 v15; // r9
  __int64 v16; // rdx
  __int64 v17; // rcx
  __int64 *v18; // r13
  __int64 v19; // r12
  __int64 v20; // r8
  __int64 *v21; // r11
  __int64 *v22; // r10
  bool v23; // al
  __int64 v24; // rax
  __int64 *v25; // rbx
  __int64 v26; // r14
  __int64 v27; // r13
  __int64 v28; // r15
  __int64 *v29; // r9
  unsigned __int64 v30; // rdx
  unsigned int v31; // edi
  __int64 *v32; // rax
  __int64 v33; // rsi
  int v34; // r11d
  unsigned int v35; // r12d
  unsigned int v36; // edi
  __int64 *v37; // rax
  __int64 v38; // rsi
  int v39; // eax
  __int64 v40; // rax
  __int64 v41; // rdx
  __int64 v42; // rax
  unsigned int v43; // esi
  __int64 v44; // r14
  unsigned int v45; // r15d
  __int64 v46; // rdi
  unsigned int v47; // ecx
  __int64 v48; // rdx
  __int64 v49; // rbx
  int v50; // ebx
  unsigned int v51; // edx
  __int64 v52; // rax
  __int64 v53; // r9
  int v54; // eax
  int v55; // r8d
  __int64 *v56; // rcx
  int v57; // eax
  int v58; // eax
  int v59; // r8d
  __int64 *v60; // rcx
  int v61; // eax
  int v62; // eax
  unsigned __int64 v63; // rdx
  unsigned __int64 v64; // rax
  _QWORD *v65; // rax
  __int64 *v66; // r9
  __int64 v67; // rdx
  __int64 *v68; // r12
  _QWORD *n; // rdx
  __int64 *ii; // rax
  __int64 v71; // r15
  int v72; // esi
  int v73; // esi
  __int64 v74; // r8
  unsigned int v75; // ecx
  __int64 *v76; // rdx
  __int64 v77; // rdi
  _QWORD *v78; // rdi
  int v79; // edx
  int v80; // edx
  unsigned int v81; // esi
  __int64 v82; // r8
  int v83; // r12d
  __int64 *v84; // r9
  unsigned __int64 v85; // rdx
  unsigned __int64 v86; // rax
  _QWORD *v87; // rax
  __int64 *v88; // r9
  __int64 v89; // rdx
  __int64 *v90; // r11
  _QWORD *j; // rdx
  __int64 *k; // rax
  __int64 v93; // r15
  int v94; // esi
  int v95; // esi
  __int64 v96; // r8
  unsigned int v97; // ecx
  __int64 *v98; // rdx
  __int64 v99; // rdi
  _QWORD *v100; // rdi
  int v101; // edx
  int v102; // edx
  unsigned int v103; // esi
  __int64 v104; // r8
  int v105; // r11d
  __int64 *v106; // r9
  __int64 v107; // rax
  _QWORD *v108; // rax
  __int64 *v109; // r9
  __int64 v110; // rdx
  __int64 *v111; // r8
  _QWORD *m; // rdx
  __int64 *v113; // rax
  __int64 *v114; // r14
  __int64 v115; // r15
  int v116; // esi
  int v117; // esi
  __int64 v118; // rbx
  unsigned int v119; // ecx
  __int64 *v120; // rdx
  __int64 v121; // rdi
  _QWORD *v122; // rdx
  int v123; // esi
  int v124; // esi
  int v125; // r15d
  __int64 *v126; // r8
  unsigned int v127; // r12d
  __int64 v128; // rdi
  __int64 v129; // rax
  _QWORD *v130; // rax
  __int64 *v131; // r9
  unsigned int v132; // r11d
  __int64 v133; // rdx
  __int64 *v134; // r8
  _QWORD *i; // rdx
  __int64 *v136; // rax
  __int64 *v137; // r14
  __int64 v138; // r15
  int v139; // esi
  int v140; // esi
  __int64 v141; // rbx
  unsigned int v142; // ecx
  __int64 *v143; // rdx
  __int64 v144; // rdi
  _QWORD *v145; // rsi
  int v146; // edi
  unsigned int v147; // edx
  int v148; // edi
  int v149; // r11d
  unsigned int v150; // edx
  __int64 v151; // r8
  __int64 v152; // rcx
  int v153; // eax
  int v154; // eax
  __int64 v155; // r9
  int v156; // ecx
  int v157; // ecx
  __int64 v158; // rbx
  __int64 v159; // r12
  __int64 *v160; // rbx
  __int64 v161; // rcx
  __int64 v162; // r8
  __int64 v163; // rdi
  __int64 v164; // rdi
  __int64 v165; // rdx
  __int64 v166; // rsi
  bool v167; // zf
  __int64 v168; // rdx
  __int64 v169; // rax
  int v170; // ecx
  __int64 *v171; // r8
  int v172; // ecx
  __int64 *v173; // r8
  __int64 *v174; // [rsp+10h] [rbp-A0h]
  __int64 *v175; // [rsp+10h] [rbp-A0h]
  __int64 *v176; // [rsp+10h] [rbp-A0h]
  int v177; // [rsp+10h] [rbp-A0h]
  int v178; // [rsp+10h] [rbp-A0h]
  int v179; // [rsp+18h] [rbp-98h]
  __int64 *v180; // [rsp+18h] [rbp-98h]
  int v181; // [rsp+18h] [rbp-98h]
  __int64 *v182; // [rsp+18h] [rbp-98h]
  __int64 *v183; // [rsp+18h] [rbp-98h]
  __int64 v184; // [rsp+18h] [rbp-98h]
  __int64 v185; // [rsp+18h] [rbp-98h]
  __int64 v186; // [rsp+18h] [rbp-98h]
  __int64 v187; // [rsp+18h] [rbp-98h]
  int v188; // [rsp+18h] [rbp-98h]
  int v189; // [rsp+18h] [rbp-98h]
  __int64 *v190; // [rsp+18h] [rbp-98h]
  __int64 *v191; // [rsp+18h] [rbp-98h]
  __int64 *v192; // [rsp+20h] [rbp-90h]
  int v193; // [rsp+20h] [rbp-90h]
  __int64 *v194; // [rsp+20h] [rbp-90h]
  __int64 *v195; // [rsp+20h] [rbp-90h]
  __int64 *v196; // [rsp+20h] [rbp-90h]
  __int64 v197; // [rsp+20h] [rbp-90h]
  int v198; // [rsp+20h] [rbp-90h]
  __int64 *v199; // [rsp+20h] [rbp-90h]
  __int64 v200; // [rsp+20h] [rbp-90h]
  __int64 *v201; // [rsp+20h] [rbp-90h]
  __int64 *v202; // [rsp+20h] [rbp-90h]
  __int64 *v203; // [rsp+20h] [rbp-90h]
  __int64 *v204; // [rsp+20h] [rbp-90h]
  __int64 *v205; // [rsp+20h] [rbp-90h]
  __int64 *v206; // [rsp+20h] [rbp-90h]
  __int64 *v207; // [rsp+20h] [rbp-90h]
  __int64 *v208; // [rsp+20h] [rbp-90h]
  __int64 *v209; // [rsp+30h] [rbp-80h]
  __int64 v210; // [rsp+38h] [rbp-78h]
  __int64 *v212; // [rsp+48h] [rbp-68h]
  __int64 *v213; // [rsp+50h] [rbp-60h]
  __int64 *v214; // [rsp+58h] [rbp-58h]
  __int64 *v215; // [rsp+58h] [rbp-58h]
  int v216; // [rsp+58h] [rbp-58h]
  int v217; // [rsp+58h] [rbp-58h]
  __int64 *v218; // [rsp+58h] [rbp-58h]
  __int64 v219; // [rsp+58h] [rbp-58h]
  __int64 *v220; // [rsp+58h] [rbp-58h]
  __int64 *v221; // [rsp+58h] [rbp-58h]
  __int64 *v222; // [rsp+58h] [rbp-58h]
  __int64 v223; // [rsp+68h] [rbp-48h] BYREF
  __int64 v224; // [rsp+70h] [rbp-40h] BYREF
  __int64 v225[7]; // [rsp+78h] [rbp-38h] BYREF

  v212 = a2;
  v4 = (char *)a2 - (char *)a1;
  v210 = a3;
  if ( v4 <= 256 )
    return;
  v5 = a1;
  v6 = a4;
  v7 = v4;
  if ( !a3 )
  {
    v213 = v212;
    goto LABEL_175;
  }
  v209 = a1 + 2;
  while ( 2 )
  {
    --v210;
    v8 = v212 - 2;
    v9 = &v5[2 * (v7 >> 5)];
    v225[0] = a4;
    v10 = sub_1D6C8E0(v225, v209, v9);
    v11 = v212 - 2;
    if ( !v10 )
    {
      if ( !sub_1D6C8E0(v225, v209, v11) )
      {
        v167 = sub_1D6C8E0(v225, v9, v8) == 0;
        v12 = *v5;
        if ( v167 )
          goto LABEL_7;
LABEL_213:
        *v5 = *(v212 - 2);
        v168 = *(v212 - 1);
        *(v212 - 2) = v12;
        v169 = v5[1];
        v5[1] = v168;
        *(v212 - 1) = v169;
        v15 = *v5;
        v16 = v5[1];
        v12 = v5[2];
        v17 = v5[3];
        goto LABEL_8;
      }
      v12 = *v5;
LABEL_150:
      v15 = v5[2];
      v17 = v5[1];
      v5[2] = v12;
      v16 = v5[3];
      *v5 = v15;
      v5[1] = v16;
      v5[3] = v17;
      goto LABEL_8;
    }
    if ( !sub_1D6C8E0(v225, v9, v11) )
    {
      v167 = sub_1D6C8E0(v225, v209, v8) == 0;
      v12 = *v5;
      if ( !v167 )
        goto LABEL_213;
      goto LABEL_150;
    }
    v12 = *v5;
LABEL_7:
    *v5 = *v9;
    v13 = v9[1];
    *v9 = v12;
    v14 = v5[1];
    v5[1] = v13;
    v9[1] = v14;
    v15 = *v5;
    v16 = v5[1];
    v12 = v5[2];
    v17 = v5[3];
LABEL_8:
    v18 = v212;
    v19 = v15;
    v20 = a4;
    v21 = v209;
    v22 = v5;
    while ( 1 )
    {
      v213 = v21;
      if ( v12 == v19 )
        break;
      if ( v17 != v16 )
      {
        v23 = v17 < v16;
        goto LABEL_13;
      }
      v43 = *(_DWORD *)(v20 + 856);
      v224 = v12;
      v44 = v20 + 832;
      if ( v43 )
      {
        v45 = v43 - 1;
        v46 = *(_QWORD *)(v20 + 840);
        v47 = (v43 - 1) & (((unsigned int)v12 >> 9) ^ ((unsigned int)v12 >> 4));
        v48 = v46 + 16LL * v47;
        v49 = *(_QWORD *)v48;
        if ( v12 == *(_QWORD *)v48 )
        {
          v50 = *(_DWORD *)(v48 + 8);
LABEL_32:
          v223 = v19;
          goto LABEL_33;
        }
        v217 = 1;
        v155 = 0;
        while ( v49 != -8 )
        {
          if ( v155 || v49 != -16 )
            v48 = v155;
          v47 = v45 & (v217 + v47);
          v207 = (__int64 *)(v46 + 16LL * v47);
          v49 = *v207;
          if ( *v207 == v12 )
          {
            v50 = *((_DWORD *)v207 + 2);
            goto LABEL_32;
          }
          ++v217;
          v155 = v48;
          v48 = v46 + 16LL * v47;
        }
        v156 = *(_DWORD *)(v20 + 848);
        if ( !v155 )
          v155 = v48;
        ++*(_QWORD *)(v20 + 832);
        v157 = v156 + 1;
        if ( 4 * v157 < 3 * v43 )
        {
          if ( v43 - *(_DWORD *)(v20 + 852) - v157 <= v43 >> 3 )
          {
            v186 = v20;
            v203 = v22;
            v221 = v21;
            sub_1D6B640(v20 + 832, v43);
            sub_1D66AA0(v44, &v224, v225);
            v20 = v186;
            v155 = v225[0];
            v12 = v224;
            v22 = v203;
            v21 = v221;
            v157 = *(_DWORD *)(v186 + 848) + 1;
          }
          goto LABEL_168;
        }
      }
      else
      {
        ++*(_QWORD *)(v20 + 832);
      }
      v220 = v21;
      v185 = v20;
      v202 = v22;
      sub_1D6B640(v20 + 832, 2 * v43);
      sub_1D66AA0(v44, &v224, v225);
      v20 = v185;
      v155 = v225[0];
      v12 = v224;
      v21 = v220;
      v22 = v202;
      v157 = *(_DWORD *)(v185 + 848) + 1;
LABEL_168:
      *(_DWORD *)(v20 + 848) = v157;
      if ( *(_QWORD *)v155 != -8 )
        --*(_DWORD *)(v20 + 852);
      *(_QWORD *)v155 = v12;
      *(_DWORD *)(v155 + 8) = 0;
      v43 = *(_DWORD *)(v20 + 856);
      v223 = v19;
      v46 = *(_QWORD *)(v20 + 840);
      if ( !v43 )
      {
        ++*(_QWORD *)(v20 + 832);
        v50 = 0;
        goto LABEL_172;
      }
      v50 = 0;
      v45 = v43 - 1;
LABEL_33:
      v51 = v45 & (((unsigned int)v19 >> 9) ^ ((unsigned int)v19 >> 4));
      v52 = v46 + 16LL * v51;
      v53 = *(_QWORD *)v52;
      if ( v19 != *(_QWORD *)v52 )
      {
        v216 = 1;
        v152 = 0;
        while ( v53 != -8 )
        {
          if ( v152 || v53 != -16 )
            v52 = v152;
          v51 = v45 & (v216 + v51);
          v208 = (__int64 *)(v46 + 16LL * v51);
          v53 = *v208;
          if ( *v208 == v19 )
          {
            v54 = *((_DWORD *)v208 + 2);
            goto LABEL_35;
          }
          ++v216;
          v152 = v52;
          v52 = v46 + 16LL * v51;
        }
        if ( !v152 )
          v152 = v52;
        v153 = *(_DWORD *)(v20 + 848);
        ++*(_QWORD *)(v20 + 832);
        v154 = v153 + 1;
        if ( 4 * v154 >= 3 * v43 )
        {
LABEL_172:
          v218 = v21;
          v184 = v20;
          v201 = v22;
          sub_1D6B640(v44, 2 * v43);
          sub_1D66AA0(v44, &v223, v225);
          v20 = v184;
          v152 = v225[0];
          v19 = v223;
          v21 = v218;
          v22 = v201;
          v154 = *(_DWORD *)(v184 + 848) + 1;
        }
        else if ( v43 - (v154 + *(_DWORD *)(v20 + 852)) <= v43 >> 3 )
        {
          v187 = v20;
          v204 = v22;
          v222 = v21;
          sub_1D6B640(v44, v43);
          sub_1D66AA0(v44, &v223, v225);
          v20 = v187;
          v152 = v225[0];
          v19 = v223;
          v22 = v204;
          v21 = v222;
          v154 = *(_DWORD *)(v187 + 848) + 1;
        }
        *(_DWORD *)(v20 + 848) = v154;
        if ( *(_QWORD *)v152 != -8 )
          --*(_DWORD *)(v20 + 852);
        *(_QWORD *)v152 = v19;
        v54 = 0;
        *(_DWORD *)(v152 + 8) = 0;
        goto LABEL_35;
      }
      v54 = *(_DWORD *)(v52 + 8);
LABEL_35:
      v19 = *v22;
      v16 = v22[1];
      v23 = v50 < v54;
LABEL_13:
      if ( !v23 )
        break;
LABEL_9:
      v12 = v21[2];
      v17 = v21[3];
      v21 += 2;
    }
    v24 = *(v18 - 1);
    v25 = v18 - 2;
    if ( v19 == *(v18 - 2) )
      goto LABEL_27;
    v214 = v21;
    v26 = *(v18 - 2);
    v27 = v20;
    while ( 2 )
    {
      if ( v16 != v24 )
      {
        if ( v16 >= v24 )
          break;
        goto LABEL_17;
      }
      v28 = *(unsigned int *)(v27 + 856);
      v29 = *(__int64 **)(v27 + 840);
      if ( !(_DWORD)v28 )
      {
        ++*(_QWORD *)(v27 + 832);
        goto LABEL_79;
      }
      v30 = (unsigned int)(v28 - 1);
      v31 = v30 & (((unsigned int)v19 >> 9) ^ ((unsigned int)v19 >> 4));
      v32 = &v29[2 * v31];
      v33 = *v32;
      if ( *v32 != v19 )
      {
        v59 = 1;
        v60 = 0;
        while ( v33 != -8 )
        {
          if ( v33 != -16 || v60 )
            v32 = v60;
          v172 = v59 + 1;
          v31 = v30 & (v59 + v31);
          v173 = &v29[2 * v31];
          v33 = *v173;
          if ( *v173 == v19 )
          {
            v34 = *((_DWORD *)v173 + 2);
            goto LABEL_23;
          }
          v59 = v172;
          v60 = v32;
          v32 = &v29[2 * v31];
        }
        if ( !v60 )
          v60 = v32;
        v61 = *(_DWORD *)(v27 + 848);
        ++*(_QWORD *)(v27 + 832);
        v62 = v61 + 1;
        if ( 4 * v62 < (unsigned int)(3 * v28) )
        {
          if ( (int)v28 - *(_DWORD *)(v27 + 852) - v62 > (unsigned int)v28 >> 3 )
            goto LABEL_51;
          v176 = v22;
          v199 = v29;
          v129 = (((((((((v30 | (v30 >> 1)) >> 2) | v30 | (v30 >> 1)) >> 4)
                    | ((v30 | (v30 >> 1)) >> 2)
                    | v30
                    | (v30 >> 1)) >> 8)
                  | ((((v30 | (v30 >> 1)) >> 2) | v30 | (v30 >> 1)) >> 4)
                  | ((v30 | (v30 >> 1)) >> 2)
                  | v30
                  | (v30 >> 1)) >> 16)
                | ((((((v30 | (v30 >> 1)) >> 2) | v30 | (v30 >> 1)) >> 4) | ((v30 | (v30 >> 1)) >> 2) | v30 | (v30 >> 1)) >> 8)
                | ((((v30 | (v30 >> 1)) >> 2) | v30 | (v30 >> 1)) >> 4)
                | ((v30 | (v30 >> 1)) >> 2)
                | v30
                | (v30 >> 1))
               + 1;
          if ( (unsigned int)v129 < 0x40 )
            LODWORD(v129) = 64;
          *(_DWORD *)(v27 + 856) = v129;
          v130 = (_QWORD *)sub_22077B0(16LL * (unsigned int)v129);
          v131 = v199;
          v132 = ((unsigned int)v19 >> 9) ^ ((unsigned int)v19 >> 4);
          *(_QWORD *)(v27 + 840) = v130;
          v22 = v176;
          if ( v199 )
          {
            v133 = *(unsigned int *)(v27 + 856);
            *(_QWORD *)(v27 + 848) = 0;
            v134 = &v199[2 * v28];
            for ( i = &v130[2 * v133]; i != v130; v130 += 2 )
            {
              if ( v130 )
                *v130 = -8;
            }
            v200 = v26;
            v136 = v131;
            v137 = v25;
            do
            {
              v138 = *v136;
              if ( *v136 != -8 && v138 != -16 )
              {
                v139 = *(_DWORD *)(v27 + 856);
                if ( !v139 )
                {
                  MEMORY[0] = *v136;
                  BUG();
                }
                v140 = v139 - 1;
                v141 = *(_QWORD *)(v27 + 840);
                v142 = v140 & (((unsigned int)v138 >> 9) ^ ((unsigned int)v138 >> 4));
                v143 = (__int64 *)(v141 + 16LL * v142);
                v144 = *v143;
                if ( v138 != *v143 )
                {
                  v178 = 1;
                  v191 = 0;
                  while ( v144 != -8 )
                  {
                    if ( v191 || v144 != -16 )
                      v143 = v191;
                    v142 = v140 & (v178 + v142);
                    v144 = *(_QWORD *)(v141 + 16LL * v142);
                    if ( v138 == v144 )
                    {
                      v143 = (__int64 *)(v141 + 16LL * v142);
                      goto LABEL_137;
                    }
                    v191 = v143;
                    v143 = (__int64 *)(v141 + 16LL * v142);
                    ++v178;
                  }
                  if ( v191 )
                    v143 = v191;
                }
LABEL_137:
                *v143 = v138;
                *((_DWORD *)v143 + 2) = *((_DWORD *)v136 + 2);
                ++*(_DWORD *)(v27 + 848);
              }
              v136 += 2;
            }
            while ( v134 != v136 );
            v183 = v22;
            v25 = v137;
            v26 = v200;
            j___libc_free_0(v131);
            v145 = *(_QWORD **)(v27 + 840);
            v146 = *(_DWORD *)(v27 + 856);
            v132 = ((unsigned int)v19 >> 9) ^ ((unsigned int)v19 >> 4);
            v22 = v183;
            v62 = *(_DWORD *)(v27 + 848) + 1;
          }
          else
          {
            v166 = *(unsigned int *)(v27 + 856);
            *(_QWORD *)(v27 + 848) = 0;
            v146 = v166;
            v145 = &v130[2 * v166];
            if ( v130 == v145 )
            {
              v62 = 1;
            }
            else
            {
              do
              {
                if ( v130 )
                  *v130 = -8;
                v130 += 2;
              }
              while ( v145 != v130 );
              v145 = *(_QWORD **)(v27 + 840);
              v146 = *(_DWORD *)(v27 + 856);
              v62 = *(_DWORD *)(v27 + 848) + 1;
            }
          }
          if ( !v146 )
            goto LABEL_296;
          v147 = v132;
          v148 = v146 - 1;
          v149 = 1;
          v106 = 0;
          v150 = v148 & v147;
          v60 = &v145[2 * v150];
          v151 = *v60;
          if ( *v60 == v19 )
            goto LABEL_51;
          while ( v151 != -8 )
          {
            if ( !v106 && v151 == -16 )
              v106 = v60;
            v150 = v148 & (v149 + v150);
            v60 = &v145[2 * v150];
            v151 = *v60;
            if ( *v60 == v19 )
              goto LABEL_51;
            ++v149;
          }
LABEL_98:
          if ( v106 )
            v60 = v106;
LABEL_51:
          *(_DWORD *)(v27 + 848) = v62;
          if ( *v60 != -8 )
            --*(_DWORD *)(v27 + 852);
          *v60 = v19;
          *((_DWORD *)v60 + 2) = 0;
          v28 = *(unsigned int *)(v27 + 856);
          v29 = *(__int64 **)(v27 + 840);
          if ( (_DWORD)v28 )
          {
            v34 = 0;
            v30 = (unsigned int)(v28 - 1);
            goto LABEL_23;
          }
          ++*(_QWORD *)(v27 + 832);
          v34 = 0;
          goto LABEL_55;
        }
LABEL_79:
        v180 = v22;
        v194 = v29;
        v85 = ((((((((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
                 | (unsigned int)(2 * v28 - 1)
                 | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 4)
               | (((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
               | (unsigned int)(2 * v28 - 1)
               | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 8)
             | (((((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
               | (unsigned int)(2 * v28 - 1)
               | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 4)
             | (((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
             | (unsigned int)(2 * v28 - 1)
             | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 16;
        v86 = (v85
             | (((((((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
                 | (unsigned int)(2 * v28 - 1)
                 | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 4)
               | (((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
               | (unsigned int)(2 * v28 - 1)
               | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 8)
             | (((((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
               | (unsigned int)(2 * v28 - 1)
               | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 4)
             | (((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
             | (unsigned int)(2 * v28 - 1)
             | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1))
            + 1;
        if ( (unsigned int)v86 < 0x40 )
          LODWORD(v86) = 64;
        *(_DWORD *)(v27 + 856) = v86;
        v87 = (_QWORD *)sub_22077B0(16LL * (unsigned int)v86);
        v88 = v194;
        v22 = v180;
        *(_QWORD *)(v27 + 840) = v87;
        if ( v194 )
        {
          v89 = *(unsigned int *)(v27 + 856);
          *(_QWORD *)(v27 + 848) = 0;
          v90 = &v194[2 * v28];
          for ( j = &v87[2 * v89]; j != v87; v87 += 2 )
          {
            if ( v87 )
              *v87 = -8;
          }
          for ( k = v194; v90 != k; k += 2 )
          {
            v93 = *k;
            if ( *k != -8 && v93 != -16 )
            {
              v94 = *(_DWORD *)(v27 + 856);
              if ( !v94 )
              {
                MEMORY[0] = *k;
                BUG();
              }
              v95 = v94 - 1;
              v96 = *(_QWORD *)(v27 + 840);
              v97 = v95 & (((unsigned int)v93 >> 9) ^ ((unsigned int)v93 >> 4));
              v98 = (__int64 *)(v96 + 16LL * v97);
              v99 = *v98;
              if ( v93 != *v98 )
              {
                v189 = 1;
                v206 = 0;
                while ( v99 != -8 )
                {
                  if ( v206 || v99 != -16 )
                    v98 = v206;
                  v97 = v95 & (v189 + v97);
                  v99 = *(_QWORD *)(v96 + 16LL * v97);
                  if ( v93 == v99 )
                  {
                    v98 = (__int64 *)(v96 + 16LL * v97);
                    goto LABEL_91;
                  }
                  v206 = v98;
                  v98 = (__int64 *)(v96 + 16LL * v97);
                  ++v189;
                }
                if ( v206 )
                  v98 = v206;
              }
LABEL_91:
              *v98 = v93;
              *((_DWORD *)v98 + 2) = *((_DWORD *)k + 2);
              ++*(_DWORD *)(v27 + 848);
            }
          }
          v195 = v22;
          j___libc_free_0(v88);
          v100 = *(_QWORD **)(v27 + 840);
          v101 = *(_DWORD *)(v27 + 856);
          v22 = v195;
          v62 = *(_DWORD *)(v27 + 848) + 1;
        }
        else
        {
          v164 = *(unsigned int *)(v27 + 856);
          *(_QWORD *)(v27 + 848) = 0;
          v101 = v164;
          v100 = &v87[2 * v164];
          if ( v87 == v100 )
          {
            v62 = 1;
          }
          else
          {
            do
            {
              if ( v87 )
                *v87 = -8;
              v87 += 2;
            }
            while ( v100 != v87 );
            v100 = *(_QWORD **)(v27 + 840);
            v101 = *(_DWORD *)(v27 + 856);
            v62 = *(_DWORD *)(v27 + 848) + 1;
          }
        }
        if ( !v101 )
        {
LABEL_296:
          ++*(_DWORD *)(v27 + 848);
          BUG();
        }
        v102 = v101 - 1;
        v103 = v102 & (((unsigned int)v19 >> 9) ^ ((unsigned int)v19 >> 4));
        v60 = &v100[2 * v103];
        v104 = *v60;
        if ( *v60 == v19 )
          goto LABEL_51;
        v105 = 1;
        v106 = 0;
        while ( v104 != -8 )
        {
          if ( v104 == -16 && !v106 )
            v106 = v60;
          v103 = v102 & (v105 + v103);
          v60 = &v100[2 * v103];
          v104 = *v60;
          if ( *v60 == v19 )
            goto LABEL_51;
          ++v105;
        }
        goto LABEL_98;
      }
      v34 = *((_DWORD *)v32 + 2);
LABEL_23:
      v35 = ((unsigned int)v26 >> 4) ^ ((unsigned int)v26 >> 9);
      v36 = v30 & v35;
      v37 = &v29[2 * ((unsigned int)v30 & v35)];
      v38 = *v37;
      if ( v26 == *v37 )
      {
        v39 = *((_DWORD *)v37 + 2);
        goto LABEL_25;
      }
      v55 = 1;
      v56 = 0;
      while ( v38 != -8 )
      {
        if ( v38 != -16 || v56 )
          v37 = v56;
        v170 = v55 + 1;
        v36 = v30 & (v55 + v36);
        v171 = &v29[2 * v36];
        v38 = *v171;
        if ( v26 == *v171 )
        {
          v39 = *((_DWORD *)v171 + 2);
          goto LABEL_25;
        }
        v55 = v170;
        v56 = v37;
        v37 = &v29[2 * v36];
      }
      if ( !v56 )
        v56 = v37;
      v57 = *(_DWORD *)(v27 + 848);
      ++*(_QWORD *)(v27 + 832);
      v58 = v57 + 1;
      if ( 4 * v58 < (unsigned int)(3 * v28) )
      {
        if ( (int)v28 - (v58 + *(_DWORD *)(v27 + 852)) <= (unsigned int)v28 >> 3 )
        {
          v175 = v22;
          v181 = v34;
          v196 = v29;
          v107 = ((((((((v30 >> 1) | v30 | (((v30 >> 1) | v30) >> 2)) >> 4)
                    | (v30 >> 1)
                    | v30
                    | (((v30 >> 1) | v30) >> 2)) >> 8)
                  | (((v30 >> 1) | v30 | (((v30 >> 1) | v30) >> 2)) >> 4)
                  | (v30 >> 1)
                  | v30
                  | (((v30 >> 1) | v30) >> 2)) >> 16)
                | (((((v30 >> 1) | v30 | (((v30 >> 1) | v30) >> 2)) >> 4) | (v30 >> 1) | v30 | (((v30 >> 1) | v30) >> 2)) >> 8)
                | (((v30 >> 1) | v30 | (((v30 >> 1) | v30) >> 2)) >> 4)
                | (v30 >> 1)
                | v30
                | (((v30 >> 1) | v30) >> 2))
               + 1;
          if ( (unsigned int)v107 < 0x40 )
            LODWORD(v107) = 64;
          *(_DWORD *)(v27 + 856) = v107;
          v108 = (_QWORD *)sub_22077B0(16LL * (unsigned int)v107);
          v109 = v196;
          v34 = v181;
          *(_QWORD *)(v27 + 840) = v108;
          v22 = v175;
          if ( v196 )
          {
            v110 = *(unsigned int *)(v27 + 856);
            *(_QWORD *)(v27 + 848) = 0;
            v111 = &v196[2 * v28];
            for ( m = &v108[2 * v110]; m != v108; v108 += 2 )
            {
              if ( v108 )
                *v108 = -8;
            }
            v197 = v26;
            v113 = v109;
            v114 = v25;
            do
            {
              v115 = *v113;
              if ( *v113 != -16 && v115 != -8 )
              {
                v116 = *(_DWORD *)(v27 + 856);
                if ( !v116 )
                {
                  MEMORY[0] = *v113;
                  BUG();
                }
                v117 = v116 - 1;
                v118 = *(_QWORD *)(v27 + 840);
                v119 = v117 & (((unsigned int)v115 >> 9) ^ ((unsigned int)v115 >> 4));
                v120 = (__int64 *)(v118 + 16LL * v119);
                v121 = *v120;
                if ( *v120 != v115 )
                {
                  v177 = 1;
                  v190 = 0;
                  while ( v121 != -8 )
                  {
                    if ( v190 || v121 != -16 )
                      v120 = v190;
                    v119 = v117 & (v177 + v119);
                    v121 = *(_QWORD *)(v118 + 16LL * v119);
                    if ( v115 == v121 )
                    {
                      v120 = (__int64 *)(v118 + 16LL * v119);
                      goto LABEL_116;
                    }
                    v190 = v120;
                    v120 = (__int64 *)(v118 + 16LL * v119);
                    ++v177;
                  }
                  if ( v190 )
                    v120 = v190;
                }
LABEL_116:
                *v120 = v115;
                *((_DWORD *)v120 + 2) = *((_DWORD *)v113 + 2);
                ++*(_DWORD *)(v27 + 848);
              }
              v113 += 2;
            }
            while ( v111 != v113 );
            v182 = v22;
            v25 = v114;
            v26 = v197;
            v198 = v34;
            j___libc_free_0(v109);
            v122 = *(_QWORD **)(v27 + 840);
            v123 = *(_DWORD *)(v27 + 856);
            v34 = v198;
            v22 = v182;
            v58 = *(_DWORD *)(v27 + 848) + 1;
          }
          else
          {
            v165 = *(unsigned int *)(v27 + 856);
            *(_QWORD *)(v27 + 848) = 0;
            v123 = v165;
            v122 = &v108[2 * v165];
            if ( v108 == v122 )
            {
              v58 = 1;
            }
            else
            {
              do
              {
                if ( v108 )
                  *v108 = -8;
                v108 += 2;
              }
              while ( v122 != v108 );
              v122 = *(_QWORD **)(v27 + 840);
              v123 = *(_DWORD *)(v27 + 856);
              v58 = *(_DWORD *)(v27 + 848) + 1;
            }
          }
          if ( !v123 )
            goto LABEL_298;
          v124 = v123 - 1;
          v125 = 1;
          v126 = 0;
          v127 = v124 & v35;
          v56 = &v122[2 * v127];
          v128 = *v56;
          if ( v26 != *v56 )
          {
            while ( v128 != -8 )
            {
              if ( !v126 && v128 == -16 )
                v126 = v56;
              v127 = v124 & (v125 + v127);
              v56 = &v122[2 * v127];
              v128 = *v56;
              if ( v26 == *v56 )
                goto LABEL_42;
              ++v125;
            }
            if ( v126 )
              v56 = v126;
          }
        }
        goto LABEL_42;
      }
LABEL_55:
      v174 = v22;
      v179 = v34;
      v192 = v29;
      v63 = ((((((((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
               | (unsigned int)(2 * v28 - 1)
               | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 4)
             | (((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
             | (unsigned int)(2 * v28 - 1)
             | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 8)
           | (((((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
             | (unsigned int)(2 * v28 - 1)
             | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 4)
           | (((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
           | (unsigned int)(2 * v28 - 1)
           | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 16;
      v64 = (v63
           | (((((((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
               | (unsigned int)(2 * v28 - 1)
               | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 4)
             | (((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
             | (unsigned int)(2 * v28 - 1)
             | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 8)
           | (((((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
             | (unsigned int)(2 * v28 - 1)
             | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 4)
           | (((unsigned int)(2 * v28 - 1) | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1)) >> 2)
           | (unsigned int)(2 * v28 - 1)
           | ((unsigned __int64)(unsigned int)(2 * v28 - 1) >> 1))
          + 1;
      if ( (unsigned int)v64 < 0x40 )
        LODWORD(v64) = 64;
      *(_DWORD *)(v27 + 856) = v64;
      v65 = (_QWORD *)sub_22077B0(16LL * (unsigned int)v64);
      v66 = v192;
      v34 = v179;
      *(_QWORD *)(v27 + 840) = v65;
      v22 = v174;
      if ( v192 )
      {
        v67 = *(unsigned int *)(v27 + 856);
        *(_QWORD *)(v27 + 848) = 0;
        v68 = &v192[2 * v28];
        for ( n = &v65[2 * v67]; n != v65; v65 += 2 )
        {
          if ( v65 )
            *v65 = -8;
        }
        for ( ii = v192; v68 != ii; ii += 2 )
        {
          v71 = *ii;
          if ( *ii != -16 && v71 != -8 )
          {
            v72 = *(_DWORD *)(v27 + 856);
            if ( !v72 )
            {
              MEMORY[0] = *ii;
              BUG();
            }
            v73 = v72 - 1;
            v74 = *(_QWORD *)(v27 + 840);
            v75 = v73 & (((unsigned int)v71 >> 9) ^ ((unsigned int)v71 >> 4));
            v76 = (__int64 *)(v74 + 16LL * v75);
            v77 = *v76;
            if ( *v76 != v71 )
            {
              v188 = 1;
              v205 = 0;
              while ( v77 != -8 )
              {
                if ( !v205 )
                {
                  if ( v77 != -16 )
                    v76 = 0;
                  v205 = v76;
                }
                v75 = v73 & (v188 + v75);
                v76 = (__int64 *)(v74 + 16LL * v75);
                v77 = *v76;
                if ( v71 == *v76 )
                  goto LABEL_67;
                ++v188;
              }
              if ( v205 )
                v76 = v205;
            }
LABEL_67:
            *v76 = v71;
            *((_DWORD *)v76 + 2) = *((_DWORD *)ii + 2);
            ++*(_DWORD *)(v27 + 848);
          }
        }
        v193 = v34;
        j___libc_free_0(v66);
        v78 = *(_QWORD **)(v27 + 840);
        v79 = *(_DWORD *)(v27 + 856);
        v34 = v193;
        v22 = v174;
        v58 = *(_DWORD *)(v27 + 848) + 1;
      }
      else
      {
        v163 = *(unsigned int *)(v27 + 856);
        *(_QWORD *)(v27 + 848) = 0;
        v79 = v163;
        v78 = &v65[2 * v163];
        if ( v65 == v78 )
        {
          v58 = 1;
        }
        else
        {
          do
          {
            if ( v65 )
              *v65 = -8;
            v65 += 2;
          }
          while ( v78 != v65 );
          v78 = *(_QWORD **)(v27 + 840);
          v79 = *(_DWORD *)(v27 + 856);
          v58 = *(_DWORD *)(v27 + 848) + 1;
        }
      }
      if ( !v79 )
      {
LABEL_298:
        ++*(_DWORD *)(v27 + 848);
        BUG();
      }
      v80 = v79 - 1;
      v81 = v80 & (((unsigned int)v26 >> 9) ^ ((unsigned int)v26 >> 4));
      v56 = &v78[2 * v81];
      v82 = *v56;
      if ( v26 != *v56 )
      {
        v83 = 1;
        v84 = 0;
        while ( v82 != -8 )
        {
          if ( !v84 && v82 == -16 )
            v84 = v56;
          v81 = v80 & (v83 + v81);
          v56 = &v78[2 * v81];
          v82 = *v56;
          if ( v26 == *v56 )
            goto LABEL_42;
          ++v83;
        }
        if ( v84 )
          v56 = v84;
      }
LABEL_42:
      *(_DWORD *)(v27 + 848) = v58;
      if ( *v56 != -8 )
        --*(_DWORD *)(v27 + 852);
      *v56 = v26;
      v39 = 0;
      *((_DWORD *)v56 + 2) = 0;
LABEL_25:
      if ( v39 > v34 )
      {
LABEL_17:
        v19 = *v22;
        v26 = *(v25 - 2);
        v25 -= 2;
        v24 = v25[1];
        if ( v26 == *v22 )
          break;
        v16 = v22[1];
        continue;
      }
      break;
    }
    v21 = v214;
    v20 = v27;
LABEL_27:
    if ( v21 < v25 )
    {
      v40 = *v21;
      v18 = v25;
      *v21 = *v25;
      v41 = v25[1];
      *v25 = v40;
      v42 = v21[1];
      v21[1] = v41;
      v25[1] = v42;
      v19 = *v22;
      v16 = v22[1];
      goto LABEL_9;
    }
    v5 = v22;
    v215 = v21;
    sub_1D6CC00(v21, v212, v210, a4, v20);
    v7 = (char *)v215 - (char *)v5;
    if ( (char *)v215 - (char *)v5 > 256 )
    {
      if ( v210 )
      {
        v212 = v215;
        continue;
      }
      v6 = a4;
LABEL_175:
      v158 = v7 >> 4;
      v219 = v6;
      v159 = (v158 - 2) >> 1;
      sub_1D6BFC0((__int64)v5, v159, v158, v5[2 * v159], v5[2 * v159 + 1], v6);
      do
      {
        --v159;
        sub_1D6BFC0((__int64)v5, v159, v158, v5[2 * v159], v5[2 * v159 + 1], v219);
      }
      while ( v159 );
      v160 = v213;
      do
      {
        v160 -= 2;
        v161 = *v160;
        v162 = v160[1];
        *v160 = *v5;
        v160[1] = v5[1];
        sub_1D6BFC0((__int64)v5, 0, ((char *)v160 - (char *)v5) >> 4, v161, v162, v219);
      }
      while ( (char *)v160 - (char *)v5 > 16 );
    }
    break;
  }
}
