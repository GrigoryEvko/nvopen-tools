// Function: sub_2946850
// Address: 0x2946850
//
void __fastcall sub_2946850(_BYTE *a1, char a2, __int64 a3, __int64 a4, _BYTE *a5)
{
  __int64 v7; // rbx
  __int64 v8; // rdx
  unsigned __int16 v9; // cx
  __int64 v10; // rax
  void *v11; // rsi
  __int64 v12; // r8
  __int64 v13; // r9
  void *v14; // r13
  unsigned int *v15; // rax
  int v16; // ecx
  unsigned int *v17; // rdx
  __int64 v18; // rdx
  unsigned __int64 v19; // rax
  unsigned __int64 v20; // rbx
  unsigned __int64 v21; // rax
  int v22; // ebx
  unsigned int v23; // r13d
  _BYTE *v24; // rax
  __int64 v25; // rax
  unsigned int v26; // ebx
  __int64 v27; // r12
  unsigned __int8 *v28; // r13
  __int64 v29; // rax
  __int64 v30; // rax
  unsigned __int8 *v31; // r12
  __int64 (__fastcall *v32)(__int64, unsigned int, unsigned __int8 *, unsigned __int8 *); // rax
  __int64 v33; // r14
  __int64 (__fastcall *v34)(__int64, unsigned int, _BYTE *, unsigned __int8 *); // rax
  __int64 v35; // r13
  __int64 v36; // rax
  unsigned __int64 v37; // r13
  unsigned __int8 *v38; // rax
  unsigned __int8 *v39; // rbx
  unsigned __int64 v40; // rsi
  int v41; // eax
  __int64 v42; // rsi
  _QWORD *v43; // rax
  _BYTE *v44; // r12
  unsigned int *v45; // r14
  unsigned int *v46; // rbx
  __int64 v47; // rdx
  unsigned int v48; // esi
  __int64 v49; // rax
  unsigned __int8 *v50; // r9
  __int64 (__fastcall *v51)(__int64, _BYTE *, _BYTE *, unsigned __int8 *); // rax
  __int64 v52; // rax
  __int64 v53; // rbx
  __int64 v54; // r12
  __int64 v55; // rdi
  void *v56; // rsi
  __int64 v57; // r8
  __int64 v58; // r9
  void *v59; // r13
  unsigned int *v60; // rax
  int v61; // ecx
  unsigned int *v62; // rdx
  __int64 v63; // r13
  int v64; // eax
  int v65; // eax
  unsigned int v66; // edx
  __int64 v67; // rax
  __int64 v68; // rdx
  __int64 v69; // rdx
  int v70; // eax
  int v71; // eax
  unsigned int v72; // edx
  __int64 v73; // rax
  __int64 v74; // rdx
  __int64 v75; // rdx
  __int64 v76; // rbx
  int v77; // eax
  int v78; // eax
  unsigned int v79; // edx
  __int64 v80; // rax
  __int64 v81; // rdx
  __int64 v82; // rdx
  int v83; // eax
  int v84; // eax
  unsigned int v85; // edx
  __int64 v86; // rax
  __int64 v87; // rdx
  __int64 v88; // rdx
  _QWORD *v89; // rax
  __int64 v90; // r9
  unsigned int *v91; // r14
  unsigned int *v92; // r12
  __int64 v93; // rdx
  unsigned int v94; // esi
  _QWORD **v95; // rdx
  int v96; // ecx
  __int64 *v97; // rax
  __int64 v98; // rsi
  unsigned int *v99; // r12
  unsigned int *v100; // rbx
  __int64 v101; // rdx
  unsigned int v102; // esi
  unsigned int *v103; // r13
  unsigned int *v104; // rbx
  __int64 v105; // rdx
  unsigned int v106; // esi
  __int64 v107; // rax
  __int64 v108; // rax
  unsigned __int8 *v109; // r12
  __int64 (__fastcall *v110)(__int64, _BYTE *, unsigned __int8 *); // rax
  _QWORD *v111; // rax
  unsigned int *v112; // r12
  unsigned int *v113; // rbx
  __int64 v114; // rdx
  unsigned int v115; // esi
  __int64 v116; // rbx
  __int64 v117; // r8
  __int64 v118; // r9
  _BYTE *v119; // r14
  void *v120; // r12
  __int64 (__fastcall *v121)(void **, _BYTE *, __int64, void *, __int64); // rax
  __int64 v122; // r13
  unsigned __int64 v123; // rsi
  unsigned __int64 v124; // r14
  __int64 v125; // rbx
  _QWORD *v126; // rdi
  _QWORD *v127; // rax
  unsigned int *v128; // r12
  unsigned int *v129; // rbx
  __int64 v130; // rdx
  unsigned int v131; // esi
  __int64 v132; // rbx
  _BYTE *v133; // r12
  __int64 v134; // rax
  unsigned __int8 *v135; // r13
  __int64 (__fastcall *v136)(__int64, _BYTE *, _BYTE *, unsigned __int8 *); // rax
  __int64 v137; // rdi
  __int64 v138; // rax
  __int64 v139; // rax
  __int64 v140; // r13
  __int16 v141; // ax
  _QWORD *v142; // rax
  unsigned int *v143; // r15
  unsigned int *v144; // r13
  __int64 v145; // rdx
  unsigned int v146; // esi
  __int64 v147; // rcx
  _QWORD *v148; // rax
  __int64 v149; // r9
  __int64 v150; // r15
  unsigned int *v151; // r13
  unsigned int *v152; // r12
  __int64 v153; // rdx
  unsigned int v154; // esi
  unsigned __int64 v155; // rsi
  __int64 v156; // [rsp-10h] [rbp-2A0h]
  __int64 v157; // [rsp+8h] [rbp-288h]
  __int64 v160; // [rsp+38h] [rbp-258h]
  unsigned __int8 *v161; // [rsp+40h] [rbp-250h]
  unsigned __int8 *v162; // [rsp+40h] [rbp-250h]
  __int64 v163; // [rsp+50h] [rbp-240h]
  __int64 v166; // [rsp+88h] [rbp-208h]
  __int64 v167; // [rsp+90h] [rbp-200h]
  __int64 v168; // [rsp+98h] [rbp-1F8h]
  __int64 **v169; // [rsp+B0h] [rbp-1E0h]
  unsigned __int8 *v170; // [rsp+B8h] [rbp-1D8h]
  unsigned int v171; // [rsp+B8h] [rbp-1D8h]
  __int16 v172; // [rsp+C0h] [rbp-1D0h]
  unsigned __int8 *v173; // [rsp+C0h] [rbp-1D0h]
  __int64 v174; // [rsp+C8h] [rbp-1C8h]
  char v175; // [rsp+D1h] [rbp-1BFh]
  unsigned int v176; // [rsp+D4h] [rbp-1BCh]
  __int64 v177; // [rsp+E0h] [rbp-1B0h]
  __int64 v178; // [rsp+E8h] [rbp-1A8h]
  __int64 v179; // [rsp+F0h] [rbp-1A0h]
  __int64 v180; // [rsp+118h] [rbp-178h]
  _QWORD v181[2]; // [rsp+120h] [rbp-170h] BYREF
  int v182; // [rsp+130h] [rbp-160h]
  __int16 v183; // [rsp+140h] [rbp-150h]
  _QWORD v184[2]; // [rsp+150h] [rbp-140h] BYREF
  int v185; // [rsp+160h] [rbp-130h]
  __int16 v186; // [rsp+170h] [rbp-120h]
  void *s; // [rsp+180h] [rbp-110h] BYREF
  __int64 v188; // [rsp+188h] [rbp-108h]
  _QWORD v189[2]; // [rsp+190h] [rbp-100h] BYREF
  __int16 v190; // [rsp+1A0h] [rbp-F0h]
  unsigned int *v191; // [rsp+1D0h] [rbp-C0h] BYREF
  __int64 v192; // [rsp+1D8h] [rbp-B8h]
  _BYTE v193[32]; // [rsp+1E0h] [rbp-B0h] BYREF
  __int64 v194; // [rsp+200h] [rbp-90h]
  __int64 v195; // [rsp+208h] [rbp-88h]
  __int64 v196; // [rsp+210h] [rbp-80h]
  __int64 *v197; // [rsp+218h] [rbp-78h]
  void **v198; // [rsp+220h] [rbp-70h]
  void **v199; // [rsp+228h] [rbp-68h]
  __int64 v200; // [rsp+230h] [rbp-60h]
  int v201; // [rsp+238h] [rbp-58h]
  __int16 v202; // [rsp+23Ch] [rbp-54h]
  char v203; // [rsp+23Eh] [rbp-52h]
  __int64 v204; // [rsp+240h] [rbp-50h]
  __int64 v205; // [rsp+248h] [rbp-48h]
  void *v206; // [rsp+250h] [rbp-40h] BYREF
  void *v207; // [rsp+258h] [rbp-38h] BYREF

  v7 = 1;
  v8 = *(_DWORD *)(a3 + 4) & 0x7FFFFFF;
  v178 = *(_QWORD *)(a3 - 32 * v8);
  v163 = *(_QWORD *)(a3 + 32 * (1 - v8));
  v177 = *(_QWORD *)(a3 + 32 * (2 - v8));
  v9 = sub_A74840((_QWORD *)(a3 + 72), 0);
  if ( HIBYTE(v9) )
    v7 = 1LL << v9;
  v166 = *(_QWORD *)(a3 + 8);
  v169 = *(__int64 ***)(v166 + 24);
  v197 = (__int64 *)sub_BD5C60(a3);
  v198 = &v206;
  v199 = &v207;
  v202 = 512;
  LOWORD(v196) = 0;
  v191 = (unsigned int *)v193;
  v206 = &unk_49DA100;
  v192 = 0x200000000LL;
  v207 = &unk_49DA0B0;
  v10 = *(_QWORD *)(a3 + 40);
  v200 = 0;
  v201 = 0;
  v203 = 7;
  v204 = 0;
  v205 = 0;
  v194 = 0;
  v195 = 0;
  v174 = v10;
  sub_D5F1F0((__int64)&v191, a3);
  v11 = *(void **)(a3 + 48);
  s = v11;
  if ( !v11 || (sub_B96E90((__int64)&s, (__int64)v11, 1), (v14 = s) == 0) )
  {
    sub_93FB40((__int64)&v191, 0);
    v14 = s;
    goto LABEL_158;
  }
  v15 = v191;
  v16 = v192;
  v17 = &v191[4 * (unsigned int)v192];
  if ( v191 == v17 )
  {
LABEL_154:
    if ( (unsigned int)v192 >= (unsigned __int64)HIDWORD(v192) )
    {
      v155 = (unsigned int)v192 + 1LL;
      if ( HIDWORD(v192) < v155 )
      {
        sub_C8D5F0((__int64)&v191, v193, v155, 0x10u, v12, v13);
        v17 = &v191[4 * (unsigned int)v192];
      }
      *(_QWORD *)v17 = 0;
      *((_QWORD *)v17 + 1) = v14;
      v14 = s;
      LODWORD(v192) = v192 + 1;
    }
    else
    {
      if ( v17 )
      {
        *v17 = 0;
        *((_QWORD *)v17 + 1) = v14;
        v16 = v192;
        v14 = s;
      }
      LODWORD(v192) = v16 + 1;
    }
LABEL_158:
    if ( !v14 )
      goto LABEL_11;
    goto LABEL_10;
  }
  while ( *v15 )
  {
    v15 += 4;
    if ( v17 == v15 )
      goto LABEL_154;
  }
  *((_QWORD *)v15 + 1) = s;
LABEL_10:
  sub_B91220((__int64)&s, (__int64)v14);
LABEL_11:
  v176 = *(_DWORD *)(v166 + 32);
  s = (void *)sub_BCAE30((__int64)v169);
  v188 = v18;
  v19 = sub_CA1930(&s);
  v175 = -1;
  v20 = -(__int64)((v19 >> 3) | v7) & ((v19 >> 3) | v7);
  if ( v20 )
  {
    _BitScanReverse64(&v21, v20);
    v175 = 63 - (v21 ^ 0x3F);
  }
  if ( *(_BYTE *)v163 > 0x15u )
  {
LABEL_19:
    if ( v176 == 1 || a2 == 1 )
    {
      v173 = 0;
    }
    else
    {
      v25 = sub_BCD140(v197, v176);
      s = "scalar_mask";
      v190 = 259;
      v173 = (unsigned __int8 *)sub_A83570(&v191, v163, v25, (__int64)&s);
    }
    if ( !v176 )
    {
      v63 = v177;
LABEL_147:
      sub_BD84D0(a3, v63);
      sub_B43D60((_QWORD *)a3);
      *a5 = 1;
      goto LABEL_148;
    }
    v179 = 0;
    while ( 1 )
    {
      if ( v173 )
      {
        v26 = v176 - 1 - v179;
        if ( !*a1 )
          v26 = v179;
        LODWORD(v188) = v176;
        v27 = 1LL << v26;
        if ( v176 <= 0x40 )
        {
          s = 0;
          goto LABEL_29;
        }
        sub_C43690((__int64)&s, 0, 0);
        if ( (unsigned int)v188 <= 0x40 )
LABEL_29:
          s = (void *)(v27 | (unsigned __int64)s);
        else
          *((_QWORD *)s + (v26 >> 6)) |= v27;
        v28 = (unsigned __int8 *)sub_ACCFD0(v197, (__int64)&s);
        if ( (unsigned int)v188 > 0x40 && s )
          j_j___libc_free_0_0((unsigned __int64)s);
        v186 = 257;
        v29 = sub_BCD140(v197, v176);
        v30 = sub_ACD640(v29, 0, 0);
        v183 = 257;
        v31 = (unsigned __int8 *)v30;
        v32 = (__int64 (__fastcall *)(__int64, unsigned int, unsigned __int8 *, unsigned __int8 *))*((_QWORD *)*v198 + 2);
        if ( v32 != sub_9202E0 )
        {
          v33 = v32((__int64)v198, 28u, v173, v28);
          goto LABEL_38;
        }
        if ( *v173 > 0x15u || *v28 > 0x15u )
          goto LABEL_122;
        v33 = (unsigned __int8)sub_AC47B0(28) ? sub_AD5570(28, (__int64)v173, v28, 0, 0) : sub_AABE40(0x1Cu, v173, v28);
LABEL_38:
        if ( !v33 )
        {
LABEL_122:
          v190 = 257;
          v33 = sub_B504D0(28, (__int64)v173, (__int64)v28, (__int64)&s, 0, 0);
          (*((void (__fastcall **)(void **, __int64, _QWORD *, __int64, __int64))*v199 + 2))(
            v199,
            v33,
            v181,
            v195,
            v196);
          v103 = v191;
          v104 = &v191[4 * (unsigned int)v192];
          if ( v191 != v104 )
          {
            do
            {
              v105 = *((_QWORD *)v103 + 1);
              v106 = *v103;
              v103 += 4;
              sub_B99FD0(v33, v106, v105);
            }
            while ( v104 != v103 );
          }
        }
        v34 = (__int64 (__fastcall *)(__int64, unsigned int, _BYTE *, unsigned __int8 *))*((_QWORD *)*v198 + 7);
        if ( v34 == sub_928890 )
        {
          if ( *(_BYTE *)v33 <= 0x15u && *v31 <= 0x15u )
          {
            v35 = sub_AAB310(0x21u, (unsigned __int8 *)v33, v31);
LABEL_43:
            if ( v35 )
              goto LABEL_44;
          }
          v190 = 257;
          v35 = (__int64)sub_BD2C40(72, unk_3F10FD0);
          if ( v35 )
          {
            v95 = *(_QWORD ***)(v33 + 8);
            v96 = *((unsigned __int8 *)v95 + 8);
            if ( (unsigned int)(v96 - 17) > 1 )
            {
              v98 = sub_BCB2A0(*v95);
            }
            else
            {
              BYTE4(v180) = (_BYTE)v96 == 18;
              LODWORD(v180) = *((_DWORD *)v95 + 8);
              v97 = (__int64 *)sub_BCB2A0(*v95);
              v98 = sub_BCE1B0(v97, v180);
            }
            sub_B523C0(v35, v98, 53, 33, v33, (__int64)v31, (__int64)&s, 0, 0, 0);
          }
          (*((void (__fastcall **)(void **, __int64, _QWORD *, __int64, __int64))*v199 + 2))(
            v199,
            v35,
            v184,
            v195,
            v196);
          v99 = v191;
          v100 = &v191[4 * (unsigned int)v192];
          if ( v191 != v100 )
          {
            do
            {
              v101 = *((_QWORD *)v99 + 1);
              v102 = *v99;
              v99 += 4;
              sub_B99FD0(v35, v102, v101);
            }
            while ( v100 != v99 );
          }
          goto LABEL_44;
        }
        v35 = v34((__int64)v198, 33u, (_BYTE *)v33, v31);
        goto LABEL_43;
      }
      v186 = 2307;
      v184[0] = "Mask";
      v185 = v179;
      v108 = sub_BCB2E0(v197);
      v109 = (unsigned __int8 *)sub_ACD640(v108, v179, 0);
      v110 = (__int64 (__fastcall *)(__int64, _BYTE *, unsigned __int8 *))*((_QWORD *)*v198 + 12);
      if ( v110 != sub_948070 )
        break;
      if ( *(_BYTE *)v163 <= 0x15u && *v109 <= 0x15u )
      {
        v35 = sub_AD5840(v163, v109, 0);
        goto LABEL_138;
      }
LABEL_139:
      v190 = 257;
      v111 = sub_BD2C40(72, 2u);
      v35 = (__int64)v111;
      if ( v111 )
        sub_B4DE80((__int64)v111, v163, (__int64)v109, (__int64)&s, 0, 0);
      (*((void (__fastcall **)(void **, __int64, _QWORD *, __int64, __int64))*v199 + 2))(v199, v35, v184, v195, v196);
      v112 = v191;
      v113 = &v191[4 * (unsigned int)v192];
      if ( v191 != v113 )
      {
        do
        {
          v114 = *((_QWORD *)v112 + 1);
          v115 = *v112;
          v112 += 4;
          sub_B99FD0(v35, v115, v114);
        }
        while ( v113 != v112 );
      }
LABEL_44:
      v36 = v168;
      LOWORD(v36) = 0;
      v168 = v36;
      v37 = sub_F38250(v35, (__int64 *)(a3 + 24), v36, 0, 0, a4, 0, 0);
      v38 = *(unsigned __int8 **)(v37 + 40);
      s = "cond.load";
      v39 = v38;
      v170 = v38;
      v190 = 259;
      sub_BD6B50(v38, (const char **)&s);
      v40 = *((_QWORD *)v39 + 6) & 0xFFFFFFFFFFFFFFF8LL;
      if ( (unsigned __int8 *)v40 == v39 + 48 )
      {
        v42 = 0;
      }
      else
      {
        if ( !v40 )
          BUG();
        v41 = *(unsigned __int8 *)(v40 - 24);
        v42 = v40 - 24;
        if ( (unsigned int)(v41 - 30) >= 0xB )
          v42 = 0;
      }
      sub_D5F1F0((__int64)&v191, v42);
      v186 = 257;
      v190 = 257;
      v43 = sub_BD2C40(80, 1u);
      v44 = v43;
      if ( v43 )
        sub_B4D190((__int64)v43, (__int64)v169, v178, (__int64)&s, 0, v175, 0, 0);
      (*((void (__fastcall **)(void **, _BYTE *, _QWORD *, __int64, __int64))*v199 + 2))(v199, v44, v184, v195, v196);
      v45 = v191;
      v46 = &v191[4 * (unsigned int)v192];
      if ( v191 != v46 )
      {
        do
        {
          v47 = *((_QWORD *)v45 + 1);
          v48 = *v45;
          v45 += 4;
          sub_B99FD0((__int64)v44, v48, v47);
        }
        while ( v46 != v45 );
      }
      v186 = 257;
      v49 = sub_BCB2E0(v197);
      v50 = (unsigned __int8 *)sub_ACD640(v49, v179, 0);
      v51 = (__int64 (__fastcall *)(__int64, _BYTE *, _BYTE *, unsigned __int8 *))*((_QWORD *)*v198 + 13);
      if ( v51 != sub_948040 )
      {
        v162 = v50;
        v107 = v51((__int64)v198, (_BYTE *)v177, v44, v50);
        v50 = v162;
        v53 = v107;
LABEL_57:
        if ( v53 )
          goto LABEL_58;
        goto LABEL_110;
      }
      if ( *(_BYTE *)v177 <= 0x15u && *v44 <= 0x15u && *v50 <= 0x15u )
      {
        v161 = v50;
        v52 = sub_AD5A90(v177, v44, v50, 0);
        v50 = v161;
        v53 = v52;
        goto LABEL_57;
      }
LABEL_110:
      v190 = 257;
      v160 = (__int64)v50;
      v89 = sub_BD2C40(72, 3u);
      v90 = v160;
      v53 = (__int64)v89;
      if ( v89 )
      {
        sub_B4DFA0((__int64)v89, v177, (__int64)v44, v160, (__int64)&s, v160, 0, 0);
        v90 = v156;
      }
      (*((void (__fastcall **)(void **, __int64, _QWORD *, __int64, __int64, __int64))*v199 + 2))(
        v199,
        v53,
        v184,
        v195,
        v196,
        v90);
      v91 = v191;
      v92 = &v191[4 * (unsigned int)v192];
      if ( v191 != v92 )
      {
        do
        {
          v93 = *((_QWORD *)v91 + 1);
          v94 = *v91;
          v91 += 4;
          sub_B99FD0(v53, v94, v93);
        }
        while ( v92 != v91 );
      }
LABEL_58:
      if ( v176 != (_DWORD)v179 + 1 )
      {
        v190 = 257;
        v167 = sub_94B2B0(&v191, (__int64)v169, v178, 1u, (__int64)&s);
      }
      v54 = sub_B46EC0(v37, 0);
      v190 = 259;
      s = "else";
      sub_BD6B50((unsigned __int8 *)v54, (const char **)&s);
      v55 = *(_QWORD *)(v54 + 56);
      v194 = v54;
      LOWORD(v196) = 1;
      v195 = v55;
      if ( v55 != v54 + 48 )
      {
        if ( v55 )
          v55 -= 24;
        v56 = *(void **)sub_B46C60(v55);
        s = v56;
        if ( v56 && (sub_B96E90((__int64)&s, (__int64)v56, 1), (v59 = s) != 0) )
        {
          v60 = v191;
          v61 = v192;
          v62 = &v191[4 * (unsigned int)v192];
          if ( v191 != v62 )
          {
            while ( *v60 )
            {
              v60 += 4;
              if ( v62 == v60 )
                goto LABEL_128;
            }
            *((_QWORD *)v60 + 1) = s;
LABEL_70:
            sub_B91220((__int64)&s, (__int64)v59);
            goto LABEL_71;
          }
LABEL_128:
          if ( (unsigned int)v192 >= (unsigned __int64)HIDWORD(v192) )
          {
            v123 = (unsigned int)v192 + 1LL;
            v124 = v157 & 0xFFFFFFFF00000000LL;
            v157 &= 0xFFFFFFFF00000000LL;
            if ( HIDWORD(v192) < v123 )
            {
              sub_C8D5F0((__int64)&v191, v193, v123, 0x10u, v57, v58);
              v62 = &v191[4 * (unsigned int)v192];
            }
            *(_QWORD *)v62 = v124;
            *((_QWORD *)v62 + 1) = v59;
            v59 = s;
            LODWORD(v192) = v192 + 1;
          }
          else
          {
            if ( v62 )
            {
              *v62 = 0;
              *((_QWORD *)v62 + 1) = v59;
              v61 = v192;
              v59 = s;
            }
            LODWORD(v192) = v61 + 1;
          }
        }
        else
        {
          sub_93FB40((__int64)&v191, 0);
          v59 = s;
        }
        if ( v59 )
          goto LABEL_70;
      }
LABEL_71:
      s = "res.phi.else";
      v190 = 259;
      v63 = sub_D5C860((__int64 *)&v191, v166, 2, (__int64)&s);
      v64 = *(_DWORD *)(v63 + 4) & 0x7FFFFFF;
      if ( v64 == *(_DWORD *)(v63 + 72) )
      {
        sub_B48D90(v63);
        v64 = *(_DWORD *)(v63 + 4) & 0x7FFFFFF;
      }
      v65 = (v64 + 1) & 0x7FFFFFF;
      v66 = v65 | *(_DWORD *)(v63 + 4) & 0xF8000000;
      v67 = *(_QWORD *)(v63 - 8) + 32LL * (unsigned int)(v65 - 1);
      *(_DWORD *)(v63 + 4) = v66;
      if ( *(_QWORD *)v67 )
      {
        v68 = *(_QWORD *)(v67 + 8);
        **(_QWORD **)(v67 + 16) = v68;
        if ( v68 )
          *(_QWORD *)(v68 + 16) = *(_QWORD *)(v67 + 16);
      }
      *(_QWORD *)v67 = v53;
      if ( v53 )
      {
        v69 = *(_QWORD *)(v53 + 16);
        *(_QWORD *)(v67 + 8) = v69;
        if ( v69 )
          *(_QWORD *)(v69 + 16) = v67 + 8;
        *(_QWORD *)(v67 + 16) = v53 + 16;
        *(_QWORD *)(v53 + 16) = v67;
      }
      *(_QWORD *)(*(_QWORD *)(v63 - 8)
                + 32LL * *(unsigned int *)(v63 + 72)
                + 8LL * ((*(_DWORD *)(v63 + 4) & 0x7FFFFFFu) - 1)) = v170;
      v70 = *(_DWORD *)(v63 + 4) & 0x7FFFFFF;
      if ( v70 == *(_DWORD *)(v63 + 72) )
      {
        sub_B48D90(v63);
        v70 = *(_DWORD *)(v63 + 4) & 0x7FFFFFF;
      }
      v71 = (v70 + 1) & 0x7FFFFFF;
      v72 = v71 | *(_DWORD *)(v63 + 4) & 0xF8000000;
      v73 = *(_QWORD *)(v63 - 8) + 32LL * (unsigned int)(v71 - 1);
      *(_DWORD *)(v63 + 4) = v72;
      if ( *(_QWORD *)v73 )
      {
        v74 = *(_QWORD *)(v73 + 8);
        **(_QWORD **)(v73 + 16) = v74;
        if ( v74 )
          *(_QWORD *)(v74 + 16) = *(_QWORD *)(v73 + 16);
      }
      *(_QWORD *)v73 = v177;
      if ( v177 )
      {
        v75 = *(_QWORD *)(v177 + 16);
        *(_QWORD *)(v73 + 8) = v75;
        if ( v75 )
          *(_QWORD *)(v75 + 16) = v73 + 8;
        *(_QWORD *)(v73 + 16) = v177 + 16;
        *(_QWORD *)(v177 + 16) = v73;
      }
      *(_QWORD *)(*(_QWORD *)(v63 - 8)
                + 32LL * *(unsigned int *)(v63 + 72)
                + 8LL * ((*(_DWORD *)(v63 + 4) & 0x7FFFFFFu) - 1)) = v174;
      if ( v176 - 1 == v179 )
        goto LABEL_147;
      s = "ptr.phi.else";
      v190 = 259;
      v76 = sub_D5C860((__int64 *)&v191, *(_QWORD *)(v178 + 8), 2, (__int64)&s);
      v77 = *(_DWORD *)(v76 + 4) & 0x7FFFFFF;
      if ( v77 == *(_DWORD *)(v76 + 72) )
      {
        sub_B48D90(v76);
        v77 = *(_DWORD *)(v76 + 4) & 0x7FFFFFF;
      }
      v78 = (v77 + 1) & 0x7FFFFFF;
      v79 = v78 | *(_DWORD *)(v76 + 4) & 0xF8000000;
      v80 = *(_QWORD *)(v76 - 8) + 32LL * (unsigned int)(v78 - 1);
      *(_DWORD *)(v76 + 4) = v79;
      if ( *(_QWORD *)v80 )
      {
        v81 = *(_QWORD *)(v80 + 8);
        **(_QWORD **)(v80 + 16) = v81;
        if ( v81 )
          *(_QWORD *)(v81 + 16) = *(_QWORD *)(v80 + 16);
      }
      *(_QWORD *)v80 = v167;
      if ( v167 )
      {
        v82 = *(_QWORD *)(v167 + 16);
        *(_QWORD *)(v80 + 8) = v82;
        if ( v82 )
          *(_QWORD *)(v82 + 16) = v80 + 8;
        *(_QWORD *)(v80 + 16) = v167 + 16;
        *(_QWORD *)(v167 + 16) = v80;
      }
      *(_QWORD *)(*(_QWORD *)(v76 - 8)
                + 32LL * *(unsigned int *)(v76 + 72)
                + 8LL * ((*(_DWORD *)(v76 + 4) & 0x7FFFFFFu) - 1)) = v170;
      v83 = *(_DWORD *)(v76 + 4) & 0x7FFFFFF;
      if ( v83 == *(_DWORD *)(v76 + 72) )
      {
        sub_B48D90(v76);
        v83 = *(_DWORD *)(v76 + 4) & 0x7FFFFFF;
      }
      v84 = (v83 + 1) & 0x7FFFFFF;
      v85 = v84 | *(_DWORD *)(v76 + 4) & 0xF8000000;
      v86 = *(_QWORD *)(v76 - 8) + 32LL * (unsigned int)(v84 - 1);
      *(_DWORD *)(v76 + 4) = v85;
      if ( *(_QWORD *)v86 )
      {
        v87 = *(_QWORD *)(v86 + 8);
        **(_QWORD **)(v86 + 16) = v87;
        if ( v87 )
          *(_QWORD *)(v87 + 16) = *(_QWORD *)(v86 + 16);
      }
      *(_QWORD *)v86 = v178;
      v88 = *(_QWORD *)(v178 + 16);
      *(_QWORD *)(v86 + 8) = v88;
      if ( v88 )
        *(_QWORD *)(v88 + 16) = v86 + 8;
      *(_QWORD *)(v86 + 16) = v178 + 16;
      ++v179;
      *(_QWORD *)(v178 + 16) = v86;
      *(_QWORD *)(*(_QWORD *)(v76 - 8)
                + 32LL * *(unsigned int *)(v76 + 72)
                + 8LL * ((*(_DWORD *)(v76 + 4) & 0x7FFFFFFu) - 1)) = v174;
      if ( v176 == v179 )
        goto LABEL_147;
      v177 = v63;
      v174 = v54;
      v178 = v76;
    }
    v35 = v110((__int64)v198, (_BYTE *)v163, v109);
LABEL_138:
    if ( v35 )
      goto LABEL_44;
    goto LABEL_139;
  }
  v22 = *(_DWORD *)(*(_QWORD *)(v163 + 8) + 32LL);
  if ( v22 )
  {
    v23 = 0;
    do
    {
      v24 = (_BYTE *)sub_AD69F0((unsigned __int8 *)v163, v23);
      if ( !v24 || *v24 != 17 )
        goto LABEL_19;
    }
    while ( v22 != ++v23 );
  }
  v116 = v176;
  v119 = (_BYTE *)sub_ACADE0((__int64 **)v166);
  s = v189;
  v188 = 0x1000000000LL;
  if ( v176 > 0x10 )
  {
    sub_C8D5F0((__int64)&s, v189, v176, 4u, v117, v118);
    memset(s, 255, 4LL * v176);
    LODWORD(v188) = v176;
  }
  else
  {
    if ( !v176 )
    {
      LODWORD(v188) = 0;
      goto LABEL_164;
    }
    v125 = 4LL * v176;
    if ( v125 )
    {
      v126 = v189;
      if ( (unsigned int)v125 >= 8 )
      {
        v147 = (unsigned int)v125 >> 3;
        memset(v189, 0xFFu, 8 * v147);
        v126 = &v189[v147];
      }
      if ( ((4 * (_BYTE)v176) & 4) != 0 )
        *(_DWORD *)v126 = -1;
    }
    LODWORD(v188) = v176;
  }
  v171 = 0;
  v132 = 0;
  do
  {
    while ( 1 )
    {
      v139 = sub_AD69F0((unsigned __int8 *)v163, (unsigned int)v132);
      if ( sub_AC30F0(v139) )
      {
        v133 = (_BYTE *)sub_ACADE0(v169);
        *((_DWORD *)s + v132) = v176 + v132;
      }
      else
      {
        v186 = 257;
        v140 = sub_94B2B0(&v191, (__int64)v169, v178, v171, (__int64)v184);
        v182 = v132;
        v181[0] = "Load";
        HIBYTE(v141) = HIBYTE(v172);
        LOBYTE(v141) = v175;
        v183 = 2307;
        v186 = 257;
        v172 = v141;
        v142 = sub_BD2C40(80, 1u);
        v133 = v142;
        if ( v142 )
          sub_B4D190((__int64)v142, (__int64)v169, v140, (__int64)v184, 0, v172, 0, 0);
        (*((void (__fastcall **)(void **, _BYTE *, _QWORD *, __int64, __int64))*v199 + 2))(v199, v133, v181, v195, v196);
        v143 = v191;
        v144 = &v191[4 * (unsigned int)v192];
        if ( v191 != v144 )
        {
          do
          {
            v145 = *((_QWORD *)v143 + 1);
            v146 = *v143;
            v143 += 4;
            sub_B99FD0((__int64)v133, v146, v145);
          }
          while ( v144 != v143 );
        }
        ++v171;
        *((_DWORD *)s + v132) = v132;
      }
      v181[0] = "Res";
      v183 = 2307;
      v182 = v132;
      v134 = sub_BCB2E0(v197);
      v135 = (unsigned __int8 *)sub_ACD640(v134, v132, 0);
      v136 = (__int64 (__fastcall *)(__int64, _BYTE *, _BYTE *, unsigned __int8 *))*((_QWORD *)*v198 + 13);
      if ( v136 == sub_948040 )
        break;
      v138 = v136((__int64)v198, v119, v133, v135);
LABEL_196:
      if ( !v138 )
        goto LABEL_204;
      v119 = (_BYTE *)v138;
      if ( v176 <= (unsigned int)++v132 )
        goto LABEL_209;
    }
    v137 = 0;
    if ( *v119 <= 0x15u )
      v137 = (__int64)v119;
    if ( *v133 <= 0x15u && *v135 <= 0x15u && v137 )
    {
      v138 = sub_AD5A90(v137, v133, v135, 0);
      goto LABEL_196;
    }
LABEL_204:
    v186 = 257;
    v148 = sub_BD2C40(72, 3u);
    v149 = 0;
    v150 = (__int64)v148;
    if ( v148 )
      sub_B4DFA0((__int64)v148, (__int64)v119, (__int64)v133, (__int64)v135, (__int64)v184, 0, 0, 0);
    (*((void (__fastcall **)(void **, __int64, _QWORD *, __int64, __int64, __int64))*v199 + 2))(
      v199,
      v150,
      v181,
      v195,
      v196,
      v149);
    v151 = v191;
    v152 = &v191[4 * (unsigned int)v192];
    if ( v191 != v152 )
    {
      do
      {
        v153 = *((_QWORD *)v151 + 1);
        v154 = *v151;
        v151 += 4;
        sub_B99FD0(v150, v154, v153);
      }
      while ( v152 != v151 );
    }
    v119 = (_BYTE *)v150;
    ++v132;
  }
  while ( v176 > (unsigned int)v132 );
LABEL_209:
  v116 = (unsigned int)v188;
LABEL_164:
  v120 = s;
  v183 = 257;
  v121 = (__int64 (__fastcall *)(void **, _BYTE *, __int64, void *, __int64))*((_QWORD *)*v198 + 14);
  if ( (char *)v121 == (char *)sub_9B6630 )
  {
    if ( *v119 <= 0x15u && *(_BYTE *)v177 <= 0x15u )
    {
      v122 = sub_AD5CE0((__int64)v119, v177, s, v116, 0);
      goto LABEL_168;
    }
    goto LABEL_181;
  }
  v122 = v121(v198, v119, v177, s, v116);
LABEL_168:
  if ( !v122 )
  {
LABEL_181:
    v186 = 257;
    v127 = sub_BD2C40(112, unk_3F1FE60);
    v122 = (__int64)v127;
    if ( v127 )
      sub_B4E9E0((__int64)v127, (__int64)v119, v177, v120, v116, (__int64)v184, 0, 0);
    (*((void (__fastcall **)(void **, __int64, _QWORD *, __int64, __int64))*v199 + 2))(v199, v122, v181, v195, v196);
    v128 = v191;
    v129 = &v191[4 * (unsigned int)v192];
    if ( v191 != v129 )
    {
      do
      {
        v130 = *((_QWORD *)v128 + 1);
        v131 = *v128;
        v128 += 4;
        sub_B99FD0(v122, v131, v130);
      }
      while ( v129 != v128 );
    }
  }
  sub_BD84D0(a3, v122);
  sub_B43D60((_QWORD *)a3);
  if ( s != v189 )
    _libc_free((unsigned __int64)s);
LABEL_148:
  nullsub_61();
  v206 = &unk_49DA100;
  nullsub_63();
  if ( v191 != (unsigned int *)v193 )
    _libc_free((unsigned __int64)v191);
}
