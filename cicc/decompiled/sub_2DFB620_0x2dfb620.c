// Function: sub_2DFB620
// Address: 0x2dfb620
//
void __fastcall sub_2DFB620(unsigned int *a1, __int64 a2, __int64 a3, __int64 a4)
{
  unsigned int v4; // ecx
  __int64 v5; // rdx
  __int64 v6; // rdx
  int v7; // ebx
  __int64 *v8; // r13
  unsigned int v9; // r12d
  unsigned int v10; // r13d
  bool v11; // bl
  unsigned int v12; // ecx
  __int64 v13; // rbx
  unsigned __int64 *v14; // rdx
  __int64 v15; // rax
  unsigned int *v16; // rcx
  unsigned int v17; // ebx
  __int64 v18; // rax
  int v19; // eax
  unsigned int v20; // r13d
  __int64 v21; // r12
  int v22; // r14d
  unsigned __int64 v23; // r15
  int v24; // r14d
  __int64 v25; // rax
  __int64 v26; // r12
  __int64 v27; // r13
  int v28; // edx
  unsigned int v29; // eax
  __int64 v30; // rdx
  __int64 v31; // r8
  int v32; // r14d
  unsigned __int64 v33; // rbx
  int v34; // r14d
  unsigned int v35; // r15d
  unsigned __int64 v36; // r12
  unsigned int v37; // ecx
  unsigned int v38; // r13d
  int v39; // r12d
  __int64 v40; // r15
  _QWORD *v41; // r14
  __int64 v42; // r9
  _QWORD *v43; // rax
  _QWORD *v44; // rdx
  __int64 v45; // r8
  unsigned __int8 v46; // di
  unsigned __int64 v47; // rsi
  char v48; // al
  __int64 v49; // r8
  char v50; // al
  unsigned int v51; // r8d
  unsigned __int64 *v52; // r13
  unsigned __int64 v53; // r15
  __int64 v54; // rbx
  unsigned __int64 v55; // r14
  unsigned int v56; // r12d
  __int64 v57; // r9
  __int64 v58; // r10
  __int64 v59; // rdx
  _QWORD *v60; // rax
  __int64 v61; // rax
  unsigned __int8 v62; // di
  __int64 v63; // rdx
  unsigned __int64 v64; // rsi
  char v65; // al
  char v66; // al
  int v67; // eax
  __int64 v68; // rax
  unsigned int v69; // eax
  unsigned int v70; // r12d
  unsigned int v71; // edx
  unsigned __int64 v72; // rbx
  unsigned int v73; // r10d
  unsigned int v74; // r15d
  unsigned int v75; // r12d
  __int64 v76; // r14
  _QWORD *v77; // r13
  __int64 v78; // r9
  _QWORD *v79; // rax
  _QWORD *v80; // rdx
  __int64 v81; // rcx
  unsigned __int8 v82; // di
  unsigned __int64 v83; // rsi
  char v84; // al
  char v85; // al
  unsigned __int64 *v86; // r15
  unsigned __int64 v87; // r13
  __int64 v88; // r14
  unsigned int v89; // ebx
  __int64 v90; // r9
  __int64 v91; // r10
  __int64 v92; // rdx
  _QWORD *v93; // rax
  __int64 v94; // rax
  unsigned __int8 v95; // di
  __int64 v96; // rdx
  unsigned __int64 v97; // rsi
  char v98; // al
  char v99; // al
  unsigned int v100; // r14d
  __int64 v101; // r15
  unsigned __int64 v102; // rdx
  __int64 v103; // r9
  __int64 v104; // rdi
  __int64 v105; // rcx
  unsigned __int64 v106; // rcx
  unsigned __int64 v107; // r12
  __int64 v108; // rbx
  bool v109; // r8
  __int64 v110; // rax
  __int64 *v111; // r14
  void *v112; // rax
  unsigned __int64 v113; // rdi
  const void **v114; // rsi
  size_t v115; // rdx
  void *v116; // rax
  unsigned __int64 v117; // rdi
  size_t v118; // rdx
  void *v119; // rax
  unsigned __int64 v120; // rdi
  const void **v121; // rsi
  size_t v122; // rdx
  void *v123; // rax
  unsigned __int64 v124; // rdi
  size_t v125; // rdx
  unsigned int v126; // eax
  unsigned int v127; // r14d
  __int64 v128; // r13
  unsigned __int64 v129; // r14
  int v130; // r12d
  unsigned __int64 v131; // r15
  __int64 v132; // r10
  __int64 v133; // r9
  _QWORD *v134; // rax
  _QWORD *v135; // rdx
  unsigned __int8 v136; // di
  unsigned __int64 v137; // rsi
  char v138; // al
  __int64 v139; // r9
  char v140; // al
  unsigned __int64 *v141; // r13
  unsigned int v142; // r15d
  _QWORD *v143; // r12
  unsigned int v144; // r14d
  __int64 v145; // r8
  _QWORD *v146; // rax
  __int64 v147; // rax
  unsigned __int8 v148; // di
  unsigned __int64 v149; // rsi
  __int64 v150; // rdx
  char v151; // al
  char v152; // al
  __int64 v153; // rax
  unsigned __int64 v154; // rdi
  const void **v155; // rsi
  void *v156; // r11
  size_t v157; // rdx
  void *v158; // rax
  unsigned __int64 v159; // rdi
  size_t v160; // rdx
  unsigned int v161; // edx
  unsigned int v162; // r15d
  __int64 v163; // r13
  unsigned __int64 v164; // r14
  unsigned __int64 v165; // rbx
  __int64 v166; // r10
  __int64 v167; // r9
  _QWORD *v168; // rax
  _QWORD *v169; // rdx
  unsigned __int8 v170; // di
  unsigned __int64 v171; // rsi
  char v172; // al
  __int64 v173; // r9
  char v174; // al
  unsigned __int64 *v175; // r13
  unsigned int v176; // r14d
  _QWORD *v177; // r12
  __int64 v178; // r10
  _QWORD *v179; // rax
  __int64 v180; // rax
  unsigned __int8 v181; // di
  unsigned __int64 v182; // rsi
  __int64 v183; // rdx
  char v184; // al
  char v185; // al
  void *v186; // rax
  unsigned __int64 v187; // rdi
  const void **v188; // rsi
  size_t v189; // rdx
  void *v190; // rax
  unsigned __int64 v191; // rdi
  size_t v192; // rdx
  __int64 v193; // rax
  unsigned __int64 *v194; // rax
  unsigned int i; // ebx
  unsigned int *v196; // r15
  __int64 v197; // rax
  __int64 v198; // r12
  __int64 v199; // rax
  __int64 v200; // rax
  _QWORD *v201; // rsi
  _QWORD *v202; // rdx
  _QWORD *v203; // rax
  __int64 v204; // rax
  unsigned int v205; // eax
  __int64 v206; // rdi
  unsigned __int64 v207; // rdx
  __int64 v208; // [rsp+8h] [rbp-138h]
  __int64 v209; // [rsp+10h] [rbp-130h]
  int v210; // [rsp+1Ch] [rbp-124h]
  __int64 v211; // [rsp+20h] [rbp-120h]
  char v212; // [rsp+2Bh] [rbp-115h]
  unsigned int v213; // [rsp+2Ch] [rbp-114h]
  __int64 v214; // [rsp+38h] [rbp-108h]
  unsigned int *v216; // [rsp+48h] [rbp-F8h]
  unsigned int v217; // [rsp+50h] [rbp-F0h]
  unsigned int v218; // [rsp+54h] [rbp-ECh]
  unsigned int v220; // [rsp+60h] [rbp-E0h]
  __int64 v221; // [rsp+60h] [rbp-E0h]
  unsigned __int64 *v222; // [rsp+68h] [rbp-D8h]
  unsigned __int64 v223; // [rsp+68h] [rbp-D8h]
  int v224; // [rsp+70h] [rbp-D0h]
  unsigned int v225; // [rsp+70h] [rbp-D0h]
  unsigned int v226; // [rsp+70h] [rbp-D0h]
  unsigned int v227; // [rsp+74h] [rbp-CCh]
  unsigned __int64 v228; // [rsp+78h] [rbp-C8h]
  int v229; // [rsp+78h] [rbp-C8h]
  unsigned int v230; // [rsp+78h] [rbp-C8h]
  __int64 v231; // [rsp+78h] [rbp-C8h]
  int v232; // [rsp+78h] [rbp-C8h]
  unsigned int v233; // [rsp+78h] [rbp-C8h]
  __int64 v234; // [rsp+78h] [rbp-C8h]
  unsigned int v235; // [rsp+80h] [rbp-C0h]
  __int64 v236; // [rsp+80h] [rbp-C0h]
  unsigned int v237; // [rsp+80h] [rbp-C0h]
  __int64 v238; // [rsp+80h] [rbp-C0h]
  unsigned int v239; // [rsp+80h] [rbp-C0h]
  __int64 v240; // [rsp+80h] [rbp-C0h]
  __int64 v241; // [rsp+80h] [rbp-C0h]
  __int64 v242; // [rsp+80h] [rbp-C0h]
  unsigned int v243; // [rsp+88h] [rbp-B8h]
  __int64 v244; // [rsp+88h] [rbp-B8h]
  __int64 v245; // [rsp+88h] [rbp-B8h]
  __int64 v246; // [rsp+88h] [rbp-B8h]
  __int64 v247; // [rsp+88h] [rbp-B8h]
  __int64 v248; // [rsp+88h] [rbp-B8h]
  __int64 v249; // [rsp+88h] [rbp-B8h]
  __int64 v250; // [rsp+88h] [rbp-B8h]
  __int64 v251; // [rsp+88h] [rbp-B8h]
  unsigned __int64 *v252; // [rsp+88h] [rbp-B8h]
  __int64 v253; // [rsp+88h] [rbp-B8h]
  unsigned int *v254; // [rsp+90h] [rbp-B0h]
  __int64 v255; // [rsp+90h] [rbp-B0h]
  __int64 v256; // [rsp+90h] [rbp-B0h]
  __int64 v257; // [rsp+90h] [rbp-B0h]
  __int64 v258; // [rsp+90h] [rbp-B0h]
  __int64 v259; // [rsp+90h] [rbp-B0h]
  unsigned __int64 *v260; // [rsp+90h] [rbp-B0h]
  __int64 v261; // [rsp+90h] [rbp-B0h]
  _DWORD *v262; // [rsp+A0h] [rbp-A0h]
  unsigned int *v263; // [rsp+A0h] [rbp-A0h]
  int *v264; // [rsp+A8h] [rbp-98h]
  unsigned int *v265; // [rsp+A8h] [rbp-98h]
  unsigned int v266; // [rsp+B8h] [rbp-88h]
  unsigned __int64 *v267; // [rsp+B8h] [rbp-88h]
  __int64 v268; // [rsp+B8h] [rbp-88h]
  unsigned __int64 *v269; // [rsp+B8h] [rbp-88h]
  __int64 v270; // [rsp+B8h] [rbp-88h]
  unsigned int v271; // [rsp+B8h] [rbp-88h]
  int v272; // [rsp+B8h] [rbp-88h]
  unsigned int v273; // [rsp+B8h] [rbp-88h]
  __int64 v274; // [rsp+C0h] [rbp-80h]
  int v275; // [rsp+C0h] [rbp-80h]
  __int64 v276; // [rsp+C8h] [rbp-78h] BYREF
  _DWORD v277[4]; // [rsp+D0h] [rbp-70h] BYREF
  unsigned int v278[4]; // [rsp+E0h] [rbp-60h] BYREF
  unsigned __int64 v279[10]; // [rsp+F0h] [rbp-50h] BYREF

  v216 = a1 + 2;
  v4 = a1[4];
  v276 = a3;
  v214 = a2;
  if ( !v4 || (v5 = *((_QWORD *)a1 + 1), *(_DWORD *)(v5 + 12) >= *(_DWORD *)(v5 + 8)) )
  {
    v13 = 16LL * *(unsigned int *)(*(_QWORD *)a1 + 160LL);
    sub_F03AD0(v216, *(_DWORD *)(*(_QWORD *)a1 + 160LL));
    ++*(_DWORD *)(*((_QWORD *)a1 + 1) + v13 + 12);
    v4 = a1[4];
    v5 = *((_QWORD *)a1 + 1);
  }
  v6 = v5 + 16LL * v4 - 16;
  v7 = *(_DWORD *)(v6 + 12);
  v8 = *(__int64 **)v6;
  if ( !v7
    && (*(_DWORD *)((a2 & 0xFFFFFFFFFFFFFFF8LL) + 24) | (unsigned int)(a2 >> 1) & 3) < (*(_DWORD *)((*v8 & 0xFFFFFFFFFFFFFFF8LL)
                                                                                                  + 24)
                                                                                      | (unsigned int)(*v8 >> 1) & 3) )
  {
    v15 = sub_F03A30((__int64 *)v216, v4 - 1);
    if ( v15 )
    {
      v107 = v15 & 0xFFFFFFFFFFFFFFC0LL;
      v108 = v15 & 0x3F;
      v109 = sub_2DF4840((v15 & 0xFFFFFFFFFFFFFFC0LL) + 24 * v108 + 64, a4);
      v110 = a1[4];
      v6 = *((_QWORD *)a1 + 1) + 16 * v110 - 16;
      v8 = *(__int64 **)v6;
      if ( !v109 || (v111 = (__int64 *)(v107 + 16 * v108 + 8), *v111 != a2) )
      {
        v7 = *(_DWORD *)(v6 + 12);
        goto LABEL_5;
      }
      sub_F03AD0(v216, v110 - 1);
      if ( sub_2DF8330(&v276, *v8) && (!sub_2DF4840(a4, (__int64)(v8 + 8)) || *v8 != v276) )
      {
        *(_QWORD *)(v107 + 16 * v108 + 8) = v276;
        sub_2DF4670((__int64)a1, a1[4] - 1, *v111);
        return;
      }
      v214 = *(_QWORD *)(v107 + 16 * v108);
      sub_2DF6980((__int64)a1, 0);
      v16 = a1;
    }
    else
    {
      v16 = a1;
      **(_QWORD **)a1 = a2;
    }
    v6 = *((_QWORD *)v16 + 1) + 16LL * v16[4] - 16;
    v7 = *(_DWORD *)(v6 + 12);
    v8 = *(__int64 **)v6;
  }
LABEL_5:
  v9 = *(_DWORD *)(v6 + 8);
  sub_2DF52D0((__int64)v279, a4);
  v10 = sub_2DF7D50(
          (__int64)v8,
          (unsigned int *)(*((_QWORD *)a1 + 1) + 16LL * a1[4] - 4),
          v9,
          v214,
          v276,
          (__int64)v279);
  if ( v279[0] )
    j_j___libc_free_0_0(v279[0]);
  if ( v10 <= 4 )
  {
    v11 = v9 == v7;
    goto LABEL_9;
  }
  v213 = a1[4] - 1;
  v17 = *(_DWORD *)(*((_QWORD *)a1 + 1) + 16LL * v213 + 12);
  v18 = sub_F03A30((__int64 *)v216, v213);
  v209 = v18;
  if ( v18 )
  {
    v106 = v18 & 0xFFFFFFFFFFFFFFC0LL;
    v20 = 1;
    v217 = 2;
    v19 = (v18 & 0x3F) + 1;
    v279[0] = v106;
    v277[0] = v19;
    v17 += v19;
  }
  else
  {
    v217 = 1;
    v19 = 0;
    v20 = 0;
  }
  v21 = *((_QWORD *)a1 + 1) + 16LL * v213;
  v22 = *(_DWORD *)(v21 + 8);
  v277[v20] = v22;
  v23 = *(_QWORD *)v21;
  v24 = v19 + v22;
  v279[v20] = *(_QWORD *)v21;
  v25 = sub_F03C90((__int64 *)v216, v213);
  if ( v25 )
  {
    v26 = v217;
    v27 = v20 + 2;
    v23 = v25 & 0xFFFFFFFFFFFFFFC0LL;
    v28 = (v25 & 0x3F) + 1;
    v279[v217] = v25 & 0xFFFFFFFFFFFFFFC0LL;
    v24 += v28;
    v277[v217] = v28;
    if ( v24 + 1 <= 4 * (unsigned int)((_DWORD)v27 != 2) + 8 )
    {
      v227 = v27;
      v212 = 0;
      v224 = v217;
      v29 = v217 + 1;
      v217 = 0;
      v220 = v29;
LABEL_23:
      v208 = sub_F03E60(v227, v24, 4, (__int64)v277, (__int64)v278, v17, 1u);
      v210 = v208;
      goto LABEL_24;
    }
    goto LABEL_185;
  }
  if ( v24 + 1 > 4 * (unsigned int)(v217 != 1) + 4 )
  {
    if ( v217 == 1 )
    {
      v28 = v277[1];
      v23 = v279[1];
      v27 = 1;
      v224 = 1;
      v227 = 2;
      v26 = 1;
      v220 = 2;
      goto LABEL_178;
    }
    v26 = v20;
    v28 = v277[v20];
    v27 = 2;
    v217 = v26;
LABEL_185:
    v224 = v27;
    v220 = v27 + 1;
    v227 = v27 + 1;
LABEL_178:
    v279[v27] = v23;
    v277[v27] = v28;
    v277[v26] = 0;
    v200 = *(_QWORD *)(*(_QWORD *)a1 + 168LL);
    v201 = *(_QWORD **)v200;
    if ( *(_QWORD *)v200 )
    {
      *(_QWORD *)v200 = *v201;
    }
    else
    {
      v206 = *(_QWORD *)(v200 + 8);
      *(_QWORD *)(v200 + 88) += 192LL;
      v207 = (v206 + 63) & 0xFFFFFFFFFFFFFFC0LL;
      if ( *(_QWORD *)(v200 + 16) >= v207 + 192 && v206 )
      {
        *(_QWORD *)(v200 + 8) = v207 + 192;
        if ( !v207 )
        {
LABEL_183:
          v279[v26] = (unsigned __int64)v201;
          v212 = 1;
          goto LABEL_23;
        }
        v201 = (_QWORD *)((v206 + 63) & 0xFFFFFFFFFFFFFFC0LL);
      }
      else
      {
        v201 = (_QWORD *)sub_9D1E70(v200 + 8, 192, 192, 6);
      }
    }
    v202 = v201;
    memset(v201, 0, 0xA0u);
    v203 = v201 + 8;
    do
    {
      *v202 = 0;
      v202 += 2;
      *(v202 - 1) = 0;
    }
    while ( v203 != v202 );
    do
    {
      *v203 = 0;
      v203 += 3;
      *((_BYTE *)v203 - 16) = 0;
      *(v203 - 1) = 0;
    }
    while ( v201 + 20 != v203 );
    goto LABEL_183;
  }
  v204 = sub_F03E60(v217, v24, 4, (__int64)v277, (__int64)v278, v17, 1u);
  HIDWORD(v208) = HIDWORD(v204);
  v210 = v204;
  if ( v20 )
  {
    v227 = v217;
    v212 = 0;
    v217 = 0;
    v224 = 1;
    v220 = v20 + 1;
LABEL_24:
    v30 = v224;
    v262 = &v277[v30];
    v264 = (int *)&v278[v30];
    v222 = &v279[v224];
    do
    {
      --v224;
      v31 = (unsigned int)*v262;
      v32 = *v264;
      if ( (_DWORD)v31 != *v264 )
      {
        v33 = *v222;
        v274 = v224;
        do
        {
          v34 = v32 - v31;
          v35 = v277[v274];
          v36 = v279[v274];
          if ( v34 <= 0 )
          {
            v126 = 4 - v35;
            if ( 4 - v35 > (unsigned int)v31 )
              v126 = v31;
            v127 = -v34;
            if ( v126 <= v127 )
              v127 = v126;
            v128 = 0;
            if ( v127 )
            {
              v232 = v31;
              v271 = v127;
              v129 = v279[v274];
              v130 = v277[v274];
              v131 = v33 + 64;
              do
              {
                v132 = (unsigned int)(v130 + v128);
                v133 = (unsigned int)v128;
                v134 = (_QWORD *)(v129 + 16 * v132);
                *v134 = *(_QWORD *)(v33 + 16 * v128);
                v134[1] = *(_QWORD *)(v33 + 16 * v128 + 8);
                v135 = (_QWORD *)(v129 + 24 * v132 + 64);
                if ( v135 != (_QWORD *)v131 )
                {
                  if ( (*(_BYTE *)(v33 + 24LL * (unsigned int)v128 + 72) & 0x3F) != 0 )
                  {
                    v260 = (unsigned __int64 *)(v129 + 24 * v132 + 64);
                    v158 = (void *)sub_2207820(4LL * (*(_BYTE *)(v33 + 24LL * (unsigned int)v128 + 72) & 0x3F));
                    v133 = (unsigned int)v128;
                    v132 = (unsigned int)(v130 + v128);
                    v159 = *v260;
                    *v260 = (unsigned __int64)v158;
                    if ( v159 )
                    {
                      j_j___libc_free_0_0(v159);
                      v132 = (unsigned int)(v130 + v128);
                      v133 = (unsigned int)v128;
                      v158 = (void *)*v260;
                    }
                    v261 = v33 + 24 * v133 + 64;
                    v136 = *(_BYTE *)(v33 + 24 * v133 + 72) & 0x3F;
                    v160 = 4LL * v136;
                    if ( v160 )
                    {
                      v240 = v133;
                      v249 = v132;
                      memmove(v158, *(const void **)v131, v160);
                      v132 = v249;
                      v133 = v240;
                      v136 = *(_BYTE *)(v261 + 8) & 0x3F;
                    }
                  }
                  else
                  {
                    *v135 = 0;
                    v136 = *(_BYTE *)(v33 + 24LL * (unsigned int)v128 + 72) & 0x3F;
                  }
                  v137 = v129 + 24 * v132;
                  v138 = v136 | *(_BYTE *)(v137 + 72) & 0xC0;
                  v139 = v33 + 24 * v133 + 64;
                  *(_BYTE *)(v137 + 72) = v138;
                  v140 = *(_BYTE *)(v139 + 8) & 0x40 | v138 & 0xBF;
                  *(_BYTE *)(v137 + 72) = v140;
                  *(_BYTE *)(v137 + 72) = *(_BYTE *)(v139 + 8) & 0x80 | v140 & 0x7F;
                  *(_QWORD *)(v137 + 80) = *(_QWORD *)(v131 + 16);
                }
                ++v128;
                v131 += 24LL;
              }
              while ( v271 != (_DWORD)v128 );
              LODWORD(v31) = v232;
              v127 = v271;
            }
            if ( v127 != (_DWORD)v31 )
            {
              v141 = (unsigned __int64 *)(v33 + 64);
              v142 = v127;
              v272 = v31;
              v143 = (_QWORD *)(v33 + 8);
              v239 = v127;
              v144 = 0;
              do
              {
                v145 = v142;
                v146 = (_QWORD *)(v33 + 16LL * v142);
                *(v143 - 1) = *v146;
                *v143 = v146[1];
                v147 = 24LL * v142;
                if ( (unsigned __int64 *)(v33 + v147 + 64) != v141 )
                {
                  if ( (*(_BYTE *)(v33 + v147 + 72) & 0x3F) != 0 )
                  {
                    v258 = v33 + v147 + 64;
                    v153 = sub_2207820(4LL * (*(_BYTE *)(v33 + v147 + 72) & 0x3F));
                    v154 = *v141;
                    v155 = (const void **)v258;
                    *v141 = v153;
                    v145 = v142;
                    v156 = (void *)v153;
                    if ( v154 )
                    {
                      j_j___libc_free_0_0(v154);
                      v156 = (void *)*v141;
                      v145 = v142;
                      v155 = (const void **)v258;
                    }
                    v259 = v33 + 24 * v145 + 64;
                    v148 = *(_BYTE *)(v33 + 24 * v145 + 72) & 0x3F;
                    v157 = 4LL * v148;
                    if ( v157 )
                    {
                      v248 = v145;
                      memmove(v156, *v155, v157);
                      v145 = v248;
                      v148 = *(_BYTE *)(v259 + 8) & 0x3F;
                    }
                  }
                  else
                  {
                    *v141 = 0;
                    v148 = *(_BYTE *)(v33 + v147 + 72) & 0x3F;
                  }
                  v149 = v33 + 24 * v145;
                  v150 = v33 + 24LL * v144 + 64;
                  v151 = v148 | *(_BYTE *)(v33 + 24LL * v144 + 72) & 0xC0;
                  *(_BYTE *)(v150 + 8) = v151;
                  v152 = *(_BYTE *)(v149 + 72) & 0x40 | v151 & 0xBF;
                  *(_BYTE *)(v150 + 8) = v152;
                  *(_BYTE *)(v150 + 8) = *(_BYTE *)(v149 + 72) & 0x80 | v152 & 0x7F;
                  v141[2] = *(_QWORD *)(v149 + 80);
                }
                ++v142;
                ++v144;
                v141 += 3;
                v143 += 2;
              }
              while ( v142 != v272 );
              v127 = v239;
            }
            v34 = -v127;
          }
          else
          {
            v37 = v31 - 1;
            if ( v34 > v35 )
              v34 = v277[v274];
            if ( 4 - (int)v31 <= (unsigned int)v34 )
              v34 = 4 - v31;
            if ( (_DWORD)v31 )
            {
              v235 = v277[v274];
              v38 = v31 - 1;
              v228 = v279[v274];
              v39 = v34;
              v40 = v33 + 24LL * v37 + 64;
              v41 = (_QWORD *)(v33 + 16LL * v37);
              do
              {
                v42 = v38 + v39;
                v43 = (_QWORD *)(v33 + 16 * v42);
                *v43 = *v41;
                v43[1] = v41[1];
                v44 = (_QWORD *)(v33 + 24 * v42 + 64);
                if ( v44 != (_QWORD *)v40 )
                {
                  v45 = v38;
                  if ( (*(_BYTE *)(v33 + 24LL * v38 + 72) & 0x3F) != 0 )
                  {
                    v267 = (unsigned __int64 *)(v33 + 24 * v42 + 64);
                    v116 = (void *)sub_2207820(4LL * (*(_BYTE *)(v33 + 24LL * v38 + 72) & 0x3F));
                    v45 = v38;
                    v42 = v38 + v39;
                    v117 = *v267;
                    *v267 = (unsigned __int64)v116;
                    if ( v117 )
                    {
                      j_j___libc_free_0_0(v117);
                      v42 = v38 + v39;
                      v45 = v38;
                      v116 = (void *)*v267;
                    }
                    v268 = v33 + 24 * v45 + 64;
                    v46 = *(_BYTE *)(v33 + 24 * v45 + 72) & 0x3F;
                    v118 = 4LL * v46;
                    if ( v118 )
                    {
                      v244 = v42;
                      v257 = v45;
                      memmove(v116, *(const void **)v40, v118);
                      v45 = v257;
                      v42 = v244;
                      v46 = *(_BYTE *)(v268 + 8) & 0x3F;
                    }
                  }
                  else
                  {
                    *v44 = 0;
                    v46 = *(_BYTE *)(v33 + 24LL * v38 + 72) & 0x3F;
                  }
                  v47 = v33 + 24 * v42;
                  v48 = v46 | *(_BYTE *)(v47 + 72) & 0xC0;
                  v49 = v33 + 24 * v45 + 64;
                  *(_BYTE *)(v47 + 72) = v48;
                  v50 = *(_BYTE *)(v49 + 8) & 0x40 | v48 & 0xBF;
                  *(_BYTE *)(v47 + 72) = v50;
                  *(_BYTE *)(v47 + 72) = *(_BYTE *)(v49 + 8) & 0x80 | v50 & 0x7F;
                  *(_QWORD *)(v47 + 80) = *(_QWORD *)(v40 + 16);
                }
                --v38;
                v41 -= 2;
                v40 -= 24;
              }
              while ( v38 != -1 );
              v34 = v39;
              v35 = v235;
              v36 = v228;
            }
            v51 = v35 - v34;
            if ( v35 != v35 - v34 )
            {
              v266 = v35;
              v52 = (unsigned __int64 *)(v33 + 64);
              v53 = v33;
              v54 = 0;
              v229 = v34;
              v55 = v36;
              v56 = v51;
              do
              {
                v57 = v56;
                v58 = (unsigned int)v54;
                v59 = 16 * v54;
                v60 = (_QWORD *)(v55 + 16LL * v56);
                *(_QWORD *)(v53 + v59) = *v60;
                *(_QWORD *)(v53 + v59 + 8) = v60[1];
                v61 = 24LL * v56;
                if ( (unsigned __int64 *)(v55 + v61 + 64) != v52 )
                {
                  if ( (*(_BYTE *)(v55 + v61 + 72) & 0x3F) != 0 )
                  {
                    v255 = v55 + v61 + 64;
                    v112 = (void *)sub_2207820(4LL * (*(_BYTE *)(v55 + v61 + 72) & 0x3F));
                    v113 = *v52;
                    v114 = (const void **)v255;
                    *v52 = (unsigned __int64)v112;
                    v58 = (unsigned int)v54;
                    v57 = v56;
                    if ( v113 )
                    {
                      j_j___libc_free_0_0(v113);
                      v112 = (void *)*v52;
                      v57 = v56;
                      v58 = (unsigned int)v54;
                      v114 = (const void **)v255;
                    }
                    v256 = v55 + 24 * v57 + 64;
                    v62 = *(_BYTE *)(v55 + 24 * v57 + 72) & 0x3F;
                    v115 = 4LL * v62;
                    if ( v115 )
                    {
                      v236 = v57;
                      v243 = v58;
                      memmove(v112, *v114, v115);
                      v58 = v243;
                      v57 = v236;
                      v62 = *(_BYTE *)(v256 + 8) & 0x3F;
                    }
                  }
                  else
                  {
                    *v52 = 0;
                    v62 = *(_BYTE *)(v55 + v61 + 72) & 0x3F;
                  }
                  v63 = v53 + 24 * v58 + 64;
                  v64 = v55 + 24 * v57;
                  v65 = v62 | *(_BYTE *)(v53 + 24 * v58 + 72) & 0xC0;
                  *(_BYTE *)(v63 + 8) = v65;
                  v66 = *(_BYTE *)(v64 + 72) & 0x40 | v65 & 0xBF;
                  *(_BYTE *)(v63 + 8) = v66;
                  *(_BYTE *)(v63 + 8) = *(_BYTE *)(v64 + 72) & 0x80 | v66 & 0x7F;
                  v52[2] = *(_QWORD *)(v64 + 80);
                }
                ++v56;
                ++v54;
                v52 += 3;
              }
              while ( v266 != v56 );
              v34 = v229;
              v33 = v53;
            }
          }
          v67 = v274;
          v277[v274] -= v34;
          v31 = (unsigned int)(v34 + *v262);
          *v262 = v31;
          v32 = *v264;
          if ( (unsigned int)v31 >= *v264 )
            break;
          --v274;
        }
        while ( v67 );
      }
      --v262;
      --v264;
      --v222;
    }
    while ( v224 );
    v254 = v277;
    v263 = v278;
    v68 = v220;
    v221 = 1;
    v211 = v68;
    do
    {
      v275 = v221;
      v69 = *v263;
      if ( *v254 != *v263 && v227 != (_DWORD)v221 )
      {
        v70 = *v254;
        v223 = v279[v221 - 1];
        do
        {
          v71 = v70 - v69;
          v72 = v279[v275];
          v265 = &v277[v275];
          v73 = *v265;
          if ( (int)(v70 - v69) <= 0 )
          {
            v161 = v69 - v70;
            if ( 4 - v70 <= v69 - v70 )
              v161 = 4 - v70;
            v162 = v161;
            v226 = v161;
            if ( v161 > v73 )
              v162 = *v265;
            v163 = 0;
            if ( v162 )
            {
              v218 = *v265;
              v164 = v279[v275];
              v165 = v72 + 64;
              do
              {
                v166 = v70 + (unsigned int)v163;
                v167 = (unsigned int)v163;
                v168 = (_QWORD *)(v223 + 16 * v166);
                *v168 = *(_QWORD *)(v164 + 16 * v163);
                v168[1] = *(_QWORD *)(v164 + 16 * v163 + 8);
                v169 = (_QWORD *)(v223 + 24 * v166 + 64);
                if ( v169 != (_QWORD *)v165 )
                {
                  if ( (*(_BYTE *)(v164 + 24LL * (unsigned int)v163 + 72) & 0x3F) != 0 )
                  {
                    v252 = (unsigned __int64 *)(v223 + 24 * v166 + 64);
                    v190 = (void *)sub_2207820(4LL * (*(_BYTE *)(v164 + 24LL * (unsigned int)v163 + 72) & 0x3F));
                    v167 = (unsigned int)v163;
                    v166 = v70 + (unsigned int)v163;
                    v191 = *v252;
                    *v252 = (unsigned __int64)v190;
                    if ( v191 )
                    {
                      j_j___libc_free_0_0(v191);
                      v166 = v70 + (unsigned int)v163;
                      v167 = (unsigned int)v163;
                      v190 = (void *)*v252;
                    }
                    v253 = v164 + 24 * v167 + 64;
                    v170 = *(_BYTE *)(v164 + 24 * v167 + 72) & 0x3F;
                    v192 = 4LL * v170;
                    if ( v192 )
                    {
                      v234 = v167;
                      v242 = v166;
                      memmove(v190, *(const void **)v165, v192);
                      v166 = v242;
                      v167 = v234;
                      v170 = *(_BYTE *)(v253 + 8) & 0x3F;
                    }
                  }
                  else
                  {
                    *v169 = 0;
                    v170 = *(_BYTE *)(v164 + 24LL * (unsigned int)v163 + 72) & 0x3F;
                  }
                  v171 = v223 + 24 * v166;
                  v172 = v170 | *(_BYTE *)(v171 + 72) & 0xC0;
                  v173 = v164 + 24 * v167 + 64;
                  *(_BYTE *)(v171 + 72) = v172;
                  v174 = *(_BYTE *)(v173 + 8) & 0x40 | v172 & 0xBF;
                  *(_BYTE *)(v171 + 72) = v174;
                  *(_BYTE *)(v171 + 72) = *(_BYTE *)(v173 + 8) & 0x80 | v174 & 0x7F;
                  *(_QWORD *)(v171 + 80) = *(_QWORD *)(v165 + 16);
                }
                ++v163;
                v165 += 24LL;
              }
              while ( v162 != (_DWORD)v163 );
              v73 = v218;
              v72 = v164;
            }
            if ( v226 < v73 )
            {
              v273 = v73;
              v175 = (unsigned __int64 *)(v72 + 64);
              v233 = v162;
              v176 = 0;
              v177 = (_QWORD *)(v72 + 8);
              do
              {
                v178 = v162;
                v179 = (_QWORD *)(v72 + 16LL * v162);
                *(v177 - 1) = *v179;
                *v177 = v179[1];
                v180 = 24LL * v162;
                if ( (unsigned __int64 *)(v72 + v180 + 64) != v175 )
                {
                  if ( (*(_BYTE *)(v72 + v180 + 72) & 0x3F) != 0 )
                  {
                    v250 = v72 + v180 + 64;
                    v186 = (void *)sub_2207820(4LL * (*(_BYTE *)(v72 + v180 + 72) & 0x3F));
                    v187 = *v175;
                    v188 = (const void **)v250;
                    *v175 = (unsigned __int64)v186;
                    v178 = v162;
                    if ( v187 )
                    {
                      j_j___libc_free_0_0(v187);
                      v186 = (void *)*v175;
                      v178 = v162;
                      v188 = (const void **)v250;
                    }
                    v251 = v72 + 24 * v178 + 64;
                    v181 = *(_BYTE *)(v72 + 24 * v178 + 72) & 0x3F;
                    v189 = 4LL * v181;
                    if ( v189 )
                    {
                      v241 = v178;
                      memmove(v186, *v188, v189);
                      v178 = v241;
                      v181 = *(_BYTE *)(v251 + 8) & 0x3F;
                    }
                  }
                  else
                  {
                    *v175 = 0;
                    v181 = *(_BYTE *)(v72 + v180 + 72) & 0x3F;
                  }
                  v182 = v72 + 24 * v178;
                  v183 = v72 + 24LL * v176 + 64;
                  v184 = v181 | *(_BYTE *)(v72 + 24LL * v176 + 72) & 0xC0;
                  *(_BYTE *)(v183 + 8) = v184;
                  v185 = *(_BYTE *)(v182 + 72) & 0x40 | v184 & 0xBF;
                  *(_BYTE *)(v183 + 8) = v185;
                  *(_BYTE *)(v183 + 8) = *(_BYTE *)(v182 + 72) & 0x80 | v185 & 0x7F;
                  v175[2] = *(_QWORD *)(v182 + 80);
                }
                ++v162;
                ++v176;
                v175 += 3;
                v177 += 2;
              }
              while ( v273 != v162 );
              v162 = v233;
            }
            v31 = -v162;
          }
          else
          {
            if ( v71 > v70 )
              v71 = v70;
            if ( 4 - v73 <= v71 )
              v71 = 4 - v73;
            v74 = v73 - 1;
            v31 = v71;
            if ( v73 )
            {
              v230 = v70;
              v75 = v71;
              v76 = v72 + 24LL * v74 + 64;
              v77 = (_QWORD *)(v72 + 16LL * v74);
              do
              {
                v78 = v74 + v75;
                v79 = (_QWORD *)(v72 + 16 * v78);
                *v79 = *v77;
                v79[1] = v77[1];
                v80 = (_QWORD *)(v72 + 24 * v78 + 64);
                if ( v80 != (_QWORD *)v76 )
                {
                  v81 = v74;
                  if ( (*(_BYTE *)(v72 + 24LL * v74 + 72) & 0x3F) != 0 )
                  {
                    v269 = (unsigned __int64 *)(v72 + 24 * v78 + 64);
                    v123 = (void *)sub_2207820(4LL * (*(_BYTE *)(v72 + 24LL * v74 + 72) & 0x3F));
                    v81 = v74;
                    v78 = v74 + v75;
                    v124 = *v269;
                    *v269 = (unsigned __int64)v123;
                    if ( v124 )
                    {
                      j_j___libc_free_0_0(v124);
                      v78 = v74 + v75;
                      v81 = v74;
                      v123 = (void *)*v269;
                    }
                    v270 = v72 + 24 * v81 + 64;
                    v82 = *(_BYTE *)(v72 + 24 * v81 + 72) & 0x3F;
                    v125 = 4LL * v82;
                    if ( v125 )
                    {
                      v238 = v78;
                      v247 = v81;
                      memmove(v123, *(const void **)v76, v125);
                      v81 = v247;
                      v78 = v238;
                      v82 = *(_BYTE *)(v270 + 8) & 0x3F;
                    }
                  }
                  else
                  {
                    *v80 = 0;
                    v82 = *(_BYTE *)(v72 + 24LL * v74 + 72) & 0x3F;
                  }
                  v83 = v72 + 24 * v78;
                  v84 = v82 | *(_BYTE *)(v83 + 72) & 0xC0;
                  *(_BYTE *)(v83 + 72) = v84;
                  v85 = *(_BYTE *)(v72 + 24 * v81 + 72) & 0x40 | v84 & 0xBF;
                  *(_BYTE *)(v83 + 72) = v85;
                  *(_BYTE *)(v83 + 72) = *(_BYTE *)(v72 + 24 * v81 + 72) & 0x80 | v85 & 0x7F;
                  *(_QWORD *)(v83 + 80) = *(_QWORD *)(v76 + 16);
                }
                --v74;
                v77 -= 2;
                v76 -= 24;
              }
              while ( v74 != -1 );
              v31 = v75;
              v70 = v230;
            }
            v86 = (unsigned __int64 *)(v72 + 64);
            if ( v70 - (_DWORD)v31 != v70 )
            {
              v225 = v31;
              v87 = v72;
              v88 = 0;
              v89 = v70 - v31;
              do
              {
                v90 = v89;
                v91 = (unsigned int)v88;
                v92 = 16 * v88;
                v93 = (_QWORD *)(v223 + 16LL * v89);
                *(_QWORD *)(v87 + v92) = *v93;
                *(_QWORD *)(v87 + v92 + 8) = v93[1];
                v94 = 24LL * v89;
                if ( v86 != (unsigned __int64 *)(v223 + v94 + 64) )
                {
                  if ( (*(_BYTE *)(v223 + v94 + 72) & 0x3F) != 0 )
                  {
                    v245 = v223 + v94 + 64;
                    v119 = (void *)sub_2207820(4LL * (*(_BYTE *)(v223 + v94 + 72) & 0x3F));
                    v120 = *v86;
                    v121 = (const void **)v245;
                    *v86 = (unsigned __int64)v119;
                    v91 = (unsigned int)v88;
                    v90 = v89;
                    if ( v120 )
                    {
                      j_j___libc_free_0_0(v120);
                      v119 = (void *)*v86;
                      v90 = v89;
                      v91 = (unsigned int)v88;
                      v121 = (const void **)v245;
                    }
                    v246 = v223 + 24 * v90 + 64;
                    v95 = *(_BYTE *)(v223 + 24 * v90 + 72) & 0x3F;
                    v122 = 4LL * v95;
                    if ( v122 )
                    {
                      v231 = v90;
                      v237 = v91;
                      memmove(v119, *v121, v122);
                      v91 = v237;
                      v90 = v231;
                      v95 = *(_BYTE *)(v246 + 8) & 0x3F;
                    }
                  }
                  else
                  {
                    *v86 = 0;
                    v95 = *(_BYTE *)(v223 + v94 + 72) & 0x3F;
                  }
                  v96 = v87 + 24 * v91 + 64;
                  v97 = v223 + 24 * v90;
                  v98 = v95 | *(_BYTE *)(v87 + 24 * v91 + 72) & 0xC0;
                  *(_BYTE *)(v96 + 8) = v98;
                  v99 = *(_BYTE *)(v97 + 72) & 0x40 | v98 & 0xBF;
                  *(_BYTE *)(v96 + 8) = v99;
                  *(_BYTE *)(v96 + 8) = *(_BYTE *)(v97 + 72) & 0x80 | v99 & 0x7F;
                  v86[2] = *(_QWORD *)(v97 + 80);
                }
                ++v89;
                ++v88;
                v86 += 3;
              }
              while ( v89 != v70 );
              v31 = v225;
            }
          }
          *v265 += v31;
          v70 = *v254 - v31;
          *v254 = v70;
          v69 = *v263;
          if ( v70 >= *v263 )
            break;
          ++v275;
        }
        while ( v275 != v227 );
      }
      ++v221;
      ++v254;
      ++v263;
    }
    while ( v211 != v221 );
    goto LABEL_79;
  }
  v205 = v217;
  v212 = 0;
  v217 = 0;
  v227 = v205;
LABEL_79:
  if ( v209 )
    sub_F03AD0(v216, v213);
  v100 = v213;
  v101 = 0;
  while ( 1 )
  {
    v102 = v279[v101];
    v103 = v278[v101];
    v104 = (unsigned int)(v103 - 1);
    v105 = *(_QWORD *)(v102 + 16 * v104 + 8);
    if ( v217 != (_DWORD)v101 || !v212 )
      break;
    ++v101;
    v100 += (unsigned __int8)sub_2DFAA60((__int64)a1, v100, v104 | v102 & 0xFFFFFFFFFFFFFFC0LL, v105, v31, v103);
    if ( v101 == v227 )
      goto LABEL_171;
LABEL_85:
    sub_F03D40((__int64 *)v216, v100);
  }
  *(_DWORD *)(*((_QWORD *)a1 + 1) + 16LL * v100 + 8) = v103;
  if ( v100 )
  {
    v193 = *((_QWORD *)a1 + 1) + 16LL * (v100 - 1);
    v194 = (unsigned __int64 *)(*(_QWORD *)v193 + 8LL * *(unsigned int *)(v193 + 12));
    *v194 = v104 | *v194 & 0xFFFFFFFFFFFFFFC0LL;
  }
  ++v101;
  sub_2DF4670((__int64)a1, v100, v105);
  if ( v101 != v227 )
    goto LABEL_85;
LABEL_171:
  for ( i = v227 - 1; i != v210; --i )
    sub_F03AD0(v216, v100);
  v196 = a1;
  *(_DWORD *)(*((_QWORD *)a1 + 1) + 16LL * v100 + 12) = HIDWORD(v208);
  v197 = *((_QWORD *)v196 + 1) + 16LL * v196[4] - 16;
  v198 = *(_QWORD *)v197;
  v11 = *(_DWORD *)(v197 + 12) == *(_DWORD *)(v197 + 8);
  sub_2DF52D0((__int64)v279, a4);
  v199 = *((_QWORD *)v196 + 1) + 16LL * v196[4] - 16;
  v10 = sub_2DF7D50(v198, (unsigned int *)(v199 + 12), *(_DWORD *)(v199 + 8), v214, v276, (__int64)v279);
  if ( v279[0] )
    j_j___libc_free_0_0(v279[0]);
LABEL_9:
  v12 = a1[4];
  *(_DWORD *)(*((_QWORD *)a1 + 1) + 16LL * (v12 - 1) + 8) = v10;
  if ( v12 == 1 )
  {
    if ( !v11 )
      return;
LABEL_14:
    sub_2DF4670((__int64)a1, a1[4] - 1, v276);
    return;
  }
  v14 = (unsigned __int64 *)(*(_QWORD *)(*((_QWORD *)a1 + 1) + 16LL * (v12 - 2))
                           + 8LL * *(unsigned int *)(*((_QWORD *)a1 + 1) + 16LL * (v12 - 2) + 12));
  *v14 = (v10 - 1) | *v14 & 0xFFFFFFFFFFFFFFC0LL;
  if ( v11 )
    goto LABEL_14;
}
