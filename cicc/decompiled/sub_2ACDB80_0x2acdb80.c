// Function: sub_2ACDB80
// Address: 0x2acdb80
//
void __fastcall sub_2ACDB80(__int64 a1, unsigned __int64 a2, __int64 a3, __int64 a4)
{
  __int64 v4; // rbx
  __int64 v5; // r15
  __int64 v6; // r12
  __int64 v7; // rbx
  char v8; // al
  __int64 v9; // rdx
  __int64 v10; // rax
  int v11; // ecx
  __int64 v12; // rax
  __int64 v13; // rax
  unsigned __int64 v14; // r15
  __int64 v15; // r13
  __int64 v16; // rbx
  unsigned int v17; // edx
  __int64 v18; // r12
  unsigned __int64 v19; // rdi
  int v20; // r11d
  _QWORD *v21; // r8
  unsigned int v22; // ecx
  __int64 v23; // rax
  __int64 v24; // r9
  int v25; // r14d
  int v26; // r11d
  _QWORD *v27; // r8
  unsigned int v28; // ecx
  __int64 v29; // rax
  __int64 v30; // r10
  __int64 v31; // rdi
  unsigned int v32; // esi
  int v33; // r12d
  __int64 *v34; // r9
  unsigned int v35; // edx
  __int64 *v36; // rax
  __int64 v37; // r10
  unsigned int v38; // r9d
  __int64 v39; // r8
  unsigned int v40; // esi
  int v41; // r14d
  __int64 *v42; // rdi
  unsigned int v43; // edx
  __int64 *v44; // rax
  __int64 v45; // r12
  bool v46; // al
  __int64 v47; // rax
  int v48; // ecx
  __int64 v49; // rax
  int v50; // eax
  int v51; // ecx
  __int64 v52; // rax
  int v53; // eax
  int v54; // edx
  __int64 v55; // rdi
  unsigned int v56; // eax
  int v57; // ecx
  __int64 v58; // r8
  __int64 v59; // rax
  int v60; // eax
  int v61; // r8d
  __int64 v62; // rsi
  unsigned int v63; // eax
  int v64; // edx
  __int64 v65; // r9
  __int64 v66; // rax
  int v67; // eax
  int v68; // ecx
  __int64 v69; // rax
  unsigned int v70; // eax
  _QWORD *v71; // rax
  __int64 v72; // rdx
  __int64 v73; // r10
  __int64 v74; // r9
  _QWORD *n; // rdx
  __int64 ii; // rax
  __int64 v77; // r11
  int v78; // esi
  int v79; // esi
  __int64 v80; // r8
  unsigned int v81; // ecx
  __int64 *v82; // rdx
  __int64 v83; // rdi
  _QWORD *v84; // rsi
  int v85; // edx
  int v86; // edx
  unsigned int v87; // eax
  __int64 v88; // r9
  int v89; // r12d
  _QWORD *v90; // r10
  int v91; // eax
  int v92; // eax
  int v93; // r8d
  __int64 v94; // rsi
  __int64 *v95; // r10
  int v96; // r11d
  unsigned int v97; // eax
  __int64 v98; // r9
  int v99; // eax
  int v100; // eax
  int v101; // edx
  __int64 v102; // rdi
  __int64 *v103; // r10
  int v104; // r11d
  unsigned int v105; // eax
  __int64 v106; // r8
  unsigned int v107; // eax
  _QWORD *v108; // rax
  __int64 v109; // rdx
  __int64 v110; // r14
  __int64 v111; // r8
  _QWORD *i; // rdx
  __int64 j; // rax
  __int64 v114; // rdx
  int v115; // edi
  int v116; // edi
  __int64 v117; // r10
  unsigned int v118; // esi
  __int64 *v119; // rcx
  __int64 v120; // r9
  _QWORD *v121; // rsi
  int v122; // edx
  int v123; // edx
  unsigned int v124; // eax
  __int64 v125; // r9
  int v126; // r11d
  _QWORD *v127; // r10
  unsigned int v128; // eax
  __int64 v129; // rax
  _QWORD *v130; // rcx
  __int64 v131; // rax
  __int64 v132; // r14
  _QWORD *k; // rax
  __int64 v134; // rax
  __int64 v135; // rdx
  int v136; // edi
  int v137; // edi
  __int64 v138; // r10
  unsigned int v139; // esi
  __int64 *v140; // rcx
  __int64 v141; // r9
  _QWORD *v142; // rsi
  int v143; // eax
  int v144; // eax
  int v145; // r11d
  unsigned int v146; // edx
  __int64 v147; // r9
  unsigned int v148; // eax
  __int64 v149; // rax
  _QWORD *v150; // rcx
  __int64 v151; // rax
  __int64 v152; // r10
  _QWORD *m; // rax
  __int64 v154; // rax
  __int64 v155; // r11
  int v156; // esi
  int v157; // esi
  __int64 v158; // r8
  unsigned int v159; // ecx
  __int64 *v160; // rdx
  __int64 v161; // rdi
  _QWORD *v162; // rsi
  int v163; // eax
  int v164; // eax
  int v165; // r11d
  unsigned int v166; // edx
  __int64 v167; // r9
  __int64 v168; // rsi
  __int64 v169; // rsi
  __int64 v170; // rsi
  __int64 v171; // rsi
  __int64 *v172; // r11
  __int64 *v173; // r11
  __int64 v174; // rdx
  int v175; // ecx
  __int64 v176; // rax
  __int64 v177; // rbx
  __int64 v178; // r12
  unsigned __int64 v179; // rbx
  __m128i v180; // xmm0
  __int64 v181; // rcx
  int v182; // eax
  bool v183; // zf
  int v184; // ecx
  __int64 v185; // rax
  int v186; // r11d
  int v187; // r11d
  int v188; // [rsp+Ch] [rbp-94h]
  int v189; // [rsp+Ch] [rbp-94h]
  __int64 v190; // [rsp+10h] [rbp-90h]
  __int64 v191; // [rsp+18h] [rbp-88h]
  unsigned __int64 v193; // [rsp+28h] [rbp-78h]
  unsigned int v194; // [rsp+30h] [rbp-70h]
  unsigned int v195; // [rsp+30h] [rbp-70h]
  unsigned int v196; // [rsp+30h] [rbp-70h]
  unsigned int v197; // [rsp+30h] [rbp-70h]
  __int64 *v198; // [rsp+30h] [rbp-70h]
  int v199; // [rsp+30h] [rbp-70h]
  int v200; // [rsp+30h] [rbp-70h]
  __int64 *v201; // [rsp+30h] [rbp-70h]
  unsigned __int64 v202; // [rsp+38h] [rbp-68h]
  unsigned __int64 v203; // [rsp+48h] [rbp-58h]
  __int64 v204; // [rsp+58h] [rbp-48h] BYREF
  __m128i v205; // [rsp+60h] [rbp-40h]

  v4 = a2 - a1;
  v193 = a2;
  v191 = a3;
  if ( (__int64)(a2 - a1) <= 256 )
    return;
  v5 = a1;
  if ( !a3 )
  {
    v202 = a2;
    goto LABEL_244;
  }
  v190 = a1 + 16;
  while ( 2 )
  {
    --v191;
    v6 = v193 - 16;
    v7 = v5 + 16 * (v4 >> 5);
    v204 = a4;
    v8 = sub_2ACD630(&v204, v190, v7);
    v9 = v193 - 16;
    if ( v8 )
    {
      if ( sub_2ACD630(&v204, v7, v9) )
      {
        v10 = *(_QWORD *)v5;
LABEL_7:
        *(_QWORD *)v5 = *(_QWORD *)v7;
        v11 = *(_DWORD *)(v7 + 8);
        *(_QWORD *)v7 = v10;
        v12 = *(_QWORD *)(v5 + 8);
        *(_DWORD *)(v5 + 8) = v11;
        LOBYTE(v11) = *(_BYTE *)(v7 + 12);
        v205.m128i_i64[0] = v12;
        *(_BYTE *)(v5 + 12) = v11;
        *(_DWORD *)(v7 + 8) = v12;
        *(_BYTE *)(v7 + 12) = BYTE4(v12);
        goto LABEL_8;
      }
      v183 = sub_2ACD630(&v204, v190, v6) == 0;
      v10 = *(_QWORD *)v5;
      if ( !v183 )
        goto LABEL_250;
LABEL_242:
      v174 = *(_QWORD *)(v5 + 16);
      v175 = *(_DWORD *)(v5 + 24);
      *(_QWORD *)(v5 + 16) = v10;
      v176 = *(_QWORD *)(v5 + 8);
      *(_QWORD *)v5 = v174;
      *(_DWORD *)(v5 + 8) = v175;
      LOBYTE(v175) = *(_BYTE *)(v5 + 28);
      v205.m128i_i64[0] = v176;
      *(_BYTE *)(v5 + 12) = v175;
      *(_DWORD *)(v5 + 24) = v176;
      *(_BYTE *)(v5 + 28) = BYTE4(v176);
      goto LABEL_8;
    }
    if ( sub_2ACD630(&v204, v190, v9) )
    {
      v10 = *(_QWORD *)v5;
      goto LABEL_242;
    }
    v183 = sub_2ACD630(&v204, v7, v6) == 0;
    v10 = *(_QWORD *)v5;
    if ( v183 )
      goto LABEL_7;
LABEL_250:
    *(_QWORD *)v5 = *(_QWORD *)(v193 - 16);
    v184 = *(_DWORD *)(v193 - 8);
    *(_QWORD *)(v193 - 16) = v10;
    v185 = *(_QWORD *)(v5 + 8);
    *(_DWORD *)(v5 + 8) = v184;
    LOBYTE(v184) = *(_BYTE *)(v193 - 4);
    v205.m128i_i64[0] = v185;
    *(_BYTE *)(v5 + 12) = v184;
    *(_DWORD *)(v193 - 8) = v185;
    *(_BYTE *)(v193 - 4) = BYTE4(v185);
LABEL_8:
    v204 = a4;
    v203 = v190;
    v13 = v5;
    v14 = v193;
    v15 = v13;
    while ( 1 )
    {
      v202 = v203;
      if ( !sub_2ACD630(&v204, v203, v15) )
        break;
LABEL_9:
      v203 += 16LL;
    }
    while ( 1 )
    {
      v16 = v204;
      v14 -= 16LL;
      v17 = *(_DWORD *)(v204 + 24);
      v18 = *(_QWORD *)(v204 + 8);
      if ( !v17 )
      {
        ++*(_QWORD *)v204;
LABEL_124:
        v195 = v17;
        v107 = sub_AF1560(2 * v17 - 1);
        if ( v107 < 0x40 )
          v107 = 64;
        *(_DWORD *)(v16 + 24) = v107;
        v108 = (_QWORD *)sub_C7D670(16LL * v107, 8);
        *(_QWORD *)(v16 + 8) = v108;
        if ( v18 )
        {
          v109 = *(unsigned int *)(v16 + 24);
          *(_QWORD *)(v16 + 16) = 0;
          v110 = 16LL * v195;
          v111 = v18 + v110;
          for ( i = &v108[2 * v109]; i != v108; v108 += 2 )
          {
            if ( v108 )
              *v108 = -4096;
          }
          for ( j = v18; v111 != j; j += 16 )
          {
            v114 = *(_QWORD *)j;
            if ( *(_QWORD *)j != -8192 && v114 != -4096 )
            {
              v115 = *(_DWORD *)(v16 + 24);
              if ( !v115 )
              {
                MEMORY[0] = *(_QWORD *)j;
                BUG();
              }
              v116 = v115 - 1;
              v117 = *(_QWORD *)(v16 + 8);
              v118 = v116 & (((unsigned int)v114 >> 9) ^ ((unsigned int)v114 >> 4));
              v119 = (__int64 *)(v117 + 16LL * v118);
              v120 = *v119;
              if ( v114 != *v119 )
              {
                v199 = 1;
                v172 = 0;
                while ( v120 != -4096 )
                {
                  if ( !v172 && v120 == -8192 )
                    v172 = v119;
                  v118 = v116 & (v199 + v118);
                  v119 = (__int64 *)(v117 + 16LL * v118);
                  v120 = *v119;
                  if ( v114 == *v119 )
                    goto LABEL_136;
                  ++v199;
                }
                if ( v172 )
                  v119 = v172;
              }
LABEL_136:
              *v119 = v114;
              *((_DWORD *)v119 + 2) = *(_DWORD *)(j + 8);
              ++*(_DWORD *)(v16 + 16);
            }
          }
          sub_C7D6A0(v18, v110, 8);
        }
        else
        {
          v168 = *(unsigned int *)(v16 + 24);
          *(_QWORD *)(v16 + 16) = 0;
          v122 = v168;
          v121 = &v108[2 * v168];
          if ( v108 == v121 )
          {
            v68 = 1;
            goto LABEL_140;
          }
          do
          {
            if ( v108 )
              *v108 = -4096;
            v108 += 2;
          }
          while ( v121 != v108 );
        }
        v121 = *(_QWORD **)(v16 + 8);
        v122 = *(_DWORD *)(v16 + 24);
        v68 = *(_DWORD *)(v16 + 16) + 1;
LABEL_140:
        if ( !v122 )
          goto LABEL_321;
        v123 = v122 - 1;
        v124 = v123 & (((unsigned int)*(_QWORD *)v15 >> 9) ^ ((unsigned int)*(_QWORD *)v15 >> 4));
        v21 = &v121[2 * v124];
        v125 = *v21;
        if ( *(_QWORD *)v15 == *v21 )
          goto LABEL_60;
        v126 = 1;
        v127 = 0;
        while ( v125 != -4096 )
        {
          if ( !v127 && v125 == -8192 )
            v127 = v21;
          v124 = v123 & (v126 + v124);
          v21 = &v121[2 * v124];
          v125 = *v21;
          if ( *(_QWORD *)v15 == *v21 )
            goto LABEL_60;
          ++v126;
        }
        goto LABEL_144;
      }
      v19 = v17 - 1;
      v20 = 1;
      v21 = 0;
      v22 = v19 & (((unsigned int)*(_QWORD *)v15 >> 9) ^ ((unsigned int)*(_QWORD *)v15 >> 4));
      v23 = v18 + 16LL * v22;
      v24 = *(_QWORD *)v23;
      if ( *(_QWORD *)v15 == *(_QWORD *)v23 )
      {
LABEL_13:
        v25 = *(_DWORD *)(v23 + 8);
        goto LABEL_14;
      }
      while ( v24 != -4096 )
      {
        if ( !v21 && v24 == -8192 )
          v21 = (_QWORD *)v23;
        v22 = v19 & (v20 + v22);
        v23 = v18 + 16LL * v22;
        v24 = *(_QWORD *)v23;
        if ( *(_QWORD *)v15 == *(_QWORD *)v23 )
          goto LABEL_13;
        ++v20;
      }
      if ( !v21 )
        v21 = (_QWORD *)v23;
      v67 = *(_DWORD *)(v204 + 16);
      ++*(_QWORD *)v204;
      v68 = v67 + 1;
      if ( 4 * (v67 + 1) >= 3 * v17 )
        goto LABEL_124;
      if ( v17 - *(_DWORD *)(v16 + 20) - v68 <= v17 >> 3 )
      {
        v196 = v17;
        v128 = sub_AF1560(v19);
        if ( v128 < 0x40 )
          v128 = 64;
        *(_DWORD *)(v16 + 24) = v128;
        v129 = sub_C7D670(16LL * v128, 8);
        *(_QWORD *)(v16 + 8) = v129;
        v130 = (_QWORD *)v129;
        if ( v18 )
        {
          v131 = *(unsigned int *)(v16 + 24);
          *(_QWORD *)(v16 + 16) = 0;
          v132 = 16LL * v196;
          for ( k = &v130[2 * v131]; k != v130; v130 += 2 )
          {
            if ( v130 )
              *v130 = -4096;
          }
          v134 = v18;
          do
          {
            v135 = *(_QWORD *)v134;
            if ( *(_QWORD *)v134 != -4096 && v135 != -8192 )
            {
              v136 = *(_DWORD *)(v16 + 24);
              if ( !v136 )
              {
                MEMORY[0] = *(_QWORD *)v134;
                BUG();
              }
              v137 = v136 - 1;
              v138 = *(_QWORD *)(v16 + 8);
              v139 = v137 & (((unsigned int)v135 >> 9) ^ ((unsigned int)v135 >> 4));
              v140 = (__int64 *)(v138 + 16LL * v139);
              v141 = *v140;
              if ( v135 != *v140 )
              {
                v200 = 1;
                v173 = 0;
                while ( v141 != -4096 )
                {
                  if ( v141 == -8192 && !v173 )
                    v173 = v140;
                  v139 = v137 & (v200 + v139);
                  v140 = (__int64 *)(v138 + 16LL * v139);
                  v141 = *v140;
                  if ( v135 == *v140 )
                    goto LABEL_159;
                  ++v200;
                }
                if ( v173 )
                  v140 = v173;
              }
LABEL_159:
              *v140 = v135;
              *((_DWORD *)v140 + 2) = *(_DWORD *)(v134 + 8);
              ++*(_DWORD *)(v16 + 16);
            }
            v134 += 16;
          }
          while ( v18 + v132 != v134 );
          sub_C7D6A0(v18, v132, 8);
LABEL_162:
          v142 = *(_QWORD **)(v16 + 8);
          v143 = *(_DWORD *)(v16 + 24);
          v68 = *(_DWORD *)(v16 + 16) + 1;
        }
        else
        {
          v170 = *(unsigned int *)(v16 + 24);
          *(_QWORD *)(v16 + 16) = 0;
          v143 = v170;
          v142 = &v130[2 * v170];
          if ( v130 != v142 )
          {
            do
            {
              if ( v130 )
                *v130 = -4096;
              v130 += 2;
            }
            while ( v142 != v130 );
            goto LABEL_162;
          }
          v68 = 1;
        }
        if ( !v143 )
        {
LABEL_321:
          ++*(_DWORD *)(v16 + 16);
          BUG();
        }
        v144 = v143 - 1;
        v145 = 1;
        v127 = 0;
        v146 = v144 & (((unsigned int)*(_QWORD *)v15 >> 9) ^ ((unsigned int)*(_QWORD *)v15 >> 4));
        v21 = &v142[2 * v146];
        v147 = *v21;
        if ( *(_QWORD *)v15 == *v21 )
          goto LABEL_60;
        while ( v147 != -4096 )
        {
          if ( !v127 && v147 == -8192 )
            v127 = v21;
          v146 = v144 & (v145 + v146);
          v21 = &v142[2 * v146];
          v147 = *v21;
          if ( *(_QWORD *)v15 == *v21 )
            goto LABEL_60;
          ++v145;
        }
LABEL_144:
        if ( v127 )
          v21 = v127;
      }
LABEL_60:
      *(_DWORD *)(v16 + 16) = v68;
      if ( *v21 != -4096 )
        --*(_DWORD *)(v16 + 20);
      v69 = *(_QWORD *)v15;
      *((_DWORD *)v21 + 2) = 0;
      *v21 = v69;
      v16 = v204;
      v17 = *(_DWORD *)(v204 + 24);
      v18 = *(_QWORD *)(v204 + 8);
      if ( !v17 )
      {
        ++*(_QWORD *)v204;
        v25 = 0;
        goto LABEL_64;
      }
      v19 = v17 - 1;
      v25 = 0;
LABEL_14:
      v26 = 1;
      v27 = 0;
      v28 = v19 & (((unsigned int)*(_QWORD *)v14 >> 9) ^ ((unsigned int)*(_QWORD *)v14 >> 4));
      v29 = v18 + 16LL * v28;
      v30 = *(_QWORD *)v29;
      if ( *(_QWORD *)v14 != *(_QWORD *)v29 )
        break;
LABEL_15:
      if ( v25 != *(_DWORD *)(v29 + 8) )
      {
        v31 = *(_QWORD *)(v16 + 8);
        v32 = *(_DWORD *)(v16 + 24);
        goto LABEL_17;
      }
LABEL_119:
      if ( *(_BYTE *)(v15 + 12) && !*(_BYTE *)(v14 + 12) )
        goto LABEL_22;
      v46 = *(_DWORD *)(v15 + 8) < *(_DWORD *)(v14 + 8);
LABEL_21:
      if ( !v46 )
        goto LABEL_22;
    }
    while ( v30 != -4096 )
    {
      if ( !v27 && v30 == -8192 )
        v27 = (_QWORD *)v29;
      v28 = v19 & (v26 + v28);
      v29 = v18 + 16LL * v28;
      v30 = *(_QWORD *)v29;
      if ( *(_QWORD *)v14 == *(_QWORD *)v29 )
        goto LABEL_15;
      ++v26;
    }
    if ( !v27 )
      v27 = (_QWORD *)v29;
    v50 = *(_DWORD *)(v16 + 16);
    ++*(_QWORD *)v16;
    v51 = v50 + 1;
    if ( 4 * (v50 + 1) < 3 * v17 )
    {
      if ( v17 - *(_DWORD *)(v16 + 20) - v51 > v17 >> 3 )
        goto LABEL_34;
      v197 = v17;
      v148 = sub_AF1560(v19);
      if ( v148 < 0x40 )
        v148 = 64;
      *(_DWORD *)(v16 + 24) = v148;
      v149 = sub_C7D670(16LL * v148, 8);
      *(_QWORD *)(v16 + 8) = v149;
      v150 = (_QWORD *)v149;
      if ( v18 )
      {
        v151 = *(unsigned int *)(v16 + 24);
        *(_QWORD *)(v16 + 16) = 0;
        v152 = 16LL * v197;
        for ( m = &v150[2 * v151]; m != v150; v150 += 2 )
        {
          if ( v150 )
            *v150 = -4096;
        }
        v154 = v18;
        do
        {
          v155 = *(_QWORD *)v154;
          if ( *(_QWORD *)v154 != -4096 && v155 != -8192 )
          {
            v156 = *(_DWORD *)(v16 + 24);
            if ( !v156 )
            {
              MEMORY[0] = *(_QWORD *)v154;
              BUG();
            }
            v157 = v156 - 1;
            v158 = *(_QWORD *)(v16 + 8);
            v159 = v157 & (((unsigned int)v155 >> 9) ^ ((unsigned int)v155 >> 4));
            v160 = (__int64 *)(v158 + 16LL * v159);
            v161 = *v160;
            if ( *v160 != v155 )
            {
              v189 = 1;
              v201 = 0;
              while ( v161 != -4096 )
              {
                if ( v161 == -8192 )
                {
                  if ( v201 )
                    v160 = v201;
                  v201 = v160;
                }
                v159 = v157 & (v189 + v159);
                v160 = (__int64 *)(v158 + 16LL * v159);
                v161 = *v160;
                if ( v155 == *v160 )
                  goto LABEL_183;
                ++v189;
              }
              if ( v201 )
                v160 = v201;
            }
LABEL_183:
            *v160 = v155;
            *((_DWORD *)v160 + 2) = *(_DWORD *)(v154 + 8);
            ++*(_DWORD *)(v16 + 16);
          }
          v154 += 16;
        }
        while ( v18 + v152 != v154 );
        sub_C7D6A0(v18, v152, 8);
LABEL_186:
        v162 = *(_QWORD **)(v16 + 8);
        v163 = *(_DWORD *)(v16 + 24);
        v51 = *(_DWORD *)(v16 + 16) + 1;
      }
      else
      {
        v171 = *(unsigned int *)(v16 + 24);
        *(_QWORD *)(v16 + 16) = 0;
        v163 = v171;
        v162 = &v150[2 * v171];
        if ( v150 != v162 )
        {
          do
          {
            if ( v150 )
              *v150 = -4096;
            v150 += 2;
          }
          while ( v162 != v150 );
          goto LABEL_186;
        }
        v51 = 1;
      }
      if ( !v163 )
      {
LABEL_320:
        ++*(_DWORD *)(v16 + 16);
        BUG();
      }
      v164 = v163 - 1;
      v165 = 1;
      v90 = 0;
      v166 = v164 & (((unsigned int)*(_QWORD *)v14 >> 9) ^ ((unsigned int)*(_QWORD *)v14 >> 4));
      v27 = &v162[2 * v166];
      v167 = *v27;
      if ( *(_QWORD *)v14 != *v27 )
      {
        while ( v167 != -4096 )
        {
          if ( v167 == -8192 && !v90 )
            v90 = v27;
          v166 = v164 & (v165 + v166);
          v27 = &v162[2 * v166];
          v167 = *v27;
          if ( *(_QWORD *)v14 == *v27 )
            goto LABEL_34;
          ++v165;
        }
LABEL_84:
        if ( v90 )
          v27 = v90;
        goto LABEL_34;
      }
      goto LABEL_34;
    }
LABEL_64:
    v194 = v17;
    v70 = sub_AF1560(2 * v17 - 1);
    if ( v70 < 0x40 )
      v70 = 64;
    *(_DWORD *)(v16 + 24) = v70;
    v71 = (_QWORD *)sub_C7D670(16LL * v70, 8);
    *(_QWORD *)(v16 + 8) = v71;
    if ( v18 )
    {
      v72 = *(unsigned int *)(v16 + 24);
      *(_QWORD *)(v16 + 16) = 0;
      v73 = 16LL * v194;
      v74 = v18 + v73;
      for ( n = &v71[2 * v72]; n != v71; v71 += 2 )
      {
        if ( v71 )
          *v71 = -4096;
      }
      for ( ii = v18; v74 != ii; ii += 16 )
      {
        v77 = *(_QWORD *)ii;
        if ( *(_QWORD *)ii != -8192 && v77 != -4096 )
        {
          v78 = *(_DWORD *)(v16 + 24);
          if ( !v78 )
          {
            MEMORY[0] = *(_QWORD *)ii;
            BUG();
          }
          v79 = v78 - 1;
          v80 = *(_QWORD *)(v16 + 8);
          v81 = v79 & (((unsigned int)v77 >> 9) ^ ((unsigned int)v77 >> 4));
          v82 = (__int64 *)(v80 + 16LL * v81);
          v83 = *v82;
          if ( v77 != *v82 )
          {
            v188 = 1;
            v198 = 0;
            while ( v83 != -4096 )
            {
              if ( v83 == -8192 )
              {
                if ( v198 )
                  v82 = v198;
                v198 = v82;
              }
              v81 = v79 & (v188 + v81);
              v82 = (__int64 *)(v80 + 16LL * v81);
              v83 = *v82;
              if ( v77 == *v82 )
                goto LABEL_76;
              ++v188;
            }
            if ( v198 )
              v82 = v198;
          }
LABEL_76:
          *v82 = v77;
          *((_DWORD *)v82 + 2) = *(_DWORD *)(ii + 8);
          ++*(_DWORD *)(v16 + 16);
        }
      }
      sub_C7D6A0(v18, v73, 8);
LABEL_79:
      v84 = *(_QWORD **)(v16 + 8);
      v85 = *(_DWORD *)(v16 + 24);
      v51 = *(_DWORD *)(v16 + 16) + 1;
    }
    else
    {
      v169 = *(unsigned int *)(v16 + 24);
      *(_QWORD *)(v16 + 16) = 0;
      v85 = v169;
      v84 = &v71[2 * v169];
      if ( v71 != v84 )
      {
        do
        {
          if ( v71 )
            *v71 = -4096;
          v71 += 2;
        }
        while ( v84 != v71 );
        goto LABEL_79;
      }
      v51 = 1;
    }
    if ( !v85 )
      goto LABEL_320;
    v86 = v85 - 1;
    v87 = v86 & (((unsigned int)*(_QWORD *)v14 >> 9) ^ ((unsigned int)*(_QWORD *)v14 >> 4));
    v27 = &v84[2 * v87];
    v88 = *v27;
    if ( *(_QWORD *)v14 != *v27 )
    {
      v89 = 1;
      v90 = 0;
      while ( v88 != -4096 )
      {
        if ( v90 || v88 != -8192 )
          v27 = v90;
        v87 = v86 & (v89 + v87);
        v88 = v84[2 * v87];
        if ( *(_QWORD *)v14 == v88 )
        {
          v27 = &v84[2 * v87];
          goto LABEL_34;
        }
        ++v89;
        v90 = v27;
        v27 = &v84[2 * v87];
      }
      goto LABEL_84;
    }
LABEL_34:
    *(_DWORD *)(v16 + 16) = v51;
    if ( *v27 != -4096 )
      --*(_DWORD *)(v16 + 20);
    v52 = *(_QWORD *)v14;
    *((_DWORD *)v27 + 2) = 0;
    *v27 = v52;
    if ( !v25 )
      goto LABEL_119;
    v16 = v204;
    v32 = *(_DWORD *)(v204 + 24);
    if ( !v32 )
    {
      ++*(_QWORD *)v204;
      goto LABEL_39;
    }
    v31 = *(_QWORD *)(v204 + 8);
LABEL_17:
    v33 = 1;
    v34 = 0;
    v35 = (v32 - 1) & (((unsigned int)*(_QWORD *)v15 >> 9) ^ ((unsigned int)*(_QWORD *)v15 >> 4));
    v36 = (__int64 *)(v31 + 16LL * v35);
    v37 = *v36;
    if ( *v36 == *(_QWORD *)v15 )
    {
LABEL_18:
      v38 = *((_DWORD *)v36 + 2);
      v39 = *(_QWORD *)(v16 + 8);
      v40 = *(_DWORD *)(v16 + 24);
      goto LABEL_19;
    }
    while ( v37 != -4096 )
    {
      if ( v37 == -8192 && !v34 )
        v34 = v36;
      v35 = (v32 - 1) & (v33 + v35);
      v36 = (__int64 *)(v31 + 16LL * v35);
      v37 = *v36;
      if ( *(_QWORD *)v15 == *v36 )
        goto LABEL_18;
      ++v33;
    }
    if ( !v34 )
      v34 = v36;
    v99 = *(_DWORD *)(v16 + 16);
    ++*(_QWORD *)v16;
    v57 = v99 + 1;
    if ( 4 * (v99 + 1) >= 3 * v32 )
    {
LABEL_39:
      sub_2ACC850(v16, 2 * v32);
      v53 = *(_DWORD *)(v16 + 24);
      if ( !v53 )
        goto LABEL_316;
      v54 = v53 - 1;
      v55 = *(_QWORD *)(v16 + 8);
      v56 = (v53 - 1) & (((unsigned int)*(_QWORD *)v15 >> 9) ^ ((unsigned int)*(_QWORD *)v15 >> 4));
      v57 = *(_DWORD *)(v16 + 16) + 1;
      v34 = (__int64 *)(v55 + 16LL * v56);
      v58 = *v34;
      if ( *v34 != *(_QWORD *)v15 )
      {
        v187 = 1;
        v103 = 0;
        while ( v58 != -4096 )
        {
          if ( !v103 && v58 == -8192 )
            v103 = v34;
          v56 = v54 & (v56 + v187);
          v34 = (__int64 *)(v55 + 16LL * v56);
          v58 = *v34;
          if ( *(_QWORD *)v15 == *v34 )
            goto LABEL_41;
          ++v187;
        }
        goto LABEL_116;
      }
    }
    else if ( v32 - *(_DWORD *)(v16 + 20) - v57 <= v32 >> 3 )
    {
      sub_2ACC850(v16, v32);
      v100 = *(_DWORD *)(v16 + 24);
      if ( !v100 )
      {
LABEL_316:
        ++*(_DWORD *)(v16 + 16);
        BUG();
      }
      v101 = v100 - 1;
      v102 = *(_QWORD *)(v16 + 8);
      v103 = 0;
      v104 = 1;
      v105 = (v100 - 1) & (((unsigned int)*(_QWORD *)v15 >> 9) ^ ((unsigned int)*(_QWORD *)v15 >> 4));
      v57 = *(_DWORD *)(v16 + 16) + 1;
      v34 = (__int64 *)(v102 + 16LL * v105);
      v106 = *v34;
      if ( *(_QWORD *)v15 != *v34 )
      {
        while ( v106 != -4096 )
        {
          if ( v106 == -8192 && !v103 )
            v103 = v34;
          v105 = v101 & (v105 + v104);
          v34 = (__int64 *)(v102 + 16LL * v105);
          v106 = *v34;
          if ( *(_QWORD *)v15 == *v34 )
            goto LABEL_41;
          ++v104;
        }
LABEL_116:
        if ( v103 )
          v34 = v103;
      }
    }
LABEL_41:
    *(_DWORD *)(v16 + 16) = v57;
    if ( *v34 != -4096 )
      --*(_DWORD *)(v16 + 20);
    v59 = *(_QWORD *)v15;
    *((_DWORD *)v34 + 2) = 0;
    *v34 = v59;
    v16 = v204;
    v40 = *(_DWORD *)(v204 + 24);
    if ( !v40 )
    {
      ++*(_QWORD *)v204;
      goto LABEL_45;
    }
    v39 = *(_QWORD *)(v204 + 8);
    v38 = 0;
LABEL_19:
    v41 = 1;
    v42 = 0;
    v43 = (v40 - 1) & (((unsigned int)*(_QWORD *)v14 >> 9) ^ ((unsigned int)*(_QWORD *)v14 >> 4));
    v44 = (__int64 *)(v39 + 16LL * v43);
    v45 = *v44;
    if ( *v44 == *(_QWORD *)v14 )
    {
LABEL_20:
      v46 = v38 < *((_DWORD *)v44 + 2);
      goto LABEL_21;
    }
    while ( v45 != -4096 )
    {
      if ( v45 == -8192 && !v42 )
        v42 = v44;
      v43 = (v40 - 1) & (v41 + v43);
      v44 = (__int64 *)(v39 + 16LL * v43);
      v45 = *v44;
      if ( *(_QWORD *)v14 == *v44 )
        goto LABEL_20;
      ++v41;
    }
    if ( !v42 )
      v42 = v44;
    v91 = *(_DWORD *)(v16 + 16);
    ++*(_QWORD *)v16;
    v64 = v91 + 1;
    if ( 4 * (v91 + 1) < 3 * v40 )
    {
      if ( v40 - *(_DWORD *)(v16 + 20) - v64 > v40 >> 3 )
        goto LABEL_47;
      sub_2ACC850(v16, v40);
      v92 = *(_DWORD *)(v16 + 24);
      if ( v92 )
      {
        v93 = v92 - 1;
        v94 = *(_QWORD *)(v16 + 8);
        v95 = 0;
        v96 = 1;
        v97 = (v92 - 1) & (((unsigned int)*(_QWORD *)v14 >> 9) ^ ((unsigned int)*(_QWORD *)v14 >> 4));
        v64 = *(_DWORD *)(v16 + 16) + 1;
        v42 = (__int64 *)(v94 + 16LL * v97);
        v98 = *v42;
        if ( *v42 != *(_QWORD *)v14 )
        {
          while ( v98 != -4096 )
          {
            if ( v98 == -8192 && !v95 )
              v95 = v42;
            v97 = v93 & (v97 + v96);
            v42 = (__int64 *)(v94 + 16LL * v97);
            v98 = *v42;
            if ( *(_QWORD *)v14 == *v42 )
              goto LABEL_47;
            ++v96;
          }
          goto LABEL_100;
        }
        goto LABEL_47;
      }
LABEL_318:
      ++*(_DWORD *)(v16 + 16);
      BUG();
    }
LABEL_45:
    sub_2ACC850(v16, 2 * v40);
    v60 = *(_DWORD *)(v16 + 24);
    if ( !v60 )
      goto LABEL_318;
    v61 = v60 - 1;
    v62 = *(_QWORD *)(v16 + 8);
    v63 = (v60 - 1) & (((unsigned int)*(_QWORD *)v14 >> 9) ^ ((unsigned int)*(_QWORD *)v14 >> 4));
    v64 = *(_DWORD *)(v16 + 16) + 1;
    v42 = (__int64 *)(v62 + 16LL * v63);
    v65 = *v42;
    if ( *v42 != *(_QWORD *)v14 )
    {
      v186 = 1;
      v95 = 0;
      while ( v65 != -4096 )
      {
        if ( v65 == -8192 && !v95 )
          v95 = v42;
        v63 = v61 & (v63 + v186);
        v42 = (__int64 *)(v62 + 16LL * v63);
        v65 = *v42;
        if ( *(_QWORD *)v14 == *v42 )
          goto LABEL_47;
        ++v186;
      }
LABEL_100:
      if ( v95 )
        v42 = v95;
    }
LABEL_47:
    *(_DWORD *)(v16 + 16) = v64;
    if ( *v42 != -4096 )
      --*(_DWORD *)(v16 + 20);
    v66 = *(_QWORD *)v14;
    *((_DWORD *)v42 + 2) = 0;
    *v42 = v66;
LABEL_22:
    if ( v203 < v14 )
    {
      v47 = *(_QWORD *)v203;
      *(_QWORD *)v203 = *(_QWORD *)v14;
      v48 = *(_DWORD *)(v14 + 8);
      *(_QWORD *)v14 = v47;
      v49 = *(_QWORD *)(v203 + 8);
      *(_DWORD *)(v203 + 8) = v48;
      LOBYTE(v48) = *(_BYTE *)(v14 + 12);
      v205.m128i_i64[0] = v49;
      *(_BYTE *)(v203 + 12) = v48;
      *(_DWORD *)(v14 + 8) = v49;
      *(_BYTE *)(v14 + 12) = BYTE4(v49);
      goto LABEL_9;
    }
    v5 = v15;
    v4 = v203 - v15;
    sub_2ACDB80(v203, v193, v191, a4);
    if ( (__int64)(v203 - v15) > 256 )
    {
      if ( v191 )
      {
        v193 = v203;
        continue;
      }
LABEL_244:
      v177 = v4 >> 4;
      v178 = (v177 - 2) >> 1;
      v205 = _mm_loadu_si128((const __m128i *)(v5 + 16 * v178));
      sub_2ACD960(v5, v178, v177, v205.m128i_i64[0], v205.m128i_i64[1], a4);
      do
      {
        --v178;
        v205 = _mm_loadu_si128((const __m128i *)(v5 + 16 * v178));
        sub_2ACD960(v5, v178, v177, v205.m128i_i64[0], v205.m128i_i64[1], a4);
      }
      while ( v178 );
      v179 = v202;
      do
      {
        v180 = _mm_loadu_si128((const __m128i *)(v179 - 16));
        v179 -= 16LL;
        v181 = *(_QWORD *)v179;
        *(_QWORD *)v179 = *(_QWORD *)v5;
        v182 = *(_DWORD *)(v5 + 8);
        v205 = v180;
        *(_DWORD *)(v179 + 8) = v182;
        *(_BYTE *)(v179 + 12) = *(_BYTE *)(v5 + 12);
        sub_2ACD960(v5, 0, (__int64)(v179 - v5) >> 4, v181, v180.m128i_i64[1], a4);
      }
      while ( (__int64)(v179 - v5) > 16 );
    }
    break;
  }
}
